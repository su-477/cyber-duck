var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("utils.Draggable",["events.EventDispatcher","TweenLite","plugins.CSSPlugin"],function(t,e,i){var r,s,n,a,o,l,h,u,_={css:{}},c={css:{}},f={css:{}},p={css:{}},d=_gsScope._gsDefine.globals,m={},g=document,v=g.documentElement||{},y=function(t){return g.createElementNS?g.createElementNS("http://www.w3.org/1999/xhtml",t):g.createElement(t)},T=y("div"),x=[],w=function(){return!1},b=180/Math.PI,P=999999999999999,S=Date.now||function(){return(new Date).getTime()},k=!(g.addEventListener||!g.all),C=g.createElement("div"),R=[],O={},A=0,D=/^(?:a|input|textarea|button|select)$/i,M=0,L=-1!==navigator.userAgent.toLowerCase().indexOf("android"),N=0,E={},I={},z=function(t){if("string"==typeof t&&(t=e.selector(t)),!t||t.nodeType)return[t];var i,r=[],s=t.length;for(i=0;i!==s;r.push(t[i++]));return r},F=function(){for(var t=R.length;--t>-1;)R[t]()},X=function(t){R.push(t),1===R.length&&e.ticker.addEventListener("tick",F,this,!1,1)},B=function(t){for(var i=R.length;--i>-1;)R[i]===t&&R.splice(i,1);e.to(Y,0,{overwrite:"all",delay:15,onComplete:Y})},Y=function(){R.length||e.ticker.removeEventListener("tick",F)},W=function(t,e){var i;for(i in e)void 0===t[i]&&(t[i]=e[i]);return t},j=function(){return null!=window.pageYOffset?window.pageYOffset:null!=g.scrollTop?g.scrollTop:v.scrollTop||g.body.scrollTop||0},U=function(){return null!=window.pageXOffset?window.pageXOffset:null!=g.scrollLeft?g.scrollLeft:v.scrollLeft||g.body.scrollLeft||0},V=function(t,e){Me(t,"scroll",e),q(t.parentNode)||V(t.parentNode,e)},G=function(t,e){Le(t,"scroll",e),q(t.parentNode)||G(t.parentNode,e)},q=function(t){return!(t&&t!==v&&t!==g&&t!==g.body&&t!==window&&t.nodeType&&t.parentNode)},H=function(t,e){var i="x"===e?"Width":"Height",r="scroll"+i,s="client"+i,n=g.body;return Math.max(0,q(t)?Math.max(v[r],n[r])-(window["inner"+i]||v[s]||n[s]):t[r]-t[s])},Q=function(t){var e=q(t),i=H(t,"x"),r=H(t,"y");e?t=I:Q(t.parentNode),t._gsMaxScrollX=i,t._gsMaxScrollY=r,t._gsScrollX=t.scrollLeft||0,t._gsScrollY=t.scrollTop||0},Z=function(t,e){return t=t||window.event,m.pageX=t.clientX+g.body.scrollLeft+v.scrollLeft,m.pageY=t.clientY+g.body.scrollTop+v.scrollTop,e&&(t.returnValue=!1),m},$=function(t){return t?("string"==typeof t&&(t=e.selector(t)),t.length&&t!==window&&t[0]&&t[0].style&&!t.nodeType&&(t=t[0]),t===window||t.nodeType&&t.style?t:null):t},K=function(t,e){var i,s,n,a=t.style;if(void 0===a[e]){for(n=["O","Moz","ms","Ms","Webkit"],s=5,i=e.charAt(0).toUpperCase()+e.substr(1);--s>-1&&void 0===a[n[s]+i];);if(0>s)return"";r=3===s?"ms":n[s],e=r+i}return e},J=function(t,e,i){var r=t.style;r&&(void 0===r[e]&&(e=K(t,e)),null==i?r.removeProperty?r.removeProperty(e.replace(/([A-Z])/g,"-$1").toLowerCase()):r.removeAttribute(e):void 0!==r[e]&&(r[e]=i))},te=g.defaultView?g.defaultView.getComputedStyle:w,ee=/(?:Left|Right|Width)/i,ie=/(?:\d|\-|\+|=|#|\.)*/g,re=function(t,e,i,r,s){if("px"===r||!r)return i;if("auto"===r||!i)return 0;var n,a=ee.test(e),o=t,l=T.style,h=0>i;return h&&(i=-i),"%"===r&&-1!==e.indexOf("border")?n=i/100*(a?t.clientWidth:t.clientHeight):(l.cssText="border:0 solid red;position:"+ne(t,"position",!0)+";line-height:0;","%"!==r&&o.appendChild?l[a?"borderLeftWidth":"borderTopWidth"]=i+r:(o=t.parentNode||g.body,l[a?"width":"height"]=i+r),o.appendChild(T),n=parseFloat(T[a?"offsetWidth":"offsetHeight"]),o.removeChild(T),0!==n||s||(n=re(t,e,i,r,!0))),h?-n:n},se=function(t,e){if("absolute"!==ne(t,"position",!0))return 0;var i="left"===e?"Left":"Top",r=ne(t,"margin"+i,!0);return t["offset"+i]-(re(t,e,parseFloat(r),(r+"").replace(ie,""))||0)},ne=function(t,e,i){var r,s=(t._gsTransform||{})[e];return s||0===s?s:(t.style[e]?s=t.style[e]:(r=te(t))?(s=r.getPropertyValue(e.replace(/([A-Z])/g,"-$1").toLowerCase()),s=s||r.length?s:r[e]):t.currentStyle&&(s=t.currentStyle[e]),"auto"!==s||"top"!==e&&"left"!==e||(s=se(t,e)),i?s:parseFloat(s)||0)},ae=function(t,e,i){var r=t.vars,s=r[i],n=t._listeners[e];"function"==typeof s&&s.apply(r[i+"Scope"]||r.callbackScope||t,r[i+"Params"]||[t.pointerEvent]),n&&t.dispatchEvent(e)},oe=function(t,e){var i,r,s,n=$(t);return n?Ce(n,e):void 0!==t.left?(s=xe(e),{left:t.left-s.x,top:t.top-s.y,width:t.width,height:t.height}):(r=t.min||t.minX||t.minRotation||0,i=t.min||t.minY||0,{left:r,top:i,width:(t.max||t.maxX||t.maxRotation||0)-r,height:(t.max||t.maxY||0)-i})},le=function(){if(!g.createElementNS)return a=0,o=!1,void 0;var t,e,i,r,s=y("div"),n=g.createElementNS("http://www.w3.org/2000/svg","svg"),u=y("div"),_=s.style,c=g.body||v;g.body&&_e&&(_.position=u.style.position="absolute",c.appendChild(u),u.appendChild(s),_.height="10px",r=s.offsetTop,u.style.border="5px solid red",h=r!==s.offsetTop,c.removeChild(u)),_=n.style,n.setAttributeNS(null,"width","400px"),n.setAttributeNS(null,"height","400px"),n.setAttributeNS(null,"viewBox","0 0 400 400"),_.display="block",_.boxSizing="border-box",_.border="0px solid red",_.transform="none",s.style.cssText="width:100px;height:100px;overflow:scroll",c.appendChild(s),s.appendChild(n),i=n.createSVGPoint().matrixTransform(n.getScreenCTM()),e=i.y,s.scrollTop=100,i.x=i.y=0,i=i.matrixTransform(n.getScreenCTM()),l=100.1>e-i.y?0:e-i.y-150,s.removeChild(n),c.removeChild(s),c.appendChild(n),t=n.getScreenCTM(),e=t.e,_.border="50px solid red",t=n.getScreenCTM(),0===e&&0===t.e&&0===t.f&&1===t.a?(a=1,o=!0):(a=e!==t.e?1:0,o=1!==t.a),c.removeChild(n)},he=""!==K(T,"perspective"),ue=K(T,"transformOrigin").replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),_e=K(T,"transform"),ce=_e.replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),fe={},pe={},de=window.SVGElement,me=function(t){return!!(de&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},ge=(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent))&&11>parseFloat(RegExp.$1),ve=[],ye=[],Te=function(t){if(!t.getBoundingClientRect||!t.parentNode||!_e)return{offsetTop:0,offsetLeft:0,scaleX:1,scaleY:1,offsetParent:v};if(We.cacheSVGData!==!1&&t._gsCache&&t._gsCache.lastUpdate===e.ticker.frame)return t._gsCache;var i,r,s,n,h,u,_,c,f,p,d,m,y=t,T=we(t);if(T.lastUpdate=e.ticker.frame,t.getBBox&&!T.isSVGRoot){for(y=t.parentNode,i=t.getBBox();y&&"svg"!==(y.nodeName+"").toLowerCase();)y=y.parentNode;return n=Te(y),T.offsetTop=i.y*n.scaleY,T.offsetLeft=i.x*n.scaleX,T.scaleX=n.scaleX,T.scaleY=n.scaleY,T.offsetParent=y||v,T}for(s=T.offsetParent,s===g.body&&(s=v),ye.length=ve.length=0;y&&(h=ne(y,_e,!0),"matrix(1, 0, 0, 1, 0, 0)"!==h&&"none"!==h&&"translate3d(0px, 0px, 0px)"!==h&&(ye.push(y),ve.push(y.style[_e]),y.style[_e]="none"),y!==s);)y=y.parentNode;for(r=s.getBoundingClientRect(),h=t.getScreenCTM(),c=t.createSVGPoint(),_=c.matrixTransform(h),c.x=c.y=10,c=c.matrixTransform(h),T.scaleX=(c.x-_.x)/10,T.scaleY=(c.y-_.y)/10,void 0===a&&le(),T.borderBox&&!o&&t.getAttribute("width")&&(n=te(t)||{},f=parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth)||0,p=parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth)||0,d=parseFloat(n.width)||0,m=parseFloat(n.height)||0,T.scaleX*=(d-f)/d,T.scaleY*=(m-p)/m),l?(i=t.getBoundingClientRect(),T.offsetLeft=i.left-r.left,T.offsetTop=i.top-r.top):(T.offsetLeft=_.x-r.left,T.offsetTop=_.y-r.top),T.offsetParent=s,u=ye.length;--u>-1;)ye[u].style[_e]=ve[u];return T},xe=function(t,i){if(i=i||{},!t||t===v||!t.parentNode||t===window)return{x:0,y:0};var r=te(t),s=ue&&r?r.getPropertyValue(ue):"50% 50%",n=s.split(" "),a=-1!==s.indexOf("left")?"0%":-1!==s.indexOf("right")?"100%":n[0],o=-1!==s.indexOf("top")?"0%":-1!==s.indexOf("bottom")?"100%":n[1];return("center"===o||null==o)&&(o="50%"),("center"===a||isNaN(parseFloat(a)))&&(a="50%"),t.getBBox&&me(t)?(t._gsTransform||(e.set(t,{x:"+=0",overwrite:!1}),void 0===t._gsTransform.xOrigin&&console.log("Draggable requires at least GSAP 1.17.0")),s=t.getBBox(),i.x=t._gsTransform.xOrigin-s.x,i.y=t._gsTransform.yOrigin-s.y):(t.getBBox&&!t.offsetWidth&&-1!==(a+o).indexOf("%")&&(t=t.getBBox(),t={offsetWidth:t.width,offsetHeight:t.height}),i.x=-1!==a.indexOf("%")?t.offsetWidth*parseFloat(a)/100:parseFloat(a),i.y=-1!==o.indexOf("%")?t.offsetHeight*parseFloat(o)/100:parseFloat(o)),i},we=function(t){if(We.cacheSVGData!==!1&&t._gsCache&&t._gsCache.lastUpdate===e.ticker.frame)return t._gsCache;var i,r=t._gsCache=t._gsCache||{},s=te(t),n=t.getBBox&&me(t),a="svg"===(t.nodeName+"").toLowerCase();if(r.isSVG=n,r.isSVGRoot=a,r.borderBox="border-box"===s.boxSizing,r.computedStyle=s,a)(r.offsetParent=t.offsetParent)||(t.parentNode.insertBefore(T,t),r.offsetParent=T.offsetParent,t.parentNode.removeChild(T));else if(n){for(i=t.parentNode;i&&"svg"!==(i.nodeName+"").toLowerCase();)i=i.parentNode;r.offsetParent=i}return r},be=function(t,e,i,r){if(t===window||!t||!t.style||!t.parentNode)return[1,0,0,1,0,0];var s,n,o,l,u,_,c,f,p,d,m,y,T,x,w=t._gsCache||we(t),b=t.parentNode,P=b._gsCache||we(b),S=w.computedStyle,k=w.isSVG?P.offsetParent:b.offsetParent;return s=w.isSVG&&-1!==(t.style[_e]+"").indexOf("matrix")?t.style[_e]:S?S.getPropertyValue(ce):t.currentStyle?t.currentStyle[_e]:"1,0,0,1,0,0",t.getBBox&&-1!==(t.getAttribute("transform")+"").indexOf("matrix")&&(s=t.getAttribute("transform")),s=(s+"").match(/(?:\-|\b)[\d\-\.e]+\b/g)||[1,0,0,1,0,0],s.length>6&&(s=[s[0],s[1],s[4],s[5],s[12],s[13]]),r?s[4]=s[5]=0:w.isSVG&&(u=t._gsTransform)&&(u.xOrigin||u.yOrigin)&&(s[0]=parseFloat(s[0]),s[1]=parseFloat(s[1]),s[2]=parseFloat(s[2]),s[3]=parseFloat(s[3]),s[4]=parseFloat(s[4])-(u.xOrigin-(u.xOrigin*s[0]+u.yOrigin*s[2])),s[5]=parseFloat(s[5])-(u.yOrigin-(u.xOrigin*s[1]+u.yOrigin*s[3]))),e&&(void 0===a&&le(),o=w.isSVG||w.isSVGRoot?Te(t):t,w.isSVG?(l=t.getBBox(),d=P.isSVGRoot?{x:0,y:0}:b.getBBox(),o={offsetLeft:l.x-d.x,offsetTop:l.y-d.y,offsetParent:w.offsetParent}):w.isSVGRoot?(m=parseInt(S.borderTopWidth,10)||0,y=parseInt(S.borderLeftWidth,10)||0,T=(s[0]-a)*y+s[2]*m,x=s[1]*y+(s[3]-a)*m,_=e.x,c=e.y,f=_-(_*s[0]+c*s[2]),p=c-(_*s[1]+c*s[3]),s[4]=parseFloat(s[4])+f,s[5]=parseFloat(s[5])+p,e.x-=f,e.y-=p,_=o.scaleX,c=o.scaleY,e.x*=_,e.y*=c,s[0]*=_,s[1]*=c,s[2]*=_,s[3]*=c,ge||(e.x+=T,e.y+=x)):!h&&t.offsetParent&&(e.x+=parseInt(ne(t.offsetParent,"borderLeftWidth"),10)||0,e.y+=parseInt(ne(t.offsetParent,"borderTopWidth"),10)||0),n=b===v||b===g.body,s[4]=Number(s[4])+e.x+(o.offsetLeft||0)-i.x-(n?0:b.scrollLeft||0),s[5]=Number(s[5])+e.y+(o.offsetTop||0)-i.y-(n?0:b.scrollTop||0),b&&"fixed"===ne(t,"position",S)&&(s[4]+=U(),s[5]+=j()),b&&b!==v&&k===o.offsetParent&&(s[4]-=b.offsetLeft||0,s[5]-=b.offsetTop||0,h||!b.offsetParent||w.isSVG||w.isSVGRoot||(s[4]-=parseInt(ne(b.offsetParent,"borderLeftWidth"),10)||0,s[5]-=parseInt(ne(b.offsetParent,"borderTopWidth"),10)||0))),s},Pe=function(t,e){if(!t||t===window||!t.parentNode)return[1,0,0,1,0,0];for(var i,r,s,n,a,o,l,h,u=xe(t,fe),_=xe(t.parentNode,pe),c=be(t,u,_);(t=t.parentNode)&&t.parentNode&&t!==v;)u=_,_=xe(t.parentNode,u===fe?pe:fe),l=be(t,u,_),i=c[0],r=c[1],s=c[2],n=c[3],a=c[4],o=c[5],c[0]=i*l[0]+r*l[2],c[1]=i*l[1]+r*l[3],c[2]=s*l[0]+n*l[2],c[3]=s*l[1]+n*l[3],c[4]=a*l[0]+o*l[2]+l[4],c[5]=a*l[1]+o*l[3]+l[5];return e&&(i=c[0],r=c[1],s=c[2],n=c[3],a=c[4],o=c[5],h=i*n-r*s,c[0]=n/h,c[1]=-r/h,c[2]=-s/h,c[3]=i/h,c[4]=(s*o-n*a)/h,c[5]=-(i*o-r*a)/h),c},Se=function(t,e,i,r,s){t=$(t);var n=Pe(t,!1,s),a=e.x,o=e.y;return i&&(xe(t,e),a-=e.x,o-=e.y),r=r===!0?e:r||{},r.x=a*n[0]+o*n[2]+n[4],r.y=a*n[1]+o*n[3]+n[5],r},ke=function(t,e,i){var r=t.x*e[0]+t.y*e[2]+e[4],s=t.x*e[1]+t.y*e[3]+e[5];return t.x=r*i[0]+s*i[2]+i[4],t.y=r*i[1]+s*i[3]+i[5],t},Ce=function(t,e,i){if(!(t=$(t)))return null;e=$(e);var r,s,n,a,o,l,h,u,_,c,f,p,d,m,y,T,x,w,b,P,S,C,R=t.getBBox&&me(t);if(t===window)a=j(),s=U(),n=s+(v.clientWidth||t.innerWidth||g.body.clientWidth||0),o=a+((t.innerHeight||0)-20<v.clientHeight?v.clientHeight:t.innerHeight||g.body.clientHeight||0);else{if(void 0===e||e===window)return t.getBoundingClientRect();r=xe(t),s=-r.x,a=-r.y,R?(p=t.getBBox(),d=p.width,m=p.height):t.offsetWidth?(d=t.offsetWidth,m=t.offsetHeight):(S=te(t),d=parseFloat(S.width),m=parseFloat(S.height)),n=s+d,o=a+m,"svg"!==t.nodeName.toLowerCase()||k||(y=Te(t),C=y.computedStyle||{},w=(t.getAttribute("viewBox")||"0 0").split(" "),b=parseFloat(w[0]),P=parseFloat(w[1]),T=parseFloat(C.borderLeftWidth)||0,x=parseFloat(C.borderTopWidth)||0,n-=d-(d-T)/y.scaleX-b,o-=m-(m-x)/y.scaleY-P,s-=T/y.scaleX-b,a-=x/y.scaleY-P,S&&(n+=(parseFloat(C.borderRightWidth)+T)/y.scaleX,o+=(x+parseFloat(C.borderBottomWidth))/y.scaleY))}return t===e?{left:s,top:a,width:n-s,height:o-a}:(l=Pe(t),h=Pe(e,!0),u=ke({x:s,y:a},l,h),_=ke({x:n,y:a},l,h),c=ke({x:n,y:o},l,h),f=ke({x:s,y:o},l,h),s=Math.min(u.x,_.x,c.x,f.x),a=Math.min(u.y,_.y,c.y,f.y),E.x=E.y=0,i&&xe(e,E),{left:s+E.x,top:a+E.y,width:Math.max(u.x,_.x,c.x,f.x)-s,height:Math.max(u.y,_.y,c.y,f.y)-a})},Re=function(t){return t.length&&t[0]&&(t[0].nodeType&&t[0].style&&!t.nodeType||t[0].length&&t[0][0])?!0:!1},Oe=function(t){var e,i,r,s=[],n=t.length;for(e=0;n>e;e++)if(i=t[e],Re(i))for(r=i.length,r=0;i.length>r;r++)s.push(i[r]);else s.push(i);return s},Ae="ontouchstart"in v&&"orientation"in window,De=function(t){for(var e=t.split(","),i=(void 0!==T.onpointerdown?"pointerdown,pointermove,pointerup,pointercancel":void 0!==T.onmspointerdown?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":t).split(","),r={},s=8;--s>-1;)r[e[s]]=i[s],r[i[s]]=e[s];return r}("touchstart,touchmove,touchend,touchcancel"),Me=function(t,e,i,r){t.addEventListener?t.addEventListener(De[e]||e,i,r):t.attachEvent&&t.attachEvent("on"+e,i)},Le=function(t,e,i){t.removeEventListener?t.removeEventListener(De[e]||e,i):t.detachEvent&&t.detachEvent("on"+e,i)},Ne=function(t,e){for(var i=t.length;--i>-1;)if(t[i].identifier===e)return!0;return!1},Ee=function(t){s=t.touches&&t.touches.length>M,Le(t.target,"touchend",Ee)},Ie=function(t){s=t.touches&&t.touches.length>M,Me(t.target,"touchend",Ee)},ze=function(t,e,i,r,s,n){var a,o,l,h={};if(e)if(1!==s&&e instanceof Array){for(h.end=a=[],l=e.length,o=0;l>o;o++)a[o]=e[o]*s;i+=1.1,r-=1.1}else h.end="function"==typeof e?function(i){return e.call(t,i)*s}:e;return(i||0===i)&&(h.max=i),(r||0===r)&&(h.min=r),n&&(h.velocity=0),h},Fe=function(t){var e;return t&&t.getAttribute&&"BODY"!==t.nodeName?"true"===(e=t.getAttribute("data-clickable"))||"false"!==e&&(t.onclick||D.test(t.nodeName+"")||"true"===t.getAttribute("contentEditable"))?!0:Fe(t.parentNode):!1},Xe=function(t,e){for(var i,r=t.length;--r>-1;)i=t[r],i.ondragstart=i.onselectstart=e?null:w,J(i,"userSelect",e?"text":"none")},Be=function(){var t,e=g.createElement("div"),i=g.createElement("div"),r=i.style,s=g.body||T;return r.display="inline-block",r.position="relative",e.style.cssText=i.innerHTML="width:90px; height:40px; padding:10px; overflow:auto; visibility: hidden",e.appendChild(i),s.appendChild(e),u=i.offsetHeight+18>e.scrollHeight,r.width="100%",_e||(r.paddingRight="500px",t=e.scrollLeft=e.scrollWidth-e.clientWidth,r.left="-90px",t=t!==e.scrollLeft),s.removeChild(e),t}(),Ye=function(t,i){t=$(t),i=i||{};var r,s,n,a,o,l,h=g.createElement("div"),_=h.style,c=t.firstChild,f=0,p=0,d=t.scrollTop,m=t.scrollLeft,v=t.scrollWidth,y=t.scrollHeight,T=0,x=0,w=0;he&&i.force3D!==!1?(o="translate3d(",l="px,0px)"):_e&&(o="translate(",l="px)"),this.scrollTop=function(t,e){return arguments.length?(this.top(-t,e),void 0):-this.top()},this.scrollLeft=function(t,e){return arguments.length?(this.left(-t,e),void 0):-this.left()},this.left=function(r,s){if(!arguments.length)return-(t.scrollLeft+p);var n=t.scrollLeft-m,a=p;return(n>2||-2>n)&&!s?(m=t.scrollLeft,e.killTweensOf(this,!0,{left:1,scrollLeft:1}),this.left(-m),i.onKill&&i.onKill(),void 0):(r=-r,0>r?(p=0|r-.5,r=0):r>x?(p=0|r-x,r=x):p=0,(p||a)&&(o?this._suspendTransforms||(_[_e]=o+-p+"px,"+-f+l):_.left=-p+"px",Be&&p+T>=0&&(_.paddingRight=p+T+"px")),t.scrollLeft=0|r,m=t.scrollLeft,void 0)},this.top=function(r,s){if(!arguments.length)return-(t.scrollTop+f);var n=t.scrollTop-d,a=f;return(n>2||-2>n)&&!s?(d=t.scrollTop,e.killTweensOf(this,!0,{top:1,scrollTop:1}),this.top(-d),i.onKill&&i.onKill(),void 0):(r=-r,0>r?(f=0|r-.5,r=0):r>w?(f=0|r-w,r=w):f=0,(f||a)&&(o?this._suspendTransforms||(_[_e]=o+-p+"px,"+-f+l):_.top=-f+"px"),t.scrollTop=0|r,d=t.scrollTop,void 0)},this.maxScrollTop=function(){return w},this.maxScrollLeft=function(){return x},this.disable=function(){for(c=h.firstChild;c;)a=c.nextSibling,t.appendChild(c),c=a;t===h.parentNode&&t.removeChild(h)},this.enable=function(){if(c=t.firstChild,c!==h){for(;c;)a=c.nextSibling,h.appendChild(c),c=a;t.appendChild(h),this.calibrate()}},this.calibrate=function(e){var i,a,o=t.clientWidth===r;d=t.scrollTop,m=t.scrollLeft,(!o||t.clientHeight!==s||h.offsetHeight!==n||v!==t.scrollWidth||y!==t.scrollHeight||e)&&((f||p)&&(i=this.left(),a=this.top(),this.left(-t.scrollLeft),this.top(-t.scrollTop)),(!o||e)&&(_.display="block",_.width="auto",_.paddingRight="0px",T=Math.max(0,t.scrollWidth-t.clientWidth),T&&(T+=ne(t,"paddingLeft")+(u?ne(t,"paddingRight"):0))),_.display="inline-block",_.position="relative",_.overflow="visible",_.verticalAlign="top",_.width="100%",_.paddingRight=T+"px",u&&(_.paddingBottom=ne(t,"paddingBottom",!0)),k&&(_.zoom="1"),r=t.clientWidth,s=t.clientHeight,v=t.scrollWidth,y=t.scrollHeight,x=t.scrollWidth-r,w=t.scrollHeight-s,n=h.offsetHeight,_.display="block",(i||a)&&(this.left(i),this.top(a)))},this.content=h,this.element=t,this._suspendTransforms=!1,this.enable()},We=function(r,a){t.call(this,r),r=$(r),n||(n=d.com.greensock.plugins.ThrowPropsPlugin),this.vars=a=a||{},this.target=r,this.x=this.y=this.rotation=0,this.dragResistance=parseFloat(a.dragResistance)||0,this.edgeResistance=isNaN(a.edgeResistance)?1:parseFloat(a.edgeResistance)||0,this.lockAxis=a.lockAxis,this.autoScroll=a.autoScroll||0,this.lockedAxis=null,this.allowEventDefault=!!a.allowEventDefault;var o,l,h,u,m,y,T,w,R,D,E,F,Y,j,U,H,K,te,ee,ie,re,se,le,he,ue,_e,ce,fe,pe,de,me,ge=(a.type||(k?"top,left":"x,y")).toLowerCase(),ve=-1!==ge.indexOf("x")||-1!==ge.indexOf("y"),ye=-1!==ge.indexOf("rotation"),Te=ye?"rotation":ve?"x":"left",xe=ve?"y":"top",we=-1!==ge.indexOf("x")||-1!==ge.indexOf("left")||"scroll"===ge,be=-1!==ge.indexOf("y")||-1!==ge.indexOf("top")||"scroll"===ge,ke=a.minimumMovement||2,Ce=this,Re=z(a.trigger||a.handle||r),Oe={},Ee=0,Be=!1,je=a.clickableTest||Fe,Ue=function(t){if(Ce.autoScroll&&Ce.isDragging&&(te||Be)){var e,i,s,n,a,o,h,u,_=r,c=15*Ce.autoScroll;for(Be=!1,I.scrollTop=null!=window.pageYOffset?window.pageYOffset:null!=v.scrollTop?v.scrollTop:g.body.scrollTop,I.scrollLeft=null!=window.pageXOffset?window.pageXOffset:null!=v.scrollLeft?v.scrollLeft:g.body.scrollLeft,n=Ce.pointerX-I.scrollLeft,a=Ce.pointerY-I.scrollTop;_&&!i;)i=q(_.parentNode),e=i?I:_.parentNode,s=i?{bottom:Math.max(v.clientHeight,window.innerHeight||0),right:Math.max(v.clientWidth,window.innerWidth||0),left:0,top:0}:e.getBoundingClientRect(),o=h=0,be&&(a>s.bottom-40&&(u=e._gsMaxScrollY-e.scrollTop)?(Be=!0,h=Math.min(u,0|c*(1-Math.max(0,s.bottom-a)/40))):s.top+40>a&&e.scrollTop&&(Be=!0,h=-Math.min(e.scrollTop,0|c*(1-Math.max(0,a-s.top)/40))),h&&(e.scrollTop+=h)),we&&(n>s.right-40&&(u=e._gsMaxScrollX-e.scrollLeft)?(Be=!0,o=Math.min(u,0|c*(1-Math.max(0,s.right-n)/40))):s.left+40>n&&e.scrollLeft&&(Be=!0,o=-Math.min(e.scrollLeft,0|c*(1-Math.max(0,n-s.left)/40))),o&&(e.scrollLeft+=o)),i&&(o||h)&&(window.scrollTo(e.scrollLeft,e.scrollTop),ri(Ce.pointerX+o,Ce.pointerY+h)),_=e}if(te){var f=Ce.x,p=Ce.y,d=1e-6;d>f&&f>-d&&(f=0),d>p&&p>-d&&(p=0),ye?(pe.data.rotation=Ce.rotation=f,pe.setRatio(1)):l?(be&&l.top(p),we&&l.left(f)):ve?(be&&(pe.data.y=p),we&&(pe.data.x=f),pe.setRatio(1)):(be&&(r.style.top=p+"px"),we&&(r.style.left=f+"px")),w&&!t&&ae(Ce,"drag","onDrag")}te=!1},Ge=function(t,i){var s;r._gsTransform||!ve&&!ye||e.set(r,{x:"+=0",overwrite:!1}),ve?(Ce.y=r._gsTransform.y,Ce.x=r._gsTransform.x):ye?Ce.x=Ce.rotation=r._gsTransform.rotation:l?(Ce.y=l.top(),Ce.x=l.left()):(Ce.y=parseInt(r.style.top,10)||0,Ce.x=parseInt(r.style.left,10)||0),!ie&&!re||i||(ie&&(s=ie(Ce.x),s!==Ce.x&&(Ce.x=s,ye&&(Ce.rotation=s),te=!0)),re&&(s=re(Ce.y),s!==Ce.y&&(Ce.y=s,te=!0)),te&&Ue(!0)),t||ae(Ce,"throwupdate","onThrowUpdate")},qe=function(){var t,e,i,s;T=!1,l?(l.calibrate(),Ce.minX=D=-l.maxScrollLeft(),Ce.minY=F=-l.maxScrollTop(),Ce.maxX=R=Ce.maxY=E=0,T=!0):a.bounds&&(t=oe(a.bounds,r.parentNode),ye?(Ce.minX=D=t.left,Ce.maxX=R=t.left+t.width,Ce.minY=F=Ce.maxY=E=0):void 0!==a.bounds.maxX||void 0!==a.bounds.maxY?(t=a.bounds,Ce.minX=D=t.minX,Ce.minY=F=t.minY,Ce.maxX=R=t.maxX,Ce.maxY=E=t.maxY):(e=oe(r,r.parentNode),Ce.minX=D=ne(r,Te)+t.left-e.left,Ce.minY=F=ne(r,xe)+t.top-e.top,Ce.maxX=R=D+(t.width-e.width),Ce.maxY=E=F+(t.height-e.height)),D>R&&(Ce.minX=R,Ce.maxX=R=D,D=Ce.minX),F>E&&(Ce.minY=E,Ce.maxY=E=F,F=Ce.minY),ye&&(Ce.minRotation=D,Ce.maxRotation=R),T=!0),a.liveSnap&&(i=a.liveSnap===!0?a.snap||{}:a.liveSnap,s=i instanceof Array||"function"==typeof i,ye?(ie=ti(s?i:i.rotation,D,R,1),re=null):(we&&(ie=ti(s?i:i.x||i.left||i.scrollLeft,D,R,l?-1:1)),be&&(re=ti(s?i:i.y||i.top||i.scrollTop,F,E,l?-1:1))))},He=function(){Ce.isThrowing=!1,ae(Ce,"throwcomplete","onThrowComplete")},Qe=function(){Ce.isThrowing=!1},Ze=function(t,e){var i,s,o,h;t&&n?(t===!0&&(i=a.snap||{},s=i instanceof Array||"function"==typeof i,t={resistance:(a.throwResistance||a.resistance||1e3)/(ye?10:1)},ye?t.rotation=ze(Ce,s?i:i.rotation,R,D,1,e):(we&&(t[Te]=ze(Ce,s?i:i.x||i.left||i.scrollLeft,R,D,l?-1:1,e||"x"===Ce.lockedAxis)),be&&(t[xe]=ze(Ce,s?i:i.y||i.top||i.scrollTop,E,F,l?-1:1,e||"y"===Ce.lockedAxis)))),Ce.isThrowing=!0,h=isNaN(a.overshootTolerance)?1===a.edgeResistance?0:1-Ce.edgeResistance+.2:a.overshootTolerance,Ce.tween=o=n.to(l||r,{throwProps:t,ease:a.ease||d.Power3.easeOut,onComplete:He,onOverwrite:Qe,onUpdate:a.fastMode?ae:Ge,onUpdateParams:a.fastMode?[Ce,"onthrowupdate","onThrowUpdate"]:x},isNaN(a.maxDuration)?2:a.maxDuration,isNaN(a.minDuration)?0===h?0:.5:a.minDuration,h),a.fastMode||(l&&(l._suspendTransforms=!0),o.render(o.duration(),!0,!0),Ge(!0,!0),Ce.endX=Ce.x,Ce.endY=Ce.y,ye&&(Ce.endRotation=Ce.x),o.play(0),Ge(!0,!0),l&&(l._suspendTransforms=!1))):T&&Ce.applyBounds()},$e=function(){he=Pe(r.parentNode,!0),he[1]||he[2]||1!=he[0]||1!=he[3]||0!=he[4]||0!=he[5]||(he=null)},Ke=function(){var t=1-Ce.edgeResistance;$e(),l?(qe(),y=l.top(),m=l.left()):(Je()?(Ge(!0,!0),qe()):Ce.applyBounds(),ye?(K=Se(r,{x:0,y:0}),Ge(!0,!0),m=Ce.x,y=Ce.y=Math.atan2(K.y-u,h-K.x)*b):(ce=r.parentNode?r.parentNode.scrollTop||0:0,fe=r.parentNode?r.parentNode.scrollLeft||0:0,y=ne(r,xe),m=ne(r,Te))),T&&t&&(m>R?m=R+(m-R)/t:D>m&&(m=D-(D-m)/t),ye||(y>E?y=E+(y-E)/t:F>y&&(y=F-(F-y)/t)))},Je=function(){return Ce.tween&&Ce.tween.isActive()},ti=function(t,e,i,r){return"function"==typeof t?function(s){var n=Ce.isPressed?1-Ce.edgeResistance:1;return t.call(Ce,s>i?i+(s-i)*n:e>s?e+(s-e)*n:s)*r}:t instanceof Array?function(r){for(var s,n,a=t.length,o=0,l=P;--a>-1;)s=t[a],n=s-r,0>n&&(n=-n),l>n&&s>=e&&i>=s&&(o=a,l=n);return t[o]}:isNaN(t)?function(t){return t}:function(){return t*r}},ei=function(t){var i,s;if(o&&!Ce.isPressed&&t&&!("mousedown"===t.type&&30>S()-_e&&De[Ce.pointerEvent.type])){if(ue=Je(),Ce.pointerEvent=t,De[t.type]?(le=-1!==t.type.indexOf("touch")?t.currentTarget:g,Me(le,"touchend",si),Me(le,"touchmove",ii),Me(le,"touchcancel",si),Me(g,"touchstart",Ie)):(le=null,Me(g,"mousemove",ii)),me=null,Me(g,"mouseup",si),t&&t.target&&Me(t.target,"mouseup",si),se=je.call(Ce,t.target)&&!a.dragClickables)return Me(t.target,"change",si),ae(Ce,"press","onPress"),Xe(Re,!0),void 0;if(de=!le||we===be||l||Ce.vars.allowNativeTouchScrolling===!1?!1:we?"y":"x",k?t=Z(t,!0):de||Ce.allowEventDefault||(t.preventDefault(),t.preventManipulation&&t.preventManipulation()),t.changedTouches?(t=U=t.changedTouches[0],H=t.identifier):t.pointerId?H=t.pointerId:U=H=null,M++,X(Ue),u=Ce.pointerY=t.pageY,h=Ce.pointerX=t.pageX,(de||Ce.autoScroll)&&Q(r.parentNode),!Ce.autoScroll||ye||l||!r.parentNode||r.getBBox||!r.parentNode._gsMaxScrollX||C.parentNode||(C.style.width=r.parentNode.scrollWidth+"px",r.parentNode.appendChild(C)),Ke(),he&&(i=h*he[0]+u*he[2]+he[4],u=h*he[1]+u*he[3]+he[5],h=i),Ce.tween&&Ce.tween.kill(),Ce.isThrowing=!1,e.killTweensOf(l||r,!0,Oe),l&&e.killTweensOf(r,!0,{scrollTo:1}),Ce.tween=Ce.lockedAxis=null,(a.zIndexBoost||!ye&&!l&&a.zIndexBoost!==!1)&&(r.style.zIndex=We.zIndex++),Ce.isPressed=!0,w=!(!a.onDrag&&!Ce._listeners.drag),!ye)for(s=Re.length;--s>-1;)J(Re[s],"cursor",a.cursor||"move");ae(Ce,"press","onPress")}},ii=function(t){var e,i,r,n,a=t;if(o&&!s&&Ce.isPressed&&t){if(Ce.pointerEvent=t,e=t.changedTouches){if(t=e[0],t!==U&&t.identifier!==H){for(n=e.length;--n>-1&&(t=e[n]).identifier!==H;);if(0>n)return}}else if(t.pointerId&&H&&t.pointerId!==H)return;if(k)t=Z(t,!0);else{if(le&&de&&!me&&(i=t.pageX,r=t.pageY,he&&(n=i*he[0]+r*he[2]+he[4],r=i*he[1]+r*he[3]+he[5],i=n),me=Math.abs(i-h)>Math.abs(r-u)&&we?"x":"y",Ce.vars.lockAxisOnTouchScroll!==!1&&(Ce.lockedAxis="x"===me?"y":"x","function"==typeof Ce.vars.onLockAxis&&Ce.vars.onLockAxis.call(Ce,a)),L&&de===me))return si(a),void 0;Ce.allowEventDefault||de&&(!me||de===me)||a.cancelable===!1||(a.preventDefault(),a.preventManipulation&&a.preventManipulation())}Ce.autoScroll&&(Be=!0),ri(t.pageX,t.pageY)}},ri=function(t,e){var i,r,s,n,a,o,l=1-Ce.dragResistance,_=1-Ce.edgeResistance;Ce.pointerX=t,Ce.pointerY=e,ye?(n=Math.atan2(K.y-e,t-K.x)*b,a=Ce.y-n,Ce.y=n,a>180?y-=360:-180>a&&(y+=360),s=m+(y-n)*l):(he&&(o=t*he[0]+e*he[2]+he[4],e=t*he[1]+e*he[3]+he[5],t=o),r=e-u,i=t-h,ke>r&&r>-ke&&(r=0),ke>i&&i>-ke&&(i=0),(Ce.lockAxis||Ce.lockedAxis)&&(i||r)&&(o=Ce.lockedAxis,o||(Ce.lockedAxis=o=we&&Math.abs(i)>Math.abs(r)?"y":be?"x":null,o&&"function"==typeof Ce.vars.onLockAxis&&Ce.vars.onLockAxis.call(Ce,Ce.pointerEvent)),"y"===o?r=0:"x"===o&&(i=0)),s=m+i*l,n=y+r*l),ie||re?(ie&&(s=ie(s)),re&&(n=re(n))):T&&(s>R?s=R+(s-R)*_:D>s&&(s=D+(s-D)*_),ye||(n>E?n=E+(n-E)*_:F>n&&(n=F+(n-F)*_))),ye||(s=Math.round(s),n=Math.round(n)),(Ce.x!==s||Ce.y!==n&&!ye)&&(ye?Ce.endRotation=Ce.x=Ce.endX=s:(be&&(Ce.y=Ce.endY=n),we&&(Ce.x=Ce.endX=s)),te=!0,Ce.isDragging||(Ce.isDragging=!0,ae(Ce,"dragstart","onDragStart")))},si=function(t,e){if(o&&Ce.isPressed&&(!t||null==H||e||!(t.pointerId&&t.pointerId!==H||t.changedTouches&&!Ne(t.changedTouches,H)))){Ce.isPressed=!1;var i,s,n,l,h=t,u=Ce.isDragging;if(le?(Le(le,"touchend",si),Le(le,"touchmove",ii),Le(le,"touchcancel",si),Le(g,"touchstart",Ie)):Le(g,"mousemove",ii),Le(g,"mouseup",si),t&&t.target&&Le(t.target,"mouseup",si),te=!1,C.parentNode&&C.parentNode.removeChild(C),se)return t&&Le(t.target,"change",si),Xe(Re,!1),ae(Ce,"release","onRelease"),ae(Ce,"click","onClick"),se=!1,void 0;if(B(Ue),!ye)for(s=Re.length;--s>-1;)J(Re[s],"cursor",a.cursor||"move");if(u&&(Ee=N=S(),Ce.isDragging=!1),M--,t){if(k&&(t=Z(t,!1)),i=t.changedTouches,i&&(t=i[0],t!==U&&t.identifier!==H)){for(s=i.length;--s>-1&&(t=i[s]).identifier!==H;);if(0>s)return}Ce.pointerEvent=h,Ce.pointerX=t.pageX,Ce.pointerY=t.pageY}return h&&!u?(ue&&(a.snap||a.bounds)&&Ze(a.throwProps),ae(Ce,"release","onRelease"),L&&"touchmove"===h.type||(ae(Ce,"click","onClick"),l=h.target||h.srcElement||r,l.click?l.click():g.createEvent&&(n=g.createEvent("MouseEvents"),n.initEvent("click",!0,!0),l.dispatchEvent(n)),_e=S())):(Ze(a.throwProps),k||Ce.allowEventDefault||!h||!a.dragClickables&&je.call(Ce,h.target)||!u||de&&(!me||de!==me)||h.cancelable===!1||(h.preventDefault(),h.preventManipulation&&h.preventManipulation()),ae(Ce,"release","onRelease")),u&&ae(Ce,"dragend","onDragEnd"),!0}},ni=function(t){if(t&&Ce.isDragging){var e=t.target||t.srcElement||r.parentNode,i=e.scrollLeft-e._gsScrollX,s=e.scrollTop-e._gsScrollY;(i||s)&&(h-=i,u-=s,e._gsScrollX+=i,e._gsScrollY+=s,ri(Ce.pointerX,Ce.pointerY))}},ai=function(t){var e=S(),i=40>e-_e,r=40>e-Ee;(Ce.isPressed||r||i)&&(t.preventDefault?(t.preventDefault(),(i||r&&Ce.vars.suppressClickOnDrag!==!1)&&t.stopImmediatePropagation()):t.returnValue=!1,t.preventManipulation&&t.preventManipulation())};ee=We.get(this.target),ee&&ee.kill(),this.startDrag=function(t){ei(t),Ce.isDragging||(Ce.isDragging=!0,ae(Ce,"dragstart","onDragStart"))},this.drag=ii,this.endDrag=function(t){si(t,!0)},this.timeSinceDrag=function(){return Ce.isDragging?0:(S()-Ee)/1e3},this.hitTest=function(t,e){return We.hitTest(Ce.target,t,e)},this.getDirection=function(t,e){var i,r,s,a,o,l,h="velocity"===t&&n?t:"object"!=typeof t||ye?"start":"element";return"element"===h&&(o=Ve(Ce.target),l=Ve(t)),i="start"===h?Ce.x-m:"velocity"===h?n.getVelocity(this.target,Te):o.left+o.width/2-(l.left+l.width/2),ye?0>i?"counter-clockwise":"clockwise":(e=e||2,r="start"===h?Ce.y-y:"velocity"===h?n.getVelocity(this.target,xe):o.top+o.height/2-(l.top+l.height/2),s=Math.abs(i/r),a=1/e>s?"":0>i?"left":"right",e>s&&(""!==a&&(a+="-"),a+=0>r?"up":"down"),a)},this.applyBounds=function(t){var e,i;return t&&a.bounds!==t?(a.bounds=t,Ce.update(!0)):(Ge(!0),qe(),T&&(e=Ce.x,i=Ce.y,T&&(e>R?e=R:D>e&&(e=D),i>E?i=E:F>i&&(i=F)),(Ce.x!==e||Ce.y!==i)&&(Ce.x=Ce.endX=e,ye?Ce.endRotation=e:Ce.y=Ce.endY=i,te=!0,Ue())),Ce)},this.update=function(t){var e=Ce.x,i=Ce.y;return $e(),t?Ce.applyBounds():(te&&Ue(),Ge(!0)),Ce.isPressed&&(we&&Math.abs(e-Ce.x)>.01||be&&Math.abs(i-Ce.y)>.01&&!ye)&&Ke(),Ce},this.enable=function(t){var s,h,u;if("soft"!==t){for(h=Re.length;--h>-1;)u=Re[h],Me(u,"mousedown",ei),Me(u,"touchstart",ei),Me(u,"click",ai,!0),ye||J(u,"cursor",a.cursor||"move"),J(u,"touchCallout","none"),J(u,"touchAction",we===be||l?"none":we?"pan-y":"pan-x");Xe(Re,!1)}return V(Ce.target,ni),o=!0,n&&"soft"!==t&&n.track(l||r,ve?"x,y":ye?"rotation":"top,left"),l&&l.enable(),r._gsDragID=s="d"+A++,O[s]=this,l&&(l.element._gsDragID=s),e.set(r,{x:"+=0",overwrite:!1}),pe={t:r,data:k?j:r._gsTransform,tween:{},setRatio:k?function(){e.set(r,Y)}:i._internals.setTransformRatio||i._internals.set3DTransformRatio},this.update(!0),Ce},this.disable=function(t){var e,i,s=this.isDragging;if(!ye)for(e=Re.length;--e>-1;)J(Re[e],"cursor",null);if("soft"!==t){for(e=Re.length;--e>-1;)i=Re[e],J(i,"touchCallout",null),J(i,"touchAction",null),Le(i,"mousedown",ei),Le(i,"touchstart",ei),Le(i,"click",ai);Xe(Re,!0),le&&(Le(le,"touchcancel",si),Le(le,"touchend",si),Le(le,"touchmove",ii)),Le(g,"mouseup",si),Le(g,"mousemove",ii)}return G(r,ni),o=!1,n&&"soft"!==t&&n.untrack(l||r,ve?"x,y":ye?"rotation":"top,left"),l&&l.disable(),B(Ue),this.isDragging=this.isPressed=se=!1,s&&ae(this,"dragend","onDragEnd"),Ce},this.enabled=function(t,e){return arguments.length?t?this.enable(e):this.disable(e):o},this.kill=function(){return Ce.isThrowing=!1,e.killTweensOf(l||r,!0,Oe),Ce.disable(),delete O[r._gsDragID],Ce},-1!==ge.indexOf("scroll")&&(l=this.scrollProxy=new Ye(r,W({onKill:function(){Ce.isPressed&&si(null)}},a)),r.style.overflowY=be&&!Ae?"auto":"hidden",r.style.overflowX=we&&!Ae?"auto":"hidden",r=l.content),a.force3D!==!1&&e.set(r,{force3D:!0}),ye?Oe.rotation=1:(we&&(Oe[Te]=1),be&&(Oe[xe]=1)),ye?(Y=p,j=Y.css,Y.overwrite=!1):ve&&(Y=we&&be?_:we?c:f,j=Y.css,Y.overwrite=!1),this.enable()},je=We.prototype=new t;je.constructor=We,je.pointerX=je.pointerY=0,je.isDragging=je.isPressed=!1,We.version="0.14.0",We.zIndex=1e3,Me(g,"touchcancel",function(){}),Me(g,"contextmenu",function(){var t;for(t in O)O[t].isPressed&&O[t].endDrag()}),We.create=function(t,i){"string"==typeof t&&(t=e.selector(t));for(var r=Re(t)?Oe(t):[t],s=r.length;--s>-1;)r[s]=new We(r[s],i);return r},We.get=function(t){return O[($(t)||{})._gsDragID]},We.timeSinceDrag=function(){return(S()-N)/1e3};var Ue={},Ve=function(t,e){if(t===window)return Ue.left=Ue.top=0,Ue.width=Ue.right=v.clientWidth||t.innerWidth||g.body.clientWidth||0,Ue.height=Ue.bottom=(t.innerHeight||0)-20<v.clientHeight?v.clientHeight:t.innerHeight||g.body.clientHeight||0,Ue;var i=t.pageX!==e?{left:t.pageX,top:t.pageY,right:t.pageX+1,bottom:t.pageY+1}:t.nodeType||t.left===e||t.top===e?$(t).getBoundingClientRect():t;return i.right===e&&i.width!==e?(i.right=i.left+i.width,i.bottom=i.top+i.height):i.width===e&&(i={width:i.right-i.left,height:i.bottom-i.top,right:i.right,left:i.left,bottom:i.bottom,top:i.top}),i
};return We.hitTest=function(t,e,i){if(t===e)return!1;var r,s,n,a=Ve(t),o=Ve(e),l=o.left>a.right||o.right<a.left||o.top>a.bottom||o.bottom<a.top;return l||!i?!l:(n=-1!==(i+"").indexOf("%"),i=parseFloat(i)||0,r={left:Math.max(a.left,o.left),top:Math.max(a.top,o.top)},r.width=Math.min(a.right,o.right)-r.left,r.height=Math.min(a.bottom,o.bottom)-r.top,0>r.width||0>r.height?!1:n?(i*=.01,s=r.width*r.height,s>=a.width*a.height*i||s>=o.width*o.height*i):r.width>i&&r.height>i)},C.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;",We},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope)[t]};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),require("../plugins/CSSPlugin.js"),module.exports=e())}("Draggable");


var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},e=function(a,b,c){var d,e,f=a.cycle;for(d in f)e=f[d],a[d]="function"==typeof e?e(c,b[c]):e[c%e.length];delete a.cycle},f=function(a,b,d){c.call(this,a,b,d),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=f.prototype.render},g=1e-10,h=c._internals,i=h.isSelector,j=h.isArray,k=f.prototype=c.to({},.1,{}),l=[];f.version="1.19.1",k.constructor=f,k.kill()._gc=!1,f.killTweensOf=f.killDelayedCallsTo=c.killTweensOf,f.getTweensOf=c.getTweensOf,f.lagSmoothing=c.lagSmoothing,f.ticker=c.ticker,f.render=c.render,k.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),c.prototype.invalidate.call(this)},k.updateTo=function(a,b){var d,e=this.ratio,f=this.vars.immediateRender||a.immediateRender;b&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(d in a)this.vars[d]=a[d];if(this._initted||f)if(b)this._initted=!1,f&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&c._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var g=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(g,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||f)for(var h,i=1/(1-e),j=this._firstPT;j;)h=j.s+j.c,j.c*=i,j.s=h-j.c,j=j._next;return this},k.render=function(a,b,c){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var d,e,f,i,j,k,l,m,n=this._dirty?this.totalDuration():this._totalDuration,o=this._time,p=this._totalTime,q=this._cycle,r=this._duration,s=this._rawPrevTime;if(a>=n-1e-7&&a>=0?(this._totalTime=n,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=r,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(d=!0,e="onComplete",c=c||this._timeline.autoRemoveChildren),0===r&&(this._initted||!this.vars.lazy||c)&&(this._startTime===this._timeline._duration&&(a=0),(0>s||0>=a&&a>=-1e-7||s===g&&"isPause"!==this.data)&&s!==a&&(c=!0,s>g&&(e="onReverseComplete")),this._rawPrevTime=m=!b||a||s===a?a:g)):1e-7>a?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==p||0===r&&s>0)&&(e="onReverseComplete",d=this._reversed),0>a&&(this._active=!1,0===r&&(this._initted||!this.vars.lazy||c)&&(s>=0&&(c=!0),this._rawPrevTime=m=!b||a||s===a?a:g)),this._initted||(c=!0)):(this._totalTime=this._time=a,0!==this._repeat&&(i=r+this._repeatDelay,this._cycle=this._totalTime/i>>0,0!==this._cycle&&this._cycle===this._totalTime/i&&a>=p&&this._cycle--,this._time=this._totalTime-this._cycle*i,this._yoyo&&0!==(1&this._cycle)&&(this._time=r-this._time),this._time>r?this._time=r:this._time<0&&(this._time=0)),this._easeType?(j=this._time/r,k=this._easeType,l=this._easePower,(1===k||3===k&&j>=.5)&&(j=1-j),3===k&&(j*=2),1===l?j*=j:2===l?j*=j*j:3===l?j*=j*j*j:4===l&&(j*=j*j*j*j),1===k?this.ratio=1-j:2===k?this.ratio=j:this._time/r<.5?this.ratio=j/2:this.ratio=1-j/2):this.ratio=this._ease.getRatio(this._time/r)),o===this._time&&!c&&q===this._cycle)return void(p!==this._totalTime&&this._onUpdate&&(b||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!c&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=o,this._totalTime=p,this._rawPrevTime=s,this._cycle=q,h.lazyTweens.push(this),void(this._lazy=[a,b]);this._time&&!d?this.ratio=this._ease.getRatio(this._time/r):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==o&&a>=0&&(this._active=!0),0===p&&(2===this._initted&&a>0&&this._init(),this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===r)&&(b||this._callback("onStart"))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&this._startTime&&this._startAt.render(a,b,c),b||(this._totalTime!==p||e)&&this._callback("onUpdate")),this._cycle!==q&&(b||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),e&&(!this._gc||c)&&(0>a&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this._callback(e),0===r&&this._rawPrevTime===g&&m!==g&&(this._rawPrevTime=0))},f.to=function(a,b,c){return new f(a,b,c)},f.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new f(a,b,c)},f.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new f(a,b,d)},f.staggerTo=f.allTo=function(a,b,g,h,k,m,n){h=h||0;var o,p,q,r,s=0,t=[],u=function(){g.onComplete&&g.onComplete.apply(g.onCompleteScope||this,arguments),k.apply(n||g.callbackScope||this,m||l)},v=g.cycle,w=g.startAt&&g.startAt.cycle;for(j(a)||("string"==typeof a&&(a=c.selector(a)||a),i(a)&&(a=d(a))),a=a||[],0>h&&(a=d(a),a.reverse(),h*=-1),o=a.length-1,q=0;o>=q;q++){p={};for(r in g)p[r]=g[r];if(v&&(e(p,a,q),null!=p.duration&&(b=p.duration,delete p.duration)),w){w=p.startAt={};for(r in g.startAt)w[r]=g.startAt[r];e(p.startAt,a,q)}p.delay=s+(p.delay||0),q===o&&k&&(p.onComplete=u),t[q]=new f(a[q],b,p),s+=h}return t},f.staggerFrom=f.allFrom=function(a,b,c,d,e,g,h){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,f.staggerTo(a,b,c,d,e,g,h)},f.staggerFromTo=f.allFromTo=function(a,b,c,d,e,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,f.staggerTo(a,b,d,e,g,h,i)},f.delayedCall=function(a,b,c,d,e){return new f(b,0,{delay:a,onComplete:b,onCompleteParams:c,callbackScope:d,onReverseComplete:b,onReverseCompleteParams:c,immediateRender:!1,useFrames:e,overwrite:0})},f.set=function(a,b){return new f(a,0,b)},f.isTweening=function(a){return c.getTweensOf(a,!0).length>0};var m=function(a,b){for(var d=[],e=0,f=a._first;f;)f instanceof c?d[e++]=f:(b&&(d[e++]=f),d=d.concat(m(f,b)),e=d.length),f=f._next;return d},n=f.getAllTweens=function(b){return m(a._rootTimeline,b).concat(m(a._rootFramesTimeline,b))};f.killAll=function(a,c,d,e){null==c&&(c=!0),null==d&&(d=!0);var f,g,h,i=n(0!=e),j=i.length,k=c&&d&&e;for(h=0;j>h;h++)g=i[h],(k||g instanceof b||(f=g.target===g.vars.onComplete)&&d||c&&!f)&&(a?g.totalTime(g._reversed?0:g.totalDuration()):g._enabled(!1,!1))},f.killChildTweensOf=function(a,b){if(null!=a){var e,g,k,l,m,n=h.tweenLookup;if("string"==typeof a&&(a=c.selector(a)||a),i(a)&&(a=d(a)),j(a))for(l=a.length;--l>-1;)f.killChildTweensOf(a[l],b);else{e=[];for(k in n)for(g=n[k].target.parentNode;g;)g===a&&(e=e.concat(n[k].tweens)),g=g.parentNode;for(m=e.length,l=0;m>l;l++)b&&e[l].totalTime(e[l].totalDuration()),e[l]._enabled(!1,!1)}}};var o=function(a,c,d,e){c=c!==!1,d=d!==!1,e=e!==!1;for(var f,g,h=n(e),i=c&&d&&e,j=h.length;--j>-1;)g=h[j],(i||g instanceof b||(f=g.target===g.vars.onComplete)&&d||c&&!f)&&g.paused(a)};return f.pauseAll=function(a,b,c){o(!0,a,b,c)},f.resumeAll=function(a,b,c){o(!1,a,b,c)},f.globalTimeScale=function(b){var d=a._rootTimeline,e=c.ticker.time;return arguments.length?(b=b||g,d._startTime=e-(e-d._startTime)*d._timeScale/b,d=a._rootFramesTimeline,e=c.ticker.frame,d._startTime=e-(e-d._startTime)*d._timeScale/b,d._timeScale=a._rootTimeline._timeScale=b,b):d._timeScale},k.progress=function(a,b){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),b):this._time/this.duration()},k.totalProgress=function(a,b){return arguments.length?this.totalTime(this.totalDuration()*a,b):this._totalTime/this.totalDuration()},k.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},k.duration=function(b){return arguments.length?a.prototype.duration.call(this,b):this._duration},k.totalDuration=function(a){return arguments.length?-1===this._repeat?this:this.duration((a-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},k.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},k.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},k.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},f},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){b.call(this,a),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var c,d,e=this.vars;for(d in e)c=e[d],i(c)&&-1!==c.join("").indexOf("{self}")&&(e[d]=this._swapSelfInParams(c));i(e.tweens)&&this.add(e.tweens,0,e.align,e.stagger)},e=1e-10,f=c._internals,g=d._internals={},h=f.isSelector,i=f.isArray,j=f.lazyTweens,k=f.lazyRender,l=_gsScope._gsDefine.globals,m=function(a){var b,c={};for(b in a)c[b]=a[b];return c},n=function(a,b,c){var d,e,f=a.cycle;for(d in f)e=f[d],a[d]="function"==typeof e?e(c,b[c]):e[c%e.length];delete a.cycle},o=g.pauseCallback=function(){},p=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},q=d.prototype=new b;return d.version="1.19.1",q.constructor=d,q.kill()._gc=q._forcingPlayhead=q._hasPause=!1,q.to=function(a,b,d,e){var f=d.repeat&&l.TweenMax||c;return b?this.add(new f(a,b,d),e):this.set(a,d,e)},q.from=function(a,b,d,e){return this.add((d.repeat&&l.TweenMax||c).from(a,b,d),e)},q.fromTo=function(a,b,d,e,f){var g=e.repeat&&l.TweenMax||c;return b?this.add(g.fromTo(a,b,d,e),f):this.set(a,e,f)},q.staggerTo=function(a,b,e,f,g,i,j,k){var l,o,q=new d({onComplete:i,onCompleteParams:j,callbackScope:k,smoothChildTiming:this.smoothChildTiming}),r=e.cycle;for("string"==typeof a&&(a=c.selector(a)||a),a=a||[],h(a)&&(a=p(a)),f=f||0,0>f&&(a=p(a),a.reverse(),f*=-1),o=0;o<a.length;o++)l=m(e),l.startAt&&(l.startAt=m(l.startAt),l.startAt.cycle&&n(l.startAt,a,o)),r&&(n(l,a,o),null!=l.duration&&(b=l.duration,delete l.duration)),q.to(a[o],b,l,o*f);return this.add(q,g)},q.staggerFrom=function(a,b,c,d,e,f,g,h){return c.immediateRender=0!=c.immediateRender,c.runBackwards=!0,this.staggerTo(a,b,c,d,e,f,g,h)},q.staggerFromTo=function(a,b,c,d,e,f,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,this.staggerTo(a,b,d,e,f,g,h,i)},q.call=function(a,b,d,e){return this.add(c.delayedCall(0,a,b,d),e)},q.set=function(a,b,d){return d=this._parseTimeOrLabel(d,0,!0),null==b.immediateRender&&(b.immediateRender=d===this._time&&!this._paused),this.add(new c(a,0,b),d)},d.exportRoot=function(a,b){a=a||{},null==a.smoothChildTiming&&(a.smoothChildTiming=!0);var e,f,g=new d(a),h=g._timeline;for(null==b&&(b=!0),h._remove(g,!0),g._startTime=0,g._rawPrevTime=g._time=g._totalTime=h._time,e=h._first;e;)f=e._next,b&&e instanceof c&&e.target===e.vars.onComplete||g.add(e,e._startTime-e._delay),e=f;return h.add(g,0),g},q.add=function(e,f,g,h){var j,k,l,m,n,o;if("number"!=typeof f&&(f=this._parseTimeOrLabel(f,0,!0,e)),!(e instanceof a)){if(e instanceof Array||e&&e.push&&i(e)){for(g=g||"normal",h=h||0,j=f,k=e.length,l=0;k>l;l++)i(m=e[l])&&(m=new d({tweens:m})),this.add(m,j),"string"!=typeof m&&"function"!=typeof m&&("sequence"===g?j=m._startTime+m.totalDuration()/m._timeScale:"start"===g&&(m._startTime-=m.delay())),j+=h;return this._uncache(!0)}if("string"==typeof e)return this.addLabel(e,f);if("function"!=typeof e)throw"Cannot add "+e+" into the timeline; it is not a tween, timeline, function, or string.";e=c.delayedCall(0,e)}if(b.prototype.add.call(this,e,f),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(n=this,o=n.rawTime()>e._startTime;n._timeline;)o&&n._timeline.smoothChildTiming?n.totalTime(n._totalTime,!0):n._gc&&n._enabled(!0,!1),n=n._timeline;return this},q.remove=function(b){if(b instanceof a){this._remove(b,!1);var c=b._timeline=b.vars.useFrames?a._rootFramesTimeline:a._rootTimeline;return b._startTime=(b._paused?b._pauseTime:c._time)-(b._reversed?b.totalDuration()-b._totalTime:b._totalTime)/b._timeScale,this}if(b instanceof Array||b&&b.push&&i(b)){for(var d=b.length;--d>-1;)this.remove(b[d]);return this}return"string"==typeof b?this.removeLabel(b):this.kill(null,b)},q._remove=function(a,c){b.prototype._remove.call(this,a,c);var d=this._last;return d?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},q.append=function(a,b){return this.add(a,this._parseTimeOrLabel(null,b,!0,a))},q.insert=q.insertMultiple=function(a,b,c,d){return this.add(a,b||0,c,d)},q.appendMultiple=function(a,b,c,d){return this.add(a,this._parseTimeOrLabel(null,b,!0,a),c,d)},q.addLabel=function(a,b){return this._labels[a]=this._parseTimeOrLabel(b),this},q.addPause=function(a,b,d,e){var f=c.delayedCall(0,o,d,e||this);return f.vars.onComplete=f.vars.onReverseComplete=b,f.data="isPause",this._hasPause=!0,this.add(f,a)},q.removeLabel=function(a){return delete this._labels[a],this},q.getLabelTime=function(a){return null!=this._labels[a]?this._labels[a]:-1},q._parseTimeOrLabel=function(b,c,d,e){var f;if(e instanceof a&&e.timeline===this)this.remove(e);else if(e&&(e instanceof Array||e.push&&i(e)))for(f=e.length;--f>-1;)e[f]instanceof a&&e[f].timeline===this&&this.remove(e[f]);if("string"==typeof c)return this._parseTimeOrLabel(c,d&&"number"==typeof b&&null==this._labels[c]?b-this.duration():0,d);if(c=c||0,"string"!=typeof b||!isNaN(b)&&null==this._labels[b])null==b&&(b=this.duration());else{if(f=b.indexOf("="),-1===f)return null==this._labels[b]?d?this._labels[b]=this.duration()+c:c:this._labels[b]+c;c=parseInt(b.charAt(f-1)+"1",10)*Number(b.substr(f+1)),b=f>1?this._parseTimeOrLabel(b.substr(0,f-1),0,d):this.duration()}return Number(b)+c},q.seek=function(a,b){return this.totalTime("number"==typeof a?a:this._parseTimeOrLabel(a),b!==!1)},q.stop=function(){return this.paused(!0)},q.gotoAndPlay=function(a,b){return this.play(a,b)},q.gotoAndStop=function(a,b){return this.pause(a,b)},q.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,g,h,i,l,m,n=this._dirty?this.totalDuration():this._totalDuration,o=this._time,p=this._startTime,q=this._timeScale,r=this._paused;if(a>=n-1e-7&&a>=0)this._totalTime=this._time=n,this._reversed||this._hasPausedChild()||(f=!0,h="onComplete",i=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=a&&a>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===e)&&this._rawPrevTime!==a&&this._first&&(i=!0,this._rawPrevTime>e&&(h="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,a=n+1e-4;else if(1e-7>a)if(this._totalTime=this._time=0,(0!==o||0===this._duration&&this._rawPrevTime!==e&&(this._rawPrevTime>0||0>a&&this._rawPrevTime>=0))&&(h="onReverseComplete",f=this._reversed),0>a)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(i=f=!0,h="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(i=!0),this._rawPrevTime=a;else{if(this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,0===a&&f)for(d=this._first;d&&0===d._startTime;)d._duration||(f=!1),d=d._next;a=0,this._initted||(i=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!b){if(a>=o)for(d=this._first;d&&d._startTime<=a&&!l;)d._duration||"isPause"!==d.data||d.ratio||0===d._startTime&&0===this._rawPrevTime||(l=d),d=d._next;else for(d=this._last;d&&d._startTime>=a&&!l;)d._duration||"isPause"===d.data&&d._rawPrevTime>0&&(l=d),d=d._prev;l&&(this._time=a=l._startTime,this._totalTime=a+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=a}if(this._time!==o&&this._first||c||i||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==o&&a>0&&(this._active=!0),0===o&&this.vars.onStart&&(0===this._time&&this._duration||b||this._callback("onStart")),m=this._time,m>=o)for(d=this._first;d&&(g=d._next,m===this._time&&(!this._paused||r));)(d._active||d._startTime<=m&&!d._paused&&!d._gc)&&(l===d&&this.pause(),d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;else for(d=this._last;d&&(g=d._prev,m===this._time&&(!this._paused||r));){if(d._active||d._startTime<=o&&!d._paused&&!d._gc){if(l===d){for(l=d._prev;l&&l.endTime()>this._time;)l.render(l._reversed?l.totalDuration()-(a-l._startTime)*l._timeScale:(a-l._startTime)*l._timeScale,b,c),l=l._prev;l=null,this.pause()}d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)}d=g}this._onUpdate&&(b||(j.length&&k(),this._callback("onUpdate"))),h&&(this._gc||(p===this._startTime||q!==this._timeScale)&&(0===this._time||n>=this.totalDuration())&&(f&&(j.length&&k(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[h]&&this._callback(h)))}},q._hasPausedChild=function(){for(var a=this._first;a;){if(a._paused||a instanceof d&&a._hasPausedChild())return!0;a=a._next}return!1},q.getChildren=function(a,b,d,e){e=e||-9999999999;for(var f=[],g=this._first,h=0;g;)g._startTime<e||(g instanceof c?b!==!1&&(f[h++]=g):(d!==!1&&(f[h++]=g),a!==!1&&(f=f.concat(g.getChildren(!0,b,d)),h=f.length))),g=g._next;return f},q.getTweensOf=function(a,b){var d,e,f=this._gc,g=[],h=0;for(f&&this._enabled(!0,!0),d=c.getTweensOf(a),e=d.length;--e>-1;)(d[e].timeline===this||b&&this._contains(d[e]))&&(g[h++]=d[e]);return f&&this._enabled(!1,!0),g},q.recent=function(){return this._recent},q._contains=function(a){for(var b=a.timeline;b;){if(b===this)return!0;b=b.timeline}return!1},q.shiftChildren=function(a,b,c){c=c||0;for(var d,e=this._first,f=this._labels;e;)e._startTime>=c&&(e._startTime+=a),e=e._next;if(b)for(d in f)f[d]>=c&&(f[d]+=a);return this._uncache(!0)},q._kill=function(a,b){if(!a&&!b)return this._enabled(!1,!1);for(var c=b?this.getTweensOf(b):this.getChildren(!0,!0,!1),d=c.length,e=!1;--d>-1;)c[d]._kill(a,b)&&(e=!0);return e},q.clear=function(a){var b=this.getChildren(!1,!0,!0),c=b.length;for(this._time=this._totalTime=0;--c>-1;)b[c]._enabled(!1,!1);return a!==!1&&(this._labels={}),this._uncache(!0)},q.invalidate=function(){for(var b=this._first;b;)b.invalidate(),b=b._next;return a.prototype.invalidate.call(this)},q._enabled=function(a,c){if(a===this._gc)for(var d=this._first;d;)d._enabled(a,!0),d=d._next;return b.prototype._enabled.call(this,a,c)},q.totalTime=function(b,c,d){this._forcingPlayhead=!0;var e=a.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,e},q.duration=function(a){return arguments.length?(0!==this.duration()&&0!==a&&this.timeScale(this._duration/a),this):(this._dirty&&this.totalDuration(),this._duration)},q.totalDuration=function(a){if(!arguments.length){if(this._dirty){for(var b,c,d=0,e=this._last,f=999999999999;e;)b=e._prev,e._dirty&&e.totalDuration(),e._startTime>f&&this._sortChildren&&!e._paused?this.add(e,e._startTime-e._delay):f=e._startTime,e._startTime<0&&!e._paused&&(d-=e._startTime,this._timeline.smoothChildTiming&&(this._startTime+=e._startTime/this._timeScale),this.shiftChildren(-e._startTime,!1,-9999999999),f=0),c=e._startTime+e._totalDuration/e._timeScale,c>d&&(d=c),e=b;this._duration=this._totalDuration=d,this._dirty=!1}return this._totalDuration}return a&&this.totalDuration()?this.timeScale(this._totalDuration/a):this},q.paused=function(b){if(!b)for(var c=this._first,d=this._time;c;)c._startTime===d&&"isPause"===c.data&&(c._rawPrevTime=0),c=c._next;return a.prototype.paused.apply(this,arguments)},q.usesFrames=function(){for(var b=this._timeline;b._timeline;)b=b._timeline;return b===a._rootFramesTimeline},q.rawTime=function(a){return a&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(a)-this._startTime)*this._timeScale},d},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(a,b,c){var d=function(b){a.call(this,b),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},e=1e-10,f=b._internals,g=f.lazyTweens,h=f.lazyRender,i=_gsScope._gsDefine.globals,j=new c(null,null,1,0),k=d.prototype=new a;return k.constructor=d,k.kill()._gc=!1,d.version="1.19.1",k.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),a.prototype.invalidate.call(this)},k.addCallback=function(a,c,d,e){return this.add(b.delayedCall(0,a,d,e),c)},k.removeCallback=function(a,b){if(a)if(null==b)this._kill(null,a);else for(var c=this.getTweensOf(a,!1),d=c.length,e=this._parseTimeOrLabel(b);--d>-1;)c[d]._startTime===e&&c[d]._enabled(!1,!1);return this},k.removePause=function(b){return this.removeCallback(a._internals.pauseCallback,b)},k.tweenTo=function(a,c){c=c||{};var d,e,f,g={ease:j,useFrames:this.usesFrames(),immediateRender:!1},h=c.repeat&&i.TweenMax||b;for(e in c)g[e]=c[e];return g.time=this._parseTimeOrLabel(a),d=Math.abs(Number(g.time)-this._time)/this._timeScale||.001,f=new h(this,d,g),g.onStart=function(){f.target.paused(!0),f.vars.time!==f.target.time()&&d===f.duration()&&f.duration(Math.abs(f.vars.time-f.target.time())/f.target._timeScale),c.onStart&&c.onStart.apply(c.onStartScope||c.callbackScope||f,c.onStartParams||[])},f},k.tweenFromTo=function(a,b,c){c=c||{},a=this._parseTimeOrLabel(a),c.startAt={onComplete:this.seek,onCompleteParams:[a],callbackScope:this},c.immediateRender=c.immediateRender!==!1;var d=this.tweenTo(b,c);return d.duration(Math.abs(d.vars.time-a)/this._timeScale||.001)},k.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,i,j,k,l,m,n,o=this._dirty?this.totalDuration():this._totalDuration,p=this._duration,q=this._time,r=this._totalTime,s=this._startTime,t=this._timeScale,u=this._rawPrevTime,v=this._paused,w=this._cycle;if(a>=o-1e-7&&a>=0)this._locked||(this._totalTime=o,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(f=!0,j="onComplete",k=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=a&&a>=-1e-7||0>u||u===e)&&u!==a&&this._first&&(k=!0,u>e&&(j="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,this._yoyo&&0!==(1&this._cycle)?this._time=a=0:(this._time=p,a=p+1e-4);else if(1e-7>a)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==q||0===p&&u!==e&&(u>0||0>a&&u>=0)&&!this._locked)&&(j="onReverseComplete",f=this._reversed),0>a)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(k=f=!0,j="onReverseComplete"):u>=0&&this._first&&(k=!0),this._rawPrevTime=a;else{if(this._rawPrevTime=p||!b||a||this._rawPrevTime===a?a:e,0===a&&f)for(d=this._first;d&&0===d._startTime;)d._duration||(f=!1),d=d._next;a=0,this._initted||(k=!0)}else if(0===p&&0>u&&(k=!0),this._time=this._rawPrevTime=a,this._locked||(this._totalTime=a,0!==this._repeat&&(l=p+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&a>=r&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!==(1&this._cycle)&&(this._time=p-this._time),this._time>p?(this._time=p,a=p+1e-4):this._time<0?this._time=a=0:a=this._time)),this._hasPause&&!this._forcingPlayhead&&!b&&p>a){if(a=this._time,a>=q||this._repeat&&w!==this._cycle)for(d=this._first;d&&d._startTime<=a&&!m;)d._duration||"isPause"!==d.data||d.ratio||0===d._startTime&&0===this._rawPrevTime||(m=d),d=d._next;else for(d=this._last;d&&d._startTime>=a&&!m;)d._duration||"isPause"===d.data&&d._rawPrevTime>0&&(m=d),d=d._prev;m&&(this._time=a=m._startTime,this._totalTime=a+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==w&&!this._locked){var x=this._yoyo&&0!==(1&w),y=x===(this._yoyo&&0!==(1&this._cycle)),z=this._totalTime,A=this._cycle,B=this._rawPrevTime,C=this._time;if(this._totalTime=w*p,this._cycle<w?x=!x:this._totalTime+=p,this._time=q,this._rawPrevTime=0===p?u-1e-4:u,this._cycle=w,this._locked=!0,q=x?0:p,this.render(q,b,0===p),b||this._gc||this.vars.onRepeat&&(this._cycle=A,this._locked=!1,this._callback("onRepeat")),q!==this._time)return;if(y&&(this._cycle=w,this._locked=!0,q=x?p+1e-4:-1e-4,this.render(q,!0,!1)),this._locked=!1,this._paused&&!v)return;this._time=C,this._totalTime=z,this._cycle=A,this._rawPrevTime=B}if(!(this._time!==q&&this._first||c||k||m))return void(r!==this._totalTime&&this._onUpdate&&(b||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==r&&a>0&&(this._active=!0),0===r&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||b||this._callback("onStart")),n=this._time,n>=q)for(d=this._first;d&&(i=d._next,n===this._time&&(!this._paused||v));)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(m===d&&this.pause(),d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=i;else for(d=this._last;d&&(i=d._prev,n===this._time&&(!this._paused||v));){if(d._active||d._startTime<=q&&!d._paused&&!d._gc){if(m===d){for(m=d._prev;m&&m.endTime()>this._time;)m.render(m._reversed?m.totalDuration()-(a-m._startTime)*m._timeScale:(a-m._startTime)*m._timeScale,b,c),m=m._prev;m=null,this.pause()}d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)}d=i}this._onUpdate&&(b||(g.length&&h(),this._callback("onUpdate"))),j&&(this._locked||this._gc||(s===this._startTime||t!==this._timeScale)&&(0===this._time||o>=this.totalDuration())&&(f&&(g.length&&h(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[j]&&this._callback(j)))},k.getActive=function(a,b,c){null==a&&(a=!0),null==b&&(b=!0),null==c&&(c=!1);var d,e,f=[],g=this.getChildren(a,b,c),h=0,i=g.length;for(d=0;i>d;d++)e=g[d],e.isActive()&&(f[h++]=e);return f},k.getLabelAfter=function(a){a||0!==a&&(a=this._time);var b,c=this.getLabelsArray(),d=c.length;for(b=0;d>b;b++)if(c[b].time>a)return c[b].name;return null},k.getLabelBefore=function(a){null==a&&(a=this._time);for(var b=this.getLabelsArray(),c=b.length;--c>-1;)if(b[c].time<a)return b[c].name;return null},k.getLabelsArray=function(){var a,b=[],c=0;for(a in this._labels)b[c++]={time:this._labels[a],name:a};return b.sort(function(a,b){return a.time-b.time}),b},k.invalidate=function(){return this._locked=!1,a.prototype.invalidate.call(this)},k.progress=function(a,b){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),b):this._time/this.duration()},k.totalProgress=function(a,b){return arguments.length?this.totalTime(this.totalDuration()*a,b):this._totalTime/this.totalDuration()},k.totalDuration=function(b){return arguments.length?-1!==this._repeat&&b?this.timeScale(this.totalDuration()/b):this:(this._dirty&&(a.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},k.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},k.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},k.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},k.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},k.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.getLabelBefore(this._time+1e-8)},d},!0),function(){var a=180/Math.PI,b=[],c=[],d=[],e={},f=_gsScope._gsDefine.globals,g=function(a,b,c,d){c===d&&(c=d-(d-b)/1e6),a===b&&(b=a+(c-a)/1e6),this.a=a,this.b=b,this.c=c,this.d=d,this.da=d-a,this.ca=c-a,this.ba=b-a},h=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",i=function(a,b,c,d){var e={a:a},f={},g={},h={c:d},i=(a+b)/2,j=(b+c)/2,k=(c+d)/2,l=(i+j)/2,m=(j+k)/2,n=(m-l)/8;return e.b=i+(a-i)/4,f.b=l+n,e.c=f.a=(e.b+f.b)/2,f.c=g.a=(l+m)/2,g.b=m-n,h.b=k+(d-k)/4,g.c=h.a=(g.b+h.b)/2,[e,f,g,h]},j=function(a,e,f,g,h){var j,k,l,m,n,o,p,q,r,s,t,u,v,w=a.length-1,x=0,y=a[0].a;for(j=0;w>j;j++)n=a[x],k=n.a,l=n.d,m=a[x+1].d,h?(t=b[j],u=c[j],v=(u+t)*e*.25/(g?.5:d[j]||.5),o=l-(l-k)*(g?.5*e:0!==t?v/t:0),p=l+(m-l)*(g?.5*e:0!==u?v/u:0),q=l-(o+((p-o)*(3*t/(t+u)+.5)/4||0))):(o=l-(l-k)*e*.5,p=l+(m-l)*e*.5,q=l-(o+p)/2),o+=q,p+=q,n.c=r=o,0!==j?n.b=y:n.b=y=n.a+.6*(n.c-n.a),n.da=l-k,n.ca=r-k,n.ba=y-k,f?(s=i(k,y,r,l),a.splice(x,1,s[0],s[1],s[2],s[3]),x+=4):x++,y=p;n=a[x],n.b=y,n.c=y+.4*(n.d-y),n.da=n.d-n.a,n.ca=n.c-n.a,n.ba=y-n.a,f&&(s=i(n.a,y,n.c,n.d),a.splice(x,1,s[0],s[1],s[2],s[3]))},k=function(a,d,e,f){var h,i,j,k,l,m,n=[];if(f)for(a=[f].concat(a),i=a.length;--i>-1;)"string"==typeof(m=a[i][d])&&"="===m.charAt(1)&&(a[i][d]=f[d]+Number(m.charAt(0)+m.substr(2)));if(h=a.length-2,0>h)return n[0]=new g(a[0][d],0,0,a[-1>h?0:1][d]),n;for(i=0;h>i;i++)j=a[i][d],k=a[i+1][d],n[i]=new g(j,0,0,k),e&&(l=a[i+2][d],b[i]=(b[i]||0)+(k-j)*(k-j),c[i]=(c[i]||0)+(l-k)*(l-k));return n[i]=new g(a[i][d],0,0,a[i+1][d]),n},l=function(a,f,g,i,l,m){var n,o,p,q,r,s,t,u,v={},w=[],x=m||a[0];l="string"==typeof l?","+l+",":h,null==f&&(f=1);for(o in a[0])w.push(o);if(a.length>1){for(u=a[a.length-1],t=!0,n=w.length;--n>-1;)if(o=w[n],Math.abs(x[o]-u[o])>.05){t=!1;break}t&&(a=a.concat(),m&&a.unshift(m),a.push(a[1]),m=a[a.length-3])}for(b.length=c.length=d.length=0,n=w.length;--n>-1;)o=w[n],e[o]=-1!==l.indexOf(","+o+","),v[o]=k(a,o,e[o],m);for(n=b.length;--n>-1;)b[n]=Math.sqrt(b[n]),c[n]=Math.sqrt(c[n]);if(!i){for(n=w.length;--n>-1;)if(e[o])for(p=v[w[n]],s=p.length-1,q=0;s>q;q++)r=p[q+1].da/c[q]+p[q].da/b[q]||0,d[q]=(d[q]||0)+r*r;for(n=d.length;--n>-1;)d[n]=Math.sqrt(d[n])}for(n=w.length,q=g?4:1;--n>-1;)o=w[n],p=v[o],j(p,f,g,i,e[o]),t&&(p.splice(0,q),p.splice(p.length-q,q));return v},m=function(a,b,c){b=b||"soft";var d,e,f,h,i,j,k,l,m,n,o,p={},q="cubic"===b?3:2,r="soft"===b,s=[];if(r&&c&&(a=[c].concat(a)),null==a||a.length<q+1)throw"invalid Bezier data";for(m in a[0])s.push(m);for(j=s.length;--j>-1;){for(m=s[j],p[m]=i=[],n=0,l=a.length,k=0;l>k;k++)d=null==c?a[k][m]:"string"==typeof(o=a[k][m])&&"="===o.charAt(1)?c[m]+Number(o.charAt(0)+o.substr(2)):Number(o),r&&k>1&&l-1>k&&(i[n++]=(d+i[n-2])/2),i[n++]=d;for(l=n-q+1,n=0,k=0;l>k;k+=q)d=i[k],e=i[k+1],f=i[k+2],h=2===q?0:i[k+3],i[n++]=o=3===q?new g(d,e,f,h):new g(d,(2*e+d)/3,(2*e+f)/3,f);i.length=n}return p},n=function(a,b,c){for(var d,e,f,g,h,i,j,k,l,m,n,o=1/c,p=a.length;--p>-1;)for(m=a[p],f=m.a,g=m.d-f,
    h=m.c-f,i=m.b-f,d=e=0,k=1;c>=k;k++)j=o*k,l=1-j,d=e-(e=(j*j*g+3*l*(j*h+l*i))*j),n=p*c+k-1,b[n]=(b[n]||0)+d*d},o=function(a,b){b=b>>0||6;var c,d,e,f,g=[],h=[],i=0,j=0,k=b-1,l=[],m=[];for(c in a)n(a[c],g,b);for(e=g.length,d=0;e>d;d++)i+=Math.sqrt(g[d]),f=d%b,m[f]=i,f===k&&(j+=i,f=d/b>>0,l[f]=m,h[f]=j,i=0,m=[]);return{length:j,lengths:h,segments:l}},p=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.7",API:2,global:!0,init:function(a,b,c){this._target=a,b instanceof Array&&(b={values:b}),this._func={},this._mod={},this._props=[],this._timeRes=null==b.timeResolution?6:parseInt(b.timeResolution,10);var d,e,f,g,h,i=b.values||[],j={},k=i[0],n=b.autoRotate||c.vars.orientToBezier;this._autoRotate=n?n instanceof Array?n:[["x","y","rotation",n===!0?0:Number(n)||0]]:null;for(d in k)this._props.push(d);for(f=this._props.length;--f>-1;)d=this._props[f],this._overwriteProps.push(d),e=this._func[d]="function"==typeof a[d],j[d]=e?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]():parseFloat(a[d]),h||j[d]!==i[0][d]&&(h=j);if(this._beziers="cubic"!==b.type&&"quadratic"!==b.type&&"soft"!==b.type?l(i,isNaN(b.curviness)?1:b.curviness,!1,"thruBasic"===b.type,b.correlate,h):m(i,b.type,j),this._segCount=this._beziers[d].length,this._timeRes){var p=o(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(n=this._autoRotate)for(this._initialRotations=[],n[0]instanceof Array||(this._autoRotate=n=[n]),f=n.length;--f>-1;){for(g=0;3>g;g++)d=n[f][g],this._func[d]="function"==typeof a[d]?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]:!1;d=n[f][2],this._initialRotations[f]=(this._func[d]?this._func[d].call(this._target):this._target[d])||0,this._overwriteProps.push(d)}return this._startRatio=c.vars.runBackwards?1:0,!0},set:function(b){var c,d,e,f,g,h,i,j,k,l,m=this._segCount,n=this._func,o=this._target,p=b!==this._startRatio;if(this._timeRes){if(k=this._lengths,l=this._curSeg,b*=this._length,e=this._li,b>this._l2&&m-1>e){for(j=m-1;j>e&&(this._l2=k[++e])<=b;);this._l1=k[e-1],this._li=e,this._curSeg=l=this._segments[e],this._s2=l[this._s1=this._si=0]}else if(b<this._l1&&e>0){for(;e>0&&(this._l1=k[--e])>=b;);0===e&&b<this._l1?this._l1=0:e++,this._l2=k[e],this._li=e,this._curSeg=l=this._segments[e],this._s1=l[(this._si=l.length-1)-1]||0,this._s2=l[this._si]}if(c=e,b-=this._l1,e=this._si,b>this._s2&&e<l.length-1){for(j=l.length-1;j>e&&(this._s2=l[++e])<=b;);this._s1=l[e-1],this._si=e}else if(b<this._s1&&e>0){for(;e>0&&(this._s1=l[--e])>=b;);0===e&&b<this._s1?this._s1=0:e++,this._s2=l[e],this._si=e}h=(e+(b-this._s1)/(this._s2-this._s1))*this._prec||0}else c=0>b?0:b>=1?m-1:m*b>>0,h=(b-c*(1/m))*m;for(d=1-h,e=this._props.length;--e>-1;)f=this._props[e],g=this._beziers[f][c],i=(h*h*g.da+3*d*(h*g.ca+d*g.ba))*h+g.a,this._mod[f]&&(i=this._mod[f](i,o)),n[f]?o[f](i):o[f]=i;if(this._autoRotate){var q,r,s,t,u,v,w,x=this._autoRotate;for(e=x.length;--e>-1;)f=x[e][2],v=x[e][3]||0,w=x[e][4]===!0?1:a,g=this._beziers[x[e][0]],q=this._beziers[x[e][1]],g&&q&&(g=g[c],q=q[c],r=g.a+(g.b-g.a)*h,t=g.b+(g.c-g.b)*h,r+=(t-r)*h,t+=(g.c+(g.d-g.c)*h-t)*h,s=q.a+(q.b-q.a)*h,u=q.b+(q.c-q.b)*h,s+=(u-s)*h,u+=(q.c+(q.d-q.c)*h-u)*h,i=p?Math.atan2(u-s,t-r)*w+v:this._initialRotations[e],this._mod[f]&&(i=this._mod[f](i,o)),n[f]?o[f](i):o[f]=i)}}}),q=p.prototype;p.bezierThrough=l,p.cubicToQuadratic=i,p._autoCSS=!0,p.quadraticToCubic=function(a,b,c){return new g(a,(2*b+a)/3,(2*b+c)/3,c)},p._cssRegister=function(){var a=f.CSSPlugin;if(a){var b=a._internals,c=b._parseToProxy,d=b._setPluginRatio,e=b.CSSPropTween;b._registerComplexSpecialProp("bezier",{parser:function(a,b,f,g,h,i){b instanceof Array&&(b={values:b}),i=new p;var j,k,l,m=b.values,n=m.length-1,o=[],q={};if(0>n)return h;for(j=0;n>=j;j++)l=c(a,m[j],g,h,i,n!==j),o[j]=l.end;for(k in b)q[k]=b[k];return q.values=o,h=new e(a,"bezier",0,0,l.pt,2),h.data=l,h.plugin=i,h.setRatio=d,0===q.autoRotate&&(q.autoRotate=!0),!q.autoRotate||q.autoRotate instanceof Array||(j=q.autoRotate===!0?0:Number(q.autoRotate),q.autoRotate=null!=l.end.left?[["left","top","rotation",j,!1]]:null!=l.end.x?[["x","y","rotation",j,!1]]:!1),q.autoRotate&&(g._transform||g._enableTransforms(!1),l.autoRotate=g._target._gsTransform,l.proxy.rotation=l.autoRotate.rotation||0,g._overwriteProps.push("rotation")),i._onInitTween(l.proxy,q,g._tween),h}})}},q._mod=function(a){for(var b,c=this._overwriteProps,d=c.length;--d>-1;)b=a[c[d]],b&&"function"==typeof b&&(this._mod[c[d]]=b)},q._kill=function(a){var b,c,d=this._props;for(b in this._beziers)if(b in a)for(delete this._beziers[b],delete this._func[b],c=d.length;--c>-1;)d[c]===b&&d.splice(c,1);if(d=this._autoRotate)for(c=d.length;--c>-1;)a[d[c][2]]&&d.splice(c,1);return this._super._kill.call(this,a)}}(),_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(a,b){var c,d,e,f,g=function(){a.call(this,"css"),this._overwriteProps.length=0,this.setRatio=g.prototype.setRatio},h=_gsScope._gsDefine.globals,i={},j=g.prototype=new a("css");j.constructor=g,g.version="1.19.1",g.API=2,g.defaultTransformPerspective=0,g.defaultSkewType="compensated",g.defaultSmoothOrigin=!0,j="px",g.suffixMap={top:j,right:j,bottom:j,left:j,width:j,height:j,fontSize:j,padding:j,margin:j,perspective:j,lineHeight:""};var k,l,m,n,o,p,q,r,s=/(?:\-|\.|\b)(\d|\.|e\-)+/g,t=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,u=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,v=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,w=/(?:\d|\-|\+|=|#|\.)*/g,x=/opacity *= *([^)]*)/i,y=/opacity:([^;]*)/i,z=/alpha\(opacity *=.+?\)/i,A=/^(rgb|hsl)/,B=/([A-Z])/g,C=/-([a-z])/gi,D=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,E=function(a,b){return b.toUpperCase()},F=/(?:Left|Right|Width)/i,G=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,H=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,I=/,(?=[^\)]*(?:\(|$))/gi,J=/[\s,\(]/i,K=Math.PI/180,L=180/Math.PI,M={},N={style:{}},O=_gsScope.document||{createElement:function(){return N}},P=function(a,b){return O.createElementNS?O.createElementNS(b||"http://www.w3.org/1999/xhtml",a):O.createElement(a)},Q=P("div"),R=P("img"),S=g._internals={_specialProps:i},T=(_gsScope.navigator||{}).userAgent||"",U=function(){var a=T.indexOf("Android"),b=P("a");return m=-1!==T.indexOf("Safari")&&-1===T.indexOf("Chrome")&&(-1===a||parseFloat(T.substr(a+8,2))>3),o=m&&parseFloat(T.substr(T.indexOf("Version/")+8,2))<6,n=-1!==T.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(T)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(T))&&(p=parseFloat(RegExp.$1)),b?(b.style.cssText="top:1px;opacity:.55;",/^0.55/.test(b.style.opacity)):!1}(),V=function(a){return x.test("string"==typeof a?a:(a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},W=function(a){_gsScope.console&&console.log(a)},X="",Y="",Z=function(a,b){b=b||Q;var c,d,e=b.style;if(void 0!==e[a])return a;for(a=a.charAt(0).toUpperCase()+a.substr(1),c=["O","Moz","ms","Ms","Webkit"],d=5;--d>-1&&void 0===e[c[d]+a];);return d>=0?(Y=3===d?"ms":c[d],X="-"+Y.toLowerCase()+"-",Y+a):null},$=O.defaultView?O.defaultView.getComputedStyle:function(){},_=g.getStyle=function(a,b,c,d,e){var f;return U||"opacity"!==b?(!d&&a.style[b]?f=a.style[b]:(c=c||$(a))?f=c[b]||c.getPropertyValue(b)||c.getPropertyValue(b.replace(B,"-$1").toLowerCase()):a.currentStyle&&(f=a.currentStyle[b]),null==e||f&&"none"!==f&&"auto"!==f&&"auto auto"!==f?f:e):V(a)},aa=S.convertToPixels=function(a,c,d,e,f){if("px"===e||!e)return d;if("auto"===e||!d)return 0;var h,i,j,k=F.test(c),l=a,m=Q.style,n=0>d,o=1===d;if(n&&(d=-d),o&&(d*=100),"%"===e&&-1!==c.indexOf("border"))h=d/100*(k?a.clientWidth:a.clientHeight);else{if(m.cssText="border:0 solid red;position:"+_(a,"position")+";line-height:0;","%"!==e&&l.appendChild&&"v"!==e.charAt(0)&&"rem"!==e)m[k?"borderLeftWidth":"borderTopWidth"]=d+e;else{if(l=a.parentNode||O.body,i=l._gsCache,j=b.ticker.frame,i&&k&&i.time===j)return i.width*d/100;m[k?"width":"height"]=d+e}l.appendChild(Q),h=parseFloat(Q[k?"offsetWidth":"offsetHeight"]),l.removeChild(Q),k&&"%"===e&&g.cacheWidths!==!1&&(i=l._gsCache=l._gsCache||{},i.time=j,i.width=h/d*100),0!==h||f||(h=aa(a,c,d,e,!0))}return o&&(h/=100),n?-h:h},ba=S.calculateOffset=function(a,b,c){if("absolute"!==_(a,"position",c))return 0;var d="left"===b?"Left":"Top",e=_(a,"margin"+d,c);return a["offset"+d]-(aa(a,b,parseFloat(e),e.replace(w,""))||0)},ca=function(a,b){var c,d,e,f={};if(b=b||$(a,null))if(c=b.length)for(;--c>-1;)e=b[c],(-1===e.indexOf("-transform")||Da===e)&&(f[e.replace(C,E)]=b.getPropertyValue(e));else for(c in b)(-1===c.indexOf("Transform")||Ca===c)&&(f[c]=b[c]);else if(b=a.currentStyle||a.style)for(c in b)"string"==typeof c&&void 0===f[c]&&(f[c.replace(C,E)]=b[c]);return U||(f.opacity=V(a)),d=Ra(a,b,!1),f.rotation=d.rotation,f.skewX=d.skewX,f.scaleX=d.scaleX,f.scaleY=d.scaleY,f.x=d.x,f.y=d.y,Fa&&(f.z=d.z,f.rotationX=d.rotationX,f.rotationY=d.rotationY,f.scaleZ=d.scaleZ),f.filters&&delete f.filters,f},da=function(a,b,c,d,e){var f,g,h,i={},j=a.style;for(g in c)"cssText"!==g&&"length"!==g&&isNaN(g)&&(b[g]!==(f=c[g])||e&&e[g])&&-1===g.indexOf("Origin")&&("number"==typeof f||"string"==typeof f)&&(i[g]="auto"!==f||"left"!==g&&"top"!==g?""!==f&&"auto"!==f&&"none"!==f||"string"!=typeof b[g]||""===b[g].replace(v,"")?f:0:ba(a,g),void 0!==j[g]&&(h=new sa(j,g,j[g],h)));if(d)for(g in d)"className"!==g&&(i[g]=d[g]);return{difs:i,firstMPT:h}},ea={width:["Left","Right"],height:["Top","Bottom"]},fa=["marginLeft","marginRight","marginTop","marginBottom"],ga=function(a,b,c){if("svg"===(a.nodeName+"").toLowerCase())return(c||$(a))[b]||0;if(a.getCTM&&Oa(a))return a.getBBox()[b]||0;var d=parseFloat("width"===b?a.offsetWidth:a.offsetHeight),e=ea[b],f=e.length;for(c=c||$(a,null);--f>-1;)d-=parseFloat(_(a,"padding"+e[f],c,!0))||0,d-=parseFloat(_(a,"border"+e[f]+"Width",c,!0))||0;return d},ha=function(a,b){if("contain"===a||"auto"===a||"auto auto"===a)return a+" ";(null==a||""===a)&&(a="0 0");var c,d=a.split(" "),e=-1!==a.indexOf("left")?"0%":-1!==a.indexOf("right")?"100%":d[0],f=-1!==a.indexOf("top")?"0%":-1!==a.indexOf("bottom")?"100%":d[1];if(d.length>3&&!b){for(d=a.split(", ").join(",").split(","),a=[],c=0;c<d.length;c++)a.push(ha(d[c]));return a.join(",")}return null==f?f="center"===e?"50%":"0":"center"===f&&(f="50%"),("center"===e||isNaN(parseFloat(e))&&-1===(e+"").indexOf("="))&&(e="50%"),a=e+" "+f+(d.length>2?" "+d[2]:""),b&&(b.oxp=-1!==e.indexOf("%"),b.oyp=-1!==f.indexOf("%"),b.oxr="="===e.charAt(1),b.oyr="="===f.charAt(1),b.ox=parseFloat(e.replace(v,"")),b.oy=parseFloat(f.replace(v,"")),b.v=a),b||a},ia=function(a,b){return"function"==typeof a&&(a=a(r,q)),"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-parseFloat(b)||0},ja=function(a,b){return"function"==typeof a&&(a=a(r,q)),null==a?b:"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2))+b:parseFloat(a)||0},ka=function(a,b,c,d){var e,f,g,h,i,j=1e-6;return"function"==typeof a&&(a=a(r,q)),null==a?h=b:"number"==typeof a?h=a:(e=360,f=a.split("_"),i="="===a.charAt(1),g=(i?parseInt(a.charAt(0)+"1",10)*parseFloat(f[0].substr(2)):parseFloat(f[0]))*(-1===a.indexOf("rad")?1:L)-(i?0:b),f.length&&(d&&(d[c]=b+g),-1!==a.indexOf("short")&&(g%=e,g!==g%(e/2)&&(g=0>g?g+e:g-e)),-1!==a.indexOf("_cw")&&0>g?g=(g+9999999999*e)%e-(g/e|0)*e:-1!==a.indexOf("ccw")&&g>0&&(g=(g-9999999999*e)%e-(g/e|0)*e)),h=b+g),j>h&&h>-j&&(h=0),h},la={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ma=function(a,b,c){return a=0>a?a+1:a>1?a-1:a,255*(1>6*a?b+(c-b)*a*6:.5>a?c:2>3*a?b+(c-b)*(2/3-a)*6:b)+.5|0},na=g.parseColor=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(a)if("number"==typeof a)c=[a>>16,a>>8&255,255&a];else{if(","===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),la[a])c=la[a];else if("#"===a.charAt(0))4===a.length&&(d=a.charAt(1),e=a.charAt(2),f=a.charAt(3),a="#"+d+d+e+e+f+f),a=parseInt(a.substr(1),16),c=[a>>16,a>>8&255,255&a];else if("hsl"===a.substr(0,3))if(c=m=a.match(s),b){if(-1!==a.indexOf("="))return a.match(t)}else g=Number(c[0])%360/360,h=Number(c[1])/100,i=Number(c[2])/100,e=.5>=i?i*(h+1):i+h-i*h,d=2*i-e,c.length>3&&(c[3]=Number(a[3])),c[0]=ma(g+1/3,d,e),c[1]=ma(g,d,e),c[2]=ma(g-1/3,d,e);else c=a.match(s)||la.transparent;c[0]=Number(c[0]),c[1]=Number(c[1]),c[2]=Number(c[2]),c.length>3&&(c[3]=Number(c[3]))}else c=la.black;return b&&!m&&(d=c[0]/255,e=c[1]/255,f=c[2]/255,j=Math.max(d,e,f),k=Math.min(d,e,f),i=(j+k)/2,j===k?g=h=0:(l=j-k,h=i>.5?l/(2-j-k):l/(j+k),g=j===d?(e-f)/l+(f>e?6:0):j===e?(f-d)/l+2:(d-e)/l+4,g*=60),c[0]=g+.5|0,c[1]=100*h+.5|0,c[2]=100*i+.5|0),c},oa=function(a,b){var c,d,e,f=a.match(pa)||[],g=0,h=f.length?"":a;for(c=0;c<f.length;c++)d=f[c],e=a.substr(g,a.indexOf(d,g)-g),g+=e.length+d.length,d=na(d,b),3===d.length&&d.push(1),h+=e+(b?"hsla("+d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:"rgba("+d.join(","))+")";return h+a.substr(g)},pa="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(j in la)pa+="|"+j+"\\b";pa=new RegExp(pa+")","gi"),g.colorStringFilter=function(a){var b,c=a[0]+a[1];pa.test(c)&&(b=-1!==c.indexOf("hsl(")||-1!==c.indexOf("hsla("),a[0]=oa(a[0],b),a[1]=oa(a[1],b)),pa.lastIndex=0},b.defaultStringFilter||(b.defaultStringFilter=g.colorStringFilter);var qa=function(a,b,c,d){if(null==a)return function(a){return a};var e,f=b?(a.match(pa)||[""])[0]:"",g=a.split(f).join("").match(u)||[],h=a.substr(0,a.indexOf(g[0])),i=")"===a.charAt(a.length-1)?")":"",j=-1!==a.indexOf(" ")?" ":",",k=g.length,l=k>0?g[0].replace(s,""):"";return k?e=b?function(a){var b,m,n,o;if("number"==typeof a)a+=l;else if(d&&I.test(a)){for(o=a.replace(I,"|").split("|"),n=0;n<o.length;n++)o[n]=e(o[n]);return o.join(",")}if(b=(a.match(pa)||[f])[0],m=a.split(b).join("").match(u)||[],n=m.length,k>n--)for(;++n<k;)m[n]=c?m[(n-1)/2|0]:g[n];return h+m.join(j)+j+b+i+(-1!==a.indexOf("inset")?" inset":"")}:function(a){var b,f,m;if("number"==typeof a)a+=l;else if(d&&I.test(a)){for(f=a.replace(I,"|").split("|"),m=0;m<f.length;m++)f[m]=e(f[m]);return f.join(",")}if(b=a.match(u)||[],m=b.length,k>m--)for(;++m<k;)b[m]=c?b[(m-1)/2|0]:g[m];return h+b.join(j)+i}:function(a){return a}},ra=function(a){return a=a.split(","),function(b,c,d,e,f,g,h){var i,j=(c+"").split(" ");for(h={},i=0;4>i;i++)h[a[i]]=j[i]=j[i]||j[(i-1)/2>>0];return e.parse(b,h,f,g)}},sa=(S._setPluginRatio=function(a){this.plugin.setRatio(a);for(var b,c,d,e,f,g=this.data,h=g.proxy,i=g.firstMPT,j=1e-6;i;)b=h[i.v],i.r?b=Math.round(b):j>b&&b>-j&&(b=0),i.t[i.p]=b,i=i._next;if(g.autoRotate&&(g.autoRotate.rotation=g.mod?g.mod(h.rotation,this.t):h.rotation),1===a||0===a)for(i=g.firstMPT,f=1===a?"e":"b";i;){if(c=i.t,c.type){if(1===c.type){for(e=c.xs0+c.s+c.xs1,d=1;d<c.l;d++)e+=c["xn"+d]+c["xs"+(d+1)];c[f]=e}}else c[f]=c.s+c.xs0;i=i._next}},function(a,b,c,d,e){this.t=a,this.p=b,this.v=c,this.r=e,d&&(d._prev=this,this._next=d)}),ta=(S._parseToProxy=function(a,b,c,d,e,f){var g,h,i,j,k,l=d,m={},n={},o=c._transform,p=M;for(c._transform=null,M=b,d=k=c.parse(a,b,d,e),M=p,f&&(c._transform=o,l&&(l._prev=null,l._prev&&(l._prev._next=null)));d&&d!==l;){if(d.type<=1&&(h=d.p,n[h]=d.s+d.c,m[h]=d.s,f||(j=new sa(d,"s",h,j,d.r),d.c=0),1===d.type))for(g=d.l;--g>0;)i="xn"+g,h=d.p+"_"+i,n[h]=d.data[i],m[h]=d[i],f||(j=new sa(d,i,h,j,d.rxp[i]));d=d._next}return{proxy:m,end:n,firstMPT:j,pt:k}},S.CSSPropTween=function(a,b,d,e,g,h,i,j,k,l,m){this.t=a,this.p=b,this.s=d,this.c=e,this.n=i||b,a instanceof ta||f.push(this.n),this.r=j,this.type=h||0,k&&(this.pr=k,c=!0),this.b=void 0===l?d:l,this.e=void 0===m?d+e:m,g&&(this._next=g,g._prev=this)}),ua=function(a,b,c,d,e,f){var g=new ta(a,b,c,d-c,e,-1,f);return g.b=c,g.e=g.xs0=d,g},va=g.parseComplex=function(a,b,c,d,e,f,h,i,j,l){c=c||f||"","function"==typeof d&&(d=d(r,q)),h=new ta(a,b,0,0,h,l?2:1,null,!1,i,c,d),d+="",e&&pa.test(d+c)&&(d=[c,d],g.colorStringFilter(d),c=d[0],d=d[1]);var m,n,o,p,u,v,w,x,y,z,A,B,C,D=c.split(", ").join(",").split(" "),E=d.split(", ").join(",").split(" "),F=D.length,G=k!==!1;for((-1!==d.indexOf(",")||-1!==c.indexOf(","))&&(D=D.join(" ").replace(I,", ").split(" "),E=E.join(" ").replace(I,", ").split(" "),F=D.length),F!==E.length&&(D=(f||"").split(" "),F=D.length),h.plugin=j,h.setRatio=l,pa.lastIndex=0,m=0;F>m;m++)if(p=D[m],u=E[m],x=parseFloat(p),x||0===x)h.appendXtra("",x,ia(u,x),u.replace(t,""),G&&-1!==u.indexOf("px"),!0);else if(e&&pa.test(p))B=u.indexOf(")")+1,B=")"+(B?u.substr(B):""),C=-1!==u.indexOf("hsl")&&U,p=na(p,C),u=na(u,C),y=p.length+u.length>6,y&&!U&&0===u[3]?(h["xs"+h.l]+=h.l?" transparent":"transparent",h.e=h.e.split(E[m]).join("transparent")):(U||(y=!1),C?h.appendXtra(y?"hsla(":"hsl(",p[0],ia(u[0],p[0]),",",!1,!0).appendXtra("",p[1],ia(u[1],p[1]),"%,",!1).appendXtra("",p[2],ia(u[2],p[2]),y?"%,":"%"+B,!1):h.appendXtra(y?"rgba(":"rgb(",p[0],u[0]-p[0],",",!0,!0).appendXtra("",p[1],u[1]-p[1],",",!0).appendXtra("",p[2],u[2]-p[2],y?",":B,!0),y&&(p=p.length<4?1:p[3],h.appendXtra("",p,(u.length<4?1:u[3])-p,B,!1))),pa.lastIndex=0;else if(v=p.match(s)){if(w=u.match(t),!w||w.length!==v.length)return h;for(o=0,n=0;n<v.length;n++)A=v[n],z=p.indexOf(A,o),h.appendXtra(p.substr(o,z-o),Number(A),ia(w[n],A),"",G&&"px"===p.substr(z+A.length,2),0===n),o=z+A.length;h["xs"+h.l]+=p.substr(o)}else h["xs"+h.l]+=h.l||h["xs"+h.l]?" "+u:u;if(-1!==d.indexOf("=")&&h.data){for(B=h.xs0+h.data.s,m=1;m<h.l;m++)B+=h["xs"+m]+h.data["xn"+m];h.e=B+h["xs"+m]}return h.l||(h.type=-1,h.xs0=h.e),h.xfirst||h},wa=9;for(j=ta.prototype,j.l=j.pr=0;--wa>0;)j["xn"+wa]=0,j["xs"+wa]="";j.xs0="",j._next=j._prev=j.xfirst=j.data=j.plugin=j.setRatio=j.rxp=null,j.appendXtra=function(a,b,c,d,e,f){var g=this,h=g.l;return g["xs"+h]+=f&&(h||g["xs"+h])?" "+a:a||"",c||0===h||g.plugin?(g.l++,g.type=g.setRatio?2:1,g["xs"+g.l]=d||"",h>0?(g.data["xn"+h]=b+c,g.rxp["xn"+h]=e,g["xn"+h]=b,g.plugin||(g.xfirst=new ta(g,"xn"+h,b,c,g.xfirst||g,0,g.n,e,g.pr),g.xfirst.xs0=0),g):(g.data={s:b+c},g.rxp={},g.s=b,g.c=c,g.r=e,g)):(g["xs"+h]+=b+(d||""),g)};var xa=function(a,b){b=b||{},this.p=b.prefix?Z(a)||a:a,i[a]=i[this.p]=this,this.format=b.formatter||qa(b.defaultValue,b.color,b.collapsible,b.multi),b.parser&&(this.parse=b.parser),this.clrs=b.color,this.multi=b.multi,this.keyword=b.keyword,this.dflt=b.defaultValue,this.pr=b.priority||0},ya=S._registerComplexSpecialProp=function(a,b,c){"object"!=typeof b&&(b={parser:c});var d,e,f=a.split(","),g=b.defaultValue;for(c=c||[g],d=0;d<f.length;d++)b.prefix=0===d&&b.prefix,b.defaultValue=c[d]||g,e=new xa(f[d],b)},za=S._registerPluginProp=function(a){if(!i[a]){var b=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";ya(a,{parser:function(a,c,d,e,f,g,j){var k=h.com.greensock.plugins[b];return k?(k._cssRegister(),i[d].parse(a,c,d,e,f,g,j)):(W("Error: "+b+" js file not loaded."),f)}})}};j=xa.prototype,j.parseComplex=function(a,b,c,d,e,f){var g,h,i,j,k,l,m=this.keyword;if(this.multi&&(I.test(c)||I.test(b)?(h=b.replace(I,"|").split("|"),i=c.replace(I,"|").split("|")):m&&(h=[b],i=[c])),i){for(j=i.length>h.length?i.length:h.length,g=0;j>g;g++)b=h[g]=h[g]||this.dflt,c=i[g]=i[g]||this.dflt,m&&(k=b.indexOf(m),l=c.indexOf(m),k!==l&&(-1===l?h[g]=h[g].split(m).join(""):-1===k&&(h[g]+=" "+m)));b=h.join(", "),c=i.join(", ")}return va(a,this.p,b,c,this.clrs,this.dflt,d,this.pr,e,f)},j.parse=function(a,b,c,d,f,g,h){return this.parseComplex(a.style,this.format(_(a,this.p,e,!1,this.dflt)),this.format(b),f,g)},g.registerSpecialProp=function(a,b,c){ya(a,{parser:function(a,d,e,f,g,h,i){var j=new ta(a,e,0,0,g,2,e,!1,c);return j.plugin=h,j.setRatio=b(a,d,f._tween,e),j},priority:c})},g.useSVGTransformAttr=!0;var Aa,Ba="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Ca=Z("transform"),Da=X+"transform",Ea=Z("transformOrigin"),Fa=null!==Z("perspective"),Ga=S.Transform=function(){this.perspective=parseFloat(g.defaultTransformPerspective)||0,this.force3D=g.defaultForce3D!==!1&&Fa?g.defaultForce3D||"auto":!1},Ha=_gsScope.SVGElement,Ia=function(a,b,c){var d,e=O.createElementNS("http://www.w3.org/2000/svg",a),f=/([a-z])([A-Z])/g;for(d in c)e.setAttributeNS(null,d.replace(f,"$1-$2").toLowerCase(),c[d]);return b.appendChild(e),e},Ja=O.documentElement||{},Ka=function(){var a,b,c,d=p||/Android/i.test(T)&&!_gsScope.chrome;return O.createElementNS&&!d&&(a=Ia("svg",Ja),b=Ia("rect",a,{width:100,height:50,x:100}),c=b.getBoundingClientRect().width,b.style[Ea]="50% 50%",b.style[Ca]="scaleX(0.5)",d=c===b.getBoundingClientRect().width&&!(n&&Fa),Ja.removeChild(a)),d}(),La=function(a,b,c,d,e,f){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=a._gsTransform,w=Qa(a,!0);v&&(t=v.xOrigin,u=v.yOrigin),(!d||(h=d.split(" ")).length<2)&&(n=a.getBBox(),0===n.x&&0===n.y&&n.width+n.height===0&&(n={x:parseFloat(a.hasAttribute("x")?a.getAttribute("x"):a.hasAttribute("cx")?a.getAttribute("cx"):0)||0,y:parseFloat(a.hasAttribute("y")?a.getAttribute("y"):a.hasAttribute("cy")?a.getAttribute("cy"):0)||0,width:0,height:0}),b=ha(b).split(" "),h=[(-1!==b[0].indexOf("%")?parseFloat(b[0])/100*n.width:parseFloat(b[0]))+n.x,(-1!==b[1].indexOf("%")?parseFloat(b[1])/100*n.height:parseFloat(b[1]))+n.y]),c.xOrigin=k=parseFloat(h[0]),c.yOrigin=l=parseFloat(h[1]),d&&w!==Pa&&(m=w[0],n=w[1],o=w[2],p=w[3],q=w[4],r=w[5],s=m*p-n*o,s&&(i=k*(p/s)+l*(-o/s)+(o*r-p*q)/s,j=k*(-n/s)+l*(m/s)-(m*r-n*q)/s,k=c.xOrigin=h[0]=i,l=c.yOrigin=h[1]=j)),v&&(f&&(c.xOffset=v.xOffset,c.yOffset=v.yOffset,v=c),e||e!==!1&&g.defaultSmoothOrigin!==!1?(i=k-t,j=l-u,v.xOffset+=i*w[0]+j*w[2]-i,v.yOffset+=i*w[1]+j*w[3]-j):v.xOffset=v.yOffset=0),f||a.setAttribute("data-svg-origin",h.join(" "))},Ma=function(a){var b,c=P("svg",this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),d=this.parentNode,e=this.nextSibling,f=this.style.cssText;if(Ja.appendChild(c),c.appendChild(this),this.style.display="block",a)try{b=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Ma}catch(g){}else this._originalGetBBox&&(b=this._originalGetBBox());return e?d.insertBefore(this,e):d.appendChild(this),Ja.removeChild(c),this.style.cssText=f,b},Na=function(a){try{return a.getBBox()}catch(b){return Ma.call(a,!0)}},Oa=function(a){return!(!(Ha&&a.getCTM&&Na(a))||a.parentNode&&!a.ownerSVGElement)},Pa=[1,0,0,1,0,0],Qa=function(a,b){var c,d,e,f,g,h,i=a._gsTransform||new Ga,j=1e5,k=a.style;if(Ca?d=_(a,Da,null,!0):a.currentStyle&&(d=a.currentStyle.filter.match(G),d=d&&4===d.length?[d[0].substr(4),Number(d[2].substr(4)),Number(d[1].substr(4)),d[3].substr(4),i.x||0,i.y||0].join(","):""),c=!d||"none"===d||"matrix(1, 0, 0, 1, 0, 0)"===d,c&&Ca&&((h="none"===$(a).display)||!a.parentNode)&&(h&&(f=k.display,k.display="block"),a.parentNode||(g=1,Ja.appendChild(a)),d=_(a,Da,null,!0),c=!d||"none"===d||"matrix(1, 0, 0, 1, 0, 0)"===d,f?k.display=f:h&&Va(k,"display"),g&&Ja.removeChild(a)),(i.svg||a.getCTM&&Oa(a))&&(c&&-1!==(k[Ca]+"").indexOf("matrix")&&(d=k[Ca],c=0),e=a.getAttribute("transform"),c&&e&&(-1!==e.indexOf("matrix")?(d=e,c=0):-1!==e.indexOf("translate")&&(d="matrix(1,0,0,1,"+e.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",c=0))),c)return Pa;for(e=(d||"").match(s)||[],wa=e.length;--wa>-1;)f=Number(e[wa]),e[wa]=(g=f-(f|=0))?(g*j+(0>g?-.5:.5)|0)/j+f:f;return b&&e.length>6?[e[0],e[1],e[4],e[5],e[12],e[13]]:e},Ra=S.getTransform=function(a,c,d,e){if(a._gsTransform&&d&&!e)return a._gsTransform;var f,h,i,j,k,l,m=d?a._gsTransform||new Ga:new Ga,n=m.scaleX<0,o=2e-5,p=1e5,q=Fa?parseFloat(_(a,Ea,c,!1,"0 0 0").split(" ")[2])||m.zOrigin||0:0,r=parseFloat(g.defaultTransformPerspective)||0;if(m.svg=!(!a.getCTM||!Oa(a)),m.svg&&(La(a,_(a,Ea,c,!1,"50% 50%")+"",m,a.getAttribute("data-svg-origin")),Aa=g.useSVGTransformAttr||Ka),f=Qa(a),f!==Pa){if(16===f.length){var s,t,u,v,w,x=f[0],y=f[1],z=f[2],A=f[3],B=f[4],C=f[5],D=f[6],E=f[7],F=f[8],G=f[9],H=f[10],I=f[12],J=f[13],K=f[14],M=f[11],N=Math.atan2(D,H);m.zOrigin&&(K=-m.zOrigin,I=F*K-f[12],J=G*K-f[13],K=H*K+m.zOrigin-f[14]),m.rotationX=N*L,N&&(v=Math.cos(-N),w=Math.sin(-N),s=B*v+F*w,t=C*v+G*w,u=D*v+H*w,F=B*-w+F*v,G=C*-w+G*v,H=D*-w+H*v,M=E*-w+M*v,B=s,C=t,D=u),N=Math.atan2(-z,H),m.rotationY=N*L,N&&(v=Math.cos(-N),w=Math.sin(-N),s=x*v-F*w,t=y*v-G*w,u=z*v-H*w,G=y*w+G*v,H=z*w+H*v,M=A*w+M*v,x=s,y=t,z=u),N=Math.atan2(y,x),m.rotation=N*L,N&&(v=Math.cos(-N),w=Math.sin(-N),x=x*v+B*w,t=y*v+C*w,C=y*-w+C*v,D=z*-w+D*v,y=t),m.rotationX&&Math.abs(m.rotationX)+Math.abs(m.rotation)>359.9&&(m.rotationX=m.rotation=0,m.rotationY=180-m.rotationY),m.scaleX=(Math.sqrt(x*x+y*y)*p+.5|0)/p,m.scaleY=(Math.sqrt(C*C+G*G)*p+.5|0)/p,m.scaleZ=(Math.sqrt(D*D+H*H)*p+.5|0)/p,m.rotationX||m.rotationY?m.skewX=0:(m.skewX=B||C?Math.atan2(B,C)*L+m.rotation:m.skewX||0,Math.abs(m.skewX)>90&&Math.abs(m.skewX)<270&&(n?(m.scaleX*=-1,m.skewX+=m.rotation<=0?180:-180,m.rotation+=m.rotation<=0?180:-180):(m.scaleY*=-1,m.skewX+=m.skewX<=0?180:-180))),m.perspective=M?1/(0>M?-M:M):0,m.x=I,m.y=J,m.z=K,m.svg&&(m.x-=m.xOrigin-(m.xOrigin*x-m.yOrigin*B),m.y-=m.yOrigin-(m.yOrigin*y-m.xOrigin*C))}else if(!Fa||e||!f.length||m.x!==f[4]||m.y!==f[5]||!m.rotationX&&!m.rotationY){var O=f.length>=6,P=O?f[0]:1,Q=f[1]||0,R=f[2]||0,S=O?f[3]:1;m.x=f[4]||0,m.y=f[5]||0,i=Math.sqrt(P*P+Q*Q),j=Math.sqrt(S*S+R*R),k=P||Q?Math.atan2(Q,P)*L:m.rotation||0,l=R||S?Math.atan2(R,S)*L+k:m.skewX||0,Math.abs(l)>90&&Math.abs(l)<270&&(n?(i*=-1,l+=0>=k?180:-180,k+=0>=k?180:-180):(j*=-1,l+=0>=l?180:-180)),m.scaleX=i,m.scaleY=j,m.rotation=k,m.skewX=l,Fa&&(m.rotationX=m.rotationY=m.z=0,m.perspective=r,m.scaleZ=1),m.svg&&(m.x-=m.xOrigin-(m.xOrigin*P+m.yOrigin*R),m.y-=m.yOrigin-(m.xOrigin*Q+m.yOrigin*S))}m.zOrigin=q;for(h in m)m[h]<o&&m[h]>-o&&(m[h]=0)}return d&&(a._gsTransform=m,m.svg&&(Aa&&a.style[Ca]?b.delayedCall(.001,function(){Va(a.style,Ca)}):!Aa&&a.getAttribute("transform")&&b.delayedCall(.001,function(){a.removeAttribute("transform")}))),m},Sa=function(a){var b,c,d=this.data,e=-d.rotation*K,f=e+d.skewX*K,g=1e5,h=(Math.cos(e)*d.scaleX*g|0)/g,i=(Math.sin(e)*d.scaleX*g|0)/g,j=(Math.sin(f)*-d.scaleY*g|0)/g,k=(Math.cos(f)*d.scaleY*g|0)/g,l=this.t.style,m=this.t.currentStyle;if(m){c=i,i=-j,j=-c,b=m.filter,l.filter="";var n,o,q=this.t.offsetWidth,r=this.t.offsetHeight,s="absolute"!==m.position,t="progid:DXImageTransform.Microsoft.Matrix(M11="+h+", M12="+i+", M21="+j+", M22="+k,u=d.x+q*d.xPercent/100,v=d.y+r*d.yPercent/100;if(null!=d.ox&&(n=(d.oxp?q*d.ox*.01:d.ox)-q/2,o=(d.oyp?r*d.oy*.01:d.oy)-r/2,u+=n-(n*h+o*i),v+=o-(n*j+o*k)),s?(n=q/2,o=r/2,t+=", Dx="+(n-(n*h+o*i)+u)+", Dy="+(o-(n*j+o*k)+v)+")"):t+=", sizingMethod='auto expand')",-1!==b.indexOf("DXImageTransform.Microsoft.Matrix(")?l.filter=b.replace(H,t):l.filter=t+" "+b,(0===a||1===a)&&1===h&&0===i&&0===j&&1===k&&(s&&-1===t.indexOf("Dx=0, Dy=0")||x.test(b)&&100!==parseFloat(RegExp.$1)||-1===b.indexOf(b.indexOf("Alpha"))&&l.removeAttribute("filter")),!s){var y,z,A,B=8>p?1:-1;for(n=d.ieOffsetX||0,o=d.ieOffsetY||0,d.ieOffsetX=Math.round((q-((0>h?-h:h)*q+(0>i?-i:i)*r))/2+u),d.ieOffsetY=Math.round((r-((0>k?-k:k)*r+(0>j?-j:j)*q))/2+v),wa=0;4>wa;wa++)z=fa[wa],y=m[z],c=-1!==y.indexOf("px")?parseFloat(y):aa(this.t,z,parseFloat(y),y.replace(w,""))||0,A=c!==d[z]?2>wa?-d.ieOffsetX:-d.ieOffsetY:2>wa?n-d.ieOffsetX:o-d.ieOffsetY,l[z]=(d[z]=Math.round(c-A*(0===wa||2===wa?1:B)))+"px"}}},Ta=S.set3DTransformRatio=S.setTransformRatio=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,o,p,q,r,s,t,u,v,w,x,y,z=this.data,A=this.t.style,B=z.rotation,C=z.rotationX,D=z.rotationY,E=z.scaleX,F=z.scaleY,G=z.scaleZ,H=z.x,I=z.y,J=z.z,L=z.svg,M=z.perspective,N=z.force3D,O=z.skewY,P=z.skewX;if(O&&(P+=O,B+=O),((1===a||0===a)&&"auto"===N&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!N)&&!J&&!M&&!D&&!C&&1===G||Aa&&L||!Fa)return void(B||P||L?(B*=K,x=P*K,y=1e5,c=Math.cos(B)*E,f=Math.sin(B)*E,d=Math.sin(B-x)*-F,g=Math.cos(B-x)*F,x&&"simple"===z.skewType&&(b=Math.tan(x-O*K),b=Math.sqrt(1+b*b),d*=b,g*=b,O&&(b=Math.tan(O*K),b=Math.sqrt(1+b*b),c*=b,f*=b)),L&&(H+=z.xOrigin-(z.xOrigin*c+z.yOrigin*d)+z.xOffset,I+=z.yOrigin-(z.xOrigin*f+z.yOrigin*g)+z.yOffset,Aa&&(z.xPercent||z.yPercent)&&(q=this.t.getBBox(),H+=.01*z.xPercent*q.width,I+=.01*z.yPercent*q.height),q=1e-6,q>H&&H>-q&&(H=0),q>I&&I>-q&&(I=0)),u=(c*y|0)/y+","+(f*y|0)/y+","+(d*y|0)/y+","+(g*y|0)/y+","+H+","+I+")",L&&Aa?this.t.setAttribute("transform","matrix("+u):A[Ca]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix(":"matrix(")+u):A[Ca]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix(":"matrix(")+E+",0,0,"+F+","+H+","+I+")");if(n&&(q=1e-4,q>E&&E>-q&&(E=G=2e-5),q>F&&F>-q&&(F=G=2e-5),!M||z.z||z.rotationX||z.rotationY||(M=0)),B||P)B*=K,r=c=Math.cos(B),s=f=Math.sin(B),P&&(B-=P*K,r=Math.cos(B),s=Math.sin(B),"simple"===z.skewType&&(b=Math.tan((P-O)*K),b=Math.sqrt(1+b*b),r*=b,s*=b,z.skewY&&(b=Math.tan(O*K),b=Math.sqrt(1+b*b),c*=b,f*=b))),d=-s,g=r;else{if(!(D||C||1!==G||M||L))return void(A[Ca]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) translate3d(":"translate3d(")+H+"px,"+I+"px,"+J+"px)"+(1!==E||1!==F?" scale("+E+","+F+")":""));c=g=1,d=f=0}k=1,e=h=i=j=l=m=0,o=M?-1/M:0,p=z.zOrigin,q=1e-6,v=",",w="0",B=D*K,B&&(r=Math.cos(B),s=Math.sin(B),i=-s,l=o*-s,e=c*s,h=f*s,k=r,o*=r,c*=r,f*=r),B=C*K,B&&(r=Math.cos(B),s=Math.sin(B),b=d*r+e*s,t=g*r+h*s,j=k*s,m=o*s,e=d*-s+e*r,h=g*-s+h*r,k*=r,o*=r,d=b,g=t),1!==G&&(e*=G,h*=G,k*=G,o*=G),1!==F&&(d*=F,g*=F,j*=F,m*=F),1!==E&&(c*=E,f*=E,i*=E,l*=E),(p||L)&&(p&&(H+=e*-p,I+=h*-p,J+=k*-p+p),L&&(H+=z.xOrigin-(z.xOrigin*c+z.yOrigin*d)+z.xOffset,I+=z.yOrigin-(z.xOrigin*f+z.yOrigin*g)+z.yOffset),q>H&&H>-q&&(H=w),q>I&&I>-q&&(I=w),q>J&&J>-q&&(J=0)),u=z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix3d(":"matrix3d(",u+=(q>c&&c>-q?w:c)+v+(q>f&&f>-q?w:f)+v+(q>i&&i>-q?w:i),u+=v+(q>l&&l>-q?w:l)+v+(q>d&&d>-q?w:d)+v+(q>g&&g>-q?w:g),C||D||1!==G?(u+=v+(q>j&&j>-q?w:j)+v+(q>m&&m>-q?w:m)+v+(q>e&&e>-q?w:e),u+=v+(q>h&&h>-q?w:h)+v+(q>k&&k>-q?w:k)+v+(q>o&&o>-q?w:o)+v):u+=",0,0,0,0,1,0,",u+=H+v+I+v+J+v+(M?1+-J/M:1)+")",A[Ca]=u};j=Ga.prototype,j.x=j.y=j.z=j.skewX=j.skewY=j.rotation=j.rotationX=j.rotationY=j.zOrigin=j.xPercent=j.yPercent=j.xOffset=j.yOffset=0,j.scaleX=j.scaleY=j.scaleZ=1,ya("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(a,b,c,d,f,h,i){if(d._lastParsedTransform===i)return f;d._lastParsedTransform=i;var j,k=i.scale&&"function"==typeof i.scale?i.scale:0;"function"==typeof i[c]&&(j=i[c],i[c]=b),k&&(i.scale=k(r,a));var l,m,n,o,p,s,t,u,v,w=a._gsTransform,x=a.style,y=1e-6,z=Ba.length,A=i,B={},C="transformOrigin",D=Ra(a,e,!0,A.parseTransform),E=A.transform&&("function"==typeof A.transform?A.transform(r,q):A.transform);if(d._transform=D,E&&"string"==typeof E&&Ca)m=Q.style,m[Ca]=E,m.display="block",m.position="absolute",O.body.appendChild(Q),l=Ra(Q,null,!1),D.svg&&(s=D.xOrigin,t=D.yOrigin,l.x-=D.xOffset,l.y-=D.yOffset,(A.transformOrigin||A.svgOrigin)&&(E={},La(a,ha(A.transformOrigin),E,A.svgOrigin,A.smoothOrigin,!0),s=E.xOrigin,t=E.yOrigin,l.x-=E.xOffset-D.xOffset,l.y-=E.yOffset-D.yOffset),(s||t)&&(u=Qa(Q,!0),l.x-=s-(s*u[0]+t*u[2]),l.y-=t-(s*u[1]+t*u[3]))),O.body.removeChild(Q),l.perspective||(l.perspective=D.perspective),null!=A.xPercent&&(l.xPercent=ja(A.xPercent,D.xPercent)),null!=A.yPercent&&(l.yPercent=ja(A.yPercent,D.yPercent));else if("object"==typeof A){if(l={scaleX:ja(null!=A.scaleX?A.scaleX:A.scale,D.scaleX),scaleY:ja(null!=A.scaleY?A.scaleY:A.scale,D.scaleY),scaleZ:ja(A.scaleZ,D.scaleZ),x:ja(A.x,D.x),y:ja(A.y,D.y),z:ja(A.z,D.z),xPercent:ja(A.xPercent,D.xPercent),
    yPercent:ja(A.yPercent,D.yPercent),perspective:ja(A.transformPerspective,D.perspective)},p=A.directionalRotation,null!=p)if("object"==typeof p)for(m in p)A[m]=p[m];else A.rotation=p;"string"==typeof A.x&&-1!==A.x.indexOf("%")&&(l.x=0,l.xPercent=ja(A.x,D.xPercent)),"string"==typeof A.y&&-1!==A.y.indexOf("%")&&(l.y=0,l.yPercent=ja(A.y,D.yPercent)),l.rotation=ka("rotation"in A?A.rotation:"shortRotation"in A?A.shortRotation+"_short":"rotationZ"in A?A.rotationZ:D.rotation,D.rotation,"rotation",B),Fa&&(l.rotationX=ka("rotationX"in A?A.rotationX:"shortRotationX"in A?A.shortRotationX+"_short":D.rotationX||0,D.rotationX,"rotationX",B),l.rotationY=ka("rotationY"in A?A.rotationY:"shortRotationY"in A?A.shortRotationY+"_short":D.rotationY||0,D.rotationY,"rotationY",B)),l.skewX=ka(A.skewX,D.skewX),l.skewY=ka(A.skewY,D.skewY)}for(Fa&&null!=A.force3D&&(D.force3D=A.force3D,o=!0),D.skewType=A.skewType||D.skewType||g.defaultSkewType,n=D.force3D||D.z||D.rotationX||D.rotationY||l.z||l.rotationX||l.rotationY||l.perspective,n||null==A.scale||(l.scaleZ=1);--z>-1;)v=Ba[z],E=l[v]-D[v],(E>y||-y>E||null!=A[v]||null!=M[v])&&(o=!0,f=new ta(D,v,D[v],E,f),v in B&&(f.e=B[v]),f.xs0=0,f.plugin=h,d._overwriteProps.push(f.n));return E=A.transformOrigin,D.svg&&(E||A.svgOrigin)&&(s=D.xOffset,t=D.yOffset,La(a,ha(E),l,A.svgOrigin,A.smoothOrigin),f=ua(D,"xOrigin",(w?D:l).xOrigin,l.xOrigin,f,C),f=ua(D,"yOrigin",(w?D:l).yOrigin,l.yOrigin,f,C),(s!==D.xOffset||t!==D.yOffset)&&(f=ua(D,"xOffset",w?s:D.xOffset,D.xOffset,f,C),f=ua(D,"yOffset",w?t:D.yOffset,D.yOffset,f,C)),E="0px 0px"),(E||Fa&&n&&D.zOrigin)&&(Ca?(o=!0,v=Ea,E=(E||_(a,v,e,!1,"50% 50%"))+"",f=new ta(x,v,0,0,f,-1,C),f.b=x[v],f.plugin=h,Fa?(m=D.zOrigin,E=E.split(" "),D.zOrigin=(E.length>2&&(0===m||"0px"!==E[2])?parseFloat(E[2]):m)||0,f.xs0=f.e=E[0]+" "+(E[1]||"50%")+" 0px",f=new ta(D,"zOrigin",0,0,f,-1,f.n),f.b=m,f.xs0=f.e=D.zOrigin):f.xs0=f.e=E):ha(E+"",D)),o&&(d._transformType=D.svg&&Aa||!n&&3!==this._transformType?2:3),j&&(i[c]=j),k&&(i.scale=k),f},prefix:!0}),ya("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ya("borderRadius",{defaultValue:"0px",parser:function(a,b,c,f,g,h){b=this.format(b);var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],z=a.style;for(q=parseFloat(a.offsetWidth),r=parseFloat(a.offsetHeight),i=b.split(" "),j=0;j<y.length;j++)this.p.indexOf("border")&&(y[j]=Z(y[j])),m=l=_(a,y[j],e,!1,"0px"),-1!==m.indexOf(" ")&&(l=m.split(" "),m=l[0],l=l[1]),n=k=i[j],o=parseFloat(m),t=m.substr((o+"").length),u="="===n.charAt(1),u?(p=parseInt(n.charAt(0)+"1",10),n=n.substr(2),p*=parseFloat(n),s=n.substr((p+"").length-(0>p?1:0))||""):(p=parseFloat(n),s=n.substr((p+"").length)),""===s&&(s=d[c]||t),s!==t&&(v=aa(a,"borderLeft",o,t),w=aa(a,"borderTop",o,t),"%"===s?(m=v/q*100+"%",l=w/r*100+"%"):"em"===s?(x=aa(a,"borderLeft",1,"em"),m=v/x+"em",l=w/x+"em"):(m=v+"px",l=w+"px"),u&&(n=parseFloat(m)+p+s,k=parseFloat(l)+p+s)),g=va(z,y[j],m+" "+l,n+" "+k,!1,"0px",g);return g},prefix:!0,formatter:qa("0px 0px 0px 0px",!1,!0)}),ya("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(a,b,c,d,f,g){return va(a.style,c,this.format(_(a,c,e,!1,"0px 0px")),this.format(b),!1,"0px",f)},prefix:!0,formatter:qa("0px 0px",!1,!0)}),ya("backgroundPosition",{defaultValue:"0 0",parser:function(a,b,c,d,f,g){var h,i,j,k,l,m,n="background-position",o=e||$(a,null),q=this.format((o?p?o.getPropertyValue(n+"-x")+" "+o.getPropertyValue(n+"-y"):o.getPropertyValue(n):a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY)||"0 0"),r=this.format(b);if(-1!==q.indexOf("%")!=(-1!==r.indexOf("%"))&&r.split(",").length<2&&(m=_(a,"backgroundImage").replace(D,""),m&&"none"!==m)){for(h=q.split(" "),i=r.split(" "),R.setAttribute("src",m),j=2;--j>-1;)q=h[j],k=-1!==q.indexOf("%"),k!==(-1!==i[j].indexOf("%"))&&(l=0===j?a.offsetWidth-R.width:a.offsetHeight-R.height,h[j]=k?parseFloat(q)/100*l+"px":parseFloat(q)/l*100+"%");q=h.join(" ")}return this.parseComplex(a.style,q,r,f,g)},formatter:ha}),ya("backgroundSize",{defaultValue:"0 0",formatter:function(a){return a+="",ha(-1===a.indexOf(" ")?a+" "+a:a)}}),ya("perspective",{defaultValue:"0px",prefix:!0}),ya("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ya("transformStyle",{prefix:!0}),ya("backfaceVisibility",{prefix:!0}),ya("userSelect",{prefix:!0}),ya("margin",{parser:ra("marginTop,marginRight,marginBottom,marginLeft")}),ya("padding",{parser:ra("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ya("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(a,b,c,d,f,g){var h,i,j;return 9>p?(i=a.currentStyle,j=8>p?" ":",",h="rect("+i.clipTop+j+i.clipRight+j+i.clipBottom+j+i.clipLeft+")",b=this.format(b).split(",").join(j)):(h=this.format(_(a,this.p,e,!1,this.dflt)),b=this.format(b)),this.parseComplex(a.style,h,b,f,g)}}),ya("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ya("autoRound,strictUnits",{parser:function(a,b,c,d,e){return e}}),ya("border",{defaultValue:"0px solid #000",parser:function(a,b,c,d,f,g){var h=_(a,"borderTopWidth",e,!1,"0px"),i=this.format(b).split(" "),j=i[0].replace(w,"");return"px"!==j&&(h=parseFloat(h)/aa(a,"borderTopWidth",1,j)+j),this.parseComplex(a.style,this.format(h+" "+_(a,"borderTopStyle",e,!1,"solid")+" "+_(a,"borderTopColor",e,!1,"#000")),i.join(" "),f,g)},color:!0,formatter:function(a){var b=a.split(" ");return b[0]+" "+(b[1]||"solid")+" "+(a.match(pa)||["#000"])[0]}}),ya("borderWidth",{parser:ra("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ya("float,cssFloat,styleFloat",{parser:function(a,b,c,d,e,f){var g=a.style,h="cssFloat"in g?"cssFloat":"styleFloat";return new ta(g,h,0,0,e,-1,c,!1,0,g[h],b)}});var Ua=function(a){var b,c=this.t,d=c.filter||_(this.data,"filter")||"",e=this.s+this.c*a|0;100===e&&(-1===d.indexOf("atrix(")&&-1===d.indexOf("radient(")&&-1===d.indexOf("oader(")?(c.removeAttribute("filter"),b=!_(this.data,"filter")):(c.filter=d.replace(z,""),b=!0)),b||(this.xn1&&(c.filter=d=d||"alpha(opacity="+e+")"),-1===d.indexOf("pacity")?0===e&&this.xn1||(c.filter=d+" alpha(opacity="+e+")"):c.filter=d.replace(x,"opacity="+e))};ya("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(a,b,c,d,f,g){var h=parseFloat(_(a,"opacity",e,!1,"1")),i=a.style,j="autoAlpha"===c;return"string"==typeof b&&"="===b.charAt(1)&&(b=("-"===b.charAt(0)?-1:1)*parseFloat(b.substr(2))+h),j&&1===h&&"hidden"===_(a,"visibility",e)&&0!==b&&(h=0),U?f=new ta(i,"opacity",h,b-h,f):(f=new ta(i,"opacity",100*h,100*(b-h),f),f.xn1=j?1:0,i.zoom=1,f.type=2,f.b="alpha(opacity="+f.s+")",f.e="alpha(opacity="+(f.s+f.c)+")",f.data=a,f.plugin=g,f.setRatio=Ua),j&&(f=new ta(i,"visibility",0,0,f,-1,null,!1,0,0!==h?"inherit":"hidden",0===b?"hidden":"inherit"),f.xs0="inherit",d._overwriteProps.push(f.n),d._overwriteProps.push(c)),f}});var Va=function(a,b){b&&(a.removeProperty?(("ms"===b.substr(0,2)||"webkit"===b.substr(0,6))&&(b="-"+b),a.removeProperty(b.replace(B,"-$1").toLowerCase())):a.removeAttribute(b))},Wa=function(a){if(this.t._gsClassPT=this,1===a||0===a){this.t.setAttribute("class",0===a?this.b:this.e);for(var b=this.data,c=this.t.style;b;)b.v?c[b.p]=b.v:Va(c,b.p),b=b._next;1===a&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};ya("className",{parser:function(a,b,d,f,g,h,i){var j,k,l,m,n,o=a.getAttribute("class")||"",p=a.style.cssText;if(g=f._classNamePT=new ta(a,d,0,0,g,2),g.setRatio=Wa,g.pr=-11,c=!0,g.b=o,k=ca(a,e),l=a._gsClassPT){for(m={},n=l.data;n;)m[n.p]=1,n=n._next;l.setRatio(1)}return a._gsClassPT=g,g.e="="!==b.charAt(1)?b:o.replace(new RegExp("(?:\\s|^)"+b.substr(2)+"(?![\\w-])"),"")+("+"===b.charAt(0)?" "+b.substr(2):""),a.setAttribute("class",g.e),j=da(a,k,ca(a),i,m),a.setAttribute("class",o),g.data=j.firstMPT,a.style.cssText=p,g=g.xfirst=f.parse(a,j.difs,g,h)}});var Xa=function(a){if((1===a||0===a)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var b,c,d,e,f,g=this.t.style,h=i.transform.parse;if("all"===this.e)g.cssText="",e=!0;else for(b=this.e.split(" ").join("").split(","),d=b.length;--d>-1;)c=b[d],i[c]&&(i[c].parse===h?e=!0:c="transformOrigin"===c?Ea:i[c].p),Va(g,c);e&&(Va(g,Ca),f=this.t._gsTransform,f&&(f.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(ya("clearProps",{parser:function(a,b,d,e,f){return f=new ta(a,d,0,0,f,2),f.setRatio=Xa,f.e=b,f.pr=-10,f.data=e._tween,c=!0,f}}),j="bezier,throwProps,physicsProps,physics2D".split(","),wa=j.length;wa--;)za(j[wa]);j=g.prototype,j._firstPT=j._lastParsedTransform=j._transform=null,j._onInitTween=function(a,b,h,j){if(!a.nodeType)return!1;this._target=q=a,this._tween=h,this._vars=b,r=j,k=b.autoRound,c=!1,d=b.suffixMap||g.suffixMap,e=$(a,""),f=this._overwriteProps;var n,p,s,t,u,v,w,x,z,A=a.style;if(l&&""===A.zIndex&&(n=_(a,"zIndex",e),("auto"===n||""===n)&&this._addLazySet(A,"zIndex",0)),"string"==typeof b&&(t=A.cssText,n=ca(a,e),A.cssText=t+";"+b,n=da(a,n,ca(a)).difs,!U&&y.test(b)&&(n.opacity=parseFloat(RegExp.$1)),b=n,A.cssText=t),b.className?this._firstPT=p=i.className.parse(a,b.className,"className",this,null,null,b):this._firstPT=p=this.parse(a,b,null),this._transformType){for(z=3===this._transformType,Ca?m&&(l=!0,""===A.zIndex&&(w=_(a,"zIndex",e),("auto"===w||""===w)&&this._addLazySet(A,"zIndex",0)),o&&this._addLazySet(A,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(z?"visible":"hidden"))):A.zoom=1,s=p;s&&s._next;)s=s._next;x=new ta(a,"transform",0,0,null,2),this._linkCSSP(x,null,s),x.setRatio=Ca?Ta:Sa,x.data=this._transform||Ra(a,e,!0),x.tween=h,x.pr=-1,f.pop()}if(c){for(;p;){for(v=p._next,s=t;s&&s.pr>p.pr;)s=s._next;(p._prev=s?s._prev:u)?p._prev._next=p:t=p,(p._next=s)?s._prev=p:u=p,p=v}this._firstPT=t}return!0},j.parse=function(a,b,c,f){var g,h,j,l,m,n,o,p,s,t,u=a.style;for(g in b)n=b[g],"function"==typeof n&&(n=n(r,q)),h=i[g],h?c=h.parse(a,n,g,this,c,f,b):(m=_(a,g,e)+"",s="string"==typeof n,"color"===g||"fill"===g||"stroke"===g||-1!==g.indexOf("Color")||s&&A.test(n)?(s||(n=na(n),n=(n.length>3?"rgba(":"rgb(")+n.join(",")+")"),c=va(u,g,m,n,!0,"transparent",c,0,f)):s&&J.test(n)?c=va(u,g,m,n,!0,null,c,0,f):(j=parseFloat(m),o=j||0===j?m.substr((j+"").length):"",(""===m||"auto"===m)&&("width"===g||"height"===g?(j=ga(a,g,e),o="px"):"left"===g||"top"===g?(j=ba(a,g,e),o="px"):(j="opacity"!==g?0:1,o="")),t=s&&"="===n.charAt(1),t?(l=parseInt(n.charAt(0)+"1",10),n=n.substr(2),l*=parseFloat(n),p=n.replace(w,"")):(l=parseFloat(n),p=s?n.replace(w,""):""),""===p&&(p=g in d?d[g]:o),n=l||0===l?(t?l+j:l)+p:b[g],o!==p&&""!==p&&(l||0===l)&&j&&(j=aa(a,g,j,o),"%"===p?(j/=aa(a,g,100,"%")/100,b.strictUnits!==!0&&(m=j+"%")):"em"===p||"rem"===p||"vw"===p||"vh"===p?j/=aa(a,g,1,p):"px"!==p&&(l=aa(a,g,l,p),p="px"),t&&(l||0===l)&&(n=l+j+p)),t&&(l+=j),!j&&0!==j||!l&&0!==l?void 0!==u[g]&&(n||n+""!="NaN"&&null!=n)?(c=new ta(u,g,l||j||0,0,c,-1,g,!1,0,m,n),c.xs0="none"!==n||"display"!==g&&-1===g.indexOf("Style")?n:m):W("invalid "+g+" tween value: "+b[g]):(c=new ta(u,g,j,l-j,c,0,g,k!==!1&&("px"===p||"zIndex"===g),0,m,n),c.xs0=p))),f&&c&&!c.plugin&&(c.plugin=f);return c},j.setRatio=function(a){var b,c,d,e=this._firstPT,f=1e-6;if(1!==a||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(a||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;e;){if(b=e.c*a+e.s,e.r?b=Math.round(b):f>b&&b>-f&&(b=0),e.type)if(1===e.type)if(d=e.l,2===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2;else if(3===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3;else if(4===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4;else if(5===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4+e.xn4+e.xs5;else{for(c=e.xs0+b+e.xs1,d=1;d<e.l;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}else-1===e.type?e.t[e.p]=e.xs0:e.setRatio&&e.setRatio(a);else e.t[e.p]=b+e.xs0;e=e._next}else for(;e;)2!==e.type?e.t[e.p]=e.b:e.setRatio(a),e=e._next;else for(;e;){if(2!==e.type)if(e.r&&-1!==e.type)if(b=Math.round(e.s+e.c),e.type){if(1===e.type){for(d=e.l,c=e.xs0+b+e.xs1,d=1;d<e.l;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}}else e.t[e.p]=b+e.xs0;else e.t[e.p]=e.e;else e.setRatio(a);e=e._next}},j._enableTransforms=function(a){this._transform=this._transform||Ra(this._target,e,!0),this._transformType=this._transform.svg&&Aa||!a&&3!==this._transformType?2:3};var Ya=function(a){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};j._addLazySet=function(a,b,c){var d=this._firstPT=new ta(a,b,0,0,this._firstPT,2);d.e=c,d.setRatio=Ya,d.data=this},j._linkCSSP=function(a,b,c,d){return a&&(b&&(b._prev=a),a._next&&(a._next._prev=a._prev),a._prev?a._prev._next=a._next:this._firstPT===a&&(this._firstPT=a._next,d=!0),c?c._next=a:d||null!==this._firstPT||(this._firstPT=a),a._next=b,a._prev=c),a},j._mod=function(a){for(var b=this._firstPT;b;)"function"==typeof a[b.p]&&a[b.p]===Math.round&&(b.r=1),b=b._next},j._kill=function(b){var c,d,e,f=b;if(b.autoAlpha||b.alpha){f={};for(d in b)f[d]=b[d];f.opacity=1,f.autoAlpha&&(f.visibility=1)}for(b.className&&(c=this._classNamePT)&&(e=c.xfirst,e&&e._prev?this._linkCSSP(e._prev,c._next,e._prev._prev):e===this._firstPT&&(this._firstPT=c._next),c._next&&this._linkCSSP(c._next,c._next._next,e._prev),this._classNamePT=null),c=this._firstPT;c;)c.plugin&&c.plugin!==d&&c.plugin._kill&&(c.plugin._kill(b),d=c.plugin),c=c._next;return a.prototype._kill.call(this,f)};var Za=function(a,b,c){var d,e,f,g;if(a.slice)for(e=a.length;--e>-1;)Za(a[e],b,c);else for(d=a.childNodes,e=d.length;--e>-1;)f=d[e],g=f.type,f.style&&(b.push(ca(f)),c&&c.push(f)),1!==g&&9!==g&&11!==g||!f.childNodes.length||Za(f,b,c)};return g.cascadeTo=function(a,c,d){var e,f,g,h,i=b.to(a,c,d),j=[i],k=[],l=[],m=[],n=b._internals.reservedProps;for(a=i._targets||i.target,Za(a,k,m),i.render(c,!0,!0),Za(a,l),i.render(0,!0,!0),i._enabled(!0),e=m.length;--e>-1;)if(f=da(m[e],k[e],l[e]),f.firstMPT){f=f.difs;for(g in d)n[g]&&(f[g]=d[g]);h={};for(g in f)h[g]=k[e][g];j.push(b.fromTo(m[e],c,h,f))}return j},a.activate([g]),g},!0),function(){var a=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(a,b,c){return this._tween=c,!0}}),b=function(a){for(;a;)a.f||a.blob||(a.m=Math.round),a=a._next},c=a.prototype;c._onInitAllProps=function(){for(var a,c,d,e=this._tween,f=e.vars.roundProps.join?e.vars.roundProps:e.vars.roundProps.split(","),g=f.length,h={},i=e._propLookup.roundProps;--g>-1;)h[f[g]]=Math.round;for(g=f.length;--g>-1;)for(a=f[g],c=e._firstPT;c;)d=c._next,c.pg?c.t._mod(h):c.n===a&&(2===c.f&&c.t?b(c.t._firstPT):(this._add(c.t,a,c.s,c.c),d&&(d._prev=c._prev),c._prev?c._prev._next=d:e._firstPT===c&&(e._firstPT=d),c._next=c._prev=null,e._propLookup[a]=i)),c=d;return!1},c._add=function(a,b,c,d){this._addTween(a,b,c,c+d,b,Math.round),this._overwriteProps.push(b)}}(),function(){_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.6.0",init:function(a,b,c,d){var e,f;if("function"!=typeof a.setAttribute)return!1;for(e in b)f=b[e],"function"==typeof f&&(f=f(d,a)),this._addTween(a,"setAttribute",a.getAttribute(e)+"",f+"",e,!1,e),this._overwriteProps.push(e);return!0}})}(),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.3.0",API:2,init:function(a,b,c,d){"object"!=typeof b&&(b={rotation:b}),this.finals={};var e,f,g,h,i,j,k=b.useRadians===!0?2*Math.PI:360,l=1e-6;for(e in b)"useRadians"!==e&&(h=b[e],"function"==typeof h&&(h=h(d,a)),j=(h+"").split("_"),f=j[0],g=parseFloat("function"!=typeof a[e]?a[e]:a[e.indexOf("set")||"function"!=typeof a["get"+e.substr(3)]?e:"get"+e.substr(3)]()),h=this.finals[e]="string"==typeof f&&"="===f.charAt(1)?g+parseInt(f.charAt(0)+"1",10)*Number(f.substr(2)):Number(f)||0,i=h-g,j.length&&(f=j.join("_"),-1!==f.indexOf("short")&&(i%=k,i!==i%(k/2)&&(i=0>i?i+k:i-k)),-1!==f.indexOf("_cw")&&0>i?i=(i+9999999999*k)%k-(i/k|0)*k:-1!==f.indexOf("ccw")&&i>0&&(i=(i-9999999999*k)%k-(i/k|0)*k)),(i>l||-l>i)&&(this._addTween(a,e,g,g+i,e),this._overwriteProps.push(e)));return!0},set:function(a){var b;if(1!==a)this._super.setRatio.call(this,a);else for(b=this._firstPT;b;)b.f?b.t[b.p](this.finals[b.p]):b.t[b.p]=this.finals[b.p],b=b._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(a){var b,c,d,e=_gsScope.GreenSockGlobals||_gsScope,f=e.com.greensock,g=2*Math.PI,h=Math.PI/2,i=f._class,j=function(b,c){var d=i("easing."+b,function(){},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,d},k=a.register||function(){},l=function(a,b,c,d,e){var f=i("easing."+a,{easeOut:new b,easeIn:new c,easeInOut:new d},!0);return k(f,a),f},m=function(a,b,c){this.t=a,this.v=b,c&&(this.next=c,c.prev=this,this.c=c.v-b,this.gap=c.t-a)},n=function(b,c){var d=i("easing."+b,function(a){this._p1=a||0===a?a:1.70158,this._p2=1.525*this._p1},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,e.config=function(a){return new d(a)},d},o=l("Back",n("BackOut",function(a){return(a-=1)*a*((this._p1+1)*a+this._p1)+1}),n("BackIn",function(a){return a*a*((this._p1+1)*a-this._p1)}),n("BackInOut",function(a){return(a*=2)<1?.5*a*a*((this._p2+1)*a-this._p2):.5*((a-=2)*a*((this._p2+1)*a+this._p2)+2)})),p=i("easing.SlowMo",function(a,b,c){b=b||0===b?b:.7,null==a?a=.7:a>1&&(a=1),this._p=1!==a?b:0,this._p1=(1-a)/2,this._p2=a,this._p3=this._p1+this._p2,this._calcEnd=c===!0},!0),q=p.prototype=new a;return q.constructor=p,q.getRatio=function(a){var b=a+(.5-a)*this._p;return a<this._p1?this._calcEnd?1-(a=1-a/this._p1)*a:b-(a=1-a/this._p1)*a*a*a*b:a>this._p3?this._calcEnd?1-(a=(a-this._p3)/this._p1)*a:b+(a-b)*(a=(a-this._p3)/this._p1)*a*a*a:this._calcEnd?1:b},p.ease=new p(.7,.7),q.config=p.config=function(a,b,c){return new p(a,b,c)},b=i("easing.SteppedEase",function(a){a=a||1,this._p1=1/a,this._p2=a+1},!0),q=b.prototype=new a,q.constructor=b,q.getRatio=function(a){return 0>a?a=0:a>=1&&(a=.999999999),(this._p2*a>>0)*this._p1},q.config=b.config=function(a){return new b(a)},c=i("easing.RoughEase",function(b){b=b||{};for(var c,d,e,f,g,h,i=b.taper||"none",j=[],k=0,l=0|(b.points||20),n=l,o=b.randomize!==!1,p=b.clamp===!0,q=b.template instanceof a?b.template:null,r="number"==typeof b.strength?.4*b.strength:.4;--n>-1;)c=o?Math.random():1/l*n,d=q?q.getRatio(c):c,"none"===i?e=r:"out"===i?(f=1-c,e=f*f*r):"in"===i?e=c*c*r:.5>c?(f=2*c,e=f*f*.5*r):(f=2*(1-c),e=f*f*.5*r),o?d+=Math.random()*e-.5*e:n%2?d+=.5*e:d-=.5*e,p&&(d>1?d=1:0>d&&(d=0)),j[k++]={x:c,y:d};for(j.sort(function(a,b){return a.x-b.x}),h=new m(1,1,null),n=l;--n>-1;)g=j[n],h=new m(g.x,g.y,h);this._prev=new m(0,0,0!==h.t?h:h.next)},!0),q=c.prototype=new a,q.constructor=c,q.getRatio=function(a){var b=this._prev;if(a>b.t){for(;b.next&&a>=b.t;)b=b.next;b=b.prev}else for(;b.prev&&a<=b.t;)b=b.prev;return this._prev=b,b.v+(a-b.t)/b.gap*b.c},q.config=function(a){return new c(a)},c.ease=new c,l("Bounce",j("BounceOut",function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}),j("BounceIn",function(a){return(a=1-a)<1/2.75?1-7.5625*a*a:2/2.75>a?1-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?1-(7.5625*(a-=2.25/2.75)*a+.9375):1-(7.5625*(a-=2.625/2.75)*a+.984375)}),j("BounceInOut",function(a){var b=.5>a;return a=b?1-2*a:2*a-1,a=1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,b?.5*(1-a):.5*a+.5})),l("Circ",j("CircOut",function(a){return Math.sqrt(1-(a-=1)*a)}),j("CircIn",function(a){return-(Math.sqrt(1-a*a)-1)}),j("CircInOut",function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)})),d=function(b,c,d){var e=i("easing."+b,function(a,b){this._p1=a>=1?a:1,this._p2=(b||d)/(1>a?a:1),this._p3=this._p2/g*(Math.asin(1/this._p1)||0),this._p2=g/this._p2},!0),f=e.prototype=new a;return f.constructor=e,f.getRatio=c,f.config=function(a,b){return new e(a,b)},e},l("Elastic",d("ElasticOut",function(a){return this._p1*Math.pow(2,-10*a)*Math.sin((a-this._p3)*this._p2)+1},.3),d("ElasticIn",function(a){return-(this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*this._p2))},.3),d("ElasticInOut",function(a){return(a*=2)<1?-.5*(this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(a-=1))*Math.sin((a-this._p3)*this._p2)*.5+1},.45)),l("Expo",j("ExpoOut",function(a){return 1-Math.pow(2,-10*a)}),j("ExpoIn",function(a){return Math.pow(2,10*(a-1))-.001}),j("ExpoInOut",function(a){return(a*=2)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*(a-1)))})),l("Sine",j("SineOut",function(a){return Math.sin(a*h)}),j("SineIn",function(a){return-Math.cos(a*h)+1}),j("SineInOut",function(a){return-.5*(Math.cos(Math.PI*a)-1)})),i("easing.EaseLookup",{find:function(b){return a.map[b]}},!0),k(e.SlowMo,"SlowMo","ease,"),k(c,"RoughEase","ease,"),k(b,"SteppedEase","ease,"),o},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(a,b){"use strict";var c={},d=a.document,e=a.GreenSockGlobals=a.GreenSockGlobals||a;if(!e.TweenLite){var f,g,h,i,j,k=function(a){var b,c=a.split("."),d=e;for(b=0;b<c.length;b++)d[c[b]]=d=d[c[b]]||{};return d},l=k("com.greensock"),m=1e-10,n=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},o=function(){},p=function(){var a=Object.prototype.toString,b=a.call([]);return function(c){return null!=c&&(c instanceof Array||"object"==typeof c&&!!c.push&&a.call(c)===b)}}(),q={},r=function(d,f,g,h){this.sc=q[d]?q[d].sc:[],q[d]=this,this.gsClass=null,this.func=g;var i=[];this.check=function(j){for(var l,m,n,o,p,s=f.length,t=s;--s>-1;)(l=q[f[s]]||new r(f[s],[])).gsClass?(i[s]=l.gsClass,t--):j&&l.sc.push(this);if(0===t&&g){if(m=("com.greensock."+d).split("."),n=m.pop(),o=k(m.join("."))[n]=this.gsClass=g.apply(g,i),h)if(e[n]=c[n]=o,p="undefined"!=typeof module&&module.exports,!p&&"function"==typeof define&&define.amd)define((a.GreenSockAMDPath?a.GreenSockAMDPath+"/":"")+d.split(".").pop(),[],function(){return o});else if(p)if(d===b){module.exports=c[b]=o;for(s in c)o[s]=c[s]}else c[b]&&(c[b][n]=o);for(s=0;s<this.sc.length;s++)this.sc[s].check()}},this.check(!0)},s=a._gsDefine=function(a,b,c,d){return new r(a,b,c,d)},t=l._class=function(a,b,c){return b=b||function(){},s(a,[],function(){return b},c),b};s.globals=e;var u=[0,0,1,1],v=t("easing.Ease",function(a,b,c,d){this._func=a,this._type=c||0,this._power=d||0,this._params=b?u.concat(b):u},!0),w=v.map={},x=v.register=function(a,b,c,d){for(var e,f,g,h,i=b.split(","),j=i.length,k=(c||"easeIn,easeOut,easeInOut").split(",");--j>-1;)for(f=i[j],e=d?t("easing."+f,null,!0):l.easing[f]||{},g=k.length;--g>-1;)h=k[g],w[f+"."+h]=w[h+f]=e[h]=a.getRatio?a:a[h]||new a};for(h=v.prototype,h._calcEnd=!1,h.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var b=this._type,c=this._power,d=1===b?1-a:2===b?a:.5>a?2*a:2*(1-a);return 1===c?d*=d:2===c?d*=d*d:3===c?d*=d*d*d:4===c&&(d*=d*d*d*d),1===b?1-d:2===b?d:.5>a?d/2:1-d/2},f=["Linear","Quad","Cubic","Quart","Quint,Strong"],g=f.length;--g>-1;)h=f[g]+",Power"+g,x(new v(null,null,1,g),h,"easeOut",!0),x(new v(null,null,2,g),h,"easeIn"+(0===g?",easeNone":"")),x(new v(null,null,3,g),h,"easeInOut");w.linear=l.easing.Linear.easeIn,w.swing=l.easing.Quad.easeInOut;var y=t("events.EventDispatcher",function(a){this._listeners={},this._eventTarget=a||this});h=y.prototype,h.addEventListener=function(a,b,c,d,e){e=e||0;var f,g,h=this._listeners[a],k=0;for(this!==i||j||i.wake(),null==h&&(this._listeners[a]=h=[]),g=h.length;--g>-1;)f=h[g],f.c===b&&f.s===c?h.splice(g,1):0===k&&f.pr<e&&(k=g+1);h.splice(k,0,{c:b,s:c,up:d,pr:e})},h.removeEventListener=function(a,b){var c,d=this._listeners[a];if(d)for(c=d.length;--c>-1;)if(d[c].c===b)return void d.splice(c,1)},h.dispatchEvent=function(a){var b,c,d,e=this._listeners[a];if(e)for(b=e.length,b>1&&(e=e.slice(0)),c=this._eventTarget;--b>-1;)d=e[b],d&&(d.up?d.c.call(d.s||c,{type:a,target:c}):d.c.call(d.s||c))};var z=a.requestAnimationFrame,A=a.cancelAnimationFrame,B=Date.now||function(){return(new Date).getTime()},C=B();for(f=["ms","moz","webkit","o"],g=f.length;--g>-1&&!z;)z=a[f[g]+"RequestAnimationFrame"],A=a[f[g]+"CancelAnimationFrame"]||a[f[g]+"CancelRequestAnimationFrame"];t("Ticker",function(a,b){var c,e,f,g,h,k=this,l=B(),n=b!==!1&&z?"auto":!1,p=500,q=33,r="tick",s=function(a){var b,d,i=B()-C;i>p&&(l+=i-q),C+=i,k.time=(C-l)/1e3,b=k.time-h,(!c||b>0||a===!0)&&(k.frame++,h+=b+(b>=g?.004:g-b),d=!0),a!==!0&&(f=e(s)),d&&k.dispatchEvent(r)};y.call(k),k.time=k.frame=0,k.tick=function(){s(!0)},k.lagSmoothing=function(a,b){p=a||1/m,q=Math.min(b,p,0)},k.sleep=function(){null!=f&&(n&&A?A(f):clearTimeout(f),e=o,f=null,k===i&&(j=!1))},k.wake=function(a){null!==f?k.sleep():a?l+=-C+(C=B()):k.frame>10&&(C=B()-p+5),e=0===c?o:n&&z?z:function(a){return setTimeout(a,1e3*(h-k.time)+1|0)},k===i&&(j=!0),s(2)},k.fps=function(a){return arguments.length?(c=a,g=1/(c||60),h=this.time+g,void k.wake()):c},k.useRAF=function(a){return arguments.length?(k.sleep(),n=a,void k.fps(c)):n},k.fps(a),setTimeout(function(){"auto"===n&&k.frame<5&&"hidden"!==d.visibilityState&&k.useRAF(!1)},1500)}),h=l.Ticker.prototype=new l.events.EventDispatcher,h.constructor=l.Ticker;var D=t("core.Animation",function(a,b){if(this.vars=b=b||{},this._duration=this._totalDuration=a||0,this._delay=Number(b.delay)||0,this._timeScale=1,this._active=b.immediateRender===!0,this.data=b.data,this._reversed=b.reversed===!0,W){j||i.wake();var c=this.vars.useFrames?V:W;c.add(this,c._time),this.vars.paused&&this.paused(!0)}});i=D.ticker=new l.Ticker,h=D.prototype,h._dirty=h._gc=h._initted=h._paused=!1,h._totalTime=h._time=0,h._rawPrevTime=-1,h._next=h._last=h._onUpdate=h._timeline=h.timeline=null,h._paused=!1;var E=function(){j&&B()-C>2e3&&i.wake(),setTimeout(E,2e3)};E(),h.play=function(a,b){return null!=a&&this.seek(a,b),this.reversed(!1).paused(!1)},h.pause=function(a,b){return null!=a&&this.seek(a,b),this.paused(!0)},h.resume=function(a,b){return null!=a&&this.seek(a,b),this.paused(!1)},h.seek=function(a,b){return this.totalTime(Number(a),b!==!1)},h.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,b!==!1,!0)},h.reverse=function(a,b){return null!=a&&this.seek(a||this.totalDuration(),b),this.reversed(!0).paused(!1)},h.render=function(a,b,c){},h.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},h.isActive=function(){var a,b=this._timeline,c=this._startTime;return!b||!this._gc&&!this._paused&&b.isActive()&&(a=b.rawTime(!0))>=c&&a<c+this.totalDuration()/this._timeScale},h._enabled=function(a,b){return j||i.wake(),this._gc=!a,this._active=this.isActive(),b!==!0&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,!0)),!1},h._kill=function(a,b){return this._enabled(!1,!1)},h.kill=function(a,b){return this._kill(a,b),this},h._uncache=function(a){for(var b=a?this:this.timeline;b;)b._dirty=!0,b=b.timeline;return this},h._swapSelfInParams=function(a){for(var b=a.length,c=a.concat();--b>-1;)"{self}"===a[b]&&(c[b]=this);return c},h._callback=function(a){var b=this.vars,c=b[a],d=b[a+"Params"],e=b[a+"Scope"]||b.callbackScope||this,f=d?d.length:0;switch(f){case 0:c.call(e);break;case 1:c.call(e,d[0]);break;case 2:c.call(e,d[0],d[1]);break;default:c.apply(e,d)}},h.eventCallback=function(a,b,c,d){if("on"===(a||"").substr(0,2)){var e=this.vars;if(1===arguments.length)return e[a];null==b?delete e[a]:(e[a]=b,e[a+"Params"]=p(c)&&-1!==c.join("").indexOf("{self}")?this._swapSelfInParams(c):c,e[a+"Scope"]=d),"onUpdate"===a&&(this._onUpdate=b)}return this},h.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay},h.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==a&&this.totalTime(this._totalTime*(a/this._duration),!0),this):(this._dirty=!1,this._duration)},h.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration},h.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,b)):this._time},h.totalTime=function(a,b,c){if(j||i.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>a&&!c&&(a+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var d=this._totalDuration,e=this._timeline;if(a>d&&!c&&(a=d),this._startTime=(this._paused?this._pauseTime:e._time)-(this._reversed?d-a:a)/this._timeScale,e._dirty||this._uncache(!1),e._timeline)for(;e._timeline;)e._timeline._time!==(e._startTime+e._totalTime)/e._timeScale&&e.totalTime(e._totalTime,!0),e=e._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==a||0===this._duration)&&(J.length&&Y(),this.render(a,b,!1),J.length&&Y())}return this},h.progress=h.totalProgress=function(a,b){var c=this.duration();return arguments.length?this.totalTime(c*a,b):c?this._time/c:this.ratio},h.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime},h.endTime=function(a){return this._startTime+(0!=a?this.totalDuration():this.duration())/this._timeScale},h.timeScale=function(a){if(!arguments.length)return this._timeScale;if(a=a||m,this._timeline&&this._timeline.smoothChildTiming){var b=this._pauseTime,c=b||0===b?b:this._timeline.totalTime();this._startTime=c-(c-this._startTime)*this._timeScale/a}return this._timeScale=a,this._uncache(!1)},h.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},h.paused=function(a){if(!arguments.length)return this._paused;var b,c,d=this._timeline;return a!=this._paused&&d&&(j||a||i.wake(),b=d.rawTime(),c=b-this._pauseTime,!a&&d.smoothChildTiming&&(this._startTime+=c,this._uncache(!1)),this._pauseTime=a?b:null,this._paused=a,this._active=this.isActive(),!a&&0!==c&&this._initted&&this.duration()&&(b=d.smoothChildTiming?this._totalTime:(b-this._startTime)/this._timeScale,this.render(b,b===this._totalTime,!0))),this._gc&&!a&&this._enabled(!0,!1),this};var F=t("core.SimpleTimeline",function(a){D.call(this,0,a),this.autoRemoveChildren=this.smoothChildTiming=!0});h=F.prototype=new D,h.constructor=F,h.kill()._gc=!1,h._first=h._last=h._recent=null,h._sortChildren=!1,h.add=h.insert=function(a,b,c,d){var e,f;if(a._startTime=Number(b||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=a._startTime+(this.rawTime()-a._startTime)/a._timeScale),a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),e=this._last,this._sortChildren)for(f=a._startTime;e&&e._startTime>f;)e=e._prev;return e?(a._next=e._next,e._next=a):(a._next=this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=e,this._recent=a,this._timeline&&this._uncache(!0),this},h._remove=function(a,b){return a.timeline===this&&(b||a._enabled(!1,!0),a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),a._next=a._prev=a.timeline=null,a===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},h.render=function(a,b,c){var d,e=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;e;)d=e._next,(e._active||a>=e._startTime&&!e._paused)&&(e._reversed?e.render((e._dirty?e.totalDuration():e._totalDuration)-(a-e._startTime)*e._timeScale,b,c):e.render((a-e._startTime)*e._timeScale,b,c)),e=d},h.rawTime=function(){return j||i.wake(),this._totalTime};var G=t("TweenLite",function(b,c,d){
    if(D.call(this,c,d),this.render=G.prototype.render,null==b)throw"Cannot tween a null target.";this.target=b="string"!=typeof b?b:G.selector(b)||b;var e,f,g,h=b.jquery||b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType),i=this.vars.overwrite;if(this._overwrite=i=null==i?U[G.defaultOverwrite]:"number"==typeof i?i>>0:U[i],(h||b instanceof Array||b.push&&p(b))&&"number"!=typeof b[0])for(this._targets=g=n(b),this._propLookup=[],this._siblings=[],e=0;e<g.length;e++)f=g[e],f?"string"!=typeof f?f.length&&f!==a&&f[0]&&(f[0]===a||f[0].nodeType&&f[0].style&&!f.nodeType)?(g.splice(e--,1),this._targets=g=g.concat(n(f))):(this._siblings[e]=Z(f,this,!1),1===i&&this._siblings[e].length>1&&_(f,this,null,1,this._siblings[e])):(f=g[e--]=G.selector(f),"string"==typeof f&&g.splice(e+1,1)):g.splice(e--,1);else this._propLookup={},this._siblings=Z(b,this,!1),1===i&&this._siblings.length>1&&_(b,this,null,1,this._siblings);(this.vars.immediateRender||0===c&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-m,this.render(Math.min(0,-this._delay)))},!0),H=function(b){return b&&b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType)},I=function(a,b){var c,d={};for(c in a)T[c]||c in b&&"transform"!==c&&"x"!==c&&"y"!==c&&"width"!==c&&"height"!==c&&"className"!==c&&"border"!==c||!(!Q[c]||Q[c]&&Q[c]._autoCSS)||(d[c]=a[c],delete a[c]);a.css=d};h=G.prototype=new D,h.constructor=G,h.kill()._gc=!1,h.ratio=0,h._firstPT=h._targets=h._overwrittenProps=h._startAt=null,h._notifyPluginsOfEnabled=h._lazy=!1,G.version="1.19.1",G.defaultEase=h._ease=new v(null,null,1,1),G.defaultOverwrite="auto",G.ticker=i,G.autoSleep=120,G.lagSmoothing=function(a,b){i.lagSmoothing(a,b)},G.selector=a.$||a.jQuery||function(b){var c=a.$||a.jQuery;return c?(G.selector=c,c(b)):"undefined"==typeof d?b:d.querySelectorAll?d.querySelectorAll(b):d.getElementById("#"===b.charAt(0)?b.substr(1):b)};var J=[],K={},L=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,M=function(a){for(var b,c=this._firstPT,d=1e-6;c;)b=c.blob?1===a?this.end:a?this.join(""):this.start:c.c*a+c.s,c.m?b=c.m(b,this._target||c.t):d>b&&b>-d&&!c.blob&&(b=0),c.f?c.fp?c.t[c.p](c.fp,b):c.t[c.p](b):c.t[c.p]=b,c=c._next},N=function(a,b,c,d){var e,f,g,h,i,j,k,l=[],m=0,n="",o=0;for(l.start=a,l.end=b,a=l[0]=a+"",b=l[1]=b+"",c&&(c(l),a=l[0],b=l[1]),l.length=0,e=a.match(L)||[],f=b.match(L)||[],d&&(d._next=null,d.blob=1,l._firstPT=l._applyPT=d),i=f.length,h=0;i>h;h++)k=f[h],j=b.substr(m,b.indexOf(k,m)-m),n+=j||!h?j:",",m+=j.length,o?o=(o+1)%5:"rgba("===j.substr(-5)&&(o=1),k===e[h]||e.length<=h?n+=k:(n&&(l.push(n),n=""),g=parseFloat(e[h]),l.push(g),l._firstPT={_next:l._firstPT,t:l,p:l.length-1,s:g,c:("="===k.charAt(1)?parseInt(k.charAt(0)+"1",10)*parseFloat(k.substr(2)):parseFloat(k)-g)||0,f:0,m:o&&4>o?Math.round:0}),m+=k.length;return n+=b.substr(m),n&&l.push(n),l.setRatio=M,l},O=function(a,b,c,d,e,f,g,h,i){"function"==typeof d&&(d=d(i||0,a));var j,k=typeof a[b],l="function"!==k?"":b.indexOf("set")||"function"!=typeof a["get"+b.substr(3)]?b:"get"+b.substr(3),m="get"!==c?c:l?g?a[l](g):a[l]():a[b],n="string"==typeof d&&"="===d.charAt(1),o={t:a,p:b,s:m,f:"function"===k,pg:0,n:e||b,m:f?"function"==typeof f?f:Math.round:0,pr:0,c:n?parseInt(d.charAt(0)+"1",10)*parseFloat(d.substr(2)):parseFloat(d)-m||0};return("number"!=typeof m||"number"!=typeof d&&!n)&&(g||isNaN(m)||!n&&isNaN(d)||"boolean"==typeof m||"boolean"==typeof d?(o.fp=g,j=N(m,n?o.s+o.c:d,h||G.defaultStringFilter,o),o={t:j,p:"setRatio",s:0,c:1,f:2,pg:0,n:e||b,pr:0,m:0}):(o.s=parseFloat(m),n||(o.c=parseFloat(d)-o.s||0))),o.c?((o._next=this._firstPT)&&(o._next._prev=o),this._firstPT=o,o):void 0},P=G._internals={isArray:p,isSelector:H,lazyTweens:J,blobDif:N},Q=G._plugins={},R=P.tweenLookup={},S=0,T=P.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},U={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},V=D._rootFramesTimeline=new F,W=D._rootTimeline=new F,X=30,Y=P.lazyRender=function(){var a,b=J.length;for(K={};--b>-1;)a=J[b],a&&a._lazy!==!1&&(a.render(a._lazy[0],a._lazy[1],!0),a._lazy=!1);J.length=0};W._startTime=i.time,V._startTime=i.frame,W._active=V._active=!0,setTimeout(Y,1),D._updateRoot=G.render=function(){var a,b,c;if(J.length&&Y(),W.render((i.time-W._startTime)*W._timeScale,!1,!1),V.render((i.frame-V._startTime)*V._timeScale,!1,!1),J.length&&Y(),i.frame>=X){X=i.frame+(parseInt(G.autoSleep,10)||120);for(c in R){for(b=R[c].tweens,a=b.length;--a>-1;)b[a]._gc&&b.splice(a,1);0===b.length&&delete R[c]}if(c=W._first,(!c||c._paused)&&G.autoSleep&&!V._first&&1===i._listeners.tick.length){for(;c&&c._paused;)c=c._next;c||i.sleep()}}},i.addEventListener("tick",D._updateRoot);var Z=function(a,b,c){var d,e,f=a._gsTweenID;if(R[f||(a._gsTweenID=f="t"+S++)]||(R[f]={target:a,tweens:[]}),b&&(d=R[f].tweens,d[e=d.length]=b,c))for(;--e>-1;)d[e]===b&&d.splice(e,1);return R[f].tweens},$=function(a,b,c,d){var e,f,g=a.vars.onOverwrite;return g&&(e=g(a,b,c,d)),g=G.onOverwrite,g&&(f=g(a,b,c,d)),e!==!1&&f!==!1},_=function(a,b,c,d,e){var f,g,h,i;if(1===d||d>=4){for(i=e.length,f=0;i>f;f++)if((h=e[f])!==b)h._gc||h._kill(null,a,b)&&(g=!0);else if(5===d)break;return g}var j,k=b._startTime+m,l=[],n=0,o=0===b._duration;for(f=e.length;--f>-1;)(h=e[f])===b||h._gc||h._paused||(h._timeline!==b._timeline?(j=j||aa(b,0,o),0===aa(h,j,o)&&(l[n++]=h)):h._startTime<=k&&h._startTime+h.totalDuration()/h._timeScale>k&&((o||!h._initted)&&k-h._startTime<=2e-10||(l[n++]=h)));for(f=n;--f>-1;)if(h=l[f],2===d&&h._kill(c,a,b)&&(g=!0),2!==d||!h._firstPT&&h._initted){if(2!==d&&!$(h,b))continue;h._enabled(!1,!1)&&(g=!0)}return g},aa=function(a,b,c){for(var d=a._timeline,e=d._timeScale,f=a._startTime;d._timeline;){if(f+=d._startTime,e*=d._timeScale,d._paused)return-100;d=d._timeline}return f/=e,f>b?f-b:c&&f===b||!a._initted&&2*m>f-b?m:(f+=a.totalDuration()/a._timeScale/e)>b+m?0:f-b-m};h._init=function(){var a,b,c,d,e,f,g=this.vars,h=this._overwrittenProps,i=this._duration,j=!!g.immediateRender,k=g.ease;if(g.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),e={};for(d in g.startAt)e[d]=g.startAt[d];if(e.overwrite=!1,e.immediateRender=!0,e.lazy=j&&g.lazy!==!1,e.startAt=e.delay=null,this._startAt=G.to(this.target,0,e),j)if(this._time>0)this._startAt=null;else if(0!==i)return}else if(g.runBackwards&&0!==i)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(j=!1),c={};for(d in g)T[d]&&"autoCSS"!==d||(c[d]=g[d]);if(c.overwrite=0,c.data="isFromStart",c.lazy=j&&g.lazy!==!1,c.immediateRender=j,this._startAt=G.to(this.target,0,c),j){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=k=k?k instanceof v?k:"function"==typeof k?new v(k,g.easeParams):w[k]||G.defaultEase:G.defaultEase,g.easeParams instanceof Array&&k.config&&(this._ease=k.config.apply(k,g.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(f=this._targets.length,a=0;f>a;a++)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],h?h[a]:null,a)&&(b=!0);else b=this._initProps(this.target,this._propLookup,this._siblings,h,0);if(b&&G._onPluginEvent("_onInitAllProps",this),h&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),g.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=g.onUpdate,this._initted=!0},h._initProps=function(b,c,d,e,f){var g,h,i,j,k,l;if(null==b)return!1;K[b._gsTweenID]&&Y(),this.vars.css||b.style&&b!==a&&b.nodeType&&Q.css&&this.vars.autoCSS!==!1&&I(this.vars,b);for(g in this.vars)if(l=this.vars[g],T[g])l&&(l instanceof Array||l.push&&p(l))&&-1!==l.join("").indexOf("{self}")&&(this.vars[g]=l=this._swapSelfInParams(l,this));else if(Q[g]&&(j=new Q[g])._onInitTween(b,this.vars[g],this,f)){for(this._firstPT=k={_next:this._firstPT,t:j,p:"setRatio",s:0,c:1,f:1,n:g,pg:1,pr:j._priority,m:0},h=j._overwriteProps.length;--h>-1;)c[j._overwriteProps[h]]=this._firstPT;(j._priority||j._onInitAllProps)&&(i=!0),(j._onDisable||j._onEnable)&&(this._notifyPluginsOfEnabled=!0),k._next&&(k._next._prev=k)}else c[g]=O.call(this,b,g,"get",l,g,0,null,this.vars.stringFilter,f);return e&&this._kill(e,b)?this._initProps(b,c,d,e,f):this._overwrite>1&&this._firstPT&&d.length>1&&_(b,this,c,this._overwrite,d)?(this._kill(c,b),this._initProps(b,c,d,e,f)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(K[b._gsTweenID]=!0),i)},h.render=function(a,b,c){var d,e,f,g,h=this._time,i=this._duration,j=this._rawPrevTime;if(a>=i-1e-7&&a>=0)this._totalTime=this._time=i,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(d=!0,e="onComplete",c=c||this._timeline.autoRemoveChildren),0===i&&(this._initted||!this.vars.lazy||c)&&(this._startTime===this._timeline._duration&&(a=0),(0>j||0>=a&&a>=-1e-7||j===m&&"isPause"!==this.data)&&j!==a&&(c=!0,j>m&&(e="onReverseComplete")),this._rawPrevTime=g=!b||a||j===a?a:m);else if(1e-7>a)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==h||0===i&&j>0)&&(e="onReverseComplete",d=this._reversed),0>a&&(this._active=!1,0===i&&(this._initted||!this.vars.lazy||c)&&(j>=0&&(j!==m||"isPause"!==this.data)&&(c=!0),this._rawPrevTime=g=!b||a||j===a?a:m)),this._initted||(c=!0);else if(this._totalTime=this._time=a,this._easeType){var k=a/i,l=this._easeType,n=this._easePower;(1===l||3===l&&k>=.5)&&(k=1-k),3===l&&(k*=2),1===n?k*=k:2===n?k*=k*k:3===n?k*=k*k*k:4===n&&(k*=k*k*k*k),1===l?this.ratio=1-k:2===l?this.ratio=k:.5>a/i?this.ratio=k/2:this.ratio=1-k/2}else this.ratio=this._ease.getRatio(a/i);if(this._time!==h||c){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!c&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=h,this._rawPrevTime=j,J.push(this),void(this._lazy=[a,b]);this._time&&!d?this.ratio=this._ease.getRatio(this._time/i):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==h&&a>=0&&(this._active=!0),0===h&&(this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._time||0===i)&&(b||this._callback("onStart"))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&a!==-1e-4&&this._startAt.render(a,b,c),b||(this._time!==h||d||c)&&this._callback("onUpdate")),e&&(!this._gc||c)&&(0>a&&this._startAt&&!this._onUpdate&&a!==-1e-4&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this._callback(e),0===i&&this._rawPrevTime===m&&g!==m&&(this._rawPrevTime=0))}},h._kill=function(a,b,c){if("all"===a&&(a=null),null==a&&(null==b||b===this.target))return this._lazy=!1,this._enabled(!1,!1);b="string"!=typeof b?b||this._targets||this.target:G.selector(b)||b;var d,e,f,g,h,i,j,k,l,m=c&&this._time&&c._startTime===this._startTime&&this._timeline===c._timeline;if((p(b)||H(b))&&"number"!=typeof b[0])for(d=b.length;--d>-1;)this._kill(a,b[d],c)&&(i=!0);else{if(this._targets){for(d=this._targets.length;--d>-1;)if(b===this._targets[d]){h=this._propLookup[d]||{},this._overwrittenProps=this._overwrittenProps||[],e=this._overwrittenProps[d]=a?this._overwrittenProps[d]||{}:"all";break}}else{if(b!==this.target)return!1;h=this._propLookup,e=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(h){if(j=a||h,k=a!==e&&"all"!==e&&a!==h&&("object"!=typeof a||!a._tempKill),c&&(G.onOverwrite||this.vars.onOverwrite)){for(f in j)h[f]&&(l||(l=[]),l.push(f));if((l||!a)&&!$(this,c,b,l))return!1}for(f in j)(g=h[f])&&(m&&(g.f?g.t[g.p](g.s):g.t[g.p]=g.s,i=!0),g.pg&&g.t._kill(j)&&(i=!0),g.pg&&0!==g.t._overwriteProps.length||(g._prev?g._prev._next=g._next:g===this._firstPT&&(this._firstPT=g._next),g._next&&(g._next._prev=g._prev),g._next=g._prev=null),delete h[f]),k&&(e[f]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return i},h.invalidate=function(){return this._notifyPluginsOfEnabled&&G._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],D.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-m,this.render(Math.min(0,-this._delay))),this},h._enabled=function(a,b){if(j||i.wake(),a&&this._gc){var c,d=this._targets;if(d)for(c=d.length;--c>-1;)this._siblings[c]=Z(d[c],this,!0);else this._siblings=Z(this.target,this,!0)}return D.prototype._enabled.call(this,a,b),this._notifyPluginsOfEnabled&&this._firstPT?G._onPluginEvent(a?"_onEnable":"_onDisable",this):!1},G.to=function(a,b,c){return new G(a,b,c)},G.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new G(a,b,c)},G.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new G(a,b,d)},G.delayedCall=function(a,b,c,d,e){return new G(b,0,{delay:a,onComplete:b,onCompleteParams:c,callbackScope:d,onReverseComplete:b,onReverseCompleteParams:c,immediateRender:!1,lazy:!1,useFrames:e,overwrite:0})},G.set=function(a,b){return new G(a,0,b)},G.getTweensOf=function(a,b){if(null==a)return[];a="string"!=typeof a?a:G.selector(a)||a;var c,d,e,f;if((p(a)||H(a))&&"number"!=typeof a[0]){for(c=a.length,d=[];--c>-1;)d=d.concat(G.getTweensOf(a[c],b));for(c=d.length;--c>-1;)for(f=d[c],e=c;--e>-1;)f===d[e]&&d.splice(c,1)}else for(d=Z(a).concat(),c=d.length;--c>-1;)(d[c]._gc||b&&!d[c].isActive())&&d.splice(c,1);return d},G.killTweensOf=G.killDelayedCallsTo=function(a,b,c){"object"==typeof b&&(c=b,b=!1);for(var d=G.getTweensOf(a,b),e=d.length;--e>-1;)d[e]._kill(c,a)};var ba=t("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(","),this._propName=this._overwriteProps[0],this._priority=b||0,this._super=ba.prototype},!0);if(h=ba.prototype,ba.version="1.19.0",ba.API=2,h._firstPT=null,h._addTween=O,h.setRatio=M,h._kill=function(a){var b,c=this._overwriteProps,d=this._firstPT;if(null!=a[this._propName])this._overwriteProps=[];else for(b=c.length;--b>-1;)null!=a[c[b]]&&c.splice(b,1);for(;d;)null!=a[d.n]&&(d._next&&(d._next._prev=d._prev),d._prev?(d._prev._next=d._next,d._prev=null):this._firstPT===d&&(this._firstPT=d._next)),d=d._next;return!1},h._mod=h._roundProps=function(a){for(var b,c=this._firstPT;c;)b=a[this._propName]||null!=c.n&&a[c.n.split(this._propName+"_").join("")],b&&"function"==typeof b&&(2===c.f?c.t._applyPT.m=b:c.m=b),c=c._next},G._onPluginEvent=function(a,b){var c,d,e,f,g,h=b._firstPT;if("_onInitAllProps"===a){for(;h;){for(g=h._next,d=e;d&&d.pr>h.pr;)d=d._next;(h._prev=d?d._prev:f)?h._prev._next=h:e=h,(h._next=d)?d._prev=h:f=h,h=g}h=b._firstPT=e}for(;h;)h.pg&&"function"==typeof h.t[a]&&h.t[a]()&&(c=!0),h=h._next;return c},ba.activate=function(a){for(var b=a.length;--b>-1;)a[b].API===ba.API&&(Q[(new a[b])._propName]=a[b]);return!0},s.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var b,c=a.propName,d=a.priority||0,e=a.overwriteProps,f={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},g=t("plugins."+c.charAt(0).toUpperCase()+c.substr(1)+"Plugin",function(){ba.call(this,c,d),this._overwriteProps=e||[]},a.global===!0),h=g.prototype=new ba(c);h.constructor=g,g.API=a.API;for(b in f)"function"==typeof a[b]&&(h[f[b]]=a[b]);return g.version=a.version,ba.activate([g]),g},f=a._gsQueue){for(g=0;g<f.length;g++)f[g]();for(h in q)q[h].func||a.console.log("GSAP encountered missing dependency: "+h)}j=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax");



var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var e,t=_gsScope.document,p=t.defaultView?t.defaultView.getComputedStyle:function(){},g=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,C=-1!==((_gsScope.navigator||{}).userAgent||"").indexOf("Edge"),l={rect:["width","height"],circle:["r","r"],ellipse:["rx","ry"],line:["x2","y2"]},_="DrawSVGPlugin",m=String.fromCharCode(103,114,101,101,110,115,111,99,107,46,99,111,109),S=String.fromCharCode(47,114,101,113,117,105,114,101,115,45,109,101,109,98,101,114,115,104,105,112,47),w=function(e){for(var t=-1!==(window?window.location.href:"").indexOf(String.fromCharCode(103,114,101,101,110,115,111,99,107))&&-1!==e.indexOf(String.fromCharCode(108,111,99,97,108,104,111,115,116)),r=[m,String.fromCharCode(99,111,100,101,112,101,110,46,105,111),String.fromCharCode(99,111,100,101,112,101,110,46,112,108,117,109,98,105,110,103),String.fromCharCode(99,111,100,101,112,101,110,46,100,101,118),String.fromCharCode(99,111,100,101,112,101,110,46,97,112,112),String.fromCharCode(112,101,110,115,46,99,108,111,117,100),String.fromCharCode(112,101,110,115,46,105,111),String.fromCharCode(109,111,116,105,111,110,116,114,105,99,107,115,46,99,111,109),String.fromCharCode(99,115,115,45,116,114,105,99,107,115,46,99,111,109),String.fromCharCode(99,100,112,110,46,105,111),String.fromCharCode(103,97,110,110,111,110,46,116,118),String.fromCharCode(99,111,100,101,99,97,110,121,111,110,46,110,101,116),String.fromCharCode(116,104,101,109,101,102,111,114,101,115,116,46,110,101,116),String.fromCharCode(99,101,114,101,98,114,97,120,46,99,111,46,117,107),String.fromCharCode(116,121,109,112,97,110,117,115,46,110,101,116),String.fromCharCode(116,119,101,101,110,109,97,120,46,99,111,109),String.fromCharCode(116,119,101,101,110,108,105,116,101,46,99,111,109),String.fromCharCode(112,108,110,107,114,46,99,111),String.fromCharCode(104,111,116,106,97,114,46,99,111,109),String.fromCharCode(119,101,98,112,97,99,107,98,105,110,46,99,111,109),String.fromCharCode(97,114,99,104,105,118,101,46,111,114,103),String.fromCharCode(99,111,100,101,115,97,110,100,98,111,120,46,105,111),String.fromCharCode(115,116,97,99,107,98,108,105,116,122,46,99,111,109),String.fromCharCode(99,111,100,105,101,114,46,105,111),String.fromCharCode(106,115,102,105,100,100,108,101,46,110,101,116)],o=r.length;-1<--o;)if(-1!==e.indexOf(r[o]))return!0;return t&&window&&window.console&&console.log(String.fromCharCode(87,65,82,78,73,78,71,58,32,97,32,115,112,101,99,105,97,108,32,118,101,114,115,105,111,110,32,111,102,32)+_+String.fromCharCode(32,105,115,32,114,117,110,110,105,110,103,32,108,111,99,97,108,108,121,44,32,98,117,116,32,105,116,32,119,105,108,108,32,110,111,116,32,119,111,114,107,32,111,110,32,97,32,108,105,118,101,32,100,111,109,97,105,110,32,98,101,99,97,117,115,101,32,105,116,32,105,115,32,97,32,109,101,109,98,101,114,115,104,105,112,32,98,101,110,101,102,105,116,32,111,102,32,67,108,117,98,32,71,114,101,101,110,83,111,99,107,46,32,80,108,101,97,115,101,32,115,105,103,110,32,117,112,32,97,116,32,104,116,116,112,58,47,47,103,114,101,101,110,115,111,99,107,46,99,111,109,47,99,108,117,98,47,32,97,110,100,32,116,104,101,110,32,100,111,119,110,108,111,97,100,32,116,104,101,32,39,114,101,97,108,39,32,118,101,114,115,105,111,110,32,102,114,111,109,32,121,111,117,114,32,71,114,101,101,110,83,111,99,107,32,97,99,99,111,117,110,116,32,119,104,105,99,104,32,104,97,115,32,110,111,32,115,117,99,104,32,108,105,109,105,116,97,116,105,111,110,115,46,32,84,104,101,32,102,105,108,101,32,121,111,117,39,114,101,32,117,115,105,110,103,32,119,97,115,32,108,105,107,101,108,121,32,100,111,119,110,108,111,97,100,101,100,32,102,114,111,109,32,101,108,115,101,119,104,101,114,101,32,111,110,32,116,104,101,32,119,101,98,32,97,110,100,32,105,115,32,114,101,115,116,114,105,99,116,101,100,32,116,111,32,108,111,99,97,108,32,117,115,101,32,111,114,32,111,110,32,115,105,116,101,115,32,108,105,107,101,32,99,111,100,101,112,101,110,46,105,111,46)),t}(window?window.location.host:"");function u(e,t,r,o,i,s){return r=(parseFloat(r||0)-parseFloat(e||0))*i,o=(parseFloat(o||0)-parseFloat(t||0))*s,Math.sqrt(r*r+o*o)}function c(e){return"string"!=typeof e&&e.nodeType||(e=_gsScope.TweenLite.selector(e)).length&&(e=e[0]),e}function y(e){if(!e)return 0;var t,r,o,i,s,n,a,h=(e=c(e)).tagName.toLowerCase(),f=1,d=1;"non-scaling-stroke"===e.getAttribute("vector-effect")&&(d=e.getScreenCTM(),f=Math.sqrt(d.a*d.a+d.b*d.b),d=Math.sqrt(d.d*d.d+d.c*d.c));try{r=e.getBBox()}catch(e){console.log("Error: Some browsers like Firefox won't report measurements of invisible elements (like display:none or masks inside defs).")}if(r&&(r.width||r.height)||!l[h]||(r={width:parseFloat(e.getAttribute(l[h][0])),height:parseFloat(e.getAttribute(l[h][1]))},"rect"!==h&&"line"!==h&&(r.width*=2,r.height*=2),"line"===h&&(r.x=parseFloat(e.getAttribute("x1")),r.y=parseFloat(e.getAttribute("y1")),r.width=Math.abs(r.width-r.x),r.height=Math.abs(r.height-r.y))),"path"===h)i=e.style.strokeDasharray,e.style.strokeDasharray="none",t=e.getTotalLength()||0,f!==d&&console.log("Warning: <path> length cannot be measured accurately when vector-effect is non-scaling-stroke and the element isn't proportionally scaled."),t*=(f+d)/2,e.style.strokeDasharray=i;else if("rect"===h)t=2*r.width*f+2*r.height*d;else if("line"===h)t=u(r.x,r.y,r.x+r.width,r.y+r.height,f,d);else if("polyline"===h||"polygon"===h)for(o=e.getAttribute("points").match(g)||[],"polygon"===h&&o.push(o[0],o[1]),t=0,s=2;s<o.length;s+=2)t+=u(o[s-2],o[s-1],o[s],o[s+1],f,d)||0;else"circle"!==h&&"ellipse"!==h||(n=r.width/2*f,a=r.height/2*d,t=Math.PI*(3*(n+a)-Math.sqrt((3*n+a)*(n+3*a))));return t||0}function x(e,t){if(!e)return[0,0];e=c(e),t=t||y(e)+1;var r=p(e),o=r.strokeDasharray||"",i=parseFloat(r.strokeDashoffset),s=o.indexOf(",");return s<0&&(s=o.indexOf(" ")),t<(o=s<0?t:parseFloat(o.substr(0,s))||1e-5)&&(o=t),[Math.max(0,-i),Math.max(0,o-i)]}(e=_gsScope._gsDefine.plugin({propName:"drawSVG",API:2,version:"0.2.0",global:!0,overwriteProps:["drawSVG"],init:function(e,t,r,o){if(!e.getBBox)return!1;if(!w)return window.location.href="http://"+m+S+"?plugin="+_+"&source=codepen",!1;var i,s,n,a,h,f,d,g,l,u,c=y(e)+1;return this._style=e.style,this._target=e,"function"==typeof t&&(t=t(o,e)),!0===t||"true"===t?t="0 100%":t?-1===(t+"").indexOf(" ")&&(t="0 "+t):t="0 0",i=x(e,c),h=t,f=c,d=i[0],g=h.indexOf(" "),l=-1===g?(u=void 0!==d?d+"":h,h):(u=h.substr(0,g),h.substr(g+1)),u=-1!==u.indexOf("%")?parseFloat(u)/100*f:parseFloat(u),s=(l=-1!==l.indexOf("%")?parseFloat(l)/100*f:parseFloat(l))<u?[l,u]:[u,l],this._length=c+10,0===i[0]&&0===s[0]?(n=Math.max(1e-5,s[1]-c),this._dash=c+n,this._offset=c-i[1]+n,this._offsetPT=this._addTween(this,"_offset",this._offset,c-s[1]+n,"drawSVG")):(this._dash=i[1]-i[0]||1e-6,this._offset=-i[0],this._dashPT=this._addTween(this,"_dash",this._dash,s[1]-s[0]||1e-5,"drawSVG"),this._offsetPT=this._addTween(this,"_offset",this._offset,-s[0],"drawSVG")),C&&(a=p(e)).strokeLinecap!==a.strokeLinejoin&&(s=parseFloat(a.strokeMiterlimit),this._addTween(e.style,"strokeMiterlimit",s,s+1e-4,"strokeMiterlimit")),this._live="non-scaling-stroke"===e.getAttribute("vector-effect")||-1!==(t+"").indexOf("live"),!0},set:function(e){var t,r;this._firstPT&&(!this._live||(t=y(this._target)+11)!==this._length&&(r=t/this._length,this._length=t,this._offsetPT.s*=r,this._offsetPT.c*=r,this._dashPT?(this._dashPT.s*=r,this._dashPT.c*=r):this._dash*=r),this._super.setRatio.call(this,e),this._style.strokeDashoffset=this._offset,this._style.strokeDasharray=1===e||0===e?this._offset<.001&&this._length-this._dash<=10?"none":this._offset===this._dash?"0px, 999999px":this._dash+"px,"+this._length+"px":this._dash+"px,"+this._length+"px")}})).getLength=y,e.getPosition=x}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(){"use strict";function e(){return(_gsScope.GreenSockGlobals||_gsScope).DrawSVGPlugin}"undefined"!=typeof module&&module.exports?(require("../TweenLite.js"),module.exports=e()):"function"==typeof define&&define.amd&&define(["TweenLite"],e)}();
var projectSettings = {
    "ProjectID": "b5622d44-c603-4033-951d-0b401b9a6b70",
    "ProjectNo": "000"
}
let en = // set name of let to iso
{
	"isocode": "en-GB",
	"friendlyname": "English Great Britain",
	"langID": 0,
	"nav": {
		"fields": [

			{ "key": "nav-1", "ImageURL": "", "Text": "Home" },

		]
	},
	"scorm": {
		"fields": [
		]
	},
	"kc": {
		"fields": [
		]
	},
	"pages": [
		{
			"title": "Introduction", "pageID": 0, "File": "content/intro.html",
			"fields": [
				{ "key": "slide1-1", "ImageURL": "", "Text": "Suraj.css" },
				{ "key": "slide1-2", "ImageURL": "", "Text": "These are a series of layout samples using Suraj.scss grid system and its helpers. You can resize the browser window to see how they react in different screen sizes." },
				{ "key": "slide1-3", "ImageURL": "", "Text": "Responsive grid system" },
				{ "key": "slide1-4", "ImageURL": "", "Text": "Full width span" },
				{ "key": "slide1-5", "ImageURL": "", "Text": "Half" },
				{ "key": "slide1-6", "ImageURL": "", "Text": "Half" },

				{ "key": "slide2-1", "ImageURL": "", "Text": "1/3" },
				{ "key": "slide2-2", "ImageURL": "", "Text": "1/4" },
				{ "key": "slide2-3", "ImageURL": "", "Text": "1/4 <br>Lorem ipsum dolor sit amet consectetur" },
				{ "key": "slide2-4", "ImageURL": "", "Text": "1/5" },
				{ "key": "slide2-5", "ImageURL": "", "Text": "1/6" },
				{ "key": "slide2-6", "ImageURL": "", "Text": "Hello world" },

				{ "key": "slide3-1", "ImageURL": "", "Text": "Main content" },
				{ "key": "slide3-2", "ImageURL": "", "Text": "Sidebar" },
				{ "key": "slide3-3", "ImageURL": "", "Text": "Wide Sidebar" },
				{ "key": "slide3-4", "ImageURL": "", "Text": "Alternate" },
				{ "key": "slide3-5", "ImageURL": "", "Text": "These are a series of alternate block layout samples." },
				{ "key": "slide3-6", "ImageURL": "", "Text": "Lorem ipsum dolor sit amet consectetur adipisicing elit" },
				{ "key": "slide3-7", "ImageURL": "", "Text": "Lorem ipsum dolor sit amet consectetur adipisicing elit" },
				{ "key": "slide3-8", "ImageURL": "", "Text": "Lorem ipsum dolor sit amet consectetur adipisicing elit" },
				{ "key": "slide3-9", "ImageURL": "", "Text": "Lorem ipsum dolor sit amet consectetur adipisicing elit" },
				{ "key": "slide3-10", "ImageURL": "", "Text": "Alternate" },


			]
		},
		{
			"title": "Section 1 - Title of section", "pageID": 1, "File": "content/section-1.html",
			"fields": [
				{ "key": "slide1-1", "ImageURL": "", "Text": "Lorem ipsum dolor sit" },
				{ "key": "slide1-2", "ImageURL": "", "Text": "Lorem ipsum dolor sit" },
				{ "key": "slide1-3", "ImageURL": "", "Text": "Lorem ipsum dolor sit" },
				{ "key": "slide2-1", "ImageURL": "", "Text": "Lorem ipsum dolor sit" },
				{ "key": "slide2-2", "ImageURL": "", "Text": "Lorem ipsum dolor sit" },
				{ "key": "slide2-3", "ImageURL": "", "Text": "Lorem ipsum dolor sit" },
			]
		},
		{
			"title": "Section 2 - Title of section", "pageID": 2, "File": "content/section-2.html",
			"fields": [
				{ "key": "slide1-1", "ImageURL": "", "Text": "Lorem ipsum dolor sit" },
				{ "key": "slide1-2", "ImageURL": "", "Text": "Lorem ipsum dolor sit" },
				{ "key": "slide1-3", "ImageURL": "", "Text": "Lorem ipsum dolor sit" },
				{ "key": "slide2-1", "ImageURL": "", "Text": "Lorem ipsum dolor sit" },
				{ "key": "slide2-2", "ImageURL": "", "Text": "Lorem ipsum dolor sit" },
				{ "key": "slide2-3", "ImageURL": "", "Text": "Lorem ipsum dolor sit" },
			]
		}
	],
	"general": [
		{ "key": "submit", "ImageURL": "", "Text": "Submit" },
        { "key": "close", "ImageURL": "", "Text": "Close" },
	]
};
/*!
 * VERSION: 0.11.0
 * DATE: 2017-01-09
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2017, GreenSock. All rights reserved.
 * ThrowPropsPlugin is a Club GreenSock membership benefit; You must have a valid membership to use
 * this code without violating the terms of use. Visit http://greensock.com/club/ to sign up or get more details.
 * This work is subject to the software agreement that was issued with your membership.
 *
 * @author: Jack Doyle, jack@greensock.com
 */
var _gsScope =
  "undefined" != typeof module && module.exports && "undefined" != typeof global
    ? global
    : this || window;
(_gsScope._gsQueue || (_gsScope._gsQueue = [])).push(function () {
  "use strict";
  _gsScope._gsDefine(
    "plugins.ThrowPropsPlugin",
    [
      "plugins.TweenPlugin",
      "TweenLite",
      "easing.Ease",
      "utils.VelocityTracker",
    ],
    function (r, S, b, T) {
      function N(e, t) {
        r.call(this, "throwProps"), (this._overwriteProps.length = 0);
      }
      function u(e, t, r, o, n) {
        var i,
          s,
          a,
          c,
          u = t.length,
          f = 0,
          p = l;
        if ("object" == typeof e) {
          for (; -1 < --u; ) {
            for (a in ((i = t[u]), (s = 0), e)) s += (c = i[a] - e[a]) * c;
            s < p && ((f = u), (p = s));
          }
          if ((n || l) < l && n < Math.sqrt(p)) return e;
        } else
          for (; -1 < --u; )
            (s = (i = t[u]) - e) < 0 && (s = -s),
              s < p && o <= i && i <= r && ((f = u), (p = s));
        return t[f];
      }
      function V(e, t, r, o, n, i) {
        if ("auto" === e.end) return e;
        var s,
          a,
          c = e.end;
        if (
          ((r = isNaN(r) ? l : r),
          (o = isNaN(o) ? -l : o),
          "object" == typeof t)
        ) {
          if (
            ((s =
              (!t.calculated &&
                ("function" == typeof c ? c(t) : u(t, c, r, o, i))) ||
              t),
            !t.calculated)
          ) {
            for (a in s) t[a] = s[a];
            t.calculated = !0;
          }
          s = s[n];
        } else
          s =
            "function" == typeof c
              ? c(t)
              : c instanceof Array
              ? u(t, c, r, o, i)
              : Number(c);
        return (
          r < s ? (s = r) : s < o && (s = o),
          { max: s, min: s, unitFactor: e.unitFactor }
        );
      }
      function O(e, t, r) {
        for (var o in t) void 0 === e[o] && o !== r && (e[o] = t[o]);
        return e;
      }
      var _,
        w,
        C,
        P,
        l = 999999999999999,
        o = _gsScope._gsDefine.globals,
        R = !1,
        k = {
          x: 1,
          y: 1,
          z: 2,
          scale: 1,
          scaleX: 1,
          scaleY: 1,
          rotation: 1,
          rotationZ: 1,
          rotationX: 2,
          rotationY: 2,
          skewX: 1,
          skewY: 1,
          xPercent: 1,
          yPercent: 1,
        },
        x = "ThrowPropsPlugin",
        B = String.fromCharCode(
          103,
          114,
          101,
          101,
          110,
          115,
          111,
          99,
          107,
          46,
          99,
          111,
          109
        ),
        j = String.fromCharCode(
          47,
          114,
          101,
          113,
          117,
          105,
          114,
          101,
          115,
          45,
          109,
          101,
          109,
          98,
          101,
          114,
          115,
          104,
          105,
          112,
          47
        ),
        F = (function (e) {
          for (
            var t =
                -1 !==
                  (window ? window.location.href : "").indexOf(
                    String.fromCharCode(
                      103,
                      114,
                      101,
                      101,
                      110,
                      115,
                      111,
                      99,
                      107
                    )
                  ) &&
                -1 !==
                  e.indexOf(
                    String.fromCharCode(
                      108,
                      111,
                      99,
                      97,
                      108,
                      104,
                      111,
                      115,
                      116
                    )
                  ),
              r = [
                B,
                String.fromCharCode(
                  99,
                  111,
                  100,
                  101,
                  112,
                  101,
                  110,
                  46,
                  105,
                  111
                ),
                String.fromCharCode(
                  99,
                  111,
                  100,
                  101,
                  112,
                  101,
                  110,
                  46,
                  112,
                  108,
                  117,
                  109,
                  98,
                  105,
                  110,
                  103
                ),
                String.fromCharCode(
                  99,
                  111,
                  100,
                  101,
                  112,
                  101,
                  110,
                  46,
                  100,
                  101,
                  118
                ),
                String.fromCharCode(
                  99,
                  111,
                  100,
                  101,
                  112,
                  101,
                  110,
                  46,
                  97,
                  112,
                  112
                ),
                String.fromCharCode(
                  112,
                  101,
                  110,
                  115,
                  46,
                  99,
                  108,
                  111,
                  117,
                  100
                ),
                String.fromCharCode(112, 101, 110, 115, 46, 105, 111),
                String.fromCharCode(
                  109,
                  111,
                  116,
                  105,
                  111,
                  110,
                  116,
                  114,
                  105,
                  99,
                  107,
                  115,
                  46,
                  99,
                  111,
                  109
                ),
                String.fromCharCode(
                  99,
                  115,
                  115,
                  45,
                  116,
                  114,
                  105,
                  99,
                  107,
                  115,
                  46,
                  99,
                  111,
                  109
                ),
                String.fromCharCode(99, 100, 112, 110, 46, 105, 111),
                String.fromCharCode(103, 97, 110, 110, 111, 110, 46, 116, 118),
                String.fromCharCode(
                  99,
                  111,
                  100,
                  101,
                  99,
                  97,
                  110,
                  121,
                  111,
                  110,
                  46,
                  110,
                  101,
                  116
                ),
                String.fromCharCode(
                  116,
                  104,
                  101,
                  109,
                  101,
                  102,
                  111,
                  114,
                  101,
                  115,
                  116,
                  46,
                  110,
                  101,
                  116
                ),
                String.fromCharCode(
                  99,
                  101,
                  114,
                  101,
                  98,
                  114,
                  97,
                  120,
                  46,
                  99,
                  111,
                  46,
                  117,
                  107
                ),
                String.fromCharCode(
                  116,
                  121,
                  109,
                  112,
                  97,
                  110,
                  117,
                  115,
                  46,
                  110,
                  101,
                  116
                ),
                String.fromCharCode(
                  116,
                  119,
                  101,
                  101,
                  110,
                  109,
                  97,
                  120,
                  46,
                  99,
                  111,
                  109
                ),
                String.fromCharCode(
                  116,
                  119,
                  101,
                  101,
                  110,
                  108,
                  105,
                  116,
                  101,
                  46,
                  99,
                  111,
                  109
                ),
                String.fromCharCode(112, 108, 110, 107, 114, 46, 99, 111),
                String.fromCharCode(
                  104,
                  111,
                  116,
                  106,
                  97,
                  114,
                  46,
                  99,
                  111,
                  109
                ),
                String.fromCharCode(
                  119,
                  101,
                  98,
                  112,
                  97,
                  99,
                  107,
                  98,
                  105,
                  110,
                  46,
                  99,
                  111,
                  109
                ),
                String.fromCharCode(
                  97,
                  114,
                  99,
                  104,
                  105,
                  118,
                  101,
                  46,
                  111,
                  114,
                  103
                ),
                String.fromCharCode(
                  99,
                  111,
                  100,
                  101,
                  115,
                  97,
                  110,
                  100,
                  98,
                  111,
                  120,
                  46,
                  105,
                  111
                ),
                String.fromCharCode(
                  115,
                  116,
                  97,
                  99,
                  107,
                  98,
                  108,
                  105,
                  116,
                  122,
                  46,
                  99,
                  111,
                  109
                ),
                String.fromCharCode(99, 111, 100, 105, 101, 114, 46, 105, 111),
                String.fromCharCode(
                  106,
                  115,
                  102,
                  105,
                  100,
                  100,
                  108,
                  101,
                  46,
                  110,
                  101,
                  116
                ),
              ],
              o = r.length;
            -1 < --o;

          )
            if (-1 !== e.indexOf(r[o])) return !0;
          return (
            t &&
              window &&
              window.console &&
              console.log(
                String.fromCharCode(
                  87,
                  65,
                  82,
                  78,
                  73,
                  78,
                  71,
                  58,
                  32,
                  97,
                  32,
                  115,
                  112,
                  101,
                  99,
                  105,
                  97,
                  108,
                  32,
                  118,
                  101,
                  114,
                  115,
                  105,
                  111,
                  110,
                  32,
                  111,
                  102,
                  32
                ) +
                  x +
                  String.fromCharCode(
                    32,
                    105,
                    115,
                    32,
                    114,
                    117,
                    110,
                    110,
                    105,
                    110,
                    103,
                    32,
                    108,
                    111,
                    99,
                    97,
                    108,
                    108,
                    121,
                    44,
                    32,
                    98,
                    117,
                    116,
                    32,
                    105,
                    116,
                    32,
                    119,
                    105,
                    108,
                    108,
                    32,
                    110,
                    111,
                    116,
                    32,
                    119,
                    111,
                    114,
                    107,
                    32,
                    111,
                    110,
                    32,
                    97,
                    32,
                    108,
                    105,
                    118,
                    101,
                    32,
                    100,
                    111,
                    109,
                    97,
                    105,
                    110,
                    32,
                    98,
                    101,
                    99,
                    97,
                    117,
                    115,
                    101,
                    32,
                    105,
                    116,
                    32,
                    105,
                    115,
                    32,
                    97,
                    32,
                    109,
                    101,
                    109,
                    98,
                    101,
                    114,
                    115,
                    104,
                    105,
                    112,
                    32,
                    98,
                    101,
                    110,
                    101,
                    102,
                    105,
                    116,
                    32,
                    111,
                    102,
                    32,
                    67,
                    108,
                    117,
                    98,
                    32,
                    71,
                    114,
                    101,
                    101,
                    110,
                    83,
                    111,
                    99,
                    107,
                    46,
                    32,
                    80,
                    108,
                    101,
                    97,
                    115,
                    101,
                    32,
                    115,
                    105,
                    103,
                    110,
                    32,
                    117,
                    112,
                    32,
                    97,
                    116,
                    32,
                    104,
                    116,
                    116,
                    112,
                    58,
                    47,
                    47,
                    103,
                    114,
                    101,
                    101,
                    110,
                    115,
                    111,
                    99,
                    107,
                    46,
                    99,
                    111,
                    109,
                    47,
                    99,
                    108,
                    117,
                    98,
                    47,
                    32,
                    97,
                    110,
                    100,
                    32,
                    116,
                    104,
                    101,
                    110,
                    32,
                    100,
                    111,
                    119,
                    110,
                    108,
                    111,
                    97,
                    100,
                    32,
                    116,
                    104,
                    101,
                    32,
                    39,
                    114,
                    101,
                    97,
                    108,
                    39,
                    32,
                    118,
                    101,
                    114,
                    115,
                    105,
                    111,
                    110,
                    32,
                    102,
                    114,
                    111,
                    109,
                    32,
                    121,
                    111,
                    117,
                    114,
                    32,
                    71,
                    114,
                    101,
                    101,
                    110,
                    83,
                    111,
                    99,
                    107,
                    32,
                    97,
                    99,
                    99,
                    111,
                    117,
                    110,
                    116,
                    32,
                    119,
                    104,
                    105,
                    99,
                    104,
                    32,
                    104,
                    97,
                    115,
                    32,
                    110,
                    111,
                    32,
                    115,
                    117,
                    99,
                    104,
                    32,
                    108,
                    105,
                    109,
                    105,
                    116,
                    97,
                    116,
                    105,
                    111,
                    110,
                    115,
                    46,
                    32,
                    84,
                    104,
                    101,
                    32,
                    102,
                    105,
                    108,
                    101,
                    32,
                    121,
                    111,
                    117,
                    39,
                    114,
                    101,
                    32,
                    117,
                    115,
                    105,
                    110,
                    103,
                    32,
                    119,
                    97,
                    115,
                    32,
                    108,
                    105,
                    107,
                    101,
                    108,
                    121,
                    32,
                    100,
                    111,
                    119,
                    110,
                    108,
                    111,
                    97,
                    100,
                    101,
                    100,
                    32,
                    102,
                    114,
                    111,
                    109,
                    32,
                    101,
                    108,
                    115,
                    101,
                    119,
                    104,
                    101,
                    114,
                    101,
                    32,
                    111,
                    110,
                    32,
                    116,
                    104,
                    101,
                    32,
                    119,
                    101,
                    98,
                    32,
                    97,
                    110,
                    100,
                    32,
                    105,
                    115,
                    32,
                    114,
                    101,
                    115,
                    116,
                    114,
                    105,
                    99,
                    116,
                    101,
                    100,
                    32,
                    116,
                    111,
                    32,
                    108,
                    111,
                    99,
                    97,
                    108,
                    32,
                    117,
                    115,
                    101,
                    32,
                    111,
                    114,
                    32,
                    111,
                    110,
                    32,
                    115,
                    105,
                    116,
                    101,
                    115,
                    32,
                    108,
                    105,
                    107,
                    101,
                    32,
                    99,
                    111,
                    100,
                    101,
                    112,
                    101,
                    110,
                    46,
                    105,
                    111,
                    46
                  )
              ),
            t
          );
        })(window ? window.location.host : ""),
        D = (N.calculateChange = function (e, t, r, o) {
          return (
            null == o && (o = 0.05),
            (r * o * e) /
              (t instanceof b ? t : t ? new b(t) : S.defaultEase).getRatio(o)
          );
        }),
        E = (N.calculateDuration = function (e, t, r, o, n) {
          n = n || 0.05;
          var i = o instanceof b ? o : o ? new b(o) : S.defaultEase;
          return Math.abs(((t - e) * i.getRatio(n)) / r / n);
        }),
        s = (N.calculateTweenDuration = function (e, t, r, o, n, i) {
          if (("string" == typeof e && (e = S.selector(e)), !e)) return 0;
          null == r && (r = 10),
            null == o && (o = 0.2),
            null == n && (n = 1),
            e.length && (e = e[0] || e);
          var s,
            a,
            c,
            u,
            f,
            p,
            l,
            g,
            d,
            h,
            v,
            m,
            y,
            _ = 0,
            w = 9999999999,
            C = t.throwProps || t,
            P =
              t.ease instanceof b
                ? t.ease
                : t.ease
                ? new b(t.ease)
                : S.defaultEase,
            k = isNaN(C.checkpoint) ? 0.05 : Number(C.checkpoint),
            x = isNaN(C.resistance)
              ? N.defaultResistance
              : Number(C.resistance);
          if (C.linkedProps)
            for (m = C.linkedProps.split(","), v = {}, y = 0; y < m.length; y++)
              (a = C[(s = m[y])]) &&
                ((c =
                  0 <
                  (u =
                    void 0 !== a.velocity && "number" == typeof a.velocity
                      ? Number(a.velocity) || 0
                      : (d = d || T.getByTarget(e)) && d.isTrackingProp(s)
                      ? d.getVelocity(s)
                      : 0) *
                    (f = isNaN(a.resistance) ? x : Number(a.resistance))
                    ? u / f
                    : u / -f),
                (p =
                  "function" == typeof e[s]
                    ? e[
                        s.indexOf("set") ||
                        "function" != typeof e["get" + s.substr(3)]
                          ? s
                          : "get" + s.substr(3)
                      ]()
                    : e[s] || 0),
                (v[s] = p + D(u, P, c, k)));
          for (s in C)
            "resistance" !== s &&
              "checkpoint" !== s &&
              "preventOvershoot" !== s &&
              "linkedProps" !== s &&
              "radius" !== s &&
              ("object" != typeof (a = C[s]) &&
                ((d = d || T.getByTarget(e)) && d.isTrackingProp(s)
                  ? (a =
                      "number" == typeof a
                        ? { velocity: a }
                        : { velocity: d.getVelocity(s) })
                  : (c = 0 < (u = Number(a) || 0) * x ? u / x : u / -x)),
              "object" == typeof a &&
                ((c =
                  0 <
                  (u =
                    void 0 !== a.velocity && "number" == typeof a.velocity
                      ? Number(a.velocity) || 0
                      : (d = d || T.getByTarget(e)) && d.isTrackingProp(s)
                      ? d.getVelocity(s)
                      : 0) *
                    (f = isNaN(a.resistance) ? x : Number(a.resistance))
                    ? u / f
                    : u / -f),
                (l =
                  (p =
                    "function" == typeof e[s]
                      ? e[
                          s.indexOf("set") ||
                          "function" != typeof e["get" + s.substr(3)]
                            ? s
                            : "get" + s.substr(3)
                        ]()
                      : e[s] || 0) + D(u, P, c, k)),
                void 0 !== a.end &&
                  ((a = V(a, v && s in v ? v : l, a.max, a.min, s, C.radius)),
                  (i || R) && (C[s] = O(a, C[s], "end"))),
                void 0 !== a.max && l > Number(a.max) + 1e-10
                  ? ((h = a.unitFactor || N.defaultUnitFactors[s] || 1),
                    (g =
                      (p > a.max && a.min !== a.max) ||
                      (-15 < u * h && u * h < 45)
                        ? o + 0.1 * (r - o)
                        : E(p, a.max, u, P, k)) +
                      n <
                      w && (w = g + n))
                  : void 0 !== a.min &&
                    l < Number(a.min) - 1e-10 &&
                    ((h = a.unitFactor || N.defaultUnitFactors[s] || 1),
                    (g =
                      (p < a.min && a.min !== a.max) ||
                      (-45 < u * h && u * h < 15)
                        ? o + 0.1 * (r - o)
                        : E(p, a.min, u, P, k)) +
                      n <
                      w && (w = g + n)),
                _ < g && (_ = g)),
              _ < c && (_ = c));
          return w < _ && (_ = w), r < _ ? r : _ < o ? o : _;
        }),
        e = (N.prototype = new r("throwProps"));
      return (
        ((e.constructor = N).version = "0.11.0"),
        (N.API = 2),
        (N._autoCSS = !0),
        (N.defaultResistance = 100),
        (N.defaultUnitFactors = { time: 1e3, totalTime: 1e3 }),
        (N.track = function (e, t, r) {
          return T.track(e, t, r);
        }),
        (N.untrack = function (e, t) {
          T.untrack(e, t);
        }),
        (N.isTracking = function (e, t) {
          return T.isTracking(e, t);
        }),
        (N.getVelocity = function (e, t) {
          var r = T.getByTarget(e);
          return r ? r.getVelocity(t) : NaN;
        }),
        (N._cssRegister = function () {
          var e,
            v,
            m,
            y,
            t = o.com.greensock.plugins.CSSPlugin;
          t &&
            ((e = t._internals),
            (v = e._parseToProxy),
            (m = e._setPluginRatio),
            (y = e.CSSPropTween),
            e._registerComplexSpecialProp("throwProps", {
              parser: function (e, t, r, o, n, i) {
                i = new N();
                var s,
                  a,
                  c,
                  u,
                  f = {},
                  p = {},
                  l = {},
                  g = {},
                  d = {},
                  h = {};
                for (a in ((w = {}), t))
                  "resistance" !== a &&
                    "preventOvershoot" !== a &&
                    "linkedProps" !== a &&
                    "radius" !== a &&
                    ("object" == typeof (s = t[a])
                      ? (void 0 !== s.velocity && "number" == typeof s.velocity
                          ? (f[a] = Number(s.velocity) || 0)
                          : ((u = u || T.getByTarget(e)),
                            (f[a] =
                              u && u.isTrackingProp(a) ? u.getVelocity(a) : 0)),
                        void 0 !== s.end && (g[a] = s.end),
                        void 0 !== s.min && (p[a] = s.min),
                        void 0 !== s.max && (l[a] = s.max),
                        s.preventOvershoot && (h[a] = !0),
                        void 0 !== s.resistance && (d[a] = s.resistance))
                      : "number" == typeof s
                      ? (f[a] = s)
                      : (u = u || T.getByTarget(e)) && u.isTrackingProp(a)
                      ? (f[a] = u.getVelocity(a))
                      : (f[a] = s || 0),
                    k[a] && o._enableTransforms(2 === k[a]));
                for (a in ((c = v(e, f, o, n, i)),
                (_ = c.proxy),
                (f = c.end),
                _))
                  w[a] = {
                    velocity: f[a],
                    min: p[a],
                    max: l[a],
                    end: g[a],
                    resistance: d[a],
                    preventOvershoot: h[a],
                  };
                return (
                  null != t.resistance && (w.resistance = t.resistance),
                  null != t.linkedProps && (w.linkedProps = t.linkedProps),
                  null != t.radius && (w.radius = t.radius),
                  t.preventOvershoot && (w.preventOvershoot = !0),
                  (n = new y(e, "throwProps", 0, 0, c.pt, 2)),
                  o._overwriteProps.pop(),
                  (n.plugin = i),
                  (n.setRatio = m),
                  (n.data = c),
                  i._onInitTween(_, w, o._tween),
                  n
                );
              },
            }));
        }),
        (N.to = function (e, t, r, o, n) {
          t.throwProps || (t = { throwProps: t }),
            0 === n && (t.throwProps.preventOvershoot = !0),
            (R = !0);
          var i = new S(e, o || 1, t);
          return (
            i.render(0, !0, !0),
            (R =
              (i.vars.css
                ? (i.duration(s(_, { throwProps: w, ease: t.ease }, r, o, n)),
                  i._delay && !i.vars.immediateRender
                    ? i.invalidate()
                    : C._onInitTween(_, P, i))
                : (i.kill(), (i = new S(e, s(e, t, r, o, n), t))),
              !1)),
            i
          );
        }),
        (e._onInitTween = function (e, t, r, o) {
          (this.target = e), (this._props = []), (C = this), (P = t);
          var n,
            i,
            s,
            a,
            c,
            u,
            f,
            p,
            l,
            g,
            d,
            h,
            v = r._ease,
            m = isNaN(t.checkpoint) ? 0.05 : Number(t.checkpoint),
            y = r._duration,
            _ = t.preventOvershoot,
            w = 0;
          if (!F)
            // return (
            //   (window.location.href =
            //     "http://" + B + j + "?plugin=" + x + "&source=codepen"),
            //   !1
            // );
          if (t.linkedProps)
            for (d = t.linkedProps.split(","), g = {}, h = 0; h < d.length; h++)
              (i = t[(n = d[h])]) &&
                ((c =
                  void 0 !== i.velocity && "number" == typeof i.velocity
                    ? Number(i.velocity) || 0
                    : (l = l || T.getByTarget(e)) && l.isTrackingProp(n)
                    ? l.getVelocity(n)
                    : 0),
                (s =
                  "function" == typeof e[n]
                    ? e[
                        n.indexOf("set") ||
                        "function" != typeof e["get" + n.substr(3)]
                          ? n
                          : "get" + n.substr(3)
                      ]()
                    : e[n] || 0),
                (g[n] = s + D(c, v, y, m)));
          for (n in t)
            if (
              "resistance" !== n &&
              "checkpoint" !== n &&
              "preventOvershoot" !== n &&
              "linkedProps" !== n &&
              "radius" !== n
            ) {
              if (
                ("function" == typeof (i = t[n]) && (i = i(o, e)),
                "number" == typeof i)
              )
                c = Number(i) || 0;
              else if ("object" != typeof i || isNaN(i.velocity)) {
                if (!(l = l || T.getByTarget(e)) || !l.isTrackingProp(n))
                  throw (
                    "ERROR: No velocity was defined in the throwProps tween of " +
                    e +
                    " property: " +
                    n
                  );
                c = l.getVelocity(n);
              } else c = Number(i.velocity);
              (u = D(c, v, y, m)),
                (p = 0),
                (s = (a = "function" == typeof e[n])
                  ? e[
                      n.indexOf("set") ||
                      "function" != typeof e["get" + n.substr(3)]
                        ? n
                        : "get" + n.substr(3)
                    ]()
                  : e[n]),
                "object" == typeof i &&
                  ((f = s + u),
                  void 0 !== i.end &&
                    ((i = V(i, g && n in g ? g : f, i.max, i.min, n, t.radius)),
                    R && (t[n] = O(i, t[n], "end"))),
                  void 0 !== i.max && Number(i.max) < f
                    ? _ || i.preventOvershoot
                      ? (u = i.max - s)
                      : (p = i.max - s - u)
                    : void 0 !== i.min &&
                      Number(i.min) > f &&
                      (_ || i.preventOvershoot
                        ? (u = i.min - s)
                        : (p = i.min - s - u))),
                (this._overwriteProps[w] = n),
                (this._props[w++] = { p: n, s: s, c1: u, c2: p, f: a, r: !1 });
            }
          return F;
        }),
        (e._kill = function (e) {
          for (var t = this._props.length; -1 < --t; )
            null != e[this._props[t].p] && this._props.splice(t, 1);
          return r.prototype._kill.call(this, e);
        }),
        (e._mod = function (e) {
          for (var t, r = this._props, o = r.length; -1 < --o; )
            "function" == typeof (t = e[r[o].p] || e.throwProps) &&
              (r[o].m = t);
        }),
        (e.setRatio = function (e) {
          for (var t, r, o = this._props.length; -1 < --o; )
            (r = (t = this._props[o]).s + t.c1 * e + t.c2 * e * e),
              t.m
                ? (r = t.m(r, this.target))
                : 1 === e && (r = ((1e4 * r + (r < 0 ? -0.5 : 0.5)) | 0) / 1e4),
              t.f ? this.target[t.p](r) : (this.target[t.p] = r);
        }),
        r.activate([N]),
        N
      );
    },
    !0
  ),
    _gsScope._gsDefine(
      "utils.VelocityTracker",
      ["TweenLite"],
      function (s) {
        function a(e, t, r) {
          var o = (e._gsTransform || p)[t];
          return o || 0 === o
            ? o
            : (e.style[t]
                ? (o = e.style[t])
                : (r = r || g(e, null))
                ? (o =
                    r[t] ||
                    r.getPropertyValue(t) ||
                    r.getPropertyValue(t.replace(f, "-$1").toLowerCase()))
                : e.currentStyle && (o = e.currentStyle[t]),
              parseFloat(o) || 0);
        }
        function c(e, t, r) {
          (this.p = e),
            (this.f = t),
            (this.v1 = this.v2 = 0),
            (this.t1 = this.t2 = d.time),
            (this.css = !1),
            (this.type = ""),
            (this._prev = null),
            r && ((this._next = r)._prev = this);
        }
        function t() {
          var e,
            t,
            r = i,
            o = d.time;
          if (0.03 <= o - n)
            for (n = o; r; ) {
              for (t = r._firstVP; t; )
                ((e = t.css
                  ? a(r.target, t.p)
                  : t.f
                  ? r.target[t.p]()
                  : r.target[t.p]) !== t.v1 ||
                  0.15 < o - t.t1) &&
                  ((t.v2 = t.v1), (t.v1 = e), (t.t2 = t.t1), (t.t1 = o)),
                  (t = t._next);
              r = r._next;
            }
        }
        function u(e) {
          (this._lookup = {}),
            (this.target = e),
            (this.elem = !(!e.style || !e.nodeType)),
            r ||
              (d.addEventListener("tick", t, null, !1, -100),
              (n = d.time),
              (r = !0)),
            i && ((this._next = i)._prev = this),
            (i = this);
        }
        var i,
          r,
          n,
          f = /([A-Z])/g,
          p = {},
          l = {
            x: 1,
            y: 1,
            z: 2,
            scale: 1,
            scaleX: 1,
            scaleY: 1,
            rotation: 1,
            rotationZ: 1,
            rotationX: 2,
            rotationY: 2,
            skewX: 1,
            skewY: 1,
            xPercent: 1,
            yPercent: 1,
          },
          g = document.defaultView
            ? document.defaultView.getComputedStyle
            : function () {},
          d = s.ticker,
          h = (u.getByTarget = function (e) {
            for (var t = i; t; ) {
              if (t.target === e) return t;
              t = t._next;
            }
          }),
          e = u.prototype;
        return (
          (e.addProp = function (e, t) {
            var r, o, n, i;
            this._lookup[e] ||
              ((n = (o = "function" == typeof (r = this.target)[e])
                ? this._altProp(e)
                : e),
              (i = this._firstVP),
              (this._firstVP =
                this._lookup[e] =
                this._lookup[n] =
                i =
                  new c(n !== e && 0 === e.indexOf("set") ? n : e, o, i)),
              (i.css =
                this.elem && (void 0 !== this.target.style[i.p] || l[i.p])),
              i.css &&
                l[i.p] &&
                !r._gsTransform &&
                s.set(r, { x: "+=0", overwrite: !1 }),
              (i.type =
                t || (i.css && 0 === e.indexOf("rotation")) ? "deg" : ""),
              (i.v1 = i.v2 = i.css ? a(r, i.p) : o ? r[i.p]() : r[i.p]));
          }),
          (e.removeProp = function (e) {
            var t = this._lookup[e];
            t &&
              (t._prev
                ? (t._prev._next = t._next)
                : t === this._firstVP && (this._firstVP = t._next),
              t._next && (t._next._prev = t._prev),
              (this._lookup[e] = 0),
              t.f && (this._lookup[this._altProp(e)] = 0));
          }),
          (e.isTrackingProp = function (e) {
            return this._lookup[e] instanceof c;
          }),
          (e.getVelocity = function (e) {
            var t,
              r,
              o = this._lookup[e],
              n = this.target;
            if (!o) throw "The velocity of " + e + " is not being tracked.";
            return (
              (t = (o.css ? a(n, o.p) : o.f ? n[o.p]() : n[o.p]) - o.v2),
              ("rad" !== o.type && "deg" !== o.type) ||
                ((t %= r = "rad" === o.type ? 2 * Math.PI : 360) !==
                  t % (r / 2) &&
                  (t = t < 0 ? t + r : t - r)),
              t / (d.time - o.t2)
            );
          }),
          (e._altProp = function (e) {
            var t = e.substr(0, 3),
              r = ("get" === t ? "set" : "set" === t ? "get" : t) + e.substr(3);
            return "function" == typeof this.target[r] ? r : e;
          }),
          (u.getByTarget = function (e) {
            var t = i;
            for (
              "string" == typeof e && (e = s.selector(e)),
                e.length &&
                  e !== window &&
                  e[0] &&
                  e[0].style &&
                  !e.nodeType &&
                  (e = e[0]);
              t;

            ) {
              if (t.target === e) return t;
              t = t._next;
            }
          }),
          (u.track = function (e, t, r) {
            var o = h(e),
              n = t.split(","),
              i = n.length;
            for (r = (r || "").split(","), o = o || new u(e); -1 < --i; )
              o.addProp(n[i], r[i] || r[0]);
            return o;
          }),
          (u.untrack = function (e, t) {
            var r = h(e),
              o = (t || "").split(","),
              n = o.length;
            if (r) {
              for (; -1 < --n; ) r.removeProp(o[n]);
              (r._firstVP && t) ||
                (r._prev ? (r._prev._next = r._next) : r === i && (i = r._next),
                r._next && (r._next._prev = r._prev));
            }
          }),
          (u.isTracking = function (e, t) {
            var r = h(e);
            return !!r && (!(t || !r._firstVP) || r.isTrackingProp(t));
          }),
          u
        );
      },
      !0
    );
}),
  _gsScope._gsDefine && _gsScope._gsQueue.pop()(),
  (function () {
    "use strict";
    function e() {
      return (_gsScope.GreenSockGlobals || _gsScope).ThrowPropsPlugin;
    }
    "function" == typeof define && define.amd
      ? define(["TweenLite"], e)
      : "undefined" != typeof module &&
        module.exports &&
        (require("../TweenLite.js"), (module.exports = e()));
  })();

/*! jQuery v3.3.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],r=e.document,i=Object.getPrototypeOf,o=n.slice,a=n.concat,s=n.push,u=n.indexOf,l={},c=l.toString,f=l.hasOwnProperty,p=f.toString,d=p.call(Object),h={},g=function e(t){return"function"==typeof t&&"number"!=typeof t.nodeType},y=function e(t){return null!=t&&t===t.window},v={type:!0,src:!0,noModule:!0};function m(e,t,n){var i,o=(t=t||r).createElement("script");if(o.text=e,n)for(i in v)n[i]&&(o[i]=n[i]);t.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var b="3.3.1",w=function(e,t){return new w.fn.init(e,t)},T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.fn=w.prototype={jquery:"3.3.1",constructor:w,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||g(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(l&&r&&(w.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&w.isPlainObject(n)?n:{},a[t]=w.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},w.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e))&&(!(t=i(e))||"function"==typeof(n=f.call(t,"constructor")&&t.constructor)&&p.call(n)===d)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){m(e)},each:function(e,t){var n,r=0;if(C(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?w.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)(r=!t(e[o],o))!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,i,o=0,s=[];if(C(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return a.apply([],s)},guid:1,support:h}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function C(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!g(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}var E=function(e){var t,n,r,i,o,a,s,u,l,c,f,p,d,h,g,y,v,m,x,b="sizzle"+1*new Date,w=e.document,T=0,C=0,E=ae(),k=ae(),S=ae(),D=function(e,t){return e===t&&(f=!0),0},N={}.hasOwnProperty,A=[],j=A.pop,q=A.push,L=A.push,H=A.slice,O=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",I="\\["+M+"*("+R+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+M+"*\\]",W=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+I+")*)|.*)\\)|)",$=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),F=new RegExp("^"+M+"*,"+M+"*"),_=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),z=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),X=new RegExp(W),U=new RegExp("^"+R+"$"),V={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){p()},ie=me(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{L.apply(A=H.call(w.childNodes),w.childNodes),A[w.childNodes.length].nodeType}catch(e){L={apply:A.length?function(e,t){q.apply(e,H.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function oe(e,t,r,i){var o,s,l,c,f,h,v,m=t&&t.ownerDocument,T=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==T&&9!==T&&11!==T)return r;if(!i&&((t?t.ownerDocument||t:w)!==d&&p(t),t=t||d,g)){if(11!==T&&(f=J.exec(e)))if(o=f[1]){if(9===T){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(m&&(l=m.getElementById(o))&&x(t,l)&&l.id===o)return r.push(l),r}else{if(f[2])return L.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!S[e+" "]&&(!y||!y.test(e))){if(1!==T)m=t,v=e;else if("object"!==t.nodeName.toLowerCase()){(c=t.getAttribute("id"))?c=c.replace(te,ne):t.setAttribute("id",c=b),s=(h=a(e)).length;while(s--)h[s]="#"+c+" "+ve(h[s]);v=h.join(","),m=K.test(e)&&ge(t.parentNode)||t}if(v)try{return L.apply(r,m.querySelectorAll(v)),r}catch(e){}finally{c===b&&t.removeAttribute("id")}}}return u(e.replace(B,"$1"),t,r,i)}function ae(){var e=[];function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}return t}function se(e){return e[b]=!0,e}function ue(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){var n=e.split("|"),i=n.length;while(i--)r.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function he(e){return se(function(t){return t=+t,se(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function ge(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==d&&9===a.nodeType&&a.documentElement?(d=a,h=d.documentElement,g=!o(d),w!==d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ue(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(d.getElementsByClassName),n.getById=ue(function(e){return h.appendChild(e).id=b,!d.getElementsByName||!d.getElementsByName(b).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],y=[],(n.qsa=Q.test(d.querySelectorAll))&&(ue(function(e){h.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+M+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+b+"-]").length||y.push("~="),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||y.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(n.matchesSelector=Q.test(m=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ue(function(e){n.disconnectedMatch=m.call(e,"*"),m.call(e,"[s!='']:x"),v.push("!=",W)}),y=y.length&&new RegExp(y.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(h.compareDocumentPosition),x=t||Q.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===d||e.ownerDocument===w&&x(w,e)?-1:t===d||t.ownerDocument===w&&x(w,t)?1:c?O(c,e)-O(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===d?-1:t===d?1:i?-1:o?1:c?O(c,e)-O(c,t):0;if(i===o)return ce(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?ce(a[r],s[r]):a[r]===w?-1:s[r]===w?1:0},d):d},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&p(e),t=t.replace(z,"='$1']"),n.matchesSelector&&g&&!S[t+" "]&&(!v||!v.test(t))&&(!y||!y.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,d,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==d&&p(e),x(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==d&&p(e);var i=r.attrHandle[t.toLowerCase()],o=i&&N.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(D),f){while(t=e[o++])t===e[o]&&(i=r.push(o));while(i--)e.splice(r[i],1)}return c=null,e},i=oe.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:se,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace($," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",y=t.parentNode,v=s&&t.nodeName.toLowerCase(),m=!u&&!s,x=!1;if(y){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?y.firstChild:y.lastChild],a&&m){x=(d=(l=(c=(f=(p=y)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1])&&l[2],p=d&&y.childNodes[d];while(p=++d&&p&&p[g]||(x=d=0)||h.pop())if(1===p.nodeType&&++x&&p===t){c[e]=[T,d,x];break}}else if(m&&(x=d=(l=(c=(f=(p=t)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1]),!1===x)while(p=++d&&p&&p[g]||(x=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===v:1===p.nodeType)&&++x&&(m&&((c=(f=p[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]=[T,x]),p===t))break;return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){var r,o=i(e,t),a=o.length;while(a--)e[r=O(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:se(function(e){var t=[],n=[],r=s(e.replace(B,"$1"));return r[b]?se(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return oe(e,t).length>0}}),contains:se(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return U.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function ye(){}ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=oe.tokenize=function(e,t){var n,i,o,a,s,u,l,c=k[e+" "];if(c)return t?0:c.slice(0);s=e,u=[],l=r.preFilter;while(s){n&&!(i=F.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=_.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(B," ")}),s=s.slice(n.length));for(a in r.filter)!(i=V[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):k(e,u).slice(0)};function ve(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function me(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=C++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,p=[T,s];if(u){while(t=t[r])if((1===t.nodeType||a)&&e(t,n,u))return!0}else while(t=t[r])if(1===t.nodeType||a)if(f=t[b]||(t[b]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===T&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}return!1}}function xe(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function be(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}function we(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Te(e,t,n,r,i,o){return r&&!r[b]&&(r=Te(r)),i&&!i[b]&&(i=Te(i,o)),se(function(o,a,s,u){var l,c,f,p=[],d=[],h=a.length,g=o||be(t||"*",s.nodeType?[s]:s,[]),y=!e||!o&&t?g:we(g,p,e,s,u),v=n?i||(o?e:h||r)?[]:a:y;if(n&&n(y,v,s,u),r){l=we(v,d),r(l,[],s,u),c=l.length;while(c--)(f=l[c])&&(v[d[c]]=!(y[d[c]]=f))}if(o){if(i||e){if(i){l=[],c=v.length;while(c--)(f=v[c])&&l.push(y[c]=f);i(null,v=[],l,u)}c=v.length;while(c--)(f=v[c])&&(l=i?O(o,f):p[c])>-1&&(o[l]=!(a[l]=f))}}else v=we(v===a?v.splice(h,v.length):v),i?i(null,a,v,u):L.apply(a,v)})}function Ce(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,c=me(function(e){return e===t},s,!0),f=me(function(e){return O(t,e)>-1},s,!0),p=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])p=[me(xe(p),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[b]){for(i=++u;i<o;i++)if(r.relative[e[i].type])break;return Te(u>1&&xe(p),u>1&&ve(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(B,"$1"),n,u<i&&Ce(e.slice(u,i)),i<o&&Ce(e=e.slice(i)),i<o&&ve(e))}p.push(n)}return xe(p)}function Ee(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,c){var f,h,y,v=0,m="0",x=o&&[],b=[],w=l,C=o||i&&r.find.TAG("*",c),E=T+=null==w?1:Math.random()||.1,k=C.length;for(c&&(l=a===d||a||c);m!==k&&null!=(f=C[m]);m++){if(i&&f){h=0,a||f.ownerDocument===d||(p(f),s=!g);while(y=e[h++])if(y(f,a||d,s)){u.push(f);break}c&&(T=E)}n&&((f=!y&&f)&&v--,o&&x.push(f))}if(v+=m,n&&m!==v){h=0;while(y=t[h++])y(x,b,a,s);if(o){if(v>0)while(m--)x[m]||b[m]||(b[m]=j.call(u));b=we(b)}L.apply(u,b),c&&!o&&b.length>0&&v+t.length>1&&oe.uniqueSort(u)}return c&&(T=E,l=w),x};return n?se(o):o}return s=oe.compile=function(e,t){var n,r=[],i=[],o=S[e+" "];if(!o){t||(t=a(e)),n=t.length;while(n--)(o=Ce(t[n]))[b]?r.push(o):i.push(o);(o=S(e,Ee(i,r))).selector=e}return o},u=oe.select=function(e,t,n,i){var o,u,l,c,f,p="function"==typeof e&&e,d=!i&&a(e=p.selector||e);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===t.nodeType&&g&&r.relative[u[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(Z,ee),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(u.shift().value.length)}o=V.needsContext.test(e)?0:u.length;while(o--){if(l=u[o],r.relative[c=l.type])break;if((f=r.find[c])&&(i=f(l.matches[0].replace(Z,ee),K.test(u[0].type)&&ge(t.parentNode)||t))){if(u.splice(o,1),!(e=i.length&&ve(u)))return L.apply(n,i),n;break}}}return(p||s(e,d))(i,t,!g,n,!t||K.test(e)&&ge(t.parentNode)||t),n},n.sortStable=b.split("").sort(D).join("")===b,n.detectDuplicates=!!f,p(),n.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||le(P,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(e);w.find=E,w.expr=E.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=E.uniqueSort,w.text=E.getText,w.isXMLDoc=E.isXML,w.contains=E.contains,w.escapeSelector=E.escape;var k=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&w(e).is(n))break;r.push(e)}return r},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},D=w.expr.match.needsContext;function N(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,t,n){return g(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):"string"!=typeof t?w.grep(e,function(e){return u.call(t,e)>-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,i[t],n);return r>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&D.test(e)?w(e):e||[],!1).length}});var q,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||q,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:L.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),A.test(i[1])&&w.isPlainObject(t))for(i in t)g(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=r.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,q=w(r);var H=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&w(e);if(!D.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(w(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function P(e,t){while((e=e[t])&&1!==e.nodeType);return e}w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return N(e,"iframe")?e.contentDocument:(N(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=w.filter(r,i)),this.length>1&&(O[e]||w.uniqueSort(i),H.test(e)&&i.reverse()),this.pushStack(i)}});var M=/[^\x20\t\r\n\f]+/g;function R(e){var t={};return w.each(e.match(M)||[],function(e,n){t[n]=!0}),t}w.Callbacks=function(e){e="string"==typeof e?R(e):w.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1){n=a.shift();while(++s<o.length)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1)}e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){w.each(n,function(n,r){g(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==x(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return w.each(arguments,function(e,t){var n;while((n=w.inArray(t,o,n))>-1)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?w.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l};function I(e){return e}function W(e){throw e}function $(e,t,n,r){var i;try{e&&g(i=e.promise)?i.call(e).done(t).fail(n):e&&g(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(e){return i.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(t){w.each(n,function(n,r){var i=g(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&g(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var s=this,u=arguments,l=function(){var e,l;if(!(t<o)){if((e=r.apply(s,u))===n.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,g(l)?i?l.call(e,a(o,n,I,i),a(o,n,W,i)):(o++,l.call(e,a(o,n,I,i),a(o,n,W,i),a(o,n,I,n.notifyWith))):(r!==I&&(s=void 0,u=[e]),(i||n.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,c.stackTrace),t+1>=o&&(r!==W&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),e.setTimeout(c))}}return w.Deferred(function(e){n[0][3].add(a(0,e,g(i)?i:I,e.notifyWith)),n[1][3].add(a(0,e,g(t)?t:I)),n[2][3].add(a(0,e,g(r)?r:W))}).promise()},promise:function(e){return null!=e?w.extend(e,i):i}},o={};return w.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=w.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&($(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||g(i[n]&&i[n].then)))return a.then();while(n--)$(i[n],s(n),a.reject);return a.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&B.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout(function(){throw t})};var F=w.Deferred();w.fn.ready=function(e){return F.then(e)["catch"](function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||F.resolveWith(r,[w]))}}),w.ready.then=F.then;function _(){r.removeEventListener("DOMContentLoaded",_),e.removeEventListener("load",_),w.ready()}"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(w.ready):(r.addEventListener("DOMContentLoaded",_),e.addEventListener("load",_));var z=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===x(n)){i=!0;for(s in n)z(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,g(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(w(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},X=/^-ms-/,U=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function G(e){return e.replace(X,"ms-").replace(U,V)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=w.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[G(t)]=n;else for(r in t)i[G(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(G):(t=G(t))in r?[t]:t.match(M)||[]).length;while(n--)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var J=new Q,K=new Q,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Z.test(e)?JSON.parse(e):e)}function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ee,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=te(n)}catch(e){}K.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return K.hasData(e)||J.hasData(e)},data:function(e,t,n){return K.access(e,t,n)},removeData:function(e,t){K.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=K.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){n=a.length;while(n--)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=G(r.slice(5)),ne(o,r,i[r]));J.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){K.set(this,e)}):z(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=K.get(o,e)))return n;if(void 0!==(n=ne(o,e)))return n}else this.each(function(){K.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){K.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=J.get(e,t),n&&(!r||Array.isArray(n)?r=J.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),o=w._queueHooks(e,t),a=function(){w.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:w.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=w.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=J.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&w.contains(e.ownerDocument,e)&&"none"===w.css(e,"display")},se=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};function ue(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return w.css(e,t,"")},u=s(),l=n&&n[3]||(w.cssNumber[t]?"":"px"),c=(w.cssNumber[t]||"px"!==l&&+u)&&ie.exec(w.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)w.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,w.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var le={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,i=le[r];return i||(t=n.body.appendChild(n.createElement(r)),i=w.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),le[r]=i,i)}function fe(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=J.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ae(r)&&(i[o]=ce(r))):"none"!==n&&(i[o]="none",J.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}w.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?w(this).show():w(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,he=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;function ye(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&N(e,t)?w.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===x(o))w.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+w.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;w.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&w.inArray(o,r)>-1)i&&i.push(o);else if(l=w.contains(o.ownerDocument,o),a=ye(f.appendChild(o),"script"),l&&ve(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}!function(){var e=r.createDocumentFragment().appendChild(r.createElement("div")),t=r.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),h.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var be=r.documentElement,we=/^key/,Te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ce=/^([^.]*)(?:\.(.+)|)/;function Ee(){return!0}function ke(){return!1}function Se(){try{return r.activeElement}catch(e){}}function De(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)De(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ke;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return w().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),e.each(function(){w.event.add(this,t,i,r,n)})}w.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=J.get(e);if(y){n.handler&&(n=(o=n).handler,i=o.selector),i&&w.find.matchesSelector(be,i),n.guid||(n.guid=w.guid++),(u=y.events)||(u=y.events={}),(a=y.handle)||(a=y.handle=function(t){return"undefined"!=typeof w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(M)||[""]).length;while(l--)d=g=(s=Ce.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=w.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=w.event.special[d]||{},c=w.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),w.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=J.hasData(e)&&J.get(e);if(y&&(u=y.events)){l=(t=(t||"").match(M)||[""]).length;while(l--)if(s=Ce.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){f=w.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,y.handle)||w.removeEvent(e,d,y.handle),delete u[d])}else for(d in u)w.event.remove(e,d+t[l],n,r,!0);w.isEmptyObject(u)&&J.remove(e,"handle events")}},dispatch:function(e){var t=w.event.fix(e),n,r,i,o,a,s,u=new Array(arguments.length),l=(J.get(this,"events")||{})[t.type]||[],c=w.event.special[t.type]||{};for(u[0]=t,n=1;n<arguments.length;n++)u[n]=arguments[n];if(t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){s=w.event.handlers.call(this,t,l),n=0;while((o=s[n++])&&!t.isPropagationStopped()){t.currentTarget=o.elem,r=0;while((a=o.handlers[r++])&&!t.isImmediatePropagationStopped())t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,void 0!==(i=((w.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,u))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?w(i,this).index(l)>-1:w.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Se()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Se()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&N(this,"input"))return this.click(),!1},_default:function(e){return N(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ee:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ee,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ee,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Te.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||w.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return De(this,e,t,n,r)},one:function(e,t,n,r){return De(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each(function(){w.event.remove(this,e,n,t)})}});var Ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ae=/<script|<style|<link/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Le(e,t){return N(e,"table")&&N(11!==t.nodeType?t:t.firstChild,"tr")?w(e).children("tbody")[0]||e:e}function He(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Oe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Pe(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(J.hasData(e)&&(o=J.access(e),a=J.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)w.event.add(t,i,l[i][n])}K.hasData(e)&&(s=K.access(e),u=w.extend({},s),K.set(t,u))}}function Me(e,t){var n=t.nodeName.toLowerCase();"input"===n&&pe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Re(e,t,n,r){t=a.apply([],t);var i,o,s,u,l,c,f=0,p=e.length,d=p-1,y=t[0],v=g(y);if(v||p>1&&"string"==typeof y&&!h.checkClone&&je.test(y))return e.each(function(i){var o=e.eq(i);v&&(t[0]=y.call(this,i,o.html())),Re(o,t,n,r)});if(p&&(i=xe(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(u=(s=w.map(ye(i,"script"),He)).length;f<p;f++)l=i,f!==d&&(l=w.clone(l,!0,!0),u&&w.merge(s,ye(l,"script"))),n.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,w.map(s,Oe),f=0;f<u;f++)l=s[f],he.test(l.type||"")&&!J.access(l,"globalEval")&&w.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(l.src):m(l.textContent.replace(qe,""),c,l))}return e}function Ie(e,t,n){for(var r,i=t?w.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||w.cleanData(ye(r)),r.parentNode&&(n&&w.contains(r.ownerDocument,r)&&ve(ye(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e.replace(Ne,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=w.contains(e.ownerDocument,e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=ye(s),r=0,i=(o=ye(e)).length;r<i;r++)Me(o[r],a[r]);if(t)if(n)for(o=o||ye(e),a=a||ye(s),r=0,i=o.length;r<i;r++)Pe(o[r],a[r]);else Pe(e,s);return(a=ye(s,"script")).length>0&&ve(a,!u&&ye(e,"script")),s},cleanData:function(e){for(var t,n,r,i=w.event.special,o=0;void 0!==(n=e[o]);o++)if(Y(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)i[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Ie(this,e,!0)},remove:function(e){return Ie(this,e)},text:function(e){return z(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Re(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,e).appendChild(e)})},prepend:function(){return Re(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Le(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return z(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Re(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ye(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,r=[],i=w(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),w(i[a])[t](n),s.apply(r,n.get());return this.pushStack(r)}});var We=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),$e=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Be=new RegExp(oe.join("|"),"i");!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",be.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);i="1%"!==t.top,u=12===n(t.marginLeft),c.style.right="60%",s=36===n(t.right),o=36===n(t.width),c.style.position="absolute",a=36===c.offsetWidth||"absolute",be.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var i,o,a,s,u,l=r.createElement("div"),c=r.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(h,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),a}}))}();function Fe(e,t,n){var r,i,o,a,s=e.style;return(n=n||$e(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||w.contains(e.ownerDocument,e)||(a=w.style(e,t)),!h.pixelBoxStyles()&&We.test(a)&&Be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function _e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}var ze=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ue={position:"absolute",visibility:"hidden",display:"block"},Ve={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","Moz","ms"],Ye=r.createElement("div").style;function Qe(e){if(e in Ye)return e;var t=e[0].toUpperCase()+e.slice(1),n=Ge.length;while(n--)if((e=Ge[n]+t)in Ye)return e}function Je(e){var t=w.cssProps[e];return t||(t=w.cssProps[e]=Qe(e)||e),t}function Ke(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ze(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=w.css(e,n+oe[a],!0,i)),r?("content"===n&&(u-=w.css(e,"padding"+oe[a],!0,i)),"margin"!==n&&(u-=w.css(e,"border"+oe[a]+"Width",!0,i))):(u+=w.css(e,"padding"+oe[a],!0,i),"padding"!==n?u+=w.css(e,"border"+oe[a]+"Width",!0,i):s+=w.css(e,"border"+oe[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))),u}function et(e,t,n){var r=$e(e),i=Fe(e,t,r),o="border-box"===w.css(e,"boxSizing",!1,r),a=o;if(We.test(i)){if(!n)return i;i="auto"}return a=a&&(h.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===w.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+Ze(e,t,n||(o?"border":"content"),a,r,i)+"px"}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Fe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=G(t),u=Xe.test(t),l=e.style;if(u||(t=Je(s)),a=w.cssHooks[t]||w.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=ue(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(w.cssNumber[s]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=G(t);return Xe.test(t)||(t=Je(s)),(a=w.cssHooks[t]||w.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Fe(e,t,r)),"normal"===i&&t in Ve&&(i=Ve[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!ze.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,r):se(e,Ue,function(){return et(e,t,r)})},set:function(e,n,r){var i,o=$e(e),a="border-box"===w.css(e,"boxSizing",!1,o),s=r&&Ze(e,t,r,a,o);return a&&h.scrollboxSize()===o.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Ze(e,t,"border",!1,o)-.5)),s&&(i=ie.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Ke(e,n,s)}}}),w.cssHooks.marginLeft=_e(h.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Fe(e,"marginLeft"))||e.getBoundingClientRect().left-se(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(w.cssHooks[e+t].set=Ke)}),w.fn.extend({css:function(e,t){return z(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=$e(e),i=t.length;a<i;a++)o[t[a]]=w.css(e,t[a],!1,r);return o}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)}});function tt(e,t,n,r,i){return new tt.prototype.init(e,t,n,r,i)}w.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[w.cssProps[e.prop]]&&!w.cssHooks[e.prop]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=tt.prototype.init,w.fx.step={};var nt,rt,it=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function at(){rt&&(!1===r.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(at):e.setTimeout(at,w.fx.interval),w.fx.tick())}function st(){return e.setTimeout(function(){nt=void 0}),nt=Date.now()}function ut(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=oe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function lt(e,t,n){for(var r,i=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ct(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),y=J.get(e,"fxshow");n.queue||(null==(a=w._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,w.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],it.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;g=!0}d[r]=y&&y[r]||w.style(e,r)}if((u=!w.isEmptyObject(t))||!w.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=y&&y.display)&&(l=J.get(e,"display")),"none"===(c=w.css(e,"display"))&&(l?c=l:(fe([e],!0),l=e.style.display||l,c=w.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===w.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(y?"hidden"in y&&(g=y.hidden):y=J.access(e,"fxshow",{display:l}),o&&(y.hidden=!g),g&&fe([e],!0),p.done(function(){g||fe([e]),J.remove(e,"fxshow");for(r in d)w.style(e,r,d[r])})),u=lt(g?y[r]:0,r,p),r in y||(y[r]=u.start,g&&(u.end=u.start,u.start=0))}}function ft(e,t){var n,r,i,o,a;for(n in e)if(r=G(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=w.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function pt(e,t,n){var r,i,o=0,a=pt.prefilters.length,s=w.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=nt||st(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||st(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(ft(c,l.opts.specialEasing);o<a;o++)if(r=pt.prefilters[o].call(l,e,c,l.opts))return g(r.stop)&&(w._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return w.map(c,lt,l),g(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),w.fx.timer(w.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}w.Animation=w.extend(pt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(M);for(var n,r=0,i=e.length;r<i;r++)n=e[r],pt.tweeners[n]=pt.tweeners[n]||[],pt.tweeners[n].unshift(t)},prefilters:[ct],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),w.speed=function(e,t,n){var r=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=w.isEmptyObject(e),o=w.speed(t,n,r),a=function(){var t=pt(this,w.extend({},e),o);(i||J.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=w.timers,a=J.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ot.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=J.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=w.timers,a=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ut(t,!0),e,r,i)}}),w.each({slideDown:ut("show"),slideUp:ut("hide"),slideToggle:ut("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),nt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){rt||(rt=!0,at())},w.fx.stop=function(){rt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,n){return t=w.fx?w.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=r.createElement("input"),t=r.createElement("select").appendChild(r.createElement("option"));e.type="checkbox",h.checkOn=""!==e.value,h.optSelected=t.selected,(e=r.createElement("input")).value="t",e.type="radio",h.radioValue="t"===e.value}();var dt,ht=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return z(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?w.prop(e,t,n):(1===o&&w.isXMLDoc(e)||(i=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&N(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(M);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ht[t]||w.find.attr;ht[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=ht[a],ht[a]=i,i=null!=n(e,t,r)?a:null,ht[a]=o),i}});var gt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;w.fn.extend({prop:function(e,t){return z(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(e)||(t=w.propFix[t]||t,i=w.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):gt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),h.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this});function vt(e){return(e.match(M)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function xt(e){return Array.isArray(e)?e:"string"==typeof e?e.match(M)||[]:[]}w.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){w(this).addClass(e.call(this,t,mt(this)))});if((t=xt(e)).length)while(n=this[u++])if(i=mt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=t[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){w(this).removeClass(e.call(this,t,mt(this)))});if(!arguments.length)return this.attr("class","");if((t=xt(e)).length)while(n=this[u++])if(i=mt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=t[a++])while(r.indexOf(" "+o+" ")>-1)r=r.replace(" "+o+" "," ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):g(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,mt(this),t),t)}):this.each(function(){var t,i,o,a;if(r){i=0,o=w(this),a=xt(e);while(t=a[i++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else void 0!==e&&"boolean"!==n||((t=mt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&(" "+vt(mt(n))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;w.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=g(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,w(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=w.map(i,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(bt,""):null==n?"":n}}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:vt(w.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(t=w(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=w.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=w.inArray(w.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},h.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),h.focusin="onfocusin"in e;var wt=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,i,o){var a,s,u,l,c,p,d,h,v=[i||r],m=f.call(t,"type")?t.type:t,x=f.call(t,"namespace")?t.namespace.split("."):[];if(s=h=u=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!wt.test(m+w.event.triggered)&&(m.indexOf(".")>-1&&(m=(x=m.split(".")).shift(),x.sort()),c=m.indexOf(":")<0&&"on"+m,t=t[w.expando]?t:new w.Event(m,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=x.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:w.makeArray(n,[t]),d=w.event.special[m]||{},o||!d.trigger||!1!==d.trigger.apply(i,n))){if(!o&&!d.noBubble&&!y(i)){for(l=d.delegateType||m,wt.test(l+m)||(s=s.parentNode);s;s=s.parentNode)v.push(s),u=s;u===(i.ownerDocument||r)&&v.push(u.defaultView||u.parentWindow||e)}a=0;while((s=v[a++])&&!t.isPropagationStopped())h=s,t.type=a>1?l:d.bindType||m,(p=(J.get(s,"events")||{})[t.type]&&J.get(s,"handle"))&&p.apply(s,n),(p=c&&s[c])&&p.apply&&Y(s)&&(t.result=p.apply(s,n),!1===t.result&&t.preventDefault());return t.type=m,o||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(v.pop(),n)||!Y(i)||c&&g(i[m])&&!y(i)&&((u=i[c])&&(i[c]=null),w.event.triggered=m,t.isPropagationStopped()&&h.addEventListener(m,Tt),i[m](),t.isPropagationStopped()&&h.removeEventListener(m,Tt),w.event.triggered=void 0,u&&(i[c]=u)),t.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),h.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=J.access(r,t);i||r.addEventListener(e,n,!0),J.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=J.access(r,t)-1;i?J.access(r,t,i):(r.removeEventListener(e,n,!0),J.remove(r,t))}}});var Ct=e.location,Et=Date.now(),kt=/\?/;w.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),n};var St=/\[\]$/,Dt=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;function jt(e,t,n,r){var i;if(Array.isArray(t))w.each(t,function(t,i){n||St.test(e)?r(e,i):jt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==x(t))r(e,t);else for(i in t)jt(e+"["+i+"]",t[i],n,r)}w.param=function(e,t){var n,r=[],i=function(e,t){var n=g(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){i(this.name,this.value)});else for(n in e)jt(n,e[n],t,i);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&At.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}});var qt=/%20/g,Lt=/#.*$/,Ht=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mt=/^(?:GET|HEAD)$/,Rt=/^\/\//,It={},Wt={},$t="*/".concat("*"),Bt=r.createElement("a");Bt.href=Ct.href;function Ft(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(M)||[];if(g(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function _t(e,t,n,r){var i={},o=e===Wt;function a(s){var u;return i[s]=!0,w.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function zt(e,t){var n,r,i=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&w.extend(!0,e,r),e}function Xt(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Ut(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:Pt.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,w.ajaxSettings),t):zt(w.ajaxSettings,e)},ajaxPrefilter:Ft(It),ajaxTransport:Ft(Wt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,p,d,h=w.ajaxSetup({},n),g=h.context||h,y=h.context&&(g.nodeType||g.jquery)?w(g):w.event,v=w.Deferred(),m=w.Callbacks("once memory"),x=h.statusCode||{},b={},T={},C="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s){s={};while(t=Ot.exec(a))s[t[1].toLowerCase()]=t[2]}t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=T[e.toLowerCase()]=T[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)E.always(e[E.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||C;return i&&i.abort(t),k(0,t),this}};if(v.promise(E),h.url=((t||h.url||Ct.href)+"").replace(Rt,Ct.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(M)||[""],null==h.crossDomain){l=r.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Bt.protocol+"//"+Bt.host!=l.protocol+"//"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=w.param(h.data,h.traditional)),_t(It,h,n,E),c)return E;(f=w.event&&h.global)&&0==w.active++&&w.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Mt.test(h.type),o=h.url.replace(Lt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(qt,"+")):(d=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(kt.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Ht,"$1"),d=(kt.test(o)?"&":"?")+"_="+Et+++d),h.url=o+d),h.ifModified&&(w.lastModified[o]&&E.setRequestHeader("If-Modified-Since",w.lastModified[o]),w.etag[o]&&E.setRequestHeader("If-None-Match",w.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&E.setRequestHeader("Content-Type",h.contentType),E.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+$t+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)E.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(g,E,h)||c))return E.abort();if(C="abort",m.add(h.complete),E.done(h.success),E.fail(h.error),i=_t(Wt,h,n,E)){if(E.readyState=1,f&&y.trigger("ajaxSend",[E,h]),c)return E;h.async&&h.timeout>0&&(u=e.setTimeout(function(){E.abort("timeout")},h.timeout));try{c=!1,i.send(b,k)}catch(e){if(c)throw e;k(-1,e)}}else k(-1,"No Transport");function k(t,n,r,s){var l,p,d,b,T,C=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",E.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=Xt(h,E,r)),b=Ut(h,b,E,l),l?(h.ifModified&&((T=E.getResponseHeader("Last-Modified"))&&(w.lastModified[o]=T),(T=E.getResponseHeader("etag"))&&(w.etag[o]=T)),204===t||"HEAD"===h.type?C="nocontent":304===t?C="notmodified":(C=b.state,p=b.data,l=!(d=b.error))):(d=C,!t&&C||(C="error",t<0&&(t=0))),E.status=t,E.statusText=(n||C)+"",l?v.resolveWith(g,[p,C,E]):v.rejectWith(g,[E,C,d]),E.statusCode(x),x=void 0,f&&y.trigger(l?"ajaxSuccess":"ajaxError",[E,h,l?p:d]),m.fireWith(g,[E,C]),f&&(y.trigger("ajaxComplete",[E,h]),--w.active||w.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,n,r,i){return g(n)&&(i=i||r,r=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:i,data:n,success:r},w.isPlainObject(e)&&e))}}),w._evalUrl=function(e){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=g(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Vt={0:200,1223:204},Gt=w.ajaxSettings.xhr();h.cors=!!Gt&&"withCredentials"in Gt,h.ajax=Gt=!!Gt,w.ajaxTransport(function(t){var n,r;if(h.cors||Gt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Vt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,o){t=w("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),r.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Yt=[],Qt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||w.expando+"_"+Et++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Qt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Qt,"$1"+i):!1!==t.jsonp&&(t.url+=(kt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||w.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?w(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Yt.push(i)),a&&g(o)&&o(a[0]),a=o=void 0}),"script"}),h.createHTMLDocument=function(){var e=r.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),w.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,o,a;return t||(h.createHTMLDocument?((i=(t=r.implementation.createHTMLDocument("")).createElement("base")).href=r.location.href,t.head.appendChild(i)):t=r),o=A.exec(e),a=!n&&[],o?[t.createElement(o[1])]:(o=xe([e],t,a),a&&a.length&&w(a).remove(),w.merge([],o.childNodes))},w.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=vt(e.slice(s)),e=e.slice(0,s)),g(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&w.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?w("<div>").append(w.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=w.css(e,"position"),f=w(e),p={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=w.css(e,"top"),u=w.css(e,"left"),(l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1)?(a=(r=f.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),g(t)&&(t=t.call(e,n,w.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):f.css(p)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),i.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-w.css(r,"marginTop",!0),left:t.left-i.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===w.css(e,"position"))e=e.offsetParent;return e||be})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;w.fn[e]=function(r){return z(this,function(e,r,i){var o;if(y(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=_e(h.pixelPosition,function(e,n){if(n)return n=Fe(e,t),We.test(n)?w(e).position()[t]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){w.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return z(this,function(t,n,i){var o;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?w.css(t,n,s):w.style(t,n,i,s)},t,a?i:void 0,a)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),w.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return r=o.call(arguments,2),i=function(){return e.apply(t||this,r.concat(o.call(arguments)))},i.guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=N,w.isFunction=g,w.isWindow=y,w.camelCase=G,w.type=x,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var Jt=e.jQuery,Kt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Kt),t&&e.jQuery===w&&(e.jQuery=Jt),w},t||(e.jQuery=e.$=w),w});

/*! jQuery UI - v1.12.1 - 2019-06-16
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/draggable.js, widgets/droppable.js, widgets/resizable.js, widgets/selectable.js, widgets/sortable.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/selectmenu.js, widgets/slider.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}function i(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function s(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,o)}function o(){t.datepicker._isDisabledDatepicker(p.inline?p.dpDiv.parent()[0]:p.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}function r(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.ui.version="1.12.1";var h=0,l=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},h=e.split(".")[0];e=e.split(".")[1];var l=h+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][l.toLowerCase()]=function(e){return!!t.data(e,l)},t[h]=t[h]||{},n=t[h][e],o=t[h][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}(),void 0):(r[e]=s,void 0)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:h,widgetName:e,widgetFullName:l}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,s,n=l.call(arguments,1),o=0,a=n.length;a>o;o++)for(i in n[o])s=n[o][i],n[o].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(n){var o="string"==typeof n,a=l.call(arguments,1),r=this;return o?this.length||"instance"!==n?this.each(function(){var i,o=t.data(this,s);return"instance"===n?(r=o,!1):o?t.isFunction(o[n])&&"_"!==n.charAt(0)?(i=o[n].apply(o,a),i!==o&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+n+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+n+"'")}):r=void 0:(a.length&&(n=t.widget.extend.apply(null,[n].concat(a))),this.each(function(){var e=t.data(this,s);e?(e.option(n||{}),e._init&&e._init()):t.data(this,s,new i(n,this))})),r}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=h++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;s.length-1>o;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;i.length>r;r++)a=n.classesElementLookup[i[r]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+o.eventNamespace,c=h[2];c?n.on(l,c,r):i.on(l,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget,function(){function e(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var n,o=Math.max,a=Math.abs,r=/left|center|right/,h=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return t("body").append(s),e=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType,o=!s&&!n;return{element:i,isWindow:s,isDocument:n,offset:o?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return d.apply(this,arguments);n=t.extend({},n);var u,p,f,g,m,_,v=t(n.of),b=t.position.getWithinInfo(n.within),y=t.position.getScrollInfo(b),w=(n.collision||"flip").split(" "),k={};return _=s(v),v[0].preventDefault&&(n.at="left top"),p=_.width,f=_.height,g=_.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,i=(n[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):h.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=h.test(i[1])?i[1]:"center",t=l.exec(i[0]),e=l.exec(i[1]),k[this]=[t?t[0]:0,e?e[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===n.at[0]?m.left+=p:"center"===n.at[0]&&(m.left+=p/2),"bottom"===n.at[1]?m.top+=f:"center"===n.at[1]&&(m.top+=f/2),u=e(k.at,p,f),m.left+=u[0],m.top+=u[1],this.each(function(){var s,r,h=t(this),l=h.outerWidth(),c=h.outerHeight(),d=i(this,"marginLeft"),_=i(this,"marginTop"),x=l+d+i(this,"marginRight")+y.width,C=c+_+i(this,"marginBottom")+y.height,D=t.extend({},m),I=e(k.my,h.outerWidth(),h.outerHeight());"right"===n.my[0]?D.left-=l:"center"===n.my[0]&&(D.left-=l/2),"bottom"===n.my[1]?D.top-=c:"center"===n.my[1]&&(D.top-=c/2),D.left+=I[0],D.top+=I[1],s={marginLeft:d,marginTop:_},t.each(["left","top"],function(e,i){t.ui.position[w[e]]&&t.ui.position[w[e]][i](D,{targetWidth:p,targetHeight:f,elemWidth:l,elemHeight:c,collisionPosition:s,collisionWidth:x,collisionHeight:C,offset:[u[0]+I[0],u[1]+I[1]],my:n.my,at:n.at,within:b,elem:h})}),n.using&&(r=function(t){var e=g.left-D.left,i=e+p-l,s=g.top-D.top,r=s+f-c,u={target:{element:v,left:g.left,top:g.top,width:p,height:f},element:{element:h,left:D.left,top:D.top,width:l,height:c},horizontal:0>i?"left":e>0?"right":"center",vertical:0>r?"top":s>0?"bottom":"middle"};l>p&&p>a(e+i)&&(u.horizontal="center"),c>f&&f>a(s+r)&&(u.vertical="middle"),u.important=o(a(e),a(i))>o(a(s),a(r))?"horizontal":"vertical",n.using.call(this,t,u)}),h.offset(t.extend(D,{using:r}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-a-n;e.collisionWidth>a?h>0&&0>=l?(i=t.left+h+e.collisionWidth-a-n,t.left+=h-i):t.left=l>0&&0>=h?n:h>l?n+a-e.collisionWidth:n:h>0?t.left+=h:l>0?t.left-=l:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-a-n;e.collisionHeight>a?h>0&&0>=l?(i=t.top+h+e.collisionHeight-a-n,t.top+=h-i):t.top=l>0&&0>=h?n:h>l?n+a-e.collisionHeight:n:h>0?t.top+=h:l>0?t.top-=l:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,r=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-h,u=l+e.collisionWidth-r-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-r-o,(0>i||a(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-h,(s>0||u>a(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,r=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-h,u=l+e.collisionHeight-r-h,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-r-o,(0>s||a(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-h,(i>0||u>a(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}}),t.ui.focusable=function(i,s){var n,o,a,r,h,l=i.nodeName.toLowerCase();return"area"===l?(n=i.parentNode,o=n.name,i.href&&o&&"map"===n.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']"),a.length>0&&a.is(":visible")):!1):(/^(input|select|textarea|button|object)$/.test(l)?(r=!i.disabled,r&&(h=t(i).closest("fieldset")[0],h&&(r=!h.disabled))):r="a"===l?i.href||s:s,r&&t(i).is(":visible")&&e(t(i)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,i,s,n,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),s=this.attr("id"),s&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(s)+"']",n=n.add(o.find(i).addBack(i))),this.pushStack(n))},t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),s=null!=i;return(!s||i>=0)&&t.ui.focusable(e,s)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var c=!1;t(document).on("mouseup",function(){c=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!c){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),c=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,c=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blurActiveElement(e),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),s=t(e.target);s.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)
},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,h=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(h=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,o,a,r,h,l,c,u,d,p,f=s.options,g=f.snapTolerance,m=i.offset.left,_=m+s.helperProportions.width,v=i.offset.top,b=v+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)h=s.snapElements[d].left-s.margins.left,l=h+s.snapElements[d].width,c=s.snapElements[d].top-s.margins.top,u=c+s.snapElements[d].height,h-g>_||m>l+g||c-g>b||v>u+g||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=g>=Math.abs(c-b),o=g>=Math.abs(u-v),a=g>=Math.abs(h-_),r=g>=Math.abs(l-m),n&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=g>=Math.abs(c-v),o=g>=Math.abs(u-b),a=g>=Math.abs(h-m),r=g>=Math.abs(l-_),n&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.ui.draggable,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],void 0):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&u(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var u=t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,s,n){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,r=o+e.helperProportions.width,h=a+e.helperProportions.height,l=i.offset.left,c=i.offset.top,u=l+i.proportions().width,d=c+i.proportions().height;switch(s){case"fit":return o>=l&&u>=r&&a>=c&&d>=h;case"intersect":return o+e.helperProportions.width/2>l&&u>r-e.helperProportions.width/2&&a+e.helperProportions.height/2>c&&d>h-e.helperProportions.height/2;case"pointer":return t(n.pageY,c,i.proportions().height)&&t(n.pageX,l,i.proportions().width);case"touch":return(a>=c&&d>=a||h>=c&&d>=h||c>a&&h>d)&&(o>=l&&u>=o||r>=l&&u>=r||l>o&&r>u);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;o.length>s;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===o[s].element[0]){o[s].proportions().height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&u(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,o,a=u(e,this,this.options.tolerance,i),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===n}),o.length&&(s=t(o[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)},_create:function(){var e,i=this.options,s=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(s._removeClass("ui-resizable-autohide"),s._handles.show())}).on("mouseleave",function(){i.disabled||s.resizing||(s._addClass("ui-resizable-autohide"),s._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles();break;default:}},_setupHandles:function(){var e,i,s,n,o,a=this.options,r=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},i=0;s.length>i;i++)e=t.trim(s[i]),n="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+n),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,s,n,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,s+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s,n=this.originalMousePosition,o=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,h=this._change[o];return this._updatePrevProperties(),h?(i=h.apply(this,[e,a,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,h,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-n},r=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,h=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>n&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,h=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&l&&(t.left=r-e.minWidth),s&&l&&(t.left=r-e.maxWidth),a&&c&&(t.top=h-e.minHeight),n&&c&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-a},l=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,n,o,a,r,h=t(this).resizable("instance"),l=h.options,c=h.element,u=l.containment,d=u instanceof t?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(h.containerElement=t(d),/document/.test(u)||u===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=h._num(e.css("padding"+s))}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,o=h.containerSize.width,a=h._hasScroll(d,"left")?d.scrollWidth:o,r=h._hasScroll(d)?d.scrollHeight:n,h.parentData={element:d,left:s.left,top:s.top,width:a,height:r}))},resize:function(e){var i,s,n,o,a=t(this).resizable("instance"),r=a.options,h=a.containerOffset,l=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=h),l.left<(a._helper?h.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-h.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=r.helper?h.left:0),l.top<(a._helper?h.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-h.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?h.top:0),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-u.left:a.offset.left-h.left)),s=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-u.top:a.offset.top-h.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,c&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),h=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var s=t(this).resizable("instance"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0};
t(n.alsoResize).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),n={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),s=i.options,n=i.size,o=i.originalSize,a=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,c=h[1]||1,u=Math.round((n.width-o.width)/l)*l,d=Math.round((n.height-o.height)/c)*c,p=o.width+u,f=o.height+d,g=s.maxWidth&&p>s.maxWidth,m=s.maxHeight&&f>s.maxHeight,_=s.minWidth&&s.minWidth>p,v=s.minHeight&&s.minHeight>f;s.grid=h,_&&(p+=l),v&&(f+=c),g&&(p-=l),m&&(f-=c),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=a.left-u):((0>=f-c||0>=p-l)&&(e=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=a.top-d):(f=c-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-l>0?(i.size.width=p,i.position.left=a.left-u):(p=l-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}}),t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),s=i.offset(),n={left:s.left-e.elementPos.left,top:s.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:n.left,top:n.top,right:n.left+i.outerWidth(),bottom:n.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(s.$element,"ui-selected"),s.selected=!1,i._addClass(s.$element,"ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),i._removeClass(n.$element,s?"ui-unselecting":"ui-selected")._addClass(n.$element,s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,h=e.pageY;return o>r&&(i=r,r=o,o=i),a>h&&(i=h,h=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:h-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),l=!1,c={};i&&i.element!==s.element[0]&&(c.left=i.left+s.elementPos.left,c.right=i.right+s.elementPos.left,c.top=i.top+s.elementPos.top,c.bottom=i.bottom+s.elementPos.top,"touch"===n.tolerance?l=!(c.left>r||o>c.right||c.top>h||a>c.bottom):"fit"===n.tolerance&&(l=c.left>o&&r>c.right&&c.top>a&&h>c.bottom),l?(i.selected&&(s._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(s._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(s._addClass(i.$element,"ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,s._addClass(i.$element,"ui-selected"),i.selected=!0):(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(s._removeClass(i.$element,"ui-selected"),i.selected=!1,s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-selecting")._addClass(s.$element,"ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=s&&n;return o?(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1)):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(o=t(l[s],this.document[0]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i],this.document[0]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+"-item",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]);return e._addClass(n,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(n)):"tr"===s?e._createTrPlaceholder(e.currentItem,n):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,n,o,a,r,h,l,c,u,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,c=d.floating||this._isFloating(this.currentItem),a=c?"left":"top",r=c?"width":"height",u=c?"pageX":"pageY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[a],l=!1,e[u]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(e[u]-h)&&(n=Math.abs(e[u]-h),o=this.items[s],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,s=this.options.icons;s&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+s.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,s.header)._addClass(i,null,s.activeHeader)._addClass(this.headers,"ui-accordion-icons"))
},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void 0)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:o=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[s-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),s=e.next(),n=s.uniqueId().attr("id");e.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(e=n.height(),this.element.siblings(":visible").each(function(){var i=t(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===s&&(e=0,this.headers.next().each(function(){var i=t(this).is(":visible");i||t(this).show(),e=Math.max(e,t(this).css("height","").height()),i||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,s,n=this.options,o=this.active,a=t(e.currentTarget),r=a[0]===o[0],h=r&&n.collapsible,l=h?t():a.next(),c=o.next(),u={oldHeader:o,oldPanel:c,newHeader:h?t():a,newPanel:l};e.preventDefault(),r&&!n.collapsible||this._trigger("beforeActivate",e,u)===!1||(n.active=h?!1:this.headers.index(a),this.active=r?t():a,this._toggle(u),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),n.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,n.icons.activeHeader)._addClass(i,null,n.icons.header)),r||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),n.icons&&(s=a.children(".ui-accordion-header-icon"),this._removeClass(s,null,n.icons.header)._addClass(s,null,n.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var s,n,o,a=this,r=0,h=t.css("box-sizing"),l=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},u=l&&c.down||c,d=function(){a._toggleComplete(i)};return"number"==typeof u&&(o=u),"string"==typeof u&&(n=u),n=n||u.easing||c.easing,o=o||u.duration||c.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:n,step:function(t,e){e.now=Math.round(t)}}),t.hide().animate(this.showProps,{duration:o,easing:n,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-r),r=0)}}),void 0):e.animate(this.hideProps,o,n,d):t.animate(this.showProps,o,n,d)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),s=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&s.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),s=t(e.currentTarget);i[0]===s[0]&&(this._removeClass(s.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,s))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var i,s,n,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,s=this.previousFilter||"",o=!1,n=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),n===s?o=!0:n=s+n,i=this._filterMenuItems(n),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,s,n,o,a=this,r=this.options.icons.submenu,h=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),s=h.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),s=t("<span>").data("ui-menu-submenu-caret",!0);a._addClass(s,"ui-menu-icon","ui-icon "+r),i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"))}),this._addClass(s,"ui-menu","ui-widget ui-widget-content ui-front"),e=h.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content")}),n=i.not(".ui-menu-item, .ui-menu-divider"),o=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,s,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this._removeClass(s.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(e),void 0)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())),void 0):(this.next(e),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,i=!0,void 0;e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,t.preventDefault(),void 0):(this._searchTimeout(t),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(t),this._change(t),void 0)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&t.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=s})),!1!==this._trigger("select",e,{item:s})&&this._value(s.value),this.term=this._value(),this.close(e),this.selectedItem=s}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!s)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[t](e),void 0):(this.search(null,e),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete;var d=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(s,n){var o,a={};return n?"controlgroupLabel"===s?(o=e.element.find(n),o.each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),i=i.concat(o.get()),void 0):(t.fn[s]&&(a=e["_"+s+"Options"]?e["_"+s+"Options"]("middle"):{classes:{}},e.element.find(n).each(function(){var n=t(this),o=n[s]("instance"),r=t.widget.extend({},a);if("button"!==s||!n.parent(".ui-spinner").length){o||(o=n[s]()[s]("instance")),o&&(r.classes=e._resolveClassesValues(r.classes,o)),n[s](r);var h=n[s]("widget");t.data(h[0],"ui-controlgroup-data",o?o:n[s]("instance")),i.push(h[0])}})),void 0):void 0}),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this),s=i.data("ui-controlgroup-data");s&&s[e]&&s[e]()})},_updateCornerClass:function(t,e){var i="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",s=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,i),this._addClass(t,null,s)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,s={classes:{}};return s.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],s},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:e?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,i){var s={};return t.each(e,function(n){var o=i.options.classes[n]||"";o=t.trim(o.replace(d,"")),s[n]=(o+" "+e[n]).replace(/\s+/g," ")}),s},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?(this._callChildMethod(e?"disable":"enable"),void 0):(this.refresh(),void 0)},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,s){var n=e[s]().data("ui-controlgroup-data");if(n&&i["_"+n.widgetName+"Options"]){var o=i["_"+n.widgetName+"Options"](1===e.length?"only":s);o.classes=i._resolveClassesValues(o.classes,n),n.element[n.widgetName](o)}else i._updateCornerClass(e[s](),s)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,s=this,n=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){s.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(n.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(n.disabled=e),n},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,i=this.element[0].name,s="input[name='"+t.ui.escapeSelector(i)+"']";return i?(e=this.form.length?t(this.form[0].elements).filter(s):t(s).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),this.element[0].disabled=e,void 0):(this.refresh(),void 0)):void 0},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)
},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var s="iconPosition"!==e,n=s?this.options.iconPosition:i,o="top"===n||"bottom"===n;this.icon?s&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),s&&this._addClass(this.icon,null,i),this._attachIcon(n),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?(this._super("showLabel",e),void 0):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments),void 0)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.1"}});var p;t.extend(s.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,o;s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),n),o.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&e.on("focus",this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;t.length>n;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,n,o){var r,h,l,c,u,d=this._dialogInst;return d||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),a(d.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+c,l/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),p===n&&(p=null))},_enableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,s){var n,o,r,h,l=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):l?"all"===i?t.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),a(l.settings,n),null!==r&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,r)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,o),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),n[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),i=t.datepicker._get(o,"onSelect"),i?(s=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[s,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,s,n=t.datepicker._getInst(e.target);return t.datepicker._get(n,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var s,n,o,r,h,l,c;s=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==s&&(t.datepicker._curInst.dpDiv.stop(!0,!0),s&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(s,"beforeShow"),o=n?n.apply(e,[e,s]):{},o!==!1&&(a(s.settings,o),s.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(s),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return r|="fixed"===t(this).css("position"),!r}),h={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,s.dpDiv.empty(),s.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(s),h=t.datepicker._checkOffset(s,h,r),s.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),s.inline||(l=t.datepicker._get(s,"showAnim"),c=t.datepicker._get(s,"duration"),s.dpDiv.css("z-index",i(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?s.dpDiv.show(l,t.datepicker._get(s,"showOptions"),c):s.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(s)&&s.input.trigger("focus"),t.datepicker._curInst=s))}},_updateDatepicker:function(e){this.maxRows=4,p=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,s=this._getNumberOfMonths(e),n=s[1],a=17,r=e.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-a:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+o>l&&l>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),s=this._get(a,"duration"),n=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),s,n):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+("M"===s?this._get(o,"showCurrentAtPos"):0),s),this._updateDatepicker(o))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===s?"Month":"Year")]=o["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,i,s,n){var o,a=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=s,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),s=this._get(o,"onSelect"),s?s.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(o).val(n))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,o,a,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,_=-1,v=-1,b=!1,y=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},w=function(t){var e=y(t),s="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n="y"===t?s:1,o=RegExp("^\\d{"+n+","+s+"}"),a=i.substring(h).match(o);if(!a)throw"Missing number at position "+h;return h+=a[0].length,parseInt(a[0],10)},k=function(e,s,n){var o=-1,a=t.map(y(e)?n:s,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var s=e[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(o=e[0],h+=s.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+h},x=function(){if(i.charAt(h)!==e.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;e.length>n;n++)if(b)"'"!==e.charAt(n)||y("'")?x():b=!1;else switch(e.charAt(n)){case"d":_=w("d");break;case"D":k("D",u,d);break;case"o":v=w("o");break;case"m":m=w("m");break;case"M":m=k("M",p,f);break;case"y":g=w("y");break;case"@":r=new Date(w("@")),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"!":r=new Date((w("!")-this._ticksTo1970)/1e4),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"'":y("'")?x():b=!0;break;default:x()}if(i.length>h&&(a=i.substr(h),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=g?0:-100)),v>-1)for(m=1,_=v;;){if(o=this._getDaysInMonth(g,m-1),o>=_)break;m++,_-=o}if(r=this._daylightSavingAdjust(new Date(g,m-1,_)),r.getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==_)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=t.length>s+1&&t.charAt(s+1)===e;return i&&s++,i},l=function(t,e,i){var s=""+e;if(h(t))for(;i>s.length;)s="0"+s;return s},c=function(t,e,i,s){return h(t)?s[e]:i[e]},u="",d=!1;if(e)for(s=0;t.length>s;s++)if(d)"'"!==t.charAt(s)||h("'")?u+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":u+=l("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),n,o);break;case"o":u+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),a,r);break;case"y":u+=h("y")?e.getFullYear():(10>e.getFullYear()%100?"0":"")+e.getFullYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":h("'")?u+="'":d=!0;break;default:u+=t.charAt(s)}return u},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=t.length>e+1&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;t.length>e;e++)if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(r){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=n.getFullYear(),a=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a))}l=h.exec(i)}return new Date(o,a,r)},a=null==i||""===i?s:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return a=a&&"Invalid Date"==""+a?s:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,h,l,c,u,d,p,f,g,m,_,v,b,y,w,k,x,C,D,I,T,P,M,S,H,z,O,A,N,W,E,F,L,R=new Date,B=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),Y=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),$=this._get(t,"stepMonths"),X=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,te=t.drawYear;if(0>Z&&(Z+=12,te--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=Q&&Q>e?Q:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-$,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Z+$,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:B,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,h=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(Y?"":h)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),_=this._get(t,"showOtherMonths"),v=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",k=0;U[0]>k;k++){for(x="",this.maxRows=4,C=0;U[1]>C;C++){if(D=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),I=" ui-corner-all",T="",X){if(T+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:T+=" ui-datepicker-group-first",I=" ui-corner-"+(Y?"right":"left");
break;case U[1]-1:T+=" ui-datepicker-group-last",I=" ui-corner-"+(Y?"left":"right");break;default:T+=" ui-datepicker-group-middle",I=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===k?Y?o:s:"")+(/all|right/.test(I)&&0===k?Y?s:o:"")+this._generateMonthYearHeader(t,Z,te,Q,J,k>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",P=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)M=(w+c)%7,P+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[M]+"'>"+p[M]+"</span></th>";for(T+=P+"</tr></thead><tbody>",S=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),H=(this._getFirstDayOfMonth(te,Z)-c+7)%7,z=Math.ceil((H+S)/7),O=X?this.maxRows>z?this.maxRows:z:z,this.maxRows=O,A=this._daylightSavingAdjust(new Date(te,Z,1-H)),N=0;O>N;N++){for(T+="<tr>",W=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(A)+"</td>":"",w=0;7>w;w++)E=m?m.apply(t.input?t.input[0]:null,[A]):[!0,""],F=A.getMonth()!==Z,L=F&&!v||!E[0]||Q&&Q>A||J&&A>J,W+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(A.getTime()===D.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===A.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!_?"":" "+E[1]+(A.getTime()===G.getTime()?" "+this._currentClass:"")+(A.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(F&&!_||!E[2]?"":" title='"+E[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+A.getMonth()+"' data-year='"+A.getFullYear()+"'")+">"+(F&&!_?"&#xa0;":L?"<span class='ui-state-default'>"+A.getDate()+"</span>":"<a class='ui-state-default"+(A.getTime()===B.getTime()?" ui-state-highlight":"")+(A.getTime()===G.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+A.getDate()+"</a>")+"</td>",A.setDate(A.getDate()+1),A=this._daylightSavingAdjust(A);T+=W+"</tr>"}Z++,Z>11&&(Z=0,te++),T+="</tbody></table>"+(X?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=T}y+=x}return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var h,l,c,u,d,p,f,g,m=this._get(t,"changeMonth"),_=this._get(t,"changeYear"),v=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!m)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!h||c>=s.getMonth())&&(!l||n.getMonth()>=c)&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");y+="</select>"}if(v||(b+=y+(!o&&m&&_?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!_)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),v&&(b+=(!o&&m&&_?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.selectedYear+("Y"===i?e:0),n=t.selectedMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,h=this._get(t,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new s,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),s=!0),s&&!i&&this._trigger("focus",e),s},open:function(){var e=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),this.close(e),void 0;if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.trigger("focus")}),e.preventDefault()):(this._delay(function(){s.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?(this._removeClass(this.uiDialog,"ui-dialog-buttons"),void 0):(t.each(i,function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,o={icon:s.icon,iconPosition:s.iconPosition,showLabel:s.showLabel,icons:s.icons,text:s.text},delete s.click,delete s.icon,delete s.iconPosition,delete s.showLabel,delete s.icons,"boolean"==typeof s.text&&delete s.text,t("<button></button>",s).button(o).appendTo(e.uiButtonSet).on("click",function(){n.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){i._addClass(t(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,o){var a=o.offset.left-i.document.scrollLeft(),r=o.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" "+"top"+(r>=0?"+":"")+r,of:i.window},i._removeClass(t(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,o=this.uiDialog.css("position"),a="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function(s,n){i._addClass(t(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(n,o){var a=i.uiDialog.offset(),r=a.left-i.document.scrollLeft(),h=a.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(h>=0?"+":"")+h,of:i.window},i._removeClass(t(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,s=!1,n={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,i){var s,n,o=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&(s=o.is(":data(ui-draggable)"),s&&!i&&o.draggable("destroy"),!s&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=o.is(":data(ui-resizable)"),n&&!i&&o.resizable("destroy"),n&&"string"==typeof i&&o.resizable("option","handles",i),n||i===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),void 0)},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,s=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(s).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var s=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&s.index!==e.focusIndex&&(e._trigger("focus",t,{item:s}),e.isOpen||e._select(s,t)),e.focusIndex=s.index,e.button.attr("aria-activedescendant",e.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var s=this,n="";t.each(i,function(i,o){var a;o.optgroup!==n&&(a=t("<li>",{text:o.optgroup}),s._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),n=o.optgroup),s._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var s=t("<li>"),n=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(s,null,"ui-state-disabled"),this._setText(n,i.label),s.append(n).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),n+=":not(.ui-state-disabled)"),s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](n).eq(-1):i[t+"All"](n).eq(0),s.length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return t===!1?(this.button.css("width",""),void 0):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t),void 0)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var i=this,s=[];e.each(function(e,n){s.push(i._parseOption(t(n),e))}),this.items=s},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",a=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)a.push(o);this.handles=n.add(t(a.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)
},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,o,a,r,h,l,c=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-c.values(e));(n>i||n===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(n=i,o=t(this),a=e)}),r=this._start(e,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),h=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-h.left-o.width()/2,top:e.pageY-h.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_uiHash:function(t,e,i){var s={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(s.value=void 0!==e?e:this.values(t),s.values=i||this.values()),s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var s,n,o=this.value(),a=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&this.options.range===!0&&(i=0===e?Math.min(n,i):Math.max(n,i)),a[e]=i),i!==o&&(s=this._trigger("slide",t,this._uiHash(e,i,a)),s!==!1&&(this._hasMultipleValues()?this.values(e,i):this.value(i)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;s.length>o;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=n-1;s>=0;s--)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,s=Math.round((t-e)/i)*i;t=s+e,t>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,s,n,o,a=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,c={};this._hasMultipleValues()?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),c["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](c,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?100*((s-n)/(o-n)):0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-i+"%"},r.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-i+"%"},r.animate))},_handleEvents:{keydown:function(e){var i,s,n,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),i=this._start(e,a),i===!1))return}switch(o=this.options.step,s=n=this._hasMultipleValues()?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-o)}this._slide(e,a,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);null!=n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t),void 0)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);e||(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,s,n;return"culture"===t||"numberFormat"===t?(i=this._parse(this.element.val()),this.options[t]=e,this.element.val(this._format(i)),void 0):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(s=this.buttons.first().find(".ui-icon"),this._removeClass(s,null,this.options.icons.up),this._addClass(s,null,e.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,e.down)),this._super(t,e),void 0)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:r(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:r(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:r(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:r(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:r(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?(r(this._value).call(this,t),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,s;i=e.href.replace(t,""),s=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return e.hash.length>1&&i===s}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each(function(i,n){return t(n).attr("aria-controls")===s?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e),void 0)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(i,s){var n,o,a,r=t(s).uniqueId().attr("id"),h=t(s).closest("li"),l=h.attr("aria-controls");e._isLocal(s)?(n=s.hash,a=n.substring(1),o=e.element.find(e._sanitizeSelector(n))):(a=h.attr("aria-controls")||t({}).uniqueId()[0].id,n="#"+a,o=e.element.find(n),o.length||(o=e._createPanel(a),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":a,"aria-labelledby":r}),o.attr("aria-labelledby",r)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,s,n;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),n=0;s=this.tabs[n];n++)i=t(s),e===!0||-1!==t.inArray(n,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n.closest("li"),a=o[0]===s[0],r=a&&i.collapsible,h=r?t():this._getPanelForTab(o),l=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:l,newTab:r?t():o,newPanel:h};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=r?!1:this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,i){function s(){o.running=!1,o._trigger("activate",e,i)}function n(){o._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,s):(a.show(),s())}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){o._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var s=this,n=this.tabs.eq(e),o=n.find(".ui-tabs-anchor"),a=this._getPanelForTab(n),r={tab:n,panel:a},h=function(t,e){"abort"===e&&s.panels.stop(!1,!0),s._removeClass(n,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,n){setTimeout(function(){a.html(t),s._trigger("load",i,r),h(n,e)},1)}).fail(function(t,e){setTimeout(function(){h(t,e)},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var s=this;this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s.element[0],e.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(e,s),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return"string"==typeof s||s.nodeType||s.jquery?this._open(e,t,s):(i=s.call(t[0],function(i){n._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i))})}),i&&this._open(e,t,i),void 0)},_open:function(e,i,s){function n(t){l.of=t,a.is(":hidden")||a.position(l)}var o,a,r,h,l=t.extend({},this.options.position);if(s){if(o=this._find(i))return o.tooltip.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),a=o.tooltip,this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),h=t("<div>").html(a.find(".ui-tooltip-content").html()),h.removeAttr("name").find("[name]").removeAttr("name"),h.removeAttr("id").find("[id]").removeAttr("id"),h.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:n}),n(e)):a.position(t.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){a.is(":visible")&&(n(l.of),clearInterval(r))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,i){var s={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var s=t.Event(e);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(s.mouseleave="close"),e&&"focusin"!==e.type||(s.focusout="close"),this._on(!0,i,s)},close:function(e){var i,s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);return o?(i=o.tooltip,o.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]
}),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1)),void 0):(n.removeData("ui-tooltip-open"),void 0)},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),s=t("<div>").appendTo(i),n=i.uniqueId().attr("id");return this._addClass(s,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[n]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur"),o=s.element;n.target=n.currentTarget=o[0],e.close(n,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip;var f="ui-effects-",g="ui-effects-style",m="ui-effects-animated",_=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(t,o){var a,r=o.re.exec(i),h=r&&o.parse(r),l=o.space||"rgba";return h?(a=s[l](h),s[c[l].cache]=a[c[l].cache],n=s._rgba=a._rgba,!1):e}),n.length?("0,0,0,0"===n.join()&&t.extend(n,o.transparent),s):o[i]}function n(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(n,a,r,h){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(a),a=e);var u=this,d=t.type(n),p=this._rgba=[];return a!==e&&(n=[n,a,r,h],d="array"),"string"===d?this.parse(s(n)||o._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof l?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice())}):f(c,function(e,s){var o=s.cache;f(s.props,function(t,e){if(!u[o]&&s.to){if("alpha"===t||null==n[t])return;u[o]=s.to(u._rgba)}u[o][e.idx]=i(n[t],e,!0)}),u[o]&&0>t.inArray(null,u[o].slice(0,3))&&(u[o][3]=1,s.from&&(u._rgba=s.from(u[o])))}),this):e},is:function(t){var i=l(t),s=!0,n=this;return f(c,function(t,o){var a,r=i[o.cache];return r&&(a=n[o.cache]||o.to&&o.to(n._rgba)||[],f(o.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===a[i.idx]:e})),s}),s},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=l(t),n=s._space(),o=c[n],a=0===this.alpha()?l("transparent"):this,r=a[o.cache]||o.to(a._rgba),h=r.slice();return s=s[o.cache],f(o.props,function(t,n){var o=n.idx,a=r[o],l=s[o],c=u[n.type]||{};null!==l&&(null===a?h[o]=l:(c.mod&&(l-a>c.mod/2?a+=c.mod:a-l>c.mod/2&&(a-=c.mod)),h[o]=i((l-a)*e+a,n)))}),this[n](h)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(e)._rgba;return l(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),h=Math.min(s,n,o),l=r-h,c=r+h,u=.5*c;return e=h===r?0:s===r?60*(n-o)/l+360:n===r?60*(o-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=u?l/c:l/(2-c),[Math.round(e)%360,i,u,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],o=t[3],a=.5>=s?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*n(r,a,e+1/3)),Math.round(255*n(r,a,e)),Math.round(255*n(r,a,e-1/3)),o]},f(c,function(s,n){var o=n.props,a=n.cache,h=n.to,c=n.from;l.fn[s]=function(s){if(h&&!this[a]&&(this[a]=h(this._rgba)),s===e)return this[a].slice();var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[a].slice();return f(o,function(t,e){var s=u["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),c?(n=l(c(d)),n[a]=d,n):l(d)},f(o,function(e,i){l.fn[e]||(l.fn[e]=function(n){var o,a=t.type(n),h="alpha"===e?this._hsla?"hsla":"rgba":s,l=this[h](),c=l[i.idx];return"undefined"===a?c:("function"===a&&(n=n.call(this,c),a=t.type(n)),null==n&&i.empty?this:("string"===a&&(o=r.exec(n),o&&(n=c+parseFloat(o[2])*("+"===o[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var o,a,r="";if("transparent"!==n&&("string"!==t.type(n)||(o=s(n)))){if(n=l(o||n),!d.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(h){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(_),function(){function e(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(o[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(o[i]=n[i]);return o}function i(e,i){var s,o,a={};for(s in i)o=i[s],e[s]!==o&&(n[s]||(t.fx.step[s]||!isNaN(parseFloat(o)))&&(a[s]=o));return a}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(_.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(n,o,a,r){var h=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr("class")||"",l=h.children?a.find("*").addBack():a;l=l.map(function(){var i=t(this);return{el:i,start:e(this)}}),o=function(){t.each(s,function(t,e){n[e]&&a[e+"Class"](n[e])})},o(),l=l.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",r),l=l.map(function(){var e=this,i=t.Deferred(),s=t.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),h.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,o){return s?t.effects.animateClass.call(this,{add:i},s,n,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,s,n,o,a){return"boolean"==typeof s||void 0===s?n?t.effects.animateClass.call(this,s?{add:i}:{remove:i},n,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},s,n,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o)}})}(),function(){function e(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function i(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}function s(t,e){var i=e.outerWidth(),s=e.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=n.exec(t)||["",0,i,s,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?i:parseFloat(o[2]),bottom:"auto"===o[3]?s:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(i){return!!t(i).data(m)||e(i)}}(t.expr.filters.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(t,e){for(var i=0,s=e.length;s>i;i++)null!==e[i]&&t.data(f+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,s=0,n=e.length;n>s;s++)null!==e[s]&&(i=t.data(f+e[s]),t.css(e[s],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,i,s){return s||(s=i,i="effect"),t.effects.effect[e]=s,t.effects.effect[e].mode=i,s},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s="horizontal"!==i?(e||100)/100:1,n="vertical"!==i?(e||100)/100:1;return{height:t.height()*n,width:t.width()*s,outerHeight:t.outerHeight()*n,outerWidth:t.outerWidth()*s}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var s=t.queue();e>1&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(g,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(g)||"",t.removeData(g)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createPlaceholder:function(e){var i,s=e.css("position"),n=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(s)&&(s="absolute",i=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),"float":e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(f+"placeholder",i)),e.css({position:s,left:n.left,top:n.top}),i},removePlaceholder:function(t){var e=f+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1])}),n}}),t.fn.extend({effect:function(){function i(e){function i(){r.removeData(m),t.effects.cleanUp(r),"hide"===s.mode&&r.hide(),a()}function a(){t.isFunction(h)&&h.call(r[0]),t.isFunction(e)&&e()}var r=t(this);s.mode=c.shift(),t.uiBackCompat===!1||o?"none"===s.mode?(r[l](),a()):n.call(r[0],s,i):(r.is(":hidden")?"hide"===l:"show"===l)?(r[l](),a()):n.call(r[0],s,a)}var s=e.apply(this,arguments),n=t.effects.effect[s.effect],o=n.mode,a=s.queue,r=a||"fx",h=s.complete,l=s.mode,c=[],u=function(e){var i=t(this),s=t.effects.mode(i,l)||o;i.data(m,!0),c.push(s),o&&("show"===s||s===o&&"hide"===s)&&i.show(),o&&"none"===s||t.effects.saveStyle(i),t.isFunction(e)&&e()};return t.fx.off||!n?l?this[l](s.duration,h):this.each(function(){h&&h.call(this)}):a===!1?this.each(u).each(i):this.queue(r,u).queue(r,i)},show:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(t.fn.show),hide:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(s){if(i(s)||"boolean"==typeof s)return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):s(this.css("clip"),this)},transfer:function(e,i){var s=t(this),n=t(e.to),o="fixed"===n.css("position"),a=t("body"),r=o?a.scrollTop():0,h=o?a.scrollLeft():0,l=n.offset(),c={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:u.top-r,left:u.left-h,height:s.innerHeight(),width:s.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),t.isFunction(i)&&i()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=s(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}();var v=t.effects;t.effects.define("blind","hide",function(e,i){var s={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},n=t(this),o=e.direction||"up",a=n.cssClip(),r={clip:t.extend({},a)},h=t.effects.createPlaceholder(n);r.clip[s[o][0]]=r.clip[s[o][1]],"show"===e.mode&&(n.cssClip(r.clip),h&&h.css(t.effects.clipToBox(r)),r.clip=a),h&&h.animate(t.effects.clipToBox(r),e.duration,e.easing),n.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("bounce",function(e,i){var s,n,o,a=t(this),r=e.mode,h="hide"===r,l="show"===r,c=e.direction||"up",u=e.distance,d=e.times||5,p=2*d+(l||h?1:0),f=e.duration/p,g=e.easing,m="up"===c||"down"===c?"top":"left",_="up"===c||"left"===c,v=0,b=a.queue().length;for(t.effects.createPlaceholder(a),o=a.css(m),u||(u=a["top"===m?"outerHeight":"outerWidth"]()/3),l&&(n={opacity:1},n[m]=o,a.css("opacity",0).css(m,_?2*-u:2*u).animate(n,f,g)),h&&(u/=Math.pow(2,d-1)),n={},n[m]=o;d>v;v++)s={},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g).animate(n,f,g),u=h?2*u:u/2;h&&(s={opacity:0},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g)),a.queue(i),t.effects.unshift(a,b,p+1)}),t.effects.define("clip","hide",function(e,i){var s,n={},o=t(this),a=e.direction||"vertical",r="both"===a,h=r||"horizontal"===a,l=r||"vertical"===a;s=o.cssClip(),n.clip={top:l?(s.bottom-s.top)/2:s.top,right:h?(s.right-s.left)/2:s.right,bottom:l?(s.bottom-s.top)/2:s.bottom,left:h?(s.right-s.left)/2:s.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(n.clip),n.clip=s),o.animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("drop","hide",function(e,i){var s,n=t(this),o=e.mode,a="show"===o,r=e.direction||"left",h="up"===r||"down"===r?"top":"left",l="up"===r||"left"===r?"-=":"+=",c="+="===l?"-=":"+=",u={opacity:0};t.effects.createPlaceholder(n),s=e.distance||n["top"===h?"outerHeight":"outerWidth"](!0)/2,u[h]=l+s,a&&(n.css(u),u[h]=c+s,u.opacity=1),n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("explode","hide",function(e,i){function s(){b.push(this),b.length===u*d&&n()}function n(){p.css({visibility:"visible"}),t(b).remove(),i()}var o,a,r,h,l,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=e.mode,g="show"===f,m=p.show().css("visibility","hidden").offset(),_=Math.ceil(p.outerWidth()/d),v=Math.ceil(p.outerHeight()/u),b=[];for(o=0;u>o;o++)for(h=m.top+o*v,c=o-(u-1)/2,a=0;d>a;a++)r=m.left+a*_,l=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*_,top:-o*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:_,height:v,left:r+(g?l*_:0),top:h+(g?c*v:0),opacity:g?0:1}).animate({left:r+(g?0:l*_),top:h+(g?0:c*v),opacity:g?1:0},e.duration||500,e.easing,s)}),t.effects.define("fade","toggle",function(e,i){var s="show"===e.mode;t(this).css("opacity",s?0:1).animate({opacity:s?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("fold","hide",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=e.size||15,h=/([0-9]+)%/.exec(r),l=!!e.horizFirst,c=l?["right","bottom"]:["bottom","right"],u=e.duration/2,d=t.effects.createPlaceholder(s),p=s.cssClip(),f={clip:t.extend({},p)},g={clip:t.extend({},p)},m=[p[c[0]],p[c[1]]],_=s.queue().length;h&&(r=parseInt(h[1],10)/100*m[a?0:1]),f.clip[c[0]]=r,g.clip[c[0]]=r,g.clip[c[1]]=0,o&&(s.cssClip(g.clip),d&&d.css(t.effects.clipToBox(g)),g.clip=p),s.queue(function(i){d&&d.animate(t.effects.clipToBox(f),u,e.easing).animate(t.effects.clipToBox(g),u,e.easing),i()}).animate(f,u,e.easing).animate(g,u,e.easing).queue(i),t.effects.unshift(s,_,4)}),t.effects.define("highlight","show",function(e,i){var s=t(this),n={backgroundColor:s.css("backgroundColor")};"hide"===e.mode&&(n.opacity=0),t.effects.saveStyle(s),s.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("size",function(e,i){var s,n,o,a=t(this),r=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,u="effect"!==c,d=e.scale||"both",p=e.origin||["middle","center"],f=a.css("position"),g=a.position(),m=t.effects.scaledDimensions(a),_=e.from||m,v=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),"show"===c&&(o=_,_=v,v=o),n={from:{y:_.height/m.height,x:_.width/m.width},to:{y:v.height/m.height,x:v.width/m.width}},("box"===d||"both"===d)&&(n.from.y!==n.to.y&&(_=t.effects.setTransition(a,h,n.from.y,_),v=t.effects.setTransition(a,h,n.to.y,v)),n.from.x!==n.to.x&&(_=t.effects.setTransition(a,l,n.from.x,_),v=t.effects.setTransition(a,l,n.to.x,v))),("content"===d||"both"===d)&&n.from.y!==n.to.y&&(_=t.effects.setTransition(a,r,n.from.y,_),v=t.effects.setTransition(a,r,n.to.y,v)),p&&(s=t.effects.getBaseline(p,m),_.top=(m.outerHeight-_.outerHeight)*s.y+g.top,_.left=(m.outerWidth-_.outerWidth)*s.x+g.left,v.top=(m.outerHeight-v.outerHeight)*s.y+g.top,v.left=(m.outerWidth-v.outerWidth)*s.x+g.left),a.css(_),("content"===d||"both"===d)&&(h=h.concat(["marginTop","marginBottom"]).concat(r),l=l.concat(["marginLeft","marginRight"]),a.find("*[width]").each(function(){var i=t(this),s=t.effects.scaledDimensions(i),o={height:s.height*n.from.y,width:s.width*n.from.x,outerHeight:s.outerHeight*n.from.y,outerWidth:s.outerWidth*n.from.x},a={height:s.height*n.to.y,width:s.width*n.to.x,outerHeight:s.height*n.to.y,outerWidth:s.width*n.to.x};n.from.y!==n.to.y&&(o=t.effects.setTransition(i,h,n.from.y,o),a=t.effects.setTransition(i,h,n.to.y,a)),n.from.x!==n.to.x&&(o=t.effects.setTransition(i,l,n.from.x,o),a=t.effects.setTransition(i,l,n.to.x,a)),u&&t.effects.saveStyle(i),i.css(o),i.animate(a,e.duration,e.easing,function(){u&&t.effects.restoreStyle(i)})})),a.animate(v,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=a.offset();0===v.opacity&&a.css("opacity",_.opacity),u||(a.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(a)),i()}})}),t.effects.define("scale",function(e,i){var s=t(this),n=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==n?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(s),to:t.effects.scaledDimensions(s,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,i)}),t.effects.define("puff","hide",function(e,i){var s=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,s,i)}),t.effects.define("pulsate","show",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=o||a,h=2*(e.times||5)+(r?1:0),l=e.duration/h,c=0,u=1,d=s.queue().length;for((o||!s.is(":visible"))&&(s.css("opacity",0).show(),c=1);h>u;u++)s.animate({opacity:c},l,e.easing),c=1-c;s.animate({opacity:c},l,e.easing),s.queue(i),t.effects.unshift(s,d,h+1)}),t.effects.define("shake",function(e,i){var s=1,n=t(this),o=e.direction||"left",a=e.distance||20,r=e.times||3,h=2*r+1,l=Math.round(e.duration/h),c="up"===o||"down"===o?"top":"left",u="up"===o||"left"===o,d={},p={},f={},g=n.queue().length;for(t.effects.createPlaceholder(n),d[c]=(u?"-=":"+=")+a,p[c]=(u?"+=":"-=")+2*a,f[c]=(u?"-=":"+=")+2*a,n.animate(d,l,e.easing);r>s;s++)n.animate(p,l,e.easing).animate(f,l,e.easing);n.animate(p,l,e.easing).animate(d,l/2,e.easing).queue(i),t.effects.unshift(n,g,h+1)}),t.effects.define("slide","show",function(e,i){var s,n,o=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},r=e.mode,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",c="up"===h||"left"===h,u=e.distance||o["top"===l?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(o),s=o.cssClip(),n=o.position()[l],d[l]=(c?-1:1)*u+n,d.clip=o.cssClip(),d.clip[a[h][1]]=d.clip[a[h][0]],"show"===r&&(o.cssClip(d.clip),o.css(l,d[l]),d.clip=s,d[l]=n),o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var v;t.uiBackCompat!==!1&&(v=t.effects.define("transfer",function(e,i){t(this).transfer(e,i)}))});
/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011–2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
!function(a){function f(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var e,b=a.ui.mouse.prototype,c=b._mouseInit,d=b._mouseDestroy;b._touchStart=function(a){var b=this;!e&&b._mouseCapture(a.originalEvent.changedTouches[0])&&(e=!0,b._touchMoved=!1,f(a,"mouseover"),f(a,"mousemove"),f(a,"mousedown"))},b._touchMove=function(a){e&&(this._touchMoved=!0,f(a,"mousemove"))},b._touchEnd=function(a){e&&(f(a,"mouseup"),f(a,"mouseout"),this._touchMoved||f(a,"click"),e=!1)},b._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),c.call(b)},b._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),d.call(b)}}}(jQuery);

/* =====================================================================================

SCORM wrapper v1.1.7 by Philip Hutchison, May 2008 (http://pipwerks.com).

Copyright (c) 2008 Philip Hutchison
MIT-style license. Full license text can be found at 
http://www.opensource.org/licenses/mit-license.php

This wrapper is designed to work with both SCORM 1.2 and SCORM 2004.

Based on APIWrapper.js, created by the ADL and Concurrent Technologies
Corporation, distributed by the ADL (http://www.adlnet.gov/scorm).

SCORM.API.find() and SCORM.API.get() functions based on ADL code,
modified by Mike Rustici (http://www.scorm.com/resources/apifinder/SCORMAPIFinder.htm),
further modified by Philip Hutchison

======================================================================================== */


var pipwerks = {};									//pipwerks 'namespace' helps ensure no conflicts with possible other "SCORM" variables
pipwerks.UTILS = {};								//For holding UTILS functions
pipwerks.debug = { isActive: true }; 				//Enable (true) or disable (false) for debug mode

pipwerks.SCORM = {									//Define the SCORM object
    version: "1.2",              			    //Store SCORM version.
    handleCompletionStatus: true,					//Whether or not the wrapper should automatically handle the initial completion status
    handleExitMode: true,							//Whether or not the wrapper should automatically handle the exit mode
    API: {
        handle: null,
        isFound: false
    },					//Create API child object
    connection: { isActive: false },				//Create connection child object
    data: {
        completionStatus: null,
        exitStatus: null
    },				//Create data child object
    debug: {}                 					//Create debug child object
};



/* --------------------------------------------------------------------------------
   pipwerks.SCORM.isAvailable
   A simple function to allow Flash ExternalInterface to confirm 
   presence of JS wrapper before attempting any LMS communication.

   Parameters: none
   Returns:    Boolean (true)
----------------------------------------------------------------------------------- */

pipwerks.SCORM.isAvailable = function () {
    return true;
};



// ------------------------------------------------------------------------- //
// --- SCORM.API functions ------------------------------------------------- //
// ------------------------------------------------------------------------- //


/* -------------------------------------------------------------------------
   pipwerks.SCORM.API.find(window)
   Looks for an object named API in parent and opener windows
   
   Parameters: window (the browser window object).
   Returns:    Object if API is found, null if no API found
---------------------------------------------------------------------------- */

pipwerks.SCORM.API.find = function (win) {

    var API = null,
        findAttempts = 0,
        findAttemptLimit = 500,
        traceMsgPrefix = "SCORM.API.find",
        trace = pipwerks.UTILS.trace,
        scorm = pipwerks.SCORM;

    while ((!win.API && !win.API_1484_11) &&
        (win.parent) &&
        (win.parent != win) &&
        (findAttempts <= findAttemptLimit)) {

        findAttempts++;
        win = win.parent;

    }

    if (scorm.version) {											//If SCORM version is specified by user, look for specific API

        switch (scorm.version) {

            case "2004":

                if (win.API_1484_11) {

                    API = win.API_1484_11;

                } else {

                    trace(traceMsgPrefix + ": SCORM version 2004 was specified by user, but API_1484_11 cannot be found.");

                }

                break;

            case "1.2":

                if (win.API) {

                    API = win.API;

                } else {

                    trace(traceMsgPrefix + ": SCORM version 1.2 was specified by user, but API cannot be found.");

                }

                break;

        }

    } else {													//If SCORM version not specified by user, look for APIs

        if (win.API_1484_11) {									//SCORM 2004-specific API.

            scorm.version = "2004";								//Set version
            API = win.API_1484_11;

        } else if (win.API) {										//SCORM 1.2-specific API

            scorm.version = "1.2";								//Set version
            API = win.API;

        }

    }

    if (API) {

        trace(traceMsgPrefix + ": API found. Version: " + scorm.version);
        trace("API: " + API);

    } else {

        trace(traceMsgPrefix + ": Error finding API. \nFind attempts: " + findAttempts + ". \nFind attempt limit: " + findAttemptLimit);

    }

    return API;

};


/* -------------------------------------------------------------------------
   pipwerks.SCORM.API.get()
   Looks for an object named API, first in the current window's frame
   hierarchy and then, if necessary, in the current window's opener window
   hierarchy (if there is an opener window).

   Parameters:  None. 
   Returns:     Object if API found, null if no API found
---------------------------------------------------------------------------- */

pipwerks.SCORM.API.get = function () {

    var API = null,
        win = window,
        find = pipwerks.SCORM.API.find,
        trace = pipwerks.UTILS.trace;

    if (win.parent && win.parent != win) {

        API = find(win.parent);

    }

    if (!API && win.top.opener) {

        API = find(win.top.opener);

    }

    if (API) {

        pipwerks.SCORM.API.isFound = true;

    } else {

        trace("API.get failed: Can't find the API!");

    }

    return API;

};


/* -------------------------------------------------------------------------
   pipwerks.SCORM.API.getHandle()
   Returns the handle to API object if it was previously set

   Parameters:  None.
   Returns:     Object (the pipwerks.SCORM.API.handle variable).
---------------------------------------------------------------------------- */

pipwerks.SCORM.API.getHandle = function () {

    var API = pipwerks.SCORM.API;

    if (!API.handle && !API.isFound) {

        API.handle = API.get();

    }

    return API.handle;

};



// ------------------------------------------------------------------------- //
// --- pipwerks.SCORM.connection functions --------------------------------- //
// ------------------------------------------------------------------------- //


/* -------------------------------------------------------------------------
   pipwerks.SCORM.connection.initialize()
   Tells the LMS to initiate the communication session.

   Parameters:  None
   Returns:     Boolean
---------------------------------------------------------------------------- */

pipwerks.SCORM.connection.initialize = function () {

    var success = false,
        scorm = pipwerks.SCORM,
        completionStatus = pipwerks.SCORM.data.completionStatus,
        trace = pipwerks.UTILS.trace,
        makeBoolean = pipwerks.UTILS.StringToBoolean,
        debug = pipwerks.SCORM.debug,
        traceMsgPrefix = "SCORM.connection.initialize ";

    trace("connection.initialize called.");

    if (!scorm.connection.isActive) {

        var API = scorm.API.getHandle(),
            errorCode = 0;

        if (API) {

            switch (scorm.version) {
                case "1.2": success = makeBoolean(API.LMSInitialize("")); break;
                case "2004": success = makeBoolean(API.Initialize("")); break;
            }

            if (success) {

                //Double-check that connection is active and working before returning 'true' boolean
                errorCode = debug.getCode();

                if (errorCode !== null && errorCode === 0) {

                    scorm.connection.isActive = true;

                    if (scorm.handleCompletionStatus) {

                        //Automatically set new launches to incomplete 
                        completionStatus = pipwerks.SCORM.status("get");

                        if (completionStatus) {

                            switch (completionStatus) {

                                //Both SCORM 1.2 and 2004
                                case "not attempted": pipwerks.SCORM.status("set", "incomplete"); break;

                                //SCORM 2004 only
                                case "unknown": pipwerks.SCORM.status("set", "incomplete"); break;

                                //Additional options, presented here in case you'd like to use them
                                //case "completed"  : break;
                                //case "incomplete" : break;
                                //case "passed"     : break;	//SCORM 1.2 only
                                //case "failed"     : break;	//SCORM 1.2 only
                                //case "browsed"    : break;	//SCORM 1.2 only

                            }

                        }

                    }

                } else {

                    success = false;
                    trace(traceMsgPrefix + "failed. \nError code: " + errorCode + " \nError info: " + debug.getInfo(errorCode));

                }

            } else {

                errorCode = debug.getCode();

                if (errorCode !== null && errorCode !== 0) {

                    trace(traceMsgPrefix + "failed. \nError code: " + errorCode + " \nError info: " + debug.getInfo(errorCode));

                } else {

                    trace(traceMsgPrefix + "failed: No response from server.");

                }
            }

        } else {

            trace(traceMsgPrefix + "failed: API is null.");

        }

    } else {

        trace(traceMsgPrefix + "aborted: Connection already active.");

    }

    return success;

};


/* -------------------------------------------------------------------------
   pipwerks.SCORM.connection.terminate()
   Tells the LMS to terminate the communication session

   Parameters:  None
   Returns:     Boolean
---------------------------------------------------------------------------- */

pipwerks.SCORM.connection.terminate = function () {

    var success = false,
        scorm = pipwerks.SCORM,
        exitStatus = pipwerks.SCORM.data.exitStatus,
        completionStatus = pipwerks.SCORM.data.completionStatus,
        trace = pipwerks.UTILS.trace,
        makeBoolean = pipwerks.UTILS.StringToBoolean,
        debug = pipwerks.SCORM.debug,
        traceMsgPrefix = "SCORM.connection.terminate ";


    if (scorm.connection.isActive) {

        var API = scorm.API.getHandle(),
            errorCode = 0;

        if (API) {

            if (scorm.handleExitMode && !exitStatus) {

                if (completionStatus !== "completed" && completionStatus !== "passed") {

                    switch (scorm.version) {
                        case "1.2": success = scorm.set("cmi.core.exit", "suspend"); break;
                        case "2004": success = scorm.set("cmi.exit", "suspend"); break;
                    }

                } else {

                    switch (scorm.version) {
                        case "1.2": success = scorm.set("cmi.core.exit", "logout"); break;
                        case "2004": success = scorm.set("cmi.exit", "normal"); break;
                    }

                }

            }

            switch (scorm.version) {
                case "1.2": success = makeBoolean(API.LMSFinish("")); break;
                case "2004": success = makeBoolean(API.Terminate("")); break;
            }

            if (success) {

                scorm.connection.isActive = false;

            } else {

                errorCode = debug.getCode();
                trace(traceMsgPrefix + "failed. \nError code: " + errorCode + " \nError info: " + debug.getInfo(errorCode));

            }

        } else {

            trace(traceMsgPrefix + "failed: API is null.");

        }

    } else {

        trace(traceMsgPrefix + "aborted: Connection already terminated.");

    }

    return success;

};



// ------------------------------------------------------------------------- //
// --- pipwerks.SCORM.data functions --------------------------------------- //
// ------------------------------------------------------------------------- //


/* -------------------------------------------------------------------------
   pipwerks.SCORM.data.get(parameter)
   Requests information from the LMS.

   Parameter: parameter (string, name of the SCORM data model element)
   Returns:   string (the value of the specified data model element)
---------------------------------------------------------------------------- */

pipwerks.SCORM.data.get = function (parameter) {

    var value = null,
        scorm = pipwerks.SCORM,
        trace = pipwerks.UTILS.trace,
        debug = pipwerks.SCORM.debug,
        traceMsgPrefix = "SCORM.data.get(" + parameter + ") ";

    if (scorm.connection.isActive) {

        var API = scorm.API.getHandle(),
            errorCode = 0;

        if (API) {

            try {
                switch (scorm.version) {
                    case "1.2": value = API.LMSGetValue(parameter); break;
                    case "2004": value = API.GetValue(parameter); break;
                }
            } catch (ex) { uiController.showConErr(); }

            errorCode = debug.getCode();

            //GetValue returns an empty string on errors
            //Double-check errorCode to make sure empty string
            //is really an error and not field value
            if (value !== "" && errorCode === 0) {

                switch (parameter) {

                    case "cmi.core.lesson_status":
                    case "cmi.completion_status": scorm.data.completionStatus = value; break;

                    case "cmi.core.exit":
                    case "cmi.exit": scorm.data.exitStatus = value; break;

                }

            } else {

                trace(traceMsgPrefix + "failed. \nError code: " + errorCode + "\nError info: " + debug.getInfo(errorCode));

            }

        } else {

            trace(traceMsgPrefix + "failed: API is null.");

        }

    } else {

        trace(traceMsgPrefix + "failed: API connection is inactive.");

    }

    trace(traceMsgPrefix + " value: " + value);

    return String(value);

};


/* -------------------------------------------------------------------------
   pipwerks.SCORM.data.set()
   Tells the LMS to assign the value to the named data model element.
   Also stores the SCO's completion status in a variable named
   pipwerks.SCORM.data.completionStatus. This variable is checked whenever
   pipwerks.SCORM.connection.terminate() is invoked.

   Parameters: parameter (string). The data model element
               value (string). The value for the data model element
   Returns:    Boolean
---------------------------------------------------------------------------- */

pipwerks.SCORM.data.set = function (parameter, value) {

    var success = false,
        scorm = pipwerks.SCORM,
        trace = pipwerks.UTILS.trace,
        makeBoolean = pipwerks.UTILS.StringToBoolean,
        debug = pipwerks.SCORM.debug,
        traceMsgPrefix = "SCORM.data.set(" + parameter + ") ";


    if (scorm.connection.isActive) {

        var API = scorm.API.getHandle(),
            errorCode = 0;

        if (API) {

            try {
                switch (scorm.version) {
                    case "1.2": success = makeBoolean(API.LMSSetValue(parameter, value)); break;
                    case "2004": success = makeBoolean(API.SetValue(parameter, value)); break;
                }
            } catch (ex) { uiController.showConErr(); }

            if (success) {

                if (parameter === "cmi.core.lesson_status" || parameter === "cmi.completion_status") {

                    scorm.data.completionStatus = value;

                }

            } else {

                trace(traceMsgPrefix + "failed. \nError code: " + errorCode + ". \nError info: " + debug.getInfo(errorCode));

            }

        } else {

            trace(traceMsgPrefix + "failed: API is null.");

        }

    } else {

        trace(traceMsgPrefix + "failed: API connection is inactive.");

    }

    return success;

};


/* -------------------------------------------------------------------------
   pipwerks.SCORM.data.save()
   Instructs the LMS to persist all data to this point in the session

   Parameters: None
   Returns:    Boolean
---------------------------------------------------------------------------- */

pipwerks.SCORM.data.save = function () {

    var success = false,
        scorm = pipwerks.SCORM,
        trace = pipwerks.UTILS.trace,
        makeBoolean = pipwerks.UTILS.StringToBoolean,
        traceMsgPrefix = "SCORM.data.save failed";

    if (scorm.connection.isActive) {

        var API = scorm.API.getHandle();

        if (API) {
            try {
                switch (scorm.version) {
                    case "1.2": success = makeBoolean(API.LMSCommit("")); break;
                    case "2004": success = makeBoolean(API.Commit("")); break;
                }
            } catch (ex) { uiController.showConErr(); }

        } else {

            trace(traceMsgPrefix + ": API is null.");

        }

    } else {

        trace(traceMsgPrefix + ": API connection is inactive.");

    }

    //Check if we got an error
    var scormCode = pipwerks.SCORM.debug.getCode();
    console.log("SAVING WITH A CODE OF :" + scormCode);

    if (scormCode !== 0) {
        console.log("SHOWING CONTROLLER :" + scormCode);
        uiController.showConErr();
    }

    return success;

};


pipwerks.SCORM.status = function (action, status) {

    var success = false,
        scorm = pipwerks.SCORM,
        trace = pipwerks.UTILS.trace,
        traceMsgPrefix = "SCORM.getStatus failed",
        cmi = "";

    if (action !== null) {

        switch (scorm.version) {
            case "1.2": cmi = "cmi.core.lesson_status"; break;
            case "2004": cmi = "cmi.completion_status"; break;
        }

        switch (action) {

            case "get": success = pipwerks.SCORM.data.get(cmi); break;

            case "set": if (status !== null) {

                success = pipwerks.SCORM.data.set(cmi, status);

            } else {

                success = false;
                trace(traceMsgPrefix + ": status was not specified.");

            }

                break;

            default: success = false;
                trace(traceMsgPrefix + ": no valid action was specified.");

        }

    } else {

        trace(traceMsgPrefix + ": action was not specified.");

    }

    return success;

};


// ------------------------------------------------------------------------- //
// --- pipwerks.SCORM.debug functions -------------------------------------- //
// ------------------------------------------------------------------------- //


/* -------------------------------------------------------------------------
   pipwerks.SCORM.debug.getCode
   Requests the error code for the current error state from the LMS

   Parameters: None
   Returns:    Integer (the last error code).
---------------------------------------------------------------------------- */

pipwerks.SCORM.debug.getCode = function () {

    var API = pipwerks.SCORM.API.getHandle(),
        scorm = pipwerks.SCORM,
        trace = pipwerks.UTILS.trace,
        code = 0;

    if (API) {

        switch (scorm.version) {
            case "1.2": code = parseInt(API.LMSGetLastError(), 10); break;
            case "2004": code = parseInt(API.GetLastError(), 10); break;
        }

    } else {

        trace("SCORM.debug.getCode failed: API is null.");

    }

    return code;

};


/* -------------------------------------------------------------------------
   pipwerks.SCORM.debug.getInfo()
   "Used by a SCO to request the textual description for the error code
   specified by the value of [errorCode]."

   Parameters: errorCode (integer).  
   Returns:    String.
----------------------------------------------------------------------------- */

pipwerks.SCORM.debug.getInfo = function (errorCode) {

    var API = pipwerks.SCORM.API.getHandle(),
        scorm = pipwerks.SCORM,
        trace = pipwerks.UTILS.trace,
        result = "";


    if (API) {

        switch (scorm.version) {
            case "1.2": result = API.LMSGetErrorString(errorCode.toString()); break;
            case "2004": result = API.GetErrorString(errorCode.toString()); break;
        }

    } else {

        trace("SCORM.debug.getInfo failed: API is null.");

    }

    return String(result);

};


/* -------------------------------------------------------------------------
   pipwerks.SCORM.debug.getDiagnosticInfo
   "Exists for LMS specific use. It allows the LMS to define additional
   diagnostic information through the API Instance."

   Parameters: errorCode (integer).  
   Returns:    String (Additional diagnostic information about the given error code).
---------------------------------------------------------------------------- */

pipwerks.SCORM.debug.getDiagnosticInfo = function (errorCode) {

    var API = pipwerks.SCORM.API.getHandle(),
        scorm = pipwerks.SCORM,
        trace = pipwerks.UTILS.trace,
        result = "";

    if (API) {

        switch (scorm.version) {
            case "1.2": result = API.LMSGetDiagnostic(errorCode); break;
            case "2004": result = API.GetDiagnostic(errorCode); break;
        }

    } else {

        trace("SCORM.debug.getDiagnosticInfo failed: API is null.");

    }

    return String(result);

};


// ------------------------------------------------------------------------- //
// --- Shortcuts! ---------------------------------------------------------- //
// ------------------------------------------------------------------------- //

// Because nobody likes typing verbose code.

pipwerks.SCORM.init = pipwerks.SCORM.connection.initialize;
pipwerks.SCORM.get = pipwerks.SCORM.data.get;
pipwerks.SCORM.set = pipwerks.SCORM.data.set;
pipwerks.SCORM.save = pipwerks.SCORM.data.save;
pipwerks.SCORM.quit = pipwerks.SCORM.connection.terminate;



// ------------------------------------------------------------------------- //
// --- pipwerks.UTILS functions -------------------------------------------- //
// ------------------------------------------------------------------------- //


/* -------------------------------------------------------------------------
   pipwerks.UTILS.StringToBoolean()
   Converts 'boolean strings' into actual valid booleans.
   
   (Most values returned from the API are the strings "true" and "false".)

   Parameters: String
   Returns:    Boolean
---------------------------------------------------------------------------- */

pipwerks.UTILS.StringToBoolean = function (string) {
    switch (string.toLowerCase()) {
        case "true": case "yes": case "1": return true;
        case "false": case "no": case "0": case null: return false;
        default: return Boolean(string);
    }
};



/* -------------------------------------------------------------------------
   pipwerks.UTILS.trace()
   Displays error messages when in debug mode.

   Parameters: msg (string)  
   Return:     None
---------------------------------------------------------------------------- */

pipwerks.UTILS.trace = function (msg) {

    if (pipwerks.debug.isActive) {

        //Firefox users can use the 'Firebug' extension's console.
        if (window.console) {
            console.log(msg);
        } else {
            //alert(msg);
        }

    }
};
var isInit = false;
var pgTranslated = false;
var pgNo, epgNo, l, lang, langID, curLang, lLangPage, lFields, lNav, lScorm, lKc, lGen

function initLang() {
    // pgNo = navigationController.activePageAsNo();
    pgUrl = navigationController.currentPageUrl;
    
    //console.log(epgNo);

    l = scormController.lang();
    lang = languageController.lang;
    langID = 0;
    $.each(lang, function (i, v) {
        if (l === lang[i].isocode) { langID = i }
    });
    curLang = lang;
    lLangPage = lang.pages[0];
    lFields = lang.pages[0].fields;
    //console.log(lFields)
    try {

        var currentPage = lang.pages.filter(function(page) {
            return page.File == pgUrl
        })[0];
        
        lLangPage = currentPage;
        lFields = currentPage.fields;

        // lLangPage = lang.pages[pgNo];
        // lFields = lang.pages[pgNo].fields;
    } catch (ex) {
        console.error(ex);
    }

    lNav = lang.nav.fields;
    lScorm = lang.scorm.fields;
    lKc = lang.kc.fields;
    lGen = lang.general;
    isInit = true;
}

try {
    initLang();
} catch (err) {
    isInit = false;
}

function translatePage() {
    lang = languageController.lang;
    //There should be the same amount of fields as controls so we can do these more effeciently by going list first
    var count = 0;
    $.each(lFields, function (i, j) {
        let translateElem = $('[data-i18n_ap="' + j.key + '"]');

        if (j.ImageURL !== null && j.ImageURL !== '') {
            count++;
            translateElem.attr('src', j.ImageURL);
        } else {           
            count++;
            translateElem.html(j.Text);
        }
        
        // console.log('data-i18n field: ', j.key ,  translateElem);
        // console.log("count", count);
        
        //Check for notes enabled text
        if (j.n === 1) {
            //this is a note
            console.log("FID:" + j.fID);
            translateElem.attr("data-nid", j.fID);
            translateElem.addClass("nicon");

        }
    });
    pgTranslated = true;
    translateAdditionals();

}


function translateAdditionals() {
    $('[data-i18n_n]').each(function () {
        var key = $(this).attr("data-i18n_n");
        $.each(lNav, function (i, j) {
            if (key == j.key) {
                $('[data-i18n_n="' + j.key + '"]').html(j.Text);
            }
        });
    });

    //same with general items
    $('[data-i18n_g]').each(function () {
        var key = $(this).attr("data-i18n_g");
        $.each(lGen, function (i, j) {
            if (key === j.key) {
                if (j.n === 1) {
                    $('[data-i18n_g="' + j.key + '"]').html("<span class='nicon' data-nid='" + j.fID + "'>" + j.Text + "</span>");
                } else {
                    $('[data-i18n_g="' + j.key + '"]').html(j.Text);
                }
            }
        });
    });
}

function translateNav() {
    $.each(lNav, function (i, j) {
        $('[data-i18n_n="' + j.key + '"]').html(j.Text);
    });
}


function getGeneralTText(k) {
    var tg = ""; $.each(lGen, function (i, j) {
        if (j.key === k) {
            if (j.n === 1) {
                tg = "<span class='nicon' data-nid='" + j.fID + "'>" + j.text + "</span>";
            } else {
                tg = j.Text;
            }
        }
    }); return tg;
}

function getGeneralTImage(key) { var tg = ""; $.each(lGen, function (i, j) { if (j.key == key) { tg = j.imageurl; } }); return tg; }

//Set up the pages, make sure the Id's match those in the language file
var pages = [
    { pageid: 0, title: 'intro', url: 'content/intro.html', section: 0 },
];
//Set up any interactions you want within the module
var module_interactions = [];

//Set up any objectives, objective ID's can be used in the pages to give automatic objective progress if objective setting is true above (some LMS's don't support objectives properly)
var module_objectives = [];
var DEBUG = true,
    projectID = projectSettings.ProjectID,
    PRODUCTION = false,
    USE_OBJECTIVES = false;
const courseData = function () {
    const self = this;

    let tempData = new Array();
    let suspendData = new Array();
    let dataItem = function () { this.key = "", this.value = "" }

    function init() {
        self.restore();
    }
    this.getData = function (key) {
        let returnVal = null;
        $.each(tempData, function (i, o) {
            if (o.key == key) { returnVal = o.value };
        });

        //check if we need to convert back to an array
        if (returnVal !== null && returnVal !== '') {
            if (returnVal.toString().indexOf(":") !== -1) {
                try {
                    returnVal = returnVal.split(":");
                } catch (err) {
                    console.log("returned data not valid for split");
                }
            }
        }
        return returnVal;
    }
    this.setData = function (key, value) {
        //first convert an array if we have one
        if (Array.isArray(value)) {
            value = value.join(':');
        }
        //then save it
        found = false;
        $.each(tempData, function (i, o) {
            if (o.key == key) { o.value = value; found = true; };
        });
        if (!found) {
            var d = new dataItem;
            d.key = key;
            d.value = value;
            tempData.push(d);
        }
    }
    this.clear = function () {
        //clear down
        tempData = [];
        suspendData = [];
    }
    this.save = function () {
        //check if we need to save to LMS if available, or to localStorage if not.
        let d = JSON.stringify(tempData);
        d = d.replace(/[']/g, "¬");
        d = d.replace(/["]/g, "~");
        d = d.replace(/[\[\]]+/g, "");
        d = d.replace(/[,]/g, "|");
        if (scormController._scormConnected) {
            //todo UNDO - temporarily disable saving suspend data
            scormController.instance.setSuspendData(d)
        } else {
            if (DEBUG == true) {
                localStorage.setItem(projectID, d);
            } else {
            }
        }
    }
    this.restore = function () {
        //check if we need to save to LMS if available, or to localStorage if not.
        if (scormController._scormConnected) {
            //RESTORING DATA FROM LMS
            let p = scormController.instance.getSuspendData();

            if (p != null && p != '') {
                p = p.replace(/[~]/g, "\""); p = p.replace(/[|]/g, ","); p = p.replace(/[¬]/g, "'"); p = '[' + p + ']';
                tempData = JSON.parse(p);
            }
        } else {
            //RESTORING DATA FROM LOCAL STORAGE
            let p = localStorage.getItem(projectID);

            if (p != null && p != '') {
                p = p.replace(/[~]/g, "\""); p = p.replace(/[|]/g, ","); p = p.replace(/[¬]/g, "'"); p = '[' + p + ']';

                tempData = JSON.parse(p);
            }
        }
    }

    init();
}
const DevOpsController = function () {
    const self = this;
    this.endPoint = '';
    this.workItems = new Array();
    this.token = ''; // Visual Studio Personal Access Token, this will be used as a login.
    this.team = new Array();

    this.loggedIn = false;
    this.login = $("#devOpsLogin");
    this.loginButton = null;
    this.loginState = null;

    $.get("edit/ajax/_devOpsLogin.html", function (data) {
        self.login.html(data);

        self.loginButton = $("#devOpsLoginBtn");
        self.loginState = $("#devOpsLoginBtn .state");

        let loginProcessing = false;
        $("#devOpsLogin .debug-login__close").on('click', function () {
            self.login.fadeOut(250);
        });

        $("#devOpsLogin .debug-login__form").on('submit', function (e) {
            e.preventDefault();
            if (loginProcessing) {
                return;
            } else {
                loginProcessing = true;
            }
            self.loginButton.addClass('loading');
            self.loginState.html('Authenticating');
            self.doLogin($('#devOpsPAT').val());
        });
    });


    this.doLogin = function (pat) {

        $.ajax({
            type: "GET",
            url: '',
            async: true,
            crossDomain: true,
            beforeSend: function (xhr) {
                xhr.setRequestHeader("Authorization", "Basic " + btoa(":" + pat));
            },
        }).done(function (res) {

            self.loginButton.addClass('ok');
            self.loginState.html('Welcome back!');
            self.login.fadeOut(250);
            self.loggedIn = true;
            self.token = pat;

            // Save token for next session
            dataController.setData("DevOpsPAT", pat);
            dataController.save();

            // Initialise DevOps.
            self.init();

        }).fail(function (xhr, text, error) {
            console.log(xhr + ", " + text + ", " + error);

            self.loginButton.addClass('ok');
            self.loginState.html('Login failed, please check your DevOps Personal Access Token is still valid.');
            setTimeout(function () {
                self.loginState.html('Log in');
                self.loginButton.removeClass('ok loading');
                loginProcessing = false;
            }, 3000);

        });
    }

    // Get all users assigned to project.
    this.init = function () {

        $.ajax({
            type: "GET",
            url: '' + moduleController.projectURL + '/teams?api-version=5.1',
            async: true,
            crossDomain: true,
            beforeSend: function (xhr) {
                xhr.setRequestHeader("Authorization", "Basic " + btoa(":" + self.token));
            },
        }).done(function (data) {
            let teamId = data.value[0].id;

            $.ajax({
                type: "GET",
                url: '' + moduleController.projectURL + '/teams/' + teamId + '/members?api-version=5.1',
                async: true,
                crossDomain: true,
                beforeSend: function (xhr) {
                    xhr.setRequestHeader("Authorization", "Basic " + btoa(":" + self.token));
                },
            }).done(function (data) {
                self.team = [];
                // Store all team members in devOps.team
                $("#projectTeam").html("");
                if (moduleController.clientMode === true) {
                    $("#projectTeam").append('Project Team isn\'t available whilst viewing in Client Mode.');
                } else {
                    for (let i = 0; i < data.value.length; i++) {
                        let user = data.value[i].identity;
                        self.team.push(user);
                        let userStr = '<tr>';
                        userStr += '<td>' + user.displayName + '</td>';
                        userStr += '<td>' + user.uniqueName + '</td>';
                        userStr += '</tr>';
                        $("#projectTeam").append(userStr);
                    }
                    // Pull all Work Items
                    self.getAllItems($("#debugWorkItems tbody"));
                }
            });
        });


    };

    this.addTeam = function (id) {
        let $el = $("#" + id);
        $el.html("");

        if (moduleController.clientMode === true) {
            $el.append('<option data-userid="e1007c03-28b8-4025-86c4-8a993021ba83" value="Client Review <pmdevelopers@purplemedia.co.uk">Development</option>');
        } else {
            $el.append("<option selected disabled default>Select User</option")
            for (let i = 0; i < self.team.length; i++) {
                let user = self.team[i];
                $el.append("<option data-userid='" + user.id + "' value='" + user.displayName + " <" + user.uniqueName + ">'>" + user.displayName + "</option");
            }
        }
    };

    // Gets every revision of all work items.
    this.getAllItems = function (el) {
        self.workItems = [];
        $.ajax({
            type: "GET",
            url: self.endPoint + '/_apis/wit/reporting/workitemrevisions?api-version=5.1-preview.1',
            async: true,
            crossDomain: true,
            beforeSend: function (xhr) {
                xhr.setRequestHeader("Authorization", "Basic " + btoa(":" + self.token));
            },
        }).done(function (data) {
            $("#debugWorkItems tbody").html(""); // Empty table to stop duplication.
            if (data.values.length === 0) return "NoWorkItems";
            data = data.values;
            let temp = new Array();
            // We need to filter the revisions and make sure we have the latest.
            for (let i = data.length; i > 0; --i) {
                let WI = data[i - 1].fields;
                if (temp.indexOf(WI["System.Id"]) === -1) {
                    temp.push(WI["System.Id"]);
                    self.workItems.unshift(WI);
                }
            };

            // Loop through these work items and add them to the table.
            for (let i = 0; i < self.workItems.length; i++) {
                let d = self.workItems[i];
                let str = "<tr class='workItem' data-workitemtype='" + d['System.WorkItemType'] + "' data-workitemstate='" + d['System.State'] + "' data-workitemassignedto='" + d['System.AssignedTo'] + "'>";
                str += "<td>" + d['System.Id'] + "</td>";
                str += "<td class='workItem__Page' onclick='opn.navigationController.goToPageWithTitle(\"" + d['System.Tags'] + "\")'>" + d['System.Tags'] + "</td>";
                str += "<td data-workitemid='" + d['System.Id'] + "' class='workItem__Title workItem--" + d['System.WorkItemType'] + "'>" + d['System.Title'] + "</td>";
                str += "<td>" + d['System.AssignedTo'] + "</td>";
                str += "<td>" + d['System.State'] + "</td>";
                str += "<td>" + (d['System.BoardColumn'] !== undefined ? d['System.BoardColumn'] : 'Unassigned') + "</td>";
                str += "<td><a href='" + self.endPoint + "/_workitems/edit/" + d['System.Id'] + "' target='_blank'>Open in DevOps</a></td>";
                str += "</tr>";
                el.append(str);
            }


        }).fail(function (e) {
            console.error("Failed to get DevOps WorkItems: " + e);
        });
    };

    // Get more info on a specific work item.
    this.getWorkItemInfo = function (id) {
        let info = [];
        $.ajax({
            type: "GET",
            url: self.endPoint + '/_apis/wit/workitems?ids=' + id + '&$expand=all&api-version=5.1',
            async: true,
            crossDomain: true,
            beforeSend: function (xhr) {
                xhr.setRequestHeader("Authorization", "Basic " + btoa(":" + self.token));
            },
        }).done(function (data) {
            let item = data.value[0].fields;
            switch (item["System.WorkItemType"]) {
                case 'Task':
                    info.push(item["System.Description"]);
                    break;
                case 'Bug':
                    info.push(item["Microsoft.VSTS.TCM.ReproSteps"]);
                    info.push(item["Microsoft.VSTS.TCM.SystemInfo"]);
                    break;
            }
            info.push(item['System.Tags']);
            for (var i = 0; i < self.workItems.length; i++) {
                if (self.workItems[i]['System.Id'] === Number(id)) {
                    self.workItems[i].info = info;
                };
            }
            self.getWorkItemComments(id);
        }).fail(function (e) {
            console.error("Failed to get DevOps WorkItem: " + e);
        });;
    }
    // Get more info on a specific work item.
    this.getWorkItemComments = function (id) {
        let comments = [];

        $.ajax({
            type: "GET",
            url: self.endPoint + '/_apis/wit/workitems/' + id + '/comments?api-version=5.1-preview.3',
            async: true,
            crossDomain: true,
            beforeSend: function (xhr) {
                xhr.setRequestHeader("Authorization", "Basic " + btoa(":" + self.token));
            },
        }).done(function (data) {
            comments = data.comments;
            for (var i = 0; i < self.workItems.length; i++) {
                if (self.workItems[i]['System.Id'] === Number(id)) {
                    self.workItems[i].comments = comments;
                };
            }
            $.publish("/workitem/loaded", [id]);
        }).fail(function (e) {
            console.error("Failed to get DevOps WorkItem: " + e);
        });
    }

    // Create DevOps Work Item
    this.createWorkItem = function (image, type, title, assigned, description, system) {
        /*
         * Type         = 'task' | bug'
         * Title        = 'string'
         * Description  = 'string' *This is [Description] for Tasks but [ReproSteps] for Bugs
         * System       = 'string' *Note this is System Info, only used in Bugs.
         * */

        // Check for image
        if (image !== null) {
            description += '</div><img src="' + image + '"/>'
        } else {
            description += '</div>'
        }

        body = [
            {
                "op": "add",
                "path": "/fields/System.Title",
                "value": title
            },
            {
                "op": "add",
                "path": "/fields/System.AssignedTo",
                "value": assigned
            }
        ];
        if (type === 'task') {
            // Type is task.
            body.push({
                "op": "add",
                "path": "/fields/System.Description",
                "value": "<div>" + description
            });
        } else {
            // Type is bug
            body.push({
                "op": "add",
                "path": "/fields/Microsoft.VSTS.TCM.ReproSteps",
                "value": "<div>" + description
            });
            body.push({
                "op": "add",
                "path": "/fields/Microsoft.VSTS.TCM.SystemInfo",
                "value": system
            });
        }
        console.log(image)
        //return false;

        $.ajax({
            type: "POST",
            url: self.endPoint + '/_apis/wit/workitems/$' + type + '?api-version=5.1',
            beforeSend: function (xhr) { xhr.setRequestHeader("Authorization", "Basic " + btoa(":" + self.token)) },
            headers: { 'Content-Type': 'application/json-patch+json' },
            crossDomain: true,
            async: true,
            dataType: 'json',
            data: JSON.stringify(body),
        }).done(function (data) {
            let response = data.id;
            testController.alert("WorkItem added.");

            // Reset fields
            $(".newItem__radio[name=type]").prop('checked', false);
            $("#issueTitle").val('');
            $("#issueDescription").val('');
            document.getElementById("issueAssignedTo").selectedIndex = 0;

            return response;
        }).fail(function (e) {
            testController.alert("Report failed, please try again.")
            console.error("Failed to post DevOps WorkItem: " + e);
        });
    }

    this.filter = function (f) {
        // This is called from the checkboxes on the WorkItems Filter panel.
        let toggle = $(f).attr("data-toggleView");
        let filter = $(f).attr("value");
        $(".workItem").each(function () {
            if ($(this).attr("data-" + toggle) === filter) {
                if ($(f).is(":checked")) {
                    $(this).show();
                } else {
                    $(this).hide();
                };
            };
        });
    };


    this.addComment = function (id, comment) {
        $.ajax({
            type: "POST",
            url: self.endPoint + '/_apis/wit/workitems/' + id + '/comments?api-version=5.1-preview.3',
            beforeSend: function (xhr) { xhr.setRequestHeader("Authorization", "Basic " + btoa(":" + self.token)) },
            headers: { 'Content-Type': 'application/json' },
            crossDomain: true,
            async: true,
            dataType: 'json',
            data: JSON.stringify({ "text": comment })
        }).done(function (data) {
            console.log("Comment added successfully");
        }).fail(function (e) {
            testController.alert("Failed to post comment, please try again.");
        });
    };

    this.updateWorkItem = function (rev, id, type, title, desc, assigned, callback) {
        let body = [
            {
                "op": "test",
                "path": "/rev",
                "value": rev
            },
            {
                "op": "add",
                "path": "/fields/System.Title",
                "value": title
            },
            {
                "op": "add",
                "path": "/fields/System.AssignedTo",
                "value": assigned
            }
        ]
        if (type === 'Task') {
            body.push({
                "op": "add",
                "path": "/fields/System.Description",
                "value": desc
            })
        } else {
            body.push({
                "op": "add",
                "path": "/fields/Microsoft.VSTS.TCM.ReproSteps",
                "value": desc
            })
        }

        console.log(JSON.stringify(body))

        $.ajax({
            type: "PATCH",
            url: self.endPoint + '/_apis/wit/workitems/' + id + '?api-version=5.1',
            beforeSend: function (xhr) { xhr.setRequestHeader("Authorization", "Basic " + btoa(":" + self.token)) },
            headers: { 'Content-Type': 'application/json-patch+json' },
            crossDomain: true,
            async: true,
            dataType: 'json',
            data: JSON.stringify(body)
        }).done(function (data) {
            testController.alert("Work Item updated.");
            $(".editWorkItem").remove();
            self.getAllItems($("#debugWorkItems tbody"));

        }).fail(function (e) {
            testController.alert("Failed to update work item, please try again.");
        });
    }

}
const LanguageController = function () {
    const self = this;
    this.langLocation = 2; //1 = from server, 2 = from file
    this.lang = en;
    this.langID = 0;
    this.langISO = "";
    this.langName = "";
    this.imgArray = null;
    this.imgArrayCreated = false;
    this.localCopy = self.lang.pages;

    /*

    this.changeActiveLang = function (lang) {
        var currentLangISO = dataController.getData("languageISO");
        var currentLangName = dataController.getData("languageName");
        if (currentLangISO == null || currentLangISO == "null") {
            $("#langSelectorOverlay").fadeIn();
        } else {
            self.langName = currentLangName;
            self.langISO = currentLangISO;
            $(".language").removeClass("active");
            $("#languageButton").html(self.langName);
            $(".language." + self.langISO).addClass("active")
        }
    }

    */

    this.buildImageArray = function () {
        let arr = new Array(),
            p = self.lang.pages;

        for (var i = 0; i < p.length; i++) {
            let f = p[i].fields;

            for (var ii = 0; ii < f.length; ii++) {
                if (f[ii].Text === "" && f[ii].ImageURL !== "") {
                    let o = {
                        fileIndex: i,
                        file: p[i].File,
                        title: p[i].title,
                        key: f[ii].key,
                        src: f[ii].ImageURL,
                    },
                        exists = false;

                    for (var c = 0; c < arr.length; c++) {
                        if (JSON.stringify(arr[c]) === JSON.stringify(o)) {
                            exists = true;
                        }
                    }

                    if (exists === false) {
                        arr.push(o);
                    }
                }
            }
        }

        self.imgArrayCreated = true;

        return arr;
    };

    function initLang() {
        if (self.imgArrayCreated === false) {
            self.imgArray = self.buildImageArray();
        }

        if (self.langLocation == 1) {
            //get from server if we have remote lang enabled
            //GET NAV
            $.ajax({
                type: "GET",
                url: "" + self.langID + "&type=1&projectid=" + projectID,
                async: true,
                crossDomain: true,
            }).done(function (nav) {
                self.lang.nav = nav;
            });
            //GET SCORM
            $.ajax({
                type: "GET",
                url: "" + self.langID + "&type=2&projectid=" + projectID,
                async: true,
                crossDomain: true,
            }).done(function (scorm) {
                self.lang.scorm = scorm;
            });
            //GET KC
            $.ajax({
                type: "GET",
                url: "" + self.langID + "&type=3&projectid=" + projectID,
                async: true,
                crossDomain: true,
            }).done(function (kc) {
                self.lang.kc = kc;
            });
            //GET GENERAL
            $.ajax({
                type: "GET",
                url: "" + self.langID + "&type=4&projectid=" + projectID,
                async: true,
                crossDomain: true,
            }).done(function (general) {
                self.lang.general = general;
            });
            //GET PAGES
            $.ajax({
                type: "GET",
                url: "" + self.langID + "&projectid=" + projectID,
                async: true,
                crossDomain: true,
            }).done(function (pages) {
                self.lang.pages = pages;
            });
        }
    }

    this.updateCurrentPageText = function () {
        //first get the fields
        let pageItems = [];
        $.each(self.lang.pages, function (i, p) {
            if (p.File == navigationController.currentPageUrl) {
                pageItems = p.fields;
            }
        });
        //Now replace anything we need to
        $.each(pageItems, function (i, j) {
            if (j.ImageURL != "" && j.ImageURL != null) {
                $('[data-src="' + j.key + '"]').attr("src", j.ImageURL);
            }
            if (j.Text != "" && j.Text != null) {
                $('[data-text="' + j.key + '"]').html(j.Text);
            }
            if (j.VideoURL != "" && j.VideoURL != null) {
                $('[data-src="' + j.key + '"]').attr("src", j.VideoURL);
            }
        });
    };

    this.updateDebugPageText = function () {
        //if (self.langLocation === 2) return;

        $("#debugConsoleText table tbody tr").remove();

        let pageItems = [];
        let thisPage = null;
        $.each(self.lang.pages, function (i, p) {
            if (p.File == navigationController.currentPageUrl) {
                pageItems = p.fields;
                thisPage = p;
            }
        });

        //Now replace anything we need to
        $.each(pageItems, function (i, j) {
            if (j.ImageURL != "" && j.ImageURL != null) {
                $("#debugConsoleText table tbody").append(
                    "<tr><td class='imageIcon'>&there4;</td><td>" +
                    j.key +
                    "</td>\
                    <td><img class='debug-content--btn debugImageSelect' id='img_" +
                    j.ContentId +
                    "' data-class='" +
                    j.Class +
                    "' data-key='" +
                    j.key +
                    "' data-type='" +
                    j.Type +
                    "' data-Language='" +
                    j.Language +
                    "' data-pageid='" +
                    j.PageID +
                    "' data-ContentID='" +
                    j.ContentId +
                    "' data-ProjectID='" +
                    j.ProjectID +
                    "' onclick='languageController.updateImageItem(this)' src='" +
                    j.ImageURL +
                    "' data-src='" +
                    j.ImageURL +
                    "'/></td>\
                    <td><div class='debug-content--btn' data-class='" +
                    j.Class +
                    "' data-key='" +
                    j.key +
                    "' data-type='" +
                    j.Type +
                    "' data-Language='" +
                    j.Language +
                    "' data-pageid='" +
                    j.PageID +
                    "' data-ContentID='" +
                    j.ContentId +
                    "' data-src='" +
                    j.ImageURL +
                    "'data-ProjectID='" +
                    j.ProjectID +
                    "' onclick='languageController.seeEditHistory(this)'>Edit history</div></td></tr>"
                );
            }
            if (j.VideoURL != "" && j.VideoURL != null) {
                //$('#debugConsoleText table tbody').append("<tr><td class='videoIcon'>&#9655;</td><td>" + thisPage.File + "</td><td>" + j.key + "</td><td contenteditable id='vid_" + j.ContentId + "'>" + j.VideoURL + "</td><td><div class='debugrndbtn' data-class='" + j.Class + "' data-key='" + j.key + "' data-type='" + j.Type + "' data-Language='" + j.Language + "' data-pageid='" + j.PageID + "' data-ContentID='" + j.ContentId + "' data-ProjectID='" + j.ProjectID +"' onclick='languageController.updateVideoItem(this)'>></div></td></tr>");
            }
            if (j.Text != "" && j.Text != null) {
                $("#debugConsoleText table tbody").append(
                    "<tr><td class='textIcon'>T</td><td>" +
                    j.key +
                    "</td><td class='debug-content--btn' id='txt_" +
                    j.ContentId +
                    "' data-class='" +
                    j.Class +
                    "' data-key='" +
                    j.key +
                    "' data-type='" +
                    j.Type +
                    "' data-Language='" +
                    j.Language +
                    "' data-pageid='" +
                    j.PageID +
                    "' data-ContentID='" +
                    j.ContentId +
                    "' data-ProjectID='" +
                    j.ProjectID +
                    "' onclick='languageController.updateTextItem(this)'>" +
                    j.Text +
                    "</td>\
                    <td><div class='debug-content--btn' data-class='" +
                    j.Class +
                    "' data-key='" +
                    j.key +
                    "' data-type='" +
                    j.Type +
                    "' data-Language='" +
                    j.Language +
                    "' data-pageid='" +
                    j.PageID +
                    "' data-ContentID='" +
                    j.ContentId +
                    "' data-ProjectID='" +
                    j.ProjectID +
                    "' onclick='languageController.seeEditHistory(this)'>Edit history</div></td></tr>"
                );
            }
        });
    };

    this.updateImageItem = function (i) {
        //if (self.langLocation === 2) {
        //    testController.alert("Live image editing is disable during development. For any image updates, list these as 'Bugs' in DevOps Work Items.")
        //    return false;
        //}

        // Load text editor

        // Load text editor
        $.get("edit/ajax/_imageEditor.html", function (data) {

            $("body").append(data);
            $(".editor").fadeIn(250);

            let currentImageID = $("#img_" + $(i).data("contentid"));
            let currentImageURL = $(i).data("src")

            // Populate image pane
            let imgArr = self.imgArray;

            for (var s = 0; s < imgArr.length; s++) {
                let url = imgArr[s].src;
                $(".image-editor__pane").append("<div class='image-editor__img' data-url='" + url + "' style='background-image: url(" + url + ")'></div>");
            }

            $(".image-editor__img").on("click", function () {
                $(".image-editor__img").removeClass("active");
                $(this).addClass("active");
            });

            $("#editor-close").on("click", function () {
                $(".editor").fadeOut(250, function () {
                    $(".editor").remove();
                });
            });

            $(".image-editor__btn").on("click", function () {
                if (self.langLocation === 2) {
                    testController.alert("Live image editing is disable during development. For any text updates, list these as 'Bugs' in DevOps Work Items.");
                    return false;
                }

                if ($(".image-editor__img.active").length === 0) {
                    testController.alert("Please select an image.");
                    return false;
                }

                let $this = $(this),
                    d = new Date(),
                    curDate = d.toUTCString(),
                    data = {
                        Class: $(i).data("class"),
                        Type: $(i).data("type"),
                        Text: "",
                        VideoURL: "",
                        ImageURL: $(".image-editor__img.active").data("url"),
                        Language: $(i).data("language"),
                        ProjectID: $(i).data("projectid"),
                        PageID: $(i).data("pageid"),
                        ContentId: $(i).data("contentid"),
                        key: $(i).data("key"),
                        userID: window.testController.userID,
                        created: curDate
                    };

                $this.addClass("loading");
                $this.html("Authenticating");
                console.log(data);

                let success = function () {
                    initLang();
                    $(".image-editor").addClass("ok");
                    $this.html("Image updated!");
                    navigationController.goToPage(navigationController.activePage);
                    setTimeout(function () {
                        $(".editor").fadeOut(250, function () {
                            $(".editor").remove();
                        });
                    }, 1500);
                }

                let failure = function () {
                    $this.html("Failed to update image, please try again.");
                    setTimeout(function () {
                        $this.removeClass("loading");
                    }, 2500);
                }

                self.postImageUpdate(data, success, failure);
            });

        });
    };

    this.updateVideoItem = function (i) {
        let d = new Date(),
            curDate = d.toUTCString(),
            data = {
                Class: $(i).data("class"),
                Type: $(i).data("type"),
                Text: "",
                VideoURL: $("#vid_" + $(i).data("ContentID")).html(),
                ImageURL: "",
                Language: $(i).data("language"),
                ProjectID: $(i).data("projectid"),
                PageID: $(i).data("pageid"),
                ContentId: $(i).data("ContentID"),
                key: $(i).data("key"),
                userID: window.testController.userID,
                created: curDate
            };

        $.ajax({
            type: "POST",
            data: data,
            url: "",
            async: true,
            crossDomain: true,
        }).done(function (pages) {
            initLang();
        });

    };

    this.updateTextItem = function (i) {
        if (self.langLocation === 2) {
            testController.alert("Live text editing is disable during development. For any text updates, list these as 'Tasks' in DevOps Work Items.");
            return false;
        }
        // Load text editor
        $.get("edit/ajax/_textEditor.html", function (data) {
            $("body").append(data);

            $(".editor").fadeIn(250);

            let currentText = $("#txt_" + $(i).data("contentid")),
                html = false;

            $("#textedit").val(currentText.text());

            $(".text-editor__html").on("click", function () {
                if (html === false) {
                    $("#textedit").val(currentText.html());
                    $(this).html("<b>HTML</b>/Text");
                } else {
                    $("#textedit").val(currentText.text());
                    $(this).html("HTML/<b>Text</b>");
                }
                html = !html;
            });
            $("#editor-close").on("click", function () {
                $(".editor").fadeOut(250, function () {
                    $(".editor").remove();
                });
            });

            $(".text-editor__btn").on("click", function () {
                let $this = $(this),
                    d = new Date(),
                    curDate = d.toUTCString(),
                    data = {
                        Class: $(i).data("class"),
                        Type: $(i).data("type"),
                        Text: $("#textedit").val(),
                        VideoURL: "",
                        ImageURL: "",
                        Language: $(i).data("language"),
                        ProjectID: $(i).data("projectid"),
                        PageID: $(i).data("pageid"),
                        ContentId: $(i).data("contentid"),
                        key: $(i).data("key"),
                        userID: window.testController.userID,
                        created: curDate
                    };

                $this.addClass("loading");
                $this.html("Authenticating");
                console.log(data);

                let success = function () {
                    initLang();
                    self.getContentHistory(data.ContentId);
                    $(".text-editor").addClass("ok");
                    $this.html("Text updated!");
                    navigationController.goToPage(navigationController.activePage);
                    setTimeout(function () {
                        $(".editor").fadeOut(250, function () {
                            $(".editor").remove();
                        });
                    }, 1500);
                }

                let failure = function () {
                    $this.html("Failed to update text, please try again.");
                    setTimeout(function () {
                        $this.removeClass("loading");
                    }, 2500);
                }

                self.postTextUpdate(data, success, failure);


            });

        });

    };

    this.postImageUpdate = function (data, success, failure) {
        $.ajax({
            type: "POST",
            data: data,
            url: "https://pmprojectv3.purplemediahosting.co.uk/classroomAPI/LanguageAPI/updateContent",
            async: true,
            crossDomain: true,
        })
            .done(function (pages) {
                // Success callback
                success();
            })
            .fail(function (e) {
                // failed to update text
                console.log(e);
                // Failure callback
                failure();
            });
    }
    this.postTextUpdate = function (data, success, failure) {
        $.ajax({
            type: "POST",
            data: data,
            url: "https://pmprojectv3.purplemediahosting.co.uk/classroomAPI/LanguageAPI/updateContent",
            async: true,
            crossDomain: true
        })
            .done(function (pages) {
                success();
            })
            .fail(function (e) {
                // failed to update text
                console.log(e);
                // Failure callback
                failure();
            });
    }

    this.getContentHistory = function (contentID) {

        $.ajax({
            type: "GET",
            url: "https://pmprojectv3.purplemediahosting.co.uk/classroomAPI/LanguageAPI/getContentHistory?contentID=" + contentID,
            async: true,
            crossDomain: true
        }).done(function (res) {
            console.log(res)
        })
    }

    this.seeEditHistory = function (data) {
        let contentID = $(data).data("contentid"),
            contentKey = $(data).data("key"),
            curDate = new Date().toUTCString();

        $.get('edit/ajax/_editHistory.html', function (data) {
            $("body").append(data);
            $("#editor-close").on("click", function () {
                $(".editor").fadeOut(250, function () {
                    $(".editor").remove();
                });
            });

            let localPageFields = self.localCopy[navigationController.activePage].fields,
                localPageItem = null;

            for (var l = 0; l < localPageFields.length; l++) {
                if (localPageFields[l].key === contentKey) {
                    localPageItem = localPageFields[l];
                }
            }

            $.ajax({
                type: "GET",
                url: "https://pmprojectv3.purplemediahosting.co.uk/classroomAPI/LanguageAPI/getContentHistory?contentID=" + contentID,
                async: true,
                crossDomain: true
            }).done(function (res) {
                // Check that API has returned JSON array.
                if (Array.isArray(res) && res.length > 0) {

                    let success = function () {
                        initLang();
                        navigationController.goToPage(navigationController.activePage);
                        testController.alert("Content succesfully reverted from history.")
                        $(".editor").fadeOut(250, function () {
                            $(".editor").remove();
                        });
                    }
                    let failure = function () {
                        testController.alert("Failed to revert content update from history.")
                    }



                    res.push({
                        "Name": "Original Copy",
                        "Dated": "N/A",
                        "text": localPageItem.ImageURL === '' ? localPageItem.Text : "",
                        "imageURL": localPageItem.Text === '' ? localPageItem.ImageURL : "",
                        "ContentID": contentID
                    })

                    for (var i = 0; i < res.length; i++) {

                        let rng = Math.floor(100000 + Math.random() * 900000),
                            t = res[i].text,
                            img = res[i].imageURL;

                        if (res[i].text !== null) {

                            $(".editHistory tbody").append("<tr>\
                        <td>" + res[i].Name + "</td>\
                        <td>" + new Date(res[i].Dated).toLocaleString() + "</td>\
                        <td class='editHistory__content'>" + t + "</td>\
                        <td class='editHistory__revert' id='editHistory-"+ rng + "'\
                            data-ContentID='" + res[i].ContentID + "'\
                            >Revert</td>\
                        </tr>");

                            $("#editHistory-" + rng).on('click', function () {

                                languageController.postTextUpdate({
                                    Class: $(data).data("class"),
                                    Type: $(data).data("type"),
                                    Text: $(this).siblings(".editHistory__content").html(),
                                    VideoURL: "",
                                    ImageURL: "",
                                    Language: $(data).data("language"),
                                    ProjectID: $(data).data("projectid"),
                                    PageID: $(data).data("pageid"),
                                    ContentId: contentID,
                                    key: contentKey,
                                    userID: window.testController.userID,
                                    created: curDate
                                }, success, failure)
                            })

                        } else {

                            $(".editHistory tbody").append("<tr>\
                        <td>" + res[i].Name + "</td>\
                        <td>" + new Date(res[i].Dated).toLocaleString() + "</td>\
                        <td class='editHistory__content'><img src='" + img + "'/></td>\
                        <td class='editHistory__revert' id='editHistory-"+ rng + "'\
                            data-ContentID='" + res[i].ContentID + "'\
                            data-src='" + img + "'\
                            >Revert</td>\
                        </tr>")

                            $("#editHistory-" + rng).on('click', function () {

                                languageController.postImageUpdate({
                                    Class: $(data).data("class"),
                                    Type: $(data).data("type"),
                                    Text: "",
                                    VideoURL: "",
                                    ImageURL: $(this).siblings(".editHistory__content").find("img").attr("src"),
                                    Language: $(data).data("language"),
                                    ProjectID: $(data).data("projectid"),
                                    PageID: $(data).data("pageid"),
                                    ContentId: contentID,
                                    key: contentKey,
                                    userID: window.testController.userID,
                                    created: curDate
                                }, success, failure)
                            })

                        }
                    }

                    $(".editor").fadeIn(250);

                } else {

                    testController.alert("This item has not been edited previously.")
                    $(".editor").fadeOut(250, function () {
                        $(".editor").remove();
                    });

                }

            }).fail(function (e) {
                testController.alert("Failed to retrieve edit data, please contact administrators.")
            })
        })


    };

    initLang();
};

const ModuleController = function () {
    const self = this;
    this.lowPerformanceMode = false;
    this.unlockAll = false;
    this.notesPage = $("#debugNoteList");
    this.projectURL = '000%20Project%20Templates';
    this.clientMode = false;
    this.objectives = [ // Define any SCORM objectives here.
    ];
    //These are basic patch notes that are visible within the Edit Suite.
    this.notes = [
        {
            version: "v0.0.1",
            objects: [
                "Init"
            ]
        }
    ];
    // This is appended to the settings tab of the Edit Suite. It contains advanced functions and methods for testing the module. Some things here are module specific but most are useful for testing any SCORM package.
    this.consoleFunctions = '\
        <tr><td colspan="2">&nbsp;</td></tr>\
        <tr class="tableSubHeader"><td colspan="2">Module Functions:</td></tr>\
        <tr><td colspan="2"><div onclick="navigationController.goToPage(0)" class="dButton" style="text-align: left;">Go to first page</div></td></tr>\
        <tr><td colspan="2"><div onclick="navigationController.goToPage(navigationController.activePage)" class="dButton" style="text-align: left;">Reload current page</div></td></tr>\
        <tr><td colspan="2"><div onclick="scormController.instance.setComplete(true)" class="dButton" style="text-align: left;">Set SCORM complete</div></td></tr>\
        <tr><td colspan="2">&nbsp;</td></tr>\
        <tr class="tableSubHeader"><td colspan="2">Advanced Functions:</td></tr>\
        <tr><td colspan="2"><div onclick="testController.clearData()" class="dButton" style="text-align: left;"><span class="text-danger">WARNING: IRREVERSABLE</span> - Clear course data (Please note this will reload the module and also log you out of the PurpleMedia Edit Suite)</div></td></tr>\
        <tr><td colspan="2"><div onclick="testController.CreatePagesInDB()" class="dButton" style="text-align: left;"><span class="text-danger">WARNING: IRREVERSABLE</span> - Upload text to database (Please note this will override all current text on database and should only be used for imports.)</div></td></tr>\
    ';

    // Populate to notes tab of EditSuite from the notes array.
    this.populateNotes = function () {
        self.notesPage = $("#debugNoteList");
        self.notesPage.append('<h4>Patch Notes</h4>');
        for (var v = 0; v < self.notes.length; v++) {
            self.notesPage.append('<h5 class="debugVersion">' + self.notes[v].version + '</h5><ul>');
            for (var o = 0; o < self.notes[v].objects.length; o++) {
                self.notesPage.append('<li class="debugNote">' + self.notes[v].objects[o] + '</li>');
            };
            self.notesPage.append('</ul>');
        };
    };
       

    // Called from navigationController on changePage.
    this.pageChange = function () {

        $("html, body").scrollTop(0);
        
    };

};

/* NAVIGATION CONTROLLER */
const NavigationController = function (opts) {
    const self = this;
    this.activePage = (opts.activePage == 'null') ? 0 : parseInt(opts.activePage);
    this.currentPageUrl = '';
    this.useCDN = true;
    this.cachePages = false;
    this.firstLaunch = true;
    this.videoRes = 0;
    this.region = 1;
    this._options = opts;
    this._answers;
    this._kc1Score = 0;
    this._totalScore = 0;
    this._altprogress = 0;
    this._controls = this._options.controls;
    this._pages = opts.pages || [];
    this._stage = opts.stage;
    this._progressBar = $('#breadcrumb #breadcrumb_bar');
    this._personActive = false;
    this._title = $('#slidetitle');
    this._debugtext = $('#debug_text');
    this._slideHasControl = false;
    this._slideCanChange = function () { return true; };
    this.score;
    this.redoMods = [];
    this.attempt = 1;

    // Private functions

    function init() {
        //console.log('NavigationController::init', self._options);
        //self._controls.on('click', self.changePage);
        launchInitialPage();
    }

    function launchInitialPage() {
        changePage(self._pages[self.activePage]);
        self._title.html(self._pages[self.activePage].title);
        $('#preload').fadeIn();
    }

    function addPageToDebugHistory(title, url, type) {

        const d = new Date(),
            h = d.getHours(),
            m = d.getMinutes(),
            s = d.getSeconds(); // => 51

        // Ternary operators are in use to ensure time displays correctly if any value is less than 10. 
        // eg. 9:5:2 is converted to 09:05:02
        const dt = (h < 10 ? "0" + h : h) + ":" + (m < 10 ? "0" + m : m) + ":" + (s < 10 ? "0" + s : s);

        $('#debugLocationHistory table tbody').prepend("<tr><td>" + dt + "</td><td>" + title + "</td><td>" + url + "</td><td><div class='debug-content--btn'  data-url='" + url + "' data-pagetype='" + type + "' onclick='testController.gotoPage(this)'>Go to page</div></td></tr>")

    }

    function changePage(nextPage) {
        // If the next page exists, go to it.
        if (nextPage) {
            $('.page-nav.next').removeClass('hidethis');
            // Notify listeners that the page is about to change
            $.publish('navigationController/pageWillChange');
            // Change the page
            self.currentPageUrl = nextPage.url;

            // Dispose videos after use
            for (var i = 0; i < pages.length; i++) {

                // Videos are created from the title of the page they sit on.
                // We can use this title reference to dispose from videojs memory.
                try {
                    if (videojs.getPlayers()[pages[i].title]) {
                        videojs(pages[i].title).dispose();
                    }
                } catch (err) {
                    //videojs is still initialising or not packaged.
                }
            }


            $(".page-nav").removeClass("tempflash3");
            $("#overlayglow").css("background", "").hide();
            $('#stage').animate({ opacity: 0 }, 500, "swing", function () {
                $("#stage").load(nextPage.url, function () {

                    moduleController.pageChange();

                    //Call the strt method for the page
                    try {
                        initLang();
                    } catch (err) {
                    }
                    $("html, body").scrollTop(0);
                    setTimeout(function () {

                        $.publish("/page/loaded", [nextPage]);

                        dataController.save();

                        languageController.updateCurrentPageText();
                        //todo UNDO - temporarily disable all bookmarking
                        scormController.instance.setLocation(self.activePage);
                        //Change the video still if needed
                        if (nextPage.videostillclass !== '') {
                            $('#videoStill').removeClass().addClass(nextPage.videostillclass);
                        }

                        //ONLY IF WERE DEBUGGING
                        if (DEBUG) {
                            if (testController.enabled) {
                                //set the page history
                                addPageToDebugHistory(nextPage.title, nextPage.url, "main");
                                //clear the log if it is set to clear on page change
                                if (testController.clearErrorsOnPageChange) {
                                    $('#debugConsoleLog table tbody tr').remove();
                                }
                                //update the text section with the text on this page
                                languageController.updateDebugPageText();
                            }
                            self._title.html(self._pages[self.activePage].title);
                        }
                    }, 250);

                    setTimeout(function () {
                        $('#stage').animate({ opacity: 1 }, 500);
                    }, 250)
                });

            });
            return true;
        } else {
            //console.warn('No page to navigate to');
            return false;
        }
    }

    // Public methods

    // Public methods
    let ContentPage = {
        "ProjectId": "",
        "Title": "",
        "Url": "",
        "Enabled": 1,
        "OrderID": 0,
        "Background": "",
        "Section": "",
        "SubSection": "",
        "PrevPage": "",
        "NextPage": "",
        "Custom": ""
    };

    this.getPageObjectByFile = function (fn) {
        let found = false,
            pgs = self._pages,
            cp = ContentPage;
        $.each(pgs, function (i, p) {
            if (p.url.toLowerCase() === fn.toLowerCase()) {
                found = true;
                cp.projectId = projectID;
                cp.Title = p.title;
                cp.Url = p.url;
                cp.Enabled = 1;
                cp.OrderID = p.pageid;
                cp.Background = p.background;
                cp.Section = p.section;
                cp.SubSection = p.subsection;
                cp.PrevPage = p.prevpage;
                cp.NextPage = p.nextpage;
                cp.Custom = p.custom;
            }
        });
        if (found === true) {
            return cp;
        } else {
            return null;
        }
    };

    this.updateScore = function (QID, SCORE, MULTIPLIER, CORRECT) {
        //Reset module scores
        $.each(self._moduleScore, function (i, q) {
            q = 0;
        });
        //Loop all scores, updating the one we just got as we pass
        $.each(self._interactions, function (i, q) {
            if (q[0] === QID) {
                q[1] = SCORE;
                q[2] = MULTIPLIER;
                q[3] = CORRECT;
            };
            if (q[2] === 0) { q[2] = 1 };
            self._moduleScore[Number(q[4])] = (Number(self._moduleScore[Number(q[4])]) + Number(Number(q[1]) * Number(q[2])));
        });
    };

    this.launchInitialPage = function () {
        launchInitialPage();
    };

    this.getCurrentPage = function () {
        return self._pages[self.activePage];
    }

    this.changePage = function (e) {
        const isForward = $(e.target).is('.next');

        if (self._slideHasControl && self._slideCanChange(isForward) && isForward) {
            return false;
        } else if (!isForward) {
            self._slideHasControl = false;
        }
        // Get a reference to the next page
        const nextPage = isForward ? self._pages[self.activePage + 1] : self._pages[self.activePage - 1];

        if (changePage(nextPage)) {
            $(e.target).is('.next') ? self.activePage++ : self.activePage--;
            // Hook for AFTER the page changes
            $.publish('navigationController/pageDidChange', self.activePage);
            
            if (scormController.canSave) {
            
                //gameController.save();
            }
            self._title.html(self._pages[self.activePage].title);
            $('header').removeClass("slideupheader")

        };
    }

    this.goToPage = function (id, scroll) {

        if (typeof (self._pages[id]) !== 'undefined' && changePage(self._pages[id])) {
            self.activePage = id;

            // Hook for AFTER the page changes
            $.publish('navigationController/pageDidChange', self.activePage);

            if (scroll !== '') {

                setTimeout(function () {
                    scrollTo($(scroll));
                }, 250);

            }

            if (scormController.canSave) {
            }

        }

    }

    this.goToPageWithFilename = function (filename, scroll) {

        var $pageIndex;

        $.each(self._pages, function (i, l) {

            if (l.url === filename) {
                $pageIndex = i;
                return true;
            }

        });

        self.goToPage($pageIndex, scroll);
    };

    this.goToPageWithTitle = function (name, scroll) {

        var $pageIndex;

        $.each(self._pages, function (i, l) {

            if (l.title === name) {
                $pageIndex = i;
                return true;
            }

        });

        self.goToPage($pageIndex, scroll);
    };

    this.goToNextPage = function () {
        self.activePage < self._pages.length - 1 ? self.activePage++ : self.activePage;
        if (changePage(self._pages[self.activePage])) {
            // Hook for AFTER the page changes
            $.publish('navigationController/pageDidChange', self.activePage);

            if (scormController.canSave) {
                //todo fix saving
                //gameController.save();
            }
        }
    }

    this.activePageAsText = function () {
        if (DEBUG) {
            const txt = "";
            txt = "The current page is " + this._pages[self.activePage].url;
            return txt;
        }
    }

    this.activePageAsNo = function () {
        return self.activePage;
    }

    // Lastly, call init so we're ready to go as soon as the controller is created
    init();
};
const ScormController = function () {
    const self = this;
    this.instance = null;
    this.version = 1.2;
    this._scormConnected = false;
    this.canSave = true;
    this.objectives = module_objectives;
    this.studentID = '';
    this.useObjectives = true;

    function FormatChoiceResponse(value) {
        const newValue = new String(value);

        //replace all whitespace
        newValue = newValue.replace(/\W/g, "_");
        return newValue;
    }

    // Private Functions
    function init() {
        if (typeof (pipwerks) !== 'undefined' && !self._scormConnected) {
            var scorm = pipwerks.SCORM;
            self._scormConnected = scorm.init();
            // Check we're actually connected
            if (self._scormConnected) {
                console.info('SCORM::Connected');
                //Let's check if we're 'really' connected by trying to get the student ID
                if (self.version == 1.2) {
                    self.studentID = scorm.get('cmi.core.student_id');
                    if (self.studentID == '' || self.studentID == null) { self.canSave = false; console.log("Reloading at no student ID"); } else { self.canSave = true; }
                    // If the lesson is complete then disconnect, otherwise set incomplete
                    //scorm.get("cmi.core.lesson_status") === 'completed' ? scorm.quit : scorm.set('cmi.core.lesson_status', 'incomplete');
                    //this.version = scorm.get("cmi.core.lesson_status");
                } else {
                    self.studentID = scorm.get('cmi.learner_id');
                    if (self.studentID == '' || self.studentID == null) { self.canSave = false; console.log("Reloading at no student ID"); } else { self.canSave = true; }
                    // If the lesson is complete then disconnect, otherwise set incomplete
                    // scorm.get("cmi.completion_status") === 'completed' ? scorm.quit : scorm.set('cmi.completion_status', 'incomplete');
                    //this.version = scorm.get("cmi.completion_status");
                }


                var scormInstance = {

                    location: function () {
                        let location = 0;
                        if (self.version === 1.2) {
                            location = scorm.get('cmi.core.lesson_location');
                        } else { location = scorm.get('cmi.location'); }
                        console.log(location);
                        return location === "" ? 0 : location;
                    },
                    getItem: function (item) {
                        return scorm.get(item);
                    },
                    getScore: function () {
                        let score = 0;
                        if (self.version == 1.2) { score = scorm.get('cmi.core.score.raw') } else { score = scorm.get('cmi.score.raw') }
                        return (score === "") ? 0 : score;
                    },
                    getStudentName: function () {
                        let sname = "";
                        if (self.version == 1.2) { sname = scorm.get('cmi.core.student_name') } else { sname = scorm.get('cmi.learner_name') }
                        return sname
                    },
                    getStudentID: function () {

                        let sname = "";
                        if (self.version == 1.2) { sname = scorm.get('cmi.core.student_id') } else { sname = scorm.get('cmi.learner_id') }
                        return sname
                    },
                    getSuspendData: function () {
                        let sdata = "";
                        if (self.version == 1.2) { sdata = scorm.get('cmi.suspend_data') } else { sdata = scorm.get('cmi.suspend_data') }
                        return sdata;
                    },
                    getLanguage: function () {
                        let lang = "en";
                        if (self.version == 1.2) { lang = scorm.get('cmi.student_preference.language') } else { lang = scorm.get('cmi.learner_preference.language') }
                        return lang
                    },
                    setItem: function (item, value) {
                        return scorm.set(item, value);
                    },
                    setLocation: function (intLocation) {
                        let bookmark = intLocation + "";
                        let locat;
                        if (self.version == 1.2) { locat = scorm.set('cmi.core.lesson_location', bookmark) } else { locat = scorm.set('cmi.location', bookmark) }

                    },
                    setScore: function (intScore) {
                        let score = intScore + "";
                        if (self.version == 1.2) {
                            scorm.set('cmi.core.score.min', '0');
                            scorm.set('cmi.core.score.max', '100');
                            scorm.set('cmi.core.score.raw', score);
                        } else {
                            scorm.set('cmi.score.min', '0');
                            scorm.set('cmi.score.max', '100');
                            scorm.set('cmi.score.raw', score);
                        }
                        if (scormController.canSave) { scorm.save(); }
                    },
                    setSuspendData: function (data) {
                        if (self.version == 1.2) {
                            scorm.set('cmi.suspend_data', data);
                        } else {
                            scorm.set('cmi.suspend_data', data);
                        }
                        if (scormController.canSave) { scorm.save(); }
                    },
                    setComplete: function () {
                        var status;
                        if (self.version == 1.2) {
                            status = scorm.set('cmi.core.lesson_status', 'completed');
                        } else {
                            status = scorm.set('cmi.completion_status', 'completed');
                        }
                        if (scormController.canSave) {
                            scorm.save();
                        }
                    },
                    setSuccess: function (state) {
                        var status;
                        if (self.version == 1.2) {
                            //not in scorm 1.2
                        } else {
                            status = scorm.set('cmi.success_status', 'passed');
                        }
                        if (scormController.canSave) { scorm.save(); }
                    },
                    setLanguage: function (isolang) {
                        //return scorm.set('cmi.student_preference.language', isolang)
                    },
                    ScormProcessGetValue: function (cmi) {
                        let val = scorm.get(cmi)
                        return val;
                    },
                    ScormProcessSetValue: function (cmi, value) {
                        var status;
                        status = scorm.set(cmi, value);
                        scorm.save();
                    },
                    quit: function () {
                        var status = scorm.quit();
                        return status;
                    },
                    save: function () {
                        scorm.save();
                    },
                    recordQuestion: function (questionRef, questionText, questionType, learnerResponse, correctAnswer, wasCorrect, objectiveId, interactionID) {
                        if (self.version == 1.2) {
                            //question id must be the first item set
                            scorm.set("cmi.interactions." + interactionID + ".id", questionRef);

                            //Associate this question with one of our four defined learning ojectives to enable
                            //the LMS to provide detailed reporting
                            scorm.set("cmi.interactions." + interactionID + ".objectives.0.id", objectiveId);

                            //The question type should be set before detailed response information
                            scorm.set("cmi.interactions." + interactionID + ".type", questionType);

                            //All interaction responses have a very specific format they must ahere to based
                            //on the interaction type. In this example, only multiple choice reponses need to 
                            //be massaged to adhere to that typing.
                            if (questionType == "choice") {
                                learnerResponse = FormatChoiceResponse(learnerResponse);
                                correctAnswer = FormatChoiceResponse(correctAnswer);
                            }

                            if (learnerResponse != "") {
                                //Record the response the learner gave (if one was provided)
                                scorm.set("cmi.interactions." + interactionID + ".student_response", learnerResponse);
                            }

                            //Record the correct answer, even if it is the same as the learner response
                            scorm.set("cmi.interactions." + interactionID + ".correct_responses.0.pattern", correctAnswer);

                            //Finally record whether or not the learner's response was correct
                            if (wasCorrect == true) {
                                scorm.set("cmi.interactions." + interactionID + ".result", "correct");
                            }
                            else {
                                scorm.set("cmi.interactions." + interactionID + ".result", "wrong");
                            }

                        } else {
                            //question id must be the first item set
                            scorm.set("cmi.interactions." + interactionID + ".id", questionRef);

                            //Use the question text as the interaction's description
                            scorm.set("cmi.interactions." + interactionID + ".description", questionText);

                            //Associate this question with one of our four defined learning ojectives to enable
                            //the LMS to provide detailed reporting
                            scorm.set("cmi.interactions." + interactionID + ".objectives.0.id", objectiveId);

                            //The question type should be set before detailed response information
                            scorm.set("cmi.interactions." + interactionID + ".type", questionType);

                            //All interaction responses have a very specific format they must ahere to based
                            //on the interaction type. In this example, only multiple choice reponses need to 
                            //be massaged to adhere to that typing.
                            if (questionType == "choice") {
                                learnerResponse = FormatChoiceResponse(learnerResponse);
                                correctAnswer = FormatChoiceResponse(correctAnswer);
                            }

                            if (learnerResponse != "") {
                                //Record the response the learner gave (if one was provided)
                                scorm.set("cmi.interactions." + interactionID + ".learner_response", learnerResponse);
                            }

                            //Record the correct answer, even if it is the same as the learner response
                            scorm.set("cmi.interactions." + interactionID + ".correct_responses.0.pattern", correctAnswer);

                            //Finally record whether or not the learner's response was correct
                            if (wasCorrect == true) {
                                scorm.set("cmi.interactions." + interactionID + ".result", "correct");
                            }
                            else {
                                scorm.set("cmi.interactions." + interactionID + ".result", "incorrect");
                            }

                        }
                    },
                    setObjectiveScore: function (i, score) {
                        if (self.useObjectives) {
                            if (self.version == 1.2) {
                                var status = scorm.set("cmi.objectives." + i + ".score.raw", score);
                            }
                            else {
                                var status = scorm.set("cmi.objectives." + i + ".score.min", 0);
                                var status = scorm.set("cmi.objectives." + i + ".score.max", 100);
                                var status = scorm.set("cmi.objectives." + i + ".score.raw", score);
                            }
                        }
                    },
                    setObjectiveCompletion: function (i, completion_status) {
                        if (self.useObjectives) {
                            if (self.version == 1.2) {
                                var status = scorm.set("cmi.objectives." + i + ".status", completion_status);
                            }
                            else {
                                var status = scorm.set("cmi.objectives." + i + ".completion_status", completion_status);
                            }
                        }
                    },
                    setObjectiveProgress: function (i, progress) {
                        if (self.useObjectives) {
                            if (self.version == 1.2) {
                                //1.2 has no progress for objectives
                            }
                            else {
                                var status = scorm.set("cmi.objectives." + i + ".progress_measure", progress);
                            }
                        }
                    },
                    initObjectives: function () {
                        if (self.useObjectives) {
                            //Checks if the objectives were registeerd by the LMS and if not creates them
                            let noOfObjectivesRegistered = scorm.get("cmi.objectives._count");
                            let noOfObjectives = self.objectives.length;
                            if (parseInt(noOfObjectivesRegistered) != parseInt(noOfObjectives)) {
                                if (self.version == 1.2) {
                                    $.each(self.objectives, function (i, o) {
                                        scorm.set("cmi.objectives." + i + ".id", o.objectiveID);
                                        scorm.set("cmi.objectives." + i + ".score.raw", 0);
                                        scorm.set("cmi.objectives." + i + ".status", "incomplete");
                                    })
                                } else {
                                    //SCORM 2004
                                    $.each(self.objectives, function (i, o) {
                                        scorm.set("cmi.objectives." + i + ".id", o.objectiveID);
                                        scorm.set("cmi.objectives." + i + ".score.raw", 0);
                                        scorm.set("cmi.objectives." + i + ".completion_status", "incomplete");
                                        scorm.set("cmi.objectives." + i + ".progress_measure", 0);
                                        scorm.set("cmi.objectives." + i + ".description", o.description);
                                    })
                                }
                                scorm.save();

                            }
                        }
                    }
                };
            }
            else {

                if (PRODUCTION && !DEBUG) {
                    this.canSave = false;
                    uiController.showConErr();
                } else {
                    this.canSave = true;
                }

                // SCORM won't connect, so make everything a no-op
                var scormInstance = {
                    location: function () {
                        let loc = 'null';
                        if (utils.storageAvailable('sessionStorage')) {
                            let store = window['sessionStorage'];
                            loc = store.getItem("bookmark");
                            if (loc == 'undefined' || loc == null) {
                                loc = 0;
                            }
                        }
                        else {
                            loc = 0;
                        }
                        return loc;
                        //return 0;
                    },
                    getScore: function () {
                        return 0;
                    },
                    getStudentName: function () {
                        return 'null';
                    },
                    getStudentID: function () {
                        //return '';
                        return '';
                    },
                    getSuspendData: function () {
                        return 'null';
                    },
                    getLanguage: function () {
                        return 'null'
                    },
                    setLocation: function (intLocation) {
                        let bookmark = intLocation + "";
                        if (utils.storageAvailable('sessionStorage')) {
                            let store = window['sessionStorage'];
                            store.setItem("bookmark", bookmark);
                        }
                        return intLocation;
                    },
                    setScore: function (intScore) {
                        let score = intScore + "";
                        return 'null';
                    },
                    setSuspendData: function (data) {
                        utils.cantSave();
                        return 'null';
                    },
                    setComplete: function () {
                        return 'null';
                    },
                    setLanguage: function (isolang) {
                        return 'null';
                    },
                    ScormProcessGetValue: function (cmi, value) {
                        //let val = scorm.get(cmi)
                        return value;
                    },
                    ScormProcessSetValue: function (cmi, value) {
                        //let status;
                        //status = scorm.set(cmi, value);
                        return value
                    },
                    quit: function () {
                        return null;
                    },
                    save: function () {
                        return null;
                    },
                    recordQuestion: function (questionRef, questionText, questionType, learnerResponse, correctAnswer, wasCorrect, objectiveId, interactionID) {
                        return null;
                    },
                    setObjectiveScore: function (i, score) {
                        return null;
                    },
                    setObjectiveCompletion: function (i, completion_status) {
                        return null;
                    },
                    setObjectiveProgress: function (i, progress) {
                        return null;
                    },
                    initObjectives: function () {
                        //Checks if the objectives were registeerd by the LMS and if not creates them
                        return null;
                    }
                }
            };

            // Set the instance
            self.instance = scormInstance;

            return self.scorm;

        } else if (typeof (self.scorm) !== 'undefined') {
            // There's already an instance, return it.
            return self.scorm;

        } else {
            // Pipwerks isn't loaded
            let e = new Error;
            e.message = "SCORM not loaded";
            throw e;
        };
    }

    this.lang = function () {
        return (self.instance.getLanguage() == 'null') ? 'en-GB' : self.instance.getLanguage()
    }

    init();
};
function generateGuid() {
    let result, i, j;
    result = '';
    for (j = 0; j < 32; j++) {
        if (j == 8 || j == 12 || j == 16 || j == 20)
            result = result + '-';
        i = Math.floor(Math.random() * 16).toString(16).toUpperCase();
        result = result + i;
    }
    return result;
}

const TestController = function () {
    const self = this;
    this.enabled = false;
    this.published = false;
    this.disableLogging = false;
    this.logToDefault = true;
    this.logToRemote = false;
    this.logToInfoWindow = false;
    this.sessionid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
        return v.toString(16);
    });
    this.userID = 'ef863ae9-4870-47dd-977f-e45eb2d97ce8'
    this.stageID = 6;
    this.logWarnings = true;
    this.logErrors = true;
    this.logInfo = true;
    this.logLogs = true;
    this.debugOpen = false;


    this.openBtn = $('.open-debug');
    this.closeBtn = $('.close-debug');
    this.closePaneBtn = $('.close-debugwindow');
    this.clearErrorsOnPageChange = true;
    this.requiresLogin = true;
    this.userDetail = null;
    this.loginButton = $("#debugLoginBtn");
    this.loginState = $("#debugLoginBtn .state");
    this.loginButton = $("#debugLoginBtn");
    this.loginState = $("#debugLoginBtn .state");
    this.loginToken = null;
    this.loginFeedback = $('#txtLoginFeedback');
    //What should be sent as part of the bug reports
    this.sendconsolelog = true;
    this.sendhtml = false;
    this.senddeviceinfo = true;
    this.sendscreenshot = true;
    this.screenshotQuality = 0.2
    this.sendsource = true;
    this.debugDetailWindow = null;
    this.severityfilter = 0;
    this.statusfilter = 0;
    this.updateText = true;
    this.username = null;

    if (self.enabled) {
        self.openBtn.show();
    }


    // Get console from partial and add to index
    this.console = $('#debugConsole');
    $.get("edit/ajax/_debugConsole.html", function (data) {
        self.console.html(data);

        let loginID = dataController.getData("loginUserID");
        let loginName = dataController.getData("loginUsername");
        if (loginID == null || loginID == '') { } else {
            self.logRocketUser(loginID, loginName);

        }

        $('.open-debug').on('click', function () {
            $('.open-debug').fadeOut();
            if (loginID == null || loginID == '') {
                self.showLogin();
            } else {
                //open debug
                self.console.fadeIn(250);
                let restoredPAT = dataController.getData("DevOpsPAT")
                if (restoredPAT !== null) {
                    devOps.doLogin(restoredPAT);
                }
                if (moduleController.clientMode === true) {
                    devOps.doLogin('r3dsqlpucoibmz2nq5rozvouhtrnyjlckphireeoqjnzrutudxzq');
                }

            }

        });

        $('.close-debug').on('click', function () {
            $('.open-debug').fadeIn();

            self.console.fadeOut(250)
            self.console.css("top", "auto")
        })
        $('.close-debugwindow').on('click', function () {
            $("#debugConsoleLogWindow").fadeOut(250);
        })

        $('.debugBtn').on('click', function () {
            let target = $(this).attr("alt");
            if ($(this).is("#btnConsoleSubmitProblem") || $(this).is("#btnWorkItems")) {
                //Check DevOps login
                if (devOps.loggedIn !== true) {
                    devOps.login.fadeIn(250);
                    return;
                }
            }
            $(".editWorkItem").remove();
            if (target === 'debugWorkItems') {
                window.open("edit/workitems.html", "Work Items", "width=1000,height=600,top=50, left=50");
                return;
            }
            if (target === 'debugConsoleSubmitProblem') {
                window.open("edit/newitem.html", "Work Items", "width=1000,height=600,top=50, left=50");
                return;
            }
            if ($(this).hasClass("selected")) {
                $("#debugConsoleLogWindow").fadeOut(250);
                $(this).removeClass("selected");
            } else {
                $('.debugBtn.selected').removeClass("selected");
                $(this).addClass("selected");
                $('.debugPane').fadeOut(250);
                $('#' + target).delay(250).fadeIn();
                $("#debugConsoleLogWindow").delay(250).fadeIn(250);
                if (devOps.loggedIn !== true) {
                    return false;
                }
                switch (target) {
                    case 'debugConsoleSubmitProblem':
                        devOps.addTeam("issueAssignedTo");
                        break;
                }
            }
        });


        $("#moduleFunctions").append(moduleController.consoleFunctions);
        moduleController.populateNotes();


        if (self.updateText == false) {
            $('#btnConsoleText').hide();
        }
        if (self.enabled == true) {
            $('.open-debug').show();
        }
        for (var i = 0; i < pages.length; i++) {
            $('#debugPageList table tbody').append("<tr><td>" + pages[i].pageid + "</td><td>" + pages[i].title + "</td><td>" + pages[i].url + "</td><td><div class='debugrndbtn pageJumpBtn'  data-url='" + pages[i].url + "' data-pagetype='main' onclick='testController.gotoPage(this)'>></div></td></tr>")
        }

        if (moduleController.clientMode === true) {
            $("#btnWorkItems").hide();
        }

    });
    //self.console.html(debugConsole);


    // Get consolelogin from partial and add to index
    this.consoleLogin = $('#pmLogin');

    let loginProcessing = false;
    $.get("edit/ajax/_debugLogin.html", function (data) {
        self.consoleLogin.html(data);


        $("#pmLogin .debug-login__close").on('click', function () {
            $('.open-debug').fadeIn();
            $(".debug-login").fadeOut(250);
            loginProcessing = false;
        })
        $("#pmLogin .debug-login__form").on('submit', function (e) {
            e.preventDefault();
            if (loginProcessing) {
                return;
            } else {
                loginProcessing = true;
            }
            self.loginButton.addClass('loading');
            self.loginState.html('Authenticating');
            self.doLogin($('#txtUsername').val(), $('#txtPassword').val());

        })

    });
    //self.consoleLogin.html(debugLogin);




    this.hideAlert = function () {
        let pop = $(".pm-pop");
        pop.remove();
    }

    this.alert = function (txt) {
        self.hideAlert();

        $.get("edit/ajax/_alert.html", function (data) {
            $("body").append(data);
            let pop = $(".pm-pop");
            $("#alert-text").html(txt);
            pop.fadeIn(250);
            $("#alertclose").on('click', function () {
                pop.fadeOut(250, function () {
                    pop.remove();
                });
            });

        });
    };
    this.confirm = function (txt, success, fail) {
        self.hideAlert();

        $.get("edit/ajax/_confirm.html", function (data) {
            $("body").append(data);
            let pop = $(".pm-pop");
            $("#confirm-text").html(txt);
            pop.fadeIn(250);
            $("#confirm").on('click', function () {
                pop.fadeOut(250, function () {
                    pop.remove();
                    if (typeof success !== 'undefined') {
                        success();
                    }
                });
            });
            $("#confirmclose").on('click', function () {
                pop.fadeOut(250, function () {
                    pop.remove();
                    if (typeof fail !== 'undefined') {
                        fail();
                    }
                });
            });

        });

    };


    self.updateSeverityFilter = function (node) {
        self.severityfilter = node.value;
        self.getCurrentIssues();
    };

    self.updateStatusFilter = function (node) {
        self.statusfilter = node.value;
        self.getCurrentIssues();
    };

    this.toggleConsoleLog = function (el) {
        if (self.sendconsolelog === true) {
            self.sendconsolelog = false;
            //el.innerHTML = "CONSOLE LOG OFF";
            $(el).addClass("doff").removeClass("don");
        } else {
            self.sendconsolelog = true;
            //el.innerHTML = "CONSOLE LOG ON";
            $(el).addClass("don").removeClass("doff");
        }
    };

    this.toggleHTML = function (el) {
        if (self.sendhtml === true) {
            self.sendhtml = false;
            //el.innerHTML = "HTML OFF";
            $(el).addClass("doff").removeClass("don");
        } else {
            self.sendhtml = true;
            //el.innerHTML = "HTML ON";
            $(el).addClass("don").removeClass("doff");
        }
    };

    this.toggleDeviceInfo = function (el) {
        if (self.senddeviceinfo === true) {
            self.senddeviceinfo = false;
            //el.innerHTML = "DEVICE INFO OFF";
            $(el).addClass("doff").removeClass("don");
        } else {
            self.senddeviceinfo = true;
            //el.innerHTML = "DEVICE INFO ON";
            $(el).addClass("don").removeClass("doff");
        }
    };

    this.toggleSource = function (el) {
        if (self.sendsource === true) {
            self.sendsource = false;
            //el.innerHTML = "SOURCE OFF";
            $(el).addClass("doff").removeClass("don");
        } else {
            self.sendsource = true;
            //el.innerHTML = "SOURCE ON";
            $(el).addClass("don").removeClass("doff");
        }
    };

    this.toggleScreenshotting = function (el) {
        if (self.sendscreenshots === true) {
            self.sendscreenshots = false;
            //el.innerHTML = "SCREENSHOTS OFF";
            $(el).addClass("doff").removeClass("don");
        } else {
            self.sendscreenshots = true;
            //el.innerHTML = "SCREENSHOTS ON";
            $(el).addClass("don").removeClass("doff");
        }
    };

    this.clearData = function () {
        dataController.clear();
        dataController.save();
        try {
            sessionStorage.clear();
        }
        catch (err) {
            console.log("Cannot clear session storage");
        }
        location.reload();
    }

    $('#debugConsoleRunJS').on('keydown', function (e) {
        if (e.which === 13) { eval($('#debugConsoleRunJS').text()) }
    });

    //$('#debugConsoleLogWindow').niceScroll();

    this.gotoPage = function (pagebtn) {
        let pt = $(pagebtn).attr("data-pagetype");
        let pg = $(pagebtn).attr("data-url");
        if (pt === "main") {
            navigationController.goToPageWithFilename(pg);
        } else {
            //navigationController.o
        }
    };

    function generateGuid() {
        let result, i, j;
        result = '';
        for (j = 0; j < 32; j++) {
            if (j === 8 || j === 12 || j === 16 || j === 20)
                result = result + '-';
            i = Math.floor(Math.random() * 16).toString(16).toUpperCase();
            result = result + i;
        }
        return result;
    }


    $('#btnSubmitReport').on('click', function () {
        let name = $('#txtIRName').text();
        let description = $('#txtIRDescription').text();
        self.postTask(name, description);
    });


    this.postTask = function (name, description) {
        self.alert("Sending your issue<br/>This may take some time whilst we capture your current screen and gather some details. Please wait...");
        let fdate = new Date();
        fdate.setDate(fdate.getDate() + 1);
        let d = new Date();
        let clog = "";
        let html = "<!-- NO HTML -->";
        let deviceinfo = " ";
        let screenshot = "";
        let source = " ";

        //Debug Parameters

        //Console log, all the possible errors that may have been logged
        if (self.sendconsolelog) {
            clog = $('#debugConsoleLog').html();
        }

        //Should we send the HTML of the page
        if (self.sendhtml) {
            html = $('#stage').html();
        }

        //Should we send the Device Info
        if (self.senddeviceinfo) {
            let detector = new MobileDetect(window.navigator.userAgent);
            deviceinfo += "Mobile: " + detector.mobile();
            deviceinfo += ",Phone: " + detector.phone();
            deviceinfo += ",Tablet: " + detector.tablet();
            deviceinfo += ",OS: " + detector.os();
            deviceinfo += ",userAgent: " + detector.userAgent();
        }

        //Source
        if (self.sendsource) {
            $('#debugLocationHistory tbody tr td:nth-child(2)').each(function (i, o) {
                source = source + $(this).html() + ",";
            });
        }

        let task = {
            "Stage_FK": 6,
            "ProjectID_FK": projectID,
            "AllocatedTo_FK": self.userID,
            "PercentComplete": 0,
            "IsMilestone": false,
            "ScrumType": 1,
            "State": 1,
            "Priority": 5,
            "RiskLevel": 5,
            "ScheduleMode": 1,
            "DurationScheduledMins": 30,
            "DurationActualMins": 30,
            "ScheduledStart": null,
            "ActualStart": null,
            "ScheduledEnd": null,
            "ActualEnd": null,
            "DeadlineDate": null,
            "Description": description,
            "ID": generateGuid(),
            "Name": name
        };

        let bug = {
            "ID": generateGuid(),
            "ProjectID": projectID,
            "TaskID": task.ID,
            "LineNumber": 4,
            "Location": navigationController.currentPageUrl,
            "ShortDesc": "Reported by the debug tool",
            "Description": description,
            "Source": source,
            "ConsoleLog": clog,
            "Browser": navigator.appName,
            "BrowserVersion": navigator.appVersion,
            "Agent": "",
            "Device": screensize + " - Scroll distance: " + $("#main").scrollTop(),
            "ReportedBy": dataController.getData("loginUserID"),
            "ReportedByName": name,
            "ReportedDate": d.toJSON(),
            "CurrentHTML": html,
            "ScreenShot": "",
            "Severity": 1,
            "Status": 1,
            "Type": 1
        };

        //Decide if we should take a screenshot, if we do, it's async so we need to do this with a promise

        if (self.sendscreenshot) {
            let node = document.querySelector('#main');
            let scrollTop = $("#main").scrollTop();
            $("#stage").css("margin-top", "-" + scrollTop + "px");
            let options = {
                quality: 0.5,
                width: window.innerWidth,
                height: window.innerHeight
            }
            domtoimage.toJpeg(node, options)
                .then(function (dataUrl) {
                    bug.ScreenShot = dataUrl;
                    $("#stage").css("margin-top", "0px");
                    sendTask(bug, task);
                    $("#main").scrollTop(scrollTop)
                })
                .catch(function (error) {
                    console.log(error)
                    $("#stage").css("margin-top", "0px");
                    bug.ScreenShot = 'oops, something went wrong! : ' + error;
                    sendTask(bug, task);
                    $("#main").scrollTop(scrollTop)
                });

        } else {
            sendTask(bug, task);
        }

    };

    this.showLogin = function () {
        $('.open-debug').fadeOut();
        $("#pmLogin").fadeIn(250);
        $("#pmLogin .debug-login__form").delay(250).fadeIn(250);
    };

    this.hideLogin = function () {
        $("#pmLogin.debug-login").fadeOut(250);
        loginProcessing = false;
    };

    this.doLogin = function (username, password) {
        //login to the debug system
        // self.ui_lang_components.login.loginerror = "";
        let userLogin = {
            grant_type: 'password',
            username: username,
            password: password
        };

        //Now call token generation
        $.ajax({
            url: "https://pmproject.purplemediahosting.co.uk/TOKEN",
            method: "POST",
            data: $.param({ grant_type: 'password', username: userLogin.username, password: userLogin.password }),
            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
            async: false
        }).done(function (data) {
            //Set the login details
            self.loginButton.addClass('ok');
            self.loginState.html('Welcome back!');

            self.console.fadeIn(250);
            setTimeout(function () {
                self.hideLogin();

            }, 2000);
            self.loginToken = data;
            self.hideLogin();
            dataController.setData("loginToken", data.access_token);
            dataController.setData("loginExpiry", new Date(data[".expires"]));
            dataController.setData("loginUsername", data.userName);
            dataController.save();

            if (moduleController.clientMode === true) {
                devOps.doLogin('r3dsqlpucoibmz2nq5rozvouhtrnyjlckphireeoqjnzrutudxzq');
            }

            //Get the user ID
            $.ajax({
                type: "GET",
                url: 'https://pmprojectv2.purplemediahosting.co.uk/api/Account/GetUserID?userName=' + data.userName,
                async: true,
                crossDomain: true
            }).done(function (userID) {
                //save the userID
                dataController.setData("loginUserID", userID);
                dataController.save();
                self.logRocketUser(userID, data.userName);
            });

        }).fail(function (data) {
            self.loginButton.addClass('ok');
            self.loginState.html('Login failed, please try again!');
            setTimeout(function () {
                self.loginState.html('Log in');
                self.loginButton.removeClass('ok loading');
                loginProcessing = false;
            }, 1500);
            dataController.setData("loginToken", "");
            dataController.setData("loginExpiry", new Date() - 1);
            dataController.setData("loginUsername", "");
            // self.ui_lang_components.login.loginerror = data.responseJSON.error_description;
        });
    };

    this.logRocketUser = function (ID, emailAddress) {
        try {
            LogRocket.identify(ID, {
                name: emailAddress,
                email: emailAddress,

                // Add your own custom user variables here, ie:
                clientMode: moduleController.clientMode
            });
        } catch (e) {
            // Failed to send user information to LogRocket as LogRocket is not initialised
        }
    }


    // DATABASE UTILITIES
    this.CreatePagesInDB = function () {
        let r = confirm("Are you sure you want to upload text to the database? This will overwrite any changes previously made from the Edit Suite.");
        if (r === true) {

        } else {
            return false;
        }

        //real import of the Language JSON
        let lGen = window.languageController.lang.general;
        let noPages = lGen.length;
        let pageid;
        let pt = 0;
        let noi = 0;
        let bar = 0;

        $.each(window.languageController.lang.pages, function (i, p) {
            let pageItems = p.fields;
            $.each(pageItems, function (n, l) {
                //count the items
                noi += 1;
            });
        });
        pt = 100 / noi;


        let pageX = 0;
        //loop the lang files

        $.each(window.languageController.lang.pages, function (i, p) {
            let pageItems = p.fields;
            let pageID = null;


            let pg = window.navigationController.getPageObjectByFile(p.File);
            pg.ProjectId = projectID;

            $.ajax({
                type: "POST",
                data: pg,
                url: 'https://pmprojectv3.purplemediahosting.co.uk/classroomAPI/LanguageAPI/addContentPage',
                async: false,
                crossDomain: true
            }).done(function (page) {
                pageID = page.pageID;
                //Add Page Items
                $.each(pageItems, function (n, l) {
                    //Add the content item
                    let ci = {
                        "published": 1,
                        "userID": window.testController.userID,
                        "created": '2018-04-25T10:39:03.7392+01:00',
                        "Class": '',
                        "Type": 5,
                        "Text": l.Text,
                        "VideoURL": l.VideoURL,
                        "ImageURL": l.ImageURL,
                        "Language": window.languageController.langID,
                        "ProjectID": projectID,
                        "PageID": pageID,
                        "ContentId": null,
                        "key": l.key
                    };
                    $.ajax({
                        type: "POST",
                        data: ci,
                        url: 'https://pmprojectv3.purplemediahosting.co.uk/classroomAPI/LanguageAPI/addContentItem',
                        async: false,
                        crossDomain: true
                    });
                });
                // self.alert("Text has finished uploading. Please set languageController.langLocation to 1 to start editing text.")
            });
        });
    };
};
// Avoid `console` errors in browsers that lack a console.
(function () {
    var method;
    var noop = function () { };
    var methods = [
        'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',
        'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',
        'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',
        'timeStamp', 'trace', 'warn'
    ];
    var length = methods.length;
    var console = (window.console = window.console || {});

    while (length--) {
        method = methods[length];

        // Only stub undefined methods.
        if (!console[method]) {
            console[method] = noop;
        }
    }
}());

/* jQuery Tiny Pub/Sub - v0.7 - 10/27/2011
 * http://benalman.com/
 * Copyright (c) 2011 "Cowboy" Ben Alman; Licensed MIT, GPL */
(function ($) {
    var o = $({});

    $.subscribe = function () {
        o.on.apply(o, arguments);
    };

    $.unsubscribe = function () {
        o.off.apply(o, arguments);
    };

    $.publish = function () {
        o.trigger.apply(o, arguments);
    };
}(jQuery));


//utils
var Utils = {
    getURLParameter: function (name) {
        return decodeURI(
            (RegExp(name + '=' + '(.+?)(&|$)').exec(location.search) || [, null])[1]
        );
    },

    cantSave: function () {
        if (PRODUCTION) {
            $.msgBox({
                title: "LMS CONNECTION",
                content: "The course was not able to connect to your LMS for some reason, this will mean if you continue your scores/progress will not be recorded and you may be reset to the start of the course.  Please close the course and open again to attempt to connect to the LMS",
                afterShow: function (result) { $('.msgButton').focus(); }
            });
        }
    },
    addEvent: function (el, type, fn) {
        if (document.addEventListener) return el.addEventListener(type, fn, false);
        return el.attachEvent("on" + type, fn);
    },

    removeEvent: function (el, type, fn) {
        if (document.removeEventListener) return el.removeEventListener(type, fn);
        return el.detachEvent("on" + type, fn);
    },

    storageAvailable: function(type) {
        try {
            var storage = window[type],
            x = '__storage_test__';
            storage.setItem(x, x);
            storage.removeItem(x);
            return true;
        } catch (e) { return false;}
    },

    subscribe: $.subscribe,
    unsubscribe: $.unsubscribe
};

$("body").on('click', '.header__burger', function () {
    $(this).toggleClass("active");
    $(".menu").toggleClass("active");
});
// Scripts for handling language change

function setLanguage() {

    // Set language from previously selected in suspend data.

    if (dataController.getData("language") !== null) {
        let dataLang = dataController.getData("language");
        videoLang = dataLang + '/';
        $("#helpflag").attr("src", "assets/img/flags/" + dataLang + ".svg");
        switch (dataLang) {
            case 'en-GB': // English
                languageController.lang = en;
                break;
            case 'pt-BR': // Portuguese Brazil
                languageController.lang = pt_br;
                break;
            case 'fr-FR': // French
                languageController.lang = fr;
                break;
            case 'de-DE': // German
                languageController.lang = de;
                break;
            case 'es-ES': // Spanish
                languageController.lang = es;
                break;
            case 'ru-RU': // Russian
                languageController.lang = ru;
                break;
            case 'zh-CHS': // Simplified Chinese
                languageController.lang = zh_chs;
                break;
        };
    } else {
        dataController.setData("language", "en-GB"); // Default to english
    };
    initLang(); // Reset variables for i18n

    $(".hud--lang").addClass(dataController.getData("language")); // Set flag
    $(".pop__lang").removeClass("active");
    $('.pop__lang[rel="' + dataController.getData("language") + '"]').addClass("active");


}

function populateFlags() {
    let menuLang = [
        {
            "name": "English",
            "flag": "en-GB",
            "iso": "en-GB"
        },
        {
            "name": "Português",
            "flag": "pt-BR",
            "iso": "pt-BR"
        },
        {
            "name": "Français",
            "flag": "fr-FR",
            "iso": "fr-FR"
        },
        {
            "name": "Deutsch",
            "flag": "de-DE",
            "iso": "de-DE"
        },
        {
            "name": "Español",
            "flag": "es-ES",
            "iso": "es-ES"
        },
        {
            "name": "русский",
            "flag": "ru-RU",
            "iso": "ru-RU"
        },
        {
            "name": "Simplified Chinese",
            "flag": "zh-CHS",
            "iso": "zh-CHS"
        }
    ];

    for (var i = 0; i < menuLang.length; i++) {
        // Add row to language selector
        $("#lang").append("<div class='pop__lang' rel='" + menuLang[i].iso + "'><img alt='" + menuLang[i].name + "' class='pop__lang__flag' src='assets/img/flags/" + menuLang[i].flag + ".svg'/><p class='pop__lang__name'>" + menuLang[i].name + "</p></div>");
    };

    $("body").on('click', '.pop__lang', function () {

        var rel = $(this).attr("rel"); // get lang ISO

        $(".hud--lang").removeClass(dataController.getData("language")); // Clear flag
        $(".hud--lang").addClass(rel); // Set flag

        dataController.setData("language", rel); // set lang ISO to suspend data
        setLanguage(); // Tell the language controller

        $(".pop").removeClass("open"); // Close popup

        navigationController.goToPage(navigationController.activePage); //Reload page
    });

}


const languages = {
    "en-GB": '48093AAE-878B-4AC9-9E0B-99091BF884FE',
    "de-DE": 'F826565E-75D5-4FD7-992C-02BE886946C1',
    "fr-FR": '743BF21A-31AD-4B1F-BF31-96C1FD6B4FD5',
    "es-ES": '0B5B9D49-C663-4A0C-9D3E-4F6D2E43D1DF',
    "pt-BR": '82BDFAA1-65FD-48CD-8426-BE6206FD149E',
    "zh-CHS": 'DD826845-777E-4D0C-B18F-8D1A314D0110',
    "ru-RU": '5DFA70F1-6803-4F43-A701-7E17B303C484',
}

function getLang() {
    return languages[dataController.getData("language")];
}
$("body").on('click', '[data-page]', function () {
    const pageTitle = $(this).attr('data-page');

    $(".header__burger, .menu").removeClass("active");

    console.log(pageTitle)

    navigationController.goToPageWithTitle(pageTitle);
})

$("body").on('click', '[data-scroll]', function () {
    const scrollTarget = $(this).attr('data-scroll');

    scrollTo($(scrollTarget));
})

const scrollTo = (targetScrollElement, offset, scrollingElement) => {
    if (targetScrollElement instanceof jQuery === false) {
        return false;
    };

    const scrollSpeed = 250;
    let scrollOffset = 120;
    let $scrollingElement = $("html, body");

    if (offset !== undefined && offset !== null) { scrollOffset = offset };
    if (scrollingElement !== undefined && scrollingElement !== null) { $scrollingElement = scrollingElement };

    try {
        var scrollTarget = targetScrollElement.offset().top;
        $scrollingElement.stop(true).animate({
            scrollTop: (scrollTarget - scrollOffset) + "px"
        }, scrollSpeed);
    } catch (e) { };
}


window.onscroll = function () {
    $("[data-anim-on-scroll]").each(function () {
        if ($(this)) {
            const scrollPos = $("html, body").scrollTop(),
                thisScrollPos = $(this).offset().top,
                trigger = .6;

            if (scrollPos > thisScrollPos - window.innerHeight * trigger) {
                $(this).addClass("animate")
            }
        }
    })

}

const interactionComplete = (key) => {
    $("[data-requires='" + key + "']").show();
}

const visited = (page) => {
    $('.menu-locked[data-page="' + page + '"]').removeClass("menu-locked");
}
var $ = jQuery.noConflict();

function setCourseComplete() {
    console.log("Setting Complete")
    scormController.instance.setComplete();
    alert("Course has been set complete.")
}

function setCourseScore(scoreAsNumber) {
    scormController.instance.setScore(scoreAsNumber);
}

function quitCourse() {
    try {
        scormController.instance.quit();
        window.close();
    } catch (e) {
        window.close();
    }
}

window.onbeforeunload = function () {
    scormController.instance.quit();
}

function initialise() {

    // Test config
    if (projectSettings.ProjectID === '%ProjectID%') {
        console.warn("ProjectID not found. Please run `node setup.js` from CLI.")
    }

    // Add all flags to the language selector pop up
    populateFlags(); 

    // Set initial language 
    setLanguage(); 

	return false;
};

jQuery(function(){


    window.utils = Utils;

    window.languageController = new LanguageController;

    // Controller for this project ONLY
    window.moduleController = new ModuleController();

    // Controller for Azure DevOps API
    window.devOps = new DevOpsController();

    // Controller for SCORM API
    window.scormController = new ScormController;

    lessonLocation = (window.scormController.instance.location() == 'null') ? Utils.getURLParameter('page') : parseInt(window.scormController.instance.location());


    // Instantiate the nav controller
    window.navigationController = new NavigationController({
        controls: $('.page-nav'),
        courseNav: $('#course-nav'),
        pages: pages,
        stage: $('#stage'),
        activePage: lessonLocation
    });


    window.dataController = new courseData();

    //Debug
    window.testController = new TestController();  

	initialise();
    
})





//results
function runResultsCircles() {
	let lows = 0;
	let meds = 0;
	let highs = 0;

	const isMobile = window.screen.availWidth <= 768;
	if (isMobile) $(".page__content").css("overflow-y", "hidden");

	// debug scoring
	// bbcPagesSections[1].pageScore = 90;
	// bbcPagesSections[2].pageScore = 80;
	// bbcPagesSections[3].pageScore = 65;
	// bbcPagesSections[4].pageScore = 50;

	for (let i = 1; i <= bbcPagesSections.length - 1; i++) {
		const pageScore = bbcPagesSections[i].pageScore;

		if (pageScore >= 80) {
			highs += 1;
			$(".results__circle[data-page='" + i + "']").addClass("high");
			$(".results__details-col[data-page='" + i + "'] .results__details-circle").addClass("high");
			$(".results__details-col[data-page='" + i + "'] .results__details-text").append("<div data-i18n_ap='r-" + i + "-high' ></div>");
			$(".results__details-col[data-page='" + i + "'] .results__details-word").attr("data-i18n_g", "enhance");
			$(".results__details-col[data-page='" + i + "'] .results__details-image").attr("src", "assets/img/results/enhance.svg");
		} else if (pageScore >= 60) {
			meds += 1;
			$(".results__circle[data-page='" + i + "']").addClass("med");
			$(".results__details-col[data-page='" + i + "'] .results__details-circle").addClass("med");
			$(".results__details-col[data-page='" + i + "'] .results__details-text").append("<div data-i18n_ap='r-" + i + "-med' ></div>");
			$(".results__details-col[data-page='" + i + "'] .results__details-word").attr("data-i18n_g", "inspire");
			$(".results__details-col[data-page='" + i + "'] .results__details-image").attr("src", "assets/img/results/inspire.svg");
		} else {
			lows += 1;
			$(".results__circle[data-page='" + i + "']").addClass("low");
			$(".results__details-col[data-page='" + i + "'] .results__details-circle").addClass("low");
			$(".results__details-col[data-page='" + i + "'] .results__details-text").append("<div data-i18n_ap='r-" + i + "-low' ></div>");
			$(".results__details-col[data-page='" + i + "'] .results__details-word").attr("data-i18n_g", "explore");
			$(".results__details-col[data-page='" + i + "'] .results__details-image").attr("src", "assets/img/results/magnify.svg");
		}

		translatePage();

		let timeout;
		i === 4 ? (timeout = 5200) : i === 3 ? (timeout = 4400) : i === 2 ? (timeout = 3600) : (timeout = 2800);
		console.log("timeout si " + timeout);
		setTimeout(function () {
			$(".results__details-top").addClass("initial-fixed");
			$(".results__details-circle[data-page='" + i + "']").css("display", "flex");
			$(".results__details-circle[data-page='" + i + "']").addClass("bounceInDown");
		}, timeout);
		setTimeout(function () {
			$(".results__details-top").css("transition", "all 2s ease");
			$(".results__details").css("transition", "all 2s ease");
			$(".results__details").css("margin-top", "0px");
			$(".results__details-top").removeClass("initial-fixed");

			if (highs === 0) {
				meds === 0 ? $(".results__details-top").addClass("low-height") : $(".results__details-top").addClass("med-height");
			}

			// $(".results__link").each(function(){
			//     const parentWidth = $(this).parent().width();
			//     const parentHeight = $(this).parent().height();

			//     $(this).css("width", parentWidth+"px");
			//     $(this).css("height", parentHeight+"px");

			//     console.log(parentWidth);
			//     console.log(parentHeight);
			// })
		}, 6500);

		setTimeout(function () {
			$(".results__details-heading").fadeIn();
			$(".results__details-text").fadeIn();
			$(".results__details-line").fadeIn();
			$(".results__details-bottom").fadeIn();
			$(".retry-buttons").fadeIn();
			$(".page--alt").addClass("page--alt--desktop");
			$(".results__details-circle").addClass("pulse");
		}, 8700);
	}
}

// transitions
function runCirclesTransition() {
	const pageContent = $(".page__content");
	const classArray = [];

	while (classArray.length < 17) {
		const r = Math.floor(Math.random() * 17) + 1;
		if (classArray.indexOf(r) === -1) classArray.push(r);
	}

	$(".circles-transition__loader").hide();

	$(".circles-transition__circle").each(function () {
		$(this).removeClass("rise");
		const dataCircle = Number($(this).attr("data-circle"));
		// const classToAdd = `transition${classArray[dataCircle - 1]}`;
		const classToAdd = "transition" + classArray[dataCircle - 1];

		$(this).addClass(classToAdd);
	});

	$(".circles-transition").show();

	// pageContent.fadeOut();
	setTimeout(function () {
		$(".circles-transition__circle").addClass("rise");
	}, 50);
	setTimeout(function () {
		$(".section").fadeOut();
	}, 250);

	setTimeout(function () {
		$(".circles-transition__circle").attr("class", "circles-transition__circle rise");
	}, 5000);
}

function loaderCountdown() {
	let time = 5;
	function _setCountdown() {
		$(".circles-transition__counter").html(time.toString());
		$(".circles-transition__counter").show();
		time--;
		if (time >= 0) {
			setTimeout(function () {
				_setCountdown();
			}, 1000);
		} else {
			$(".circles-transition__counter").hide();
		}
	}
	_setCountdown();
	// $(".circles-transition__counter").html("3");
	// $(".circles-transition__counter").show();
	// setTimeout(function(){
	//     $(".circles-transition__counter").html("2");
	// }, 900);
	// setTimeout(function(){
	//     $(".circles-transition__counter").html("1");
	// }, 1800);
	// setTimeout(function(){
	//     $(".circles-transition__counter").hide();
	// }, 2700);
}

function loadQuestionsHtml(questionsToLoad) {
	var type;
	var section;

	for (var k = 0; k < questions.length; k++) {
		if (questions[k].section === questionsToLoad) {
			type = questions[k].type;
			section = questions[k].section;
			rounds = questions[k].rounds;
			content = questions[k].content;

			switch (type) {
				case "bubble-select":
					var parent = $(".bubble-select__wrapper[data-questions='" + section + "']");
					for (var i = 1; i <= rounds; i++) {
						var round = parent.find(".bubble-select[data-bubble='" + i + "']");
						var object = content[i - 1];
						for (var property in object) {
							var key = object[property];
							if (!round.find(".bubble-select__bubble[data-key='" + key + "'] p.text-intro")[0]) {
								round.find(".bubble-select__bubble[data-key='" + key + "']").append('<p data-i18n_ap="' + key + '" class="bubble-select__text text-intro"></p>');
							}
						}
					}
					break;

				case "sized-bubbles":
					var parent = $(".sized-bubbles[data-questions='" + section + "']");
					for (var i = 1; i <= rounds; i++) {
						var round = parent.find(".sized-bubbles__round[data-round='" + i + "']");
						var object = content[i - 1];
						for (var property in object) {
							var key = object[property];
							if (!round.find(".sized-bubbles__bubble[data-key='" + key + "'] p.text-intro")[0]) {
								round.find(".sized-bubbles__bubble[data-key='" + key + "']").append('<p data-i18n_ap="' + key + '" class="text-intro"></p>');
							}
						}
					}
					break;

				case "drag-left-right":
					var parent = $(".drag-left-right[data-questions='" + section + "']");

					for (var i = 1; i <= rounds; i++) {
						var object = content[i - 1];
						for (var property in object) {
							var key = object[property];
							if (!parent.find(".drag-left-right__item[data-key='" + key + "'] p.text-intro")[0]) {
								parent.find(".drag-left-right__item[data-key='" + key + "']").append('<p data-i18n_ap="' + key + '" class="text-intro"></p>');
							}
						}
					}
					break;

				case "drag-left-rightb":
					var parent = $(".drag-left-rightb[data-questions='" + section + "']");

					for (var i = 1; i <= rounds; i++) {
						var object = content[i - 1];
						for (var property in object) {
							var key = object[property];
							if (!parent.find(".drag-left-rightb__item[data-key='" + key + "'] p.text-intro")[0]) {
								parent.find(".drag-left-rightb__item[data-key='" + key + "']").append('<p data-i18n_ap="' + key + '" class="text-intro"></p>');
							}
						}
					}
					break;

				case "drag-to-remove":
					var parent = $(".drag-to-remove[data-questions='" + section + "']");
					for (var i = 1; i <= rounds; i++) {
						var object = content[i - 1];
						for (var property in object) {
							var key = object[property];
							if (!parent.find(".drag-to-remove__item[data-key='" + key + "'] p.text-intro")[0]) {
								parent.find(".drag-to-remove__item[data-key='" + key + "']").append('<p data-i18n_ap="' + key + '" class="text-intro"></p>');
							}
						}
					}
					break;

				case "select-three":
					var parent = $(".select-three[data-questions='" + section + "']");
					for (var i = 1; i <= rounds; i++) {
						var object = content[i - 1];
						for (var property in object) {
							var key = object[property];
							if (!parent.find(".select-three__item[data-key='" + key + "'] p.text-intro")[0]) {
								parent.find(".select-three__item[data-key='" + key + "']").append('<p data-i18n_ap="' + key + '" class="text-intro"></p>');
							}
						}
					}
					break;

				case "drag-options":
					var parent = $(".drag-options[data-questions='" + section + "']");
					for (var i = 1; i <= rounds; i++) {
						var object = content[i - 1];
						for (var property in object) {
							var key = object[property];
							if (!parent.find(".drag-options__item[data-key='" + key + "'] p.text-intro")[0]) {
								console.log("need the things");
								parent.find(".drag-options__item[data-key='" + key + "']").append('<p data-i18n_ap="' + key + '" class="text-intro"></p>');
							}
						}
					}
					break;

				case "drag-order":
					var parent = $(".drag-order[data-questions='" + section + "']");
					for (var i = 1; i <= rounds; i++) {
						var object = content[i - 1];
						for (var property in object) {
							var key = object[property];
							if (!parent.find(".drag-order__drag-item[data-key='" + key + "'] p.text-intro")[0]) {
								parent.find(".drag-order__drag-item[data-key='" + key + "']").append('<p data-i18n_ap="' + key + '" class="text-intro"></p>');
							}
						}
					}
					break;

				case "use-arrows":
					var parent = $(".use-arrows[data-questions='" + section + "']");
					for (var i = 1; i <= rounds; i++) {
						var object = content[i - 1];
						for (var property in object) {
							var key = object[property];
							if (!parent.find(".use-arrows__item[data-key='" + key + "'] p")[0]) {
								parent.find(".use-arrows__item[data-key='" + key + "']").append('<p data-i18n_ap="' + key + '"></p>');
							}
						}
					}
					break;
			}
		}
	}

	translatePage();
}

$("body").on("click", ".circles-transition__inst", function () {
	if ($(this).hasClass("reminder")) {
		$(".nav__item--question").trigger("click");
	}
});

$("body").on("click", ".retryCourse", function () {
	for (let i = 0; i <= bbcPagesSections.length - 1; i++) {
		bbcPagesSections[i].isCompleted = false;

		if (i > 0) {
			bbcPagesSections[i].pageScore = 0;
		}

		for (let j = 0; j < bbcPagesSections[i].section.length; j++) {
			bbcPagesSections[i].section[j].isCompleted = false;
		}
	}
	navigationController.goToPageWithFilename("content/intro.html");
});

$("body").on("click", ".resultsSection", function () {
	// setTimeout(function(){
	runResultsCircles();
	// }, 2600);
});

$("body").on("click", ".continue", function () {
	if ($(this).hasClass("locked")) return;
	if ($(this).hasClass("retryCourse")) return;
	if ($(this).hasClass("openEmailModal")) return;
	if ($(this).hasClass("verifyEmail")) return;
	const pageContent = $(this).closest(".page__content");
	const currentSection = $(this).closest(".section");
	const currentSectionNumber = Number($(currentSection).attr("data-section"));
	const nextSection = $(".section[data-section='" + (currentSectionNumber + 1) + "']");
	const circlesTransition = $(".circles-transition");
	const loader = $(".circles-transition__loader");
	const questionsToLoad = $(this).attr("data-loadquestions");
	let that = this;
	const isMobile = window.screen.availWidth <= 768;
	const isDesktop = window.screen.availWidth >= 1024;
	const sectionBackgroundCircles = $(".section__background-circles");
	const dataQuestions = $(this).closest(".section").find("div[data-questions]").attr("data-questions");
	const questionCounter = Number($(this).attr("data-questioncounter"));

	if ($(this).closest(".section").hasClass("section--select-three")) {
		const modifiedAnswers = $(".select-three__item.selected[data-modifier='2']").length;
		console.log("modified answers total = " + modifiedAnswers);

		questions[5].correctAnswers = questions[5].correctAnswers + modifiedAnswers;
	}

	if (!$(this).hasClass("resultsSection")) {
		if (!$(this).hasClass("nextPage")) {
			window.modules_interactions.completeInteraction(navigationController.activePage, currentSectionNumber);
		} else {
			window.modules_interactions.completePage(navigationController.activePage);
		}
	}

	if ($(this).hasClass("nextPage") && !$(this).hasClass("introPage")) {
		const instruction = $(this).closest(".section").find(".section__inst");
		const preHeading = $(this).closest(".section").find(".section__pre-heading");
		const heading = $(this).closest(".section").find(".section__heading");
		const wellDone = $(this).closest(".section").find(".section__well-done");

		$(this).hide();
		instruction.hide();
		preHeading.hide();
		heading.hide();

		$(".drag-to-remove").hide();
		$(".drag-left-right").hide();
		$(".drag-left-rightb").hide();

		setTimeout(function () {
			wellDone.fadeIn();
		}, 900);
	}

	if ($(this).hasClass("is-scored")) {
		// identify the question answered in questions array in questions.js
		let questionId;

		for (let i = 0; i < questions.length; i++) {
			if (questions[i].section === dataQuestions) {
				questionId = i;
			}
		}

		const questionType = questions[questionId].type;
		const correctAnswers = questions[questionId].correctAnswers;
		const correctAnswerValue = questions[questionId].correctValue;
		let percentageScore = Math.round(correctAnswers * correctAnswerValue);

		if (percentageScore < 0) {
			percentageScore = 0;
		}

		window.modules_interactions.addSectionScore(navigationController.activePage, currentSectionNumber, percentageScore);
	}

	if ($(this).hasClass("is-final-score")) {
		window.modules_interactions.addPageScore(navigationController.activePage);
	}

	$(".circles-transition__inst").hide();

	if ($(this).hasClass("nextPage") && !$(this).hasClass("introPage")) {
		setTimeout(function () {
			runCirclesTransition();
		}, 1600);
	} else {
		runCirclesTransition();
	}
	if (questionsToLoad) {
		loadQuestionsHtml(questionsToLoad);
	}

	if (isMobile) {
		if ($(that).hasClass("nextPage") && !$(that).hasClass("introPage")) {
			setPageComplete();
			setTimeout(function () {
				navigationController.goToNextPage();
			}, 3500);
		} else if ($(that).hasClass("nextPage")) {
			setPageComplete();
			setTimeout(function () {
				navigationController.goToNextPage();
			}, 2500);
		} else if ($(that).hasClass("resultsSection")) {
			setTimeout(function () {
				currentSection.removeClass("section--active");
				nextSection.fadeIn(250);
				setTimeout(function () {
					nextSection.addClass("section--active");
					console.log("making overflow-y hidden");
					$(".page__content").css("overflow-y", "scroll");
					$(".circles-transition").hide();
				}, 250);
			}, 2500);
		} else {
			let timeout = 7600;
			if (nextSection.hasClass("section--end")) {
				timeout = 2500;
			} else {
				setTimeout(function () {
					$(".circles-transition__inst").each(function () {
						const section = $(this).attr("data-section");
						if (section == currentSectionNumber) {
							$(this).show();
						}
					});
					loader.show();
					loaderCountdown();
				}, 2800);
			}
			setTimeout(function () {
				currentSection.fadeOut();
				if (currentSection.parent().hasClass("page__hero-wrapper")) {
					currentSection.parent().hide();
				}
				if (nextSection.hasClass("section--end")) {
					$(".page__content").css("overflow-y", "auto");
				} else {
					$(".page__content").css("overflow-y", "hidden");
				}
				circlesTransition.hide();
				setTimeout(function () {
					nextSection.fadeIn();
					$(".nav__question-counter").html(questionCounter + "/18");
					$(".nav__question-counter").fadeIn();
					if (currentSectionNumber > 0) {
						$(".nav__item--back").addClass("active");
					}
					// pageContent.fadeIn();
					if (nextSection.hasClass("section--drag-left-right")) {
						loadDragLeftRight();
					}
					if (nextSection.hasClass("section--drag-left-rightb")) {
						loadDragLeftRightB();
					}
					if (nextSection.hasClass("section--drag-to-remove")) {
						loadDragToRemove();
					}
					if (nextSection.hasClass("section--drag-options")) {
						loadDragOptions();
					}
					if (nextSection.hasClass("section--drag-order")) {
						loadDragOrder();
					}
				}, 600);
				currentSection.removeClass("section--active");
				nextSection.fadeIn(250);
				$(".nav__question-counter").html(questionCounter + "/18");
				$(".nav__question-counter").fadeIn(250);
				if (currentSectionNumber > 0) {
					$(".nav__item--back").addClass("active");
				}
				setTimeout(function () {
					nextSection.addClass("section--active");
				}, 250);
			}, timeout);
		}
	} else {
		sectionBackgroundCircles.fadeOut();
		let desktopTimeout = 2500;
		if ($(that).hasClass("nextPage") && !$(that).hasClass("introPage")) desktopTimeout = 3500;
		setTimeout(function () {
			if ($(that).hasClass("nextPage")) {
				setPageComplete();
				navigationController.goToNextPage();
			} else if ($(that).hasClass("nextSection")) {
				// pageContent.fadeOut();
				currentSection.fadeOut();
				if (currentSection.parent().hasClass("page__hero-wrapper")) {
					currentSection.parent().hide();
				}
				circlesTransition.hide();
				setTimeout(function () {
					nextSection.fadeIn();
					$(".nav__question-counter").html(questionCounter + "/18");
					$(".nav__question-counter").fadeIn();
					if (currentSectionNumber > 0) {
						$(".nav__item--back").addClass("active");
					}
					// pageContent.fadeIn();
					if (nextSection.hasClass("section--drag-left-right")) {
						loadDragLeftRight();
					}
					if (nextSection.hasClass("section--drag-left-rightb")) {
						loadDragLeftRightB();
					}
					if (nextSection.hasClass("section--drag-to-remove")) {
						loadDragToRemove();
					}
					if (nextSection.hasClass("section--drag-options")) {
						loadDragOptions();
					}
					if (nextSection.hasClass("section--drag-order")) {
						loadDragOrder();
					}
				}, 1000);
				currentSection.removeClass("section--active");
				if (isDesktop) {
					if (!nextSection.hasClass("section--end")) {
						sectionBackgroundCircles.fadeIn(250);
					}
				}
				nextSection.fadeIn(250);
				$(".nav__question-counter").html(questionCounter + "/18");
				$(".nav__question-counter").fadeIn(250);
				if (currentSectionNumber > 0) {
					$(".nav__item--back").addClass("active");
				}

				setTimeout(function () {
					nextSection.addClass("section--active");
				}, 250);
			}
		}, desktopTimeout);
	}
	$(".nav__item--question").removeClass("d-none");
});

// back a question button
$("body").on("click", ".nav__item--back.active", function () {
	$(".nav__item--back").removeClass("active");
	const currentSectionElement = $(".section--active");
	const currentSectionNumber = Number($(".section--active").attr("data-section"));
	const previousSection = $(".section[data-section='" + (currentSectionNumber - 1) + "']");
	const previousSectionQuestions = previousSection.find("div[data-questions]").attr("data-questions");
	const previousSectionQuestionCounter = previousSection.attr("data-questioncounter");

	for (var k = 0; k < questions.length; k++) {
		if (questions[k].section === previousSectionQuestions) {
			type = questions[k].type;
			section = questions[k].section;

			switch (type) {
				case "bubble-select":
					$(".bubble-select__bubble").removeClass("active");
					$(".bubble-select[data-bubble='1']").css("display", "flex");
					break;

				case "sized-bubbles":
					break;

				case "drag-left-right":
					$(".drag-left-right__item").removeClass("dragged-left");
					$(".drag-left-right__item").removeClass("dragged-right");
					$(".drag-left-right__item").hide();
					$(".drag-left-right__item[data-item='1']").css("display", "block");

					break;

				case "drag-left-rightb":
					break;

				case "drag-to-remove":
					$(".continue--hidden").hide();

					if (section === "accountable3") {
						$.get("content/partials/drag-to-remove-accountable.html", function (data) {
							$(".drag-to-remove--accountable").html(data);
						});
					} else if (section === "develop2") {
						$.get("content/partials/drag-to-remove-develop.html", function (data) {
							$(".drag-to-remove--develop").html(data);
						});
					}

					break;

				case "select-three":
					$(".select-three__item").removeClass("selected");
					break;

				case "drag-options":
					if (section === "empower3") {
						$.get("content/partials/drag-options-empower.html", function (data) {
							$(".drag-options__item-wrapper").html(data);
						});
					} else if (section === "accountable2") {
						$.get("content/partials/drag-options-accountable-drop.html", function (data) {
							$(".drag-options__item-wrapper").html(data);
						});
					}

					break;

				case "drag-order":
					break;

				case "use-arrows":
					$(".continue--hidden").hide();
					$.get("content/partials/carousel-upper.html", function (data) {
						$(".carousel__upper").html(data);
					});
					setTimeout(function () {
						$.get("content/partials/coin.html", function (data) {
							$(".carousel__control").html(data);
						});
						createCarousels();
					}, 50);
					$(".use-arrows__item").removeClass("selected");
					$(".carousel__slide").removeClass("active");
					$(".carousel__slide[rel='0']").addClass("active");

					break;
			}
		}
	}

	$(".page__content").fadeOut();
	setTimeout(function () {
		$(".section").removeClass("section--active");
		$(".section").hide();
		previousSection.addClass("section--active");
		previousSection.show();
		$(".continue--hidden").hide();

		loadQuestionsHtml(previousSectionQuestions);
		$(".page__content").fadeIn();
		$(".nav__question-counter").html(previousSectionQuestionCounter + "/18");

		if (previousSection.hasClass("section--drag-left-right")) {
			loadDragLeftRight();
		}
		if (previousSection.hasClass("section--drag-left-rightb")) {
			loadDragLeftRightB();
		}
		if (previousSection.hasClass("section--drag-to-remove")) {
			loadDragToRemove();
		}
		if (previousSection.hasClass("section--drag-options")) {
			loadDragOptions();
		}
		if (previousSection.hasClass("section--drag-order")) {
			console.log("previous section has drag order so loading drag order");
			loadDragOrder();
		}
	}, 800);
});

// mobile toggle instructions
$("body").on("click", ".nav__item--question", function () {
	let that = this;

	if ($(this).hasClass("clicked")) {
		$(".page__content").fadeOut("slow");
		setTimeout(function () {
			$(".circles-transition__loader").show();
			$(".circles-transition").hide();
			$(".section--active").show();
			$(".page__content").fadeIn("slow");
			$(that).removeClass("clicked");
			$(".circles-transition__inst").removeClass("reminder");
		}, 600);
	} else {
		$(".page__content").fadeOut("slow");
		$(".circles-transition__inst").addClass("reminder");
		setTimeout(function () {
			$(".section--active").hide();
			$(".circles-transition__loader").hide();
			$(".circles-transition").show();
			$(".page__content").fadeIn("slow");
			$(that).addClass("clicked");
		}, 600);
	}
});

// bookmarking

function setPageComplete() {
	const url = navigationController.currentPageUrl,
		p = navigationController.activePage;

	dataController.setData(url, "true");
	dataController.save();
	pages[p].complete = true;
}

// mobile toggle instructions
$("body").on("click", ".debugScore", function () {
	setTimeout(function () {
		const leadScore = bbcPagesSections[1].pageScore;
		const empowerScore = bbcPagesSections[2].pageScore;
		const accountableScore = bbcPagesSections[3].pageScore;
		const developScore = bbcPagesSections[4].pageScore;
		alert("lead: " + leadScore + " empower " + empowerScore + " accountable " + accountableScore + " develop " + developScore);
	}, 300);
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NjcmlwdHMvdmVuZG9yL2Nvcy5qcyIsIi4uL3NjcmlwdHMvc2V0dGluZ3MuanMiLCIuLi9zY3JpcHRzL2xhbmd1YWdlcy9lbmdsaXNoLmpzIiwiLi4vc2NyaXB0cy92ZW5kb3IvZGlhbFJlcXMuanMiLCIuLi9zY3JpcHRzL3ZlbmRvci9qcXVlcnkubWluLmpzIiwiLi4vc2NyaXB0cy92ZW5kb3IvanF1ZXJ5LXVpLm1pbi5qcyIsIi4uL3NjcmlwdHMvdmVuZG9yL2pxdWVyeS51aS50b3VjaC1wdW5jaC5taW4uanMiLCIuLi9zY3JpcHRzL3ZlbmRvci9zY29ybV9hcGlfbWluLmpzIiwiLi4vc2NyaXB0cy9kYXRhL2kxOG4uanMiLCIuLi9zY3JpcHRzL2RhdGEvcGFnZXMuanMiLCIuLi9zY3JpcHRzL2RhdGEvcmVwb3J0aW5nLmpzIiwiLi4vc2NyaXB0cy9jb250cm9sbGVycy9jb25maWcuanMiLCIuLi9zY3JpcHRzL2NvbnRyb2xsZXJzL2RhdGFfY29udHJvbGxlci5qcyIsIi4uL3NjcmlwdHMvY29udHJvbGxlcnMvZGV2b3BzX2NvbnRyb2xsZXIuanMiLCIuLi9zY3JpcHRzL2NvbnRyb2xsZXJzL2xhbmd1YWdlX2NvbnRyb2xsZXIuanMiLCIuLi9zY3JpcHRzL2NvbnRyb2xsZXJzL21vZHVsZV9jb250cm9sbGVyLmpzIiwiLi4vc2NyaXB0cy9jb250cm9sbGVycy9uYXZpZ2F0aW9uX2NvbnRyb2xsZXIuanMiLCIuLi9zY3JpcHRzL2NvbnRyb2xsZXJzL3Njb3JtX2NvbnRyb2xsZXIuanMiLCIuLi9zY3JpcHRzL2NvbnRyb2xsZXJzL3Rlc3RfY29udHJvbGxlci5qcyIsIi4uL3NjcmlwdHMvY29udHJvbGxlcnMvdXRpbHNfY29udHJvbGxlci5qcyIsIi4uL3NjcmlwdHMvY29tcG9uZW50cy9oZWFkZXIuanMiLCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvbGFuZ3VhZ2UuanMiLCIuLi9zY3JpcHRzL3V0aWxpdHkvZ2xvYmFsLmpzIiwiLi4vc2NyaXB0cy9jb250ZW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQy9FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMxN0NBO0FBQ0E7QUFDQTtBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzl6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM5SEE7QUFDQTtBQUNBO0FBQ0E7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzFGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3JaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDem9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDcERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDM1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3ZaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDNW9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNuRkE7QUFDQTtBQUNBO0FBQ0E7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN2SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6InNjcmlwdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX2dzU2NvcGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOnRoaXN8fHdpbmRvdzsoX2dzU2NvcGUuX2dzUXVldWV8fChfZ3NTY29wZS5fZ3NRdWV1ZT1bXSkpLnB1c2goZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtfZ3NTY29wZS5fZ3NEZWZpbmUoXCJ1dGlscy5EcmFnZ2FibGVcIixbXCJldmVudHMuRXZlbnREaXNwYXRjaGVyXCIsXCJUd2VlbkxpdGVcIixcInBsdWdpbnMuQ1NTUGx1Z2luXCJdLGZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG4sYSxvLGwsaCx1LF89e2Nzczp7fX0sYz17Y3NzOnt9fSxmPXtjc3M6e319LHA9e2Nzczp7fX0sZD1fZ3NTY29wZS5fZ3NEZWZpbmUuZ2xvYmFscyxtPXt9LGc9ZG9jdW1lbnQsdj1nLmRvY3VtZW50RWxlbWVudHx8e30seT1mdW5jdGlvbih0KXtyZXR1cm4gZy5jcmVhdGVFbGVtZW50TlM/Zy5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsdCk6Zy5jcmVhdGVFbGVtZW50KHQpfSxUPXkoXCJkaXZcIikseD1bXSx3PWZ1bmN0aW9uKCl7cmV0dXJuITF9LGI9MTgwL01hdGguUEksUD05OTk5OTk5OTk5OTk5OTksUz1EYXRlLm5vd3x8ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0saz0hKGcuYWRkRXZlbnRMaXN0ZW5lcnx8IWcuYWxsKSxDPWcuY3JlYXRlRWxlbWVudChcImRpdlwiKSxSPVtdLE89e30sQT0wLEQ9L14oPzphfGlucHV0fHRleHRhcmVhfGJ1dHRvbnxzZWxlY3QpJC9pLE09MCxMPS0xIT09bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJhbmRyb2lkXCIpLE49MCxFPXt9LEk9e30sej1mdW5jdGlvbih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9ZS5zZWxlY3Rvcih0KSksIXR8fHQubm9kZVR5cGUpcmV0dXJuW3RdO3ZhciBpLHI9W10scz10Lmxlbmd0aDtmb3IoaT0wO2khPT1zO3IucHVzaCh0W2krK10pKTtyZXR1cm4gcn0sRj1mdW5jdGlvbigpe2Zvcih2YXIgdD1SLmxlbmd0aDstLXQ+LTE7KVJbdF0oKX0sWD1mdW5jdGlvbih0KXtSLnB1c2godCksMT09PVIubGVuZ3RoJiZlLnRpY2tlci5hZGRFdmVudExpc3RlbmVyKFwidGlja1wiLEYsdGhpcywhMSwxKX0sQj1mdW5jdGlvbih0KXtmb3IodmFyIGk9Ui5sZW5ndGg7LS1pPi0xOylSW2ldPT09dCYmUi5zcGxpY2UoaSwxKTtlLnRvKFksMCx7b3ZlcndyaXRlOlwiYWxsXCIsZGVsYXk6MTUsb25Db21wbGV0ZTpZfSl9LFk9ZnVuY3Rpb24oKXtSLmxlbmd0aHx8ZS50aWNrZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRpY2tcIixGKX0sVz1mdW5jdGlvbih0LGUpe3ZhciBpO2ZvcihpIGluIGUpdm9pZCAwPT09dFtpXSYmKHRbaV09ZVtpXSk7cmV0dXJuIHR9LGo9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9d2luZG93LnBhZ2VZT2Zmc2V0P3dpbmRvdy5wYWdlWU9mZnNldDpudWxsIT1nLnNjcm9sbFRvcD9nLnNjcm9sbFRvcDp2LnNjcm9sbFRvcHx8Zy5ib2R5LnNjcm9sbFRvcHx8MH0sVT1mdW5jdGlvbigpe3JldHVybiBudWxsIT13aW5kb3cucGFnZVhPZmZzZXQ/d2luZG93LnBhZ2VYT2Zmc2V0Om51bGwhPWcuc2Nyb2xsTGVmdD9nLnNjcm9sbExlZnQ6di5zY3JvbGxMZWZ0fHxnLmJvZHkuc2Nyb2xsTGVmdHx8MH0sVj1mdW5jdGlvbih0LGUpe01lKHQsXCJzY3JvbGxcIixlKSxxKHQucGFyZW50Tm9kZSl8fFYodC5wYXJlbnROb2RlLGUpfSxHPWZ1bmN0aW9uKHQsZSl7TGUodCxcInNjcm9sbFwiLGUpLHEodC5wYXJlbnROb2RlKXx8Ryh0LnBhcmVudE5vZGUsZSl9LHE9ZnVuY3Rpb24odCl7cmV0dXJuISh0JiZ0IT09diYmdCE9PWcmJnQhPT1nLmJvZHkmJnQhPT13aW5kb3cmJnQubm9kZVR5cGUmJnQucGFyZW50Tm9kZSl9LEg9ZnVuY3Rpb24odCxlKXt2YXIgaT1cInhcIj09PWU/XCJXaWR0aFwiOlwiSGVpZ2h0XCIscj1cInNjcm9sbFwiK2kscz1cImNsaWVudFwiK2ksbj1nLmJvZHk7cmV0dXJuIE1hdGgubWF4KDAscSh0KT9NYXRoLm1heCh2W3JdLG5bcl0pLSh3aW5kb3dbXCJpbm5lclwiK2ldfHx2W3NdfHxuW3NdKTp0W3JdLXRbc10pfSxRPWZ1bmN0aW9uKHQpe3ZhciBlPXEodCksaT1IKHQsXCJ4XCIpLHI9SCh0LFwieVwiKTtlP3Q9STpRKHQucGFyZW50Tm9kZSksdC5fZ3NNYXhTY3JvbGxYPWksdC5fZ3NNYXhTY3JvbGxZPXIsdC5fZ3NTY3JvbGxYPXQuc2Nyb2xsTGVmdHx8MCx0Ll9nc1Njcm9sbFk9dC5zY3JvbGxUb3B8fDB9LFo9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD10fHx3aW5kb3cuZXZlbnQsbS5wYWdlWD10LmNsaWVudFgrZy5ib2R5LnNjcm9sbExlZnQrdi5zY3JvbGxMZWZ0LG0ucGFnZVk9dC5jbGllbnRZK2cuYm9keS5zY3JvbGxUb3Ardi5zY3JvbGxUb3AsZSYmKHQucmV0dXJuVmFsdWU9ITEpLG19LCQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/KFwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1lLnNlbGVjdG9yKHQpKSx0Lmxlbmd0aCYmdCE9PXdpbmRvdyYmdFswXSYmdFswXS5zdHlsZSYmIXQubm9kZVR5cGUmJih0PXRbMF0pLHQ9PT13aW5kb3d8fHQubm9kZVR5cGUmJnQuc3R5bGU/dDpudWxsKTp0fSxLPWZ1bmN0aW9uKHQsZSl7dmFyIGkscyxuLGE9dC5zdHlsZTtpZih2b2lkIDA9PT1hW2VdKXtmb3Iobj1bXCJPXCIsXCJNb3pcIixcIm1zXCIsXCJNc1wiLFwiV2Via2l0XCJdLHM9NSxpPWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zdWJzdHIoMSk7LS1zPi0xJiZ2b2lkIDA9PT1hW25bc10raV07KTtpZigwPnMpcmV0dXJuXCJcIjtyPTM9PT1zP1wibXNcIjpuW3NdLGU9citpfXJldHVybiBlfSxKPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj10LnN0eWxlO3ImJih2b2lkIDA9PT1yW2VdJiYoZT1LKHQsZSkpLG51bGw9PWk/ci5yZW1vdmVQcm9wZXJ0eT9yLnJlbW92ZVByb3BlcnR5KGUucmVwbGFjZSgvKFtBLVpdKS9nLFwiLSQxXCIpLnRvTG93ZXJDYXNlKCkpOnIucmVtb3ZlQXR0cmlidXRlKGUpOnZvaWQgMCE9PXJbZV0mJihyW2VdPWkpKX0sdGU9Zy5kZWZhdWx0Vmlldz9nLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGU6dyxlZT0vKD86TGVmdHxSaWdodHxXaWR0aCkvaSxpZT0vKD86XFxkfFxcLXxcXCt8PXwjfFxcLikqL2cscmU9ZnVuY3Rpb24odCxlLGkscixzKXtpZihcInB4XCI9PT1yfHwhcilyZXR1cm4gaTtpZihcImF1dG9cIj09PXJ8fCFpKXJldHVybiAwO3ZhciBuLGE9ZWUudGVzdChlKSxvPXQsbD1ULnN0eWxlLGg9MD5pO3JldHVybiBoJiYoaT0taSksXCIlXCI9PT1yJiYtMSE9PWUuaW5kZXhPZihcImJvcmRlclwiKT9uPWkvMTAwKihhP3QuY2xpZW50V2lkdGg6dC5jbGllbnRIZWlnaHQpOihsLmNzc1RleHQ9XCJib3JkZXI6MCBzb2xpZCByZWQ7cG9zaXRpb246XCIrbmUodCxcInBvc2l0aW9uXCIsITApK1wiO2xpbmUtaGVpZ2h0OjA7XCIsXCIlXCIhPT1yJiZvLmFwcGVuZENoaWxkP2xbYT9cImJvcmRlckxlZnRXaWR0aFwiOlwiYm9yZGVyVG9wV2lkdGhcIl09aStyOihvPXQucGFyZW50Tm9kZXx8Zy5ib2R5LGxbYT9cIndpZHRoXCI6XCJoZWlnaHRcIl09aStyKSxvLmFwcGVuZENoaWxkKFQpLG49cGFyc2VGbG9hdChUW2E/XCJvZmZzZXRXaWR0aFwiOlwib2Zmc2V0SGVpZ2h0XCJdKSxvLnJlbW92ZUNoaWxkKFQpLDAhPT1ufHxzfHwobj1yZSh0LGUsaSxyLCEwKSkpLGg/LW46bn0sc2U9ZnVuY3Rpb24odCxlKXtpZihcImFic29sdXRlXCIhPT1uZSh0LFwicG9zaXRpb25cIiwhMCkpcmV0dXJuIDA7dmFyIGk9XCJsZWZ0XCI9PT1lP1wiTGVmdFwiOlwiVG9wXCIscj1uZSh0LFwibWFyZ2luXCIraSwhMCk7cmV0dXJuIHRbXCJvZmZzZXRcIitpXS0ocmUodCxlLHBhcnNlRmxvYXQociksKHIrXCJcIikucmVwbGFjZShpZSxcIlwiKSl8fDApfSxuZT1mdW5jdGlvbih0LGUsaSl7dmFyIHIscz0odC5fZ3NUcmFuc2Zvcm18fHt9KVtlXTtyZXR1cm4gc3x8MD09PXM/czoodC5zdHlsZVtlXT9zPXQuc3R5bGVbZV06KHI9dGUodCkpPyhzPXIuZ2V0UHJvcGVydHlWYWx1ZShlLnJlcGxhY2UoLyhbQS1aXSkvZyxcIi0kMVwiKS50b0xvd2VyQ2FzZSgpKSxzPXN8fHIubGVuZ3RoP3M6cltlXSk6dC5jdXJyZW50U3R5bGUmJihzPXQuY3VycmVudFN0eWxlW2VdKSxcImF1dG9cIiE9PXN8fFwidG9wXCIhPT1lJiZcImxlZnRcIiE9PWV8fChzPXNlKHQsZSkpLGk/czpwYXJzZUZsb2F0KHMpfHwwKX0sYWU9ZnVuY3Rpb24odCxlLGkpe3ZhciByPXQudmFycyxzPXJbaV0sbj10Ll9saXN0ZW5lcnNbZV07XCJmdW5jdGlvblwiPT10eXBlb2YgcyYmcy5hcHBseShyW2krXCJTY29wZVwiXXx8ci5jYWxsYmFja1Njb3BlfHx0LHJbaStcIlBhcmFtc1wiXXx8W3QucG9pbnRlckV2ZW50XSksbiYmdC5kaXNwYXRjaEV2ZW50KGUpfSxvZT1mdW5jdGlvbih0LGUpe3ZhciBpLHIscyxuPSQodCk7cmV0dXJuIG4/Q2UobixlKTp2b2lkIDAhPT10LmxlZnQ/KHM9eGUoZSkse2xlZnQ6dC5sZWZ0LXMueCx0b3A6dC50b3Atcy55LHdpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0fSk6KHI9dC5taW58fHQubWluWHx8dC5taW5Sb3RhdGlvbnx8MCxpPXQubWlufHx0Lm1pbll8fDAse2xlZnQ6cix0b3A6aSx3aWR0aDoodC5tYXh8fHQubWF4WHx8dC5tYXhSb3RhdGlvbnx8MCktcixoZWlnaHQ6KHQubWF4fHx0Lm1heFl8fDApLWl9KX0sbGU9ZnVuY3Rpb24oKXtpZighZy5jcmVhdGVFbGVtZW50TlMpcmV0dXJuIGE9MCxvPSExLHZvaWQgMDt2YXIgdCxlLGkscixzPXkoXCJkaXZcIiksbj1nLmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXCJzdmdcIiksdT15KFwiZGl2XCIpLF89cy5zdHlsZSxjPWcuYm9keXx8djtnLmJvZHkmJl9lJiYoXy5wb3NpdGlvbj11LnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixjLmFwcGVuZENoaWxkKHUpLHUuYXBwZW5kQ2hpbGQocyksXy5oZWlnaHQ9XCIxMHB4XCIscj1zLm9mZnNldFRvcCx1LnN0eWxlLmJvcmRlcj1cIjVweCBzb2xpZCByZWRcIixoPXIhPT1zLm9mZnNldFRvcCxjLnJlbW92ZUNoaWxkKHUpKSxfPW4uc3R5bGUsbi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwid2lkdGhcIixcIjQwMHB4XCIpLG4uc2V0QXR0cmlidXRlTlMobnVsbCxcImhlaWdodFwiLFwiNDAwcHhcIiksbi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwidmlld0JveFwiLFwiMCAwIDQwMCA0MDBcIiksXy5kaXNwbGF5PVwiYmxvY2tcIixfLmJveFNpemluZz1cImJvcmRlci1ib3hcIixfLmJvcmRlcj1cIjBweCBzb2xpZCByZWRcIixfLnRyYW5zZm9ybT1cIm5vbmVcIixzLnN0eWxlLmNzc1RleHQ9XCJ3aWR0aDoxMDBweDtoZWlnaHQ6MTAwcHg7b3ZlcmZsb3c6c2Nyb2xsXCIsYy5hcHBlbmRDaGlsZChzKSxzLmFwcGVuZENoaWxkKG4pLGk9bi5jcmVhdGVTVkdQb2ludCgpLm1hdHJpeFRyYW5zZm9ybShuLmdldFNjcmVlbkNUTSgpKSxlPWkueSxzLnNjcm9sbFRvcD0xMDAsaS54PWkueT0wLGk9aS5tYXRyaXhUcmFuc2Zvcm0obi5nZXRTY3JlZW5DVE0oKSksbD0xMDAuMT5lLWkueT8wOmUtaS55LTE1MCxzLnJlbW92ZUNoaWxkKG4pLGMucmVtb3ZlQ2hpbGQocyksYy5hcHBlbmRDaGlsZChuKSx0PW4uZ2V0U2NyZWVuQ1RNKCksZT10LmUsXy5ib3JkZXI9XCI1MHB4IHNvbGlkIHJlZFwiLHQ9bi5nZXRTY3JlZW5DVE0oKSwwPT09ZSYmMD09PXQuZSYmMD09PXQuZiYmMT09PXQuYT8oYT0xLG89ITApOihhPWUhPT10LmU/MTowLG89MSE9PXQuYSksYy5yZW1vdmVDaGlsZChuKX0saGU9XCJcIiE9PUsoVCxcInBlcnNwZWN0aXZlXCIpLHVlPUsoVCxcInRyYW5zZm9ybU9yaWdpblwiKS5yZXBsYWNlKC9ebXMvZyxcIk1zXCIpLnJlcGxhY2UoLyhbQS1aXSkvZyxcIi0kMVwiKS50b0xvd2VyQ2FzZSgpLF9lPUsoVCxcInRyYW5zZm9ybVwiKSxjZT1fZS5yZXBsYWNlKC9ebXMvZyxcIk1zXCIpLnJlcGxhY2UoLyhbQS1aXSkvZyxcIi0kMVwiKS50b0xvd2VyQ2FzZSgpLGZlPXt9LHBlPXt9LGRlPXdpbmRvdy5TVkdFbGVtZW50LG1lPWZ1bmN0aW9uKHQpe3JldHVybiEhKGRlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmdldEJCb3gmJnQuZ2V0Q1RNJiYoIXQucGFyZW50Tm9kZXx8dC5wYXJlbnROb2RlLmdldEJCb3gmJnQucGFyZW50Tm9kZS5nZXRDVE0pKX0sZ2U9KC9NU0lFIChbMC05XXsxLH1bXFwuMC05XXswLH0pLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpfHwvVHJpZGVudFxcLy4qcnY6KFswLTldezEsfVtcXC4wLTldezAsfSkvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCkpJiYxMT5wYXJzZUZsb2F0KFJlZ0V4cC4kMSksdmU9W10seWU9W10sVGU9ZnVuY3Rpb24odCl7aWYoIXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0fHwhdC5wYXJlbnROb2RlfHwhX2UpcmV0dXJue29mZnNldFRvcDowLG9mZnNldExlZnQ6MCxzY2FsZVg6MSxzY2FsZVk6MSxvZmZzZXRQYXJlbnQ6dn07aWYoV2UuY2FjaGVTVkdEYXRhIT09ITEmJnQuX2dzQ2FjaGUmJnQuX2dzQ2FjaGUubGFzdFVwZGF0ZT09PWUudGlja2VyLmZyYW1lKXJldHVybiB0Ll9nc0NhY2hlO3ZhciBpLHIscyxuLGgsdSxfLGMsZixwLGQsbSx5PXQsVD13ZSh0KTtpZihULmxhc3RVcGRhdGU9ZS50aWNrZXIuZnJhbWUsdC5nZXRCQm94JiYhVC5pc1NWR1Jvb3Qpe2Zvcih5PXQucGFyZW50Tm9kZSxpPXQuZ2V0QkJveCgpO3kmJlwic3ZnXCIhPT0oeS5ub2RlTmFtZStcIlwiKS50b0xvd2VyQ2FzZSgpOyl5PXkucGFyZW50Tm9kZTtyZXR1cm4gbj1UZSh5KSxULm9mZnNldFRvcD1pLnkqbi5zY2FsZVksVC5vZmZzZXRMZWZ0PWkueCpuLnNjYWxlWCxULnNjYWxlWD1uLnNjYWxlWCxULnNjYWxlWT1uLnNjYWxlWSxULm9mZnNldFBhcmVudD15fHx2LFR9Zm9yKHM9VC5vZmZzZXRQYXJlbnQscz09PWcuYm9keSYmKHM9dikseWUubGVuZ3RoPXZlLmxlbmd0aD0wO3kmJihoPW5lKHksX2UsITApLFwibWF0cml4KDEsIDAsIDAsIDEsIDAsIDApXCIhPT1oJiZcIm5vbmVcIiE9PWgmJlwidHJhbnNsYXRlM2QoMHB4LCAwcHgsIDBweClcIiE9PWgmJih5ZS5wdXNoKHkpLHZlLnB1c2goeS5zdHlsZVtfZV0pLHkuc3R5bGVbX2VdPVwibm9uZVwiKSx5IT09cyk7KXk9eS5wYXJlbnROb2RlO2ZvcihyPXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaD10LmdldFNjcmVlbkNUTSgpLGM9dC5jcmVhdGVTVkdQb2ludCgpLF89Yy5tYXRyaXhUcmFuc2Zvcm0oaCksYy54PWMueT0xMCxjPWMubWF0cml4VHJhbnNmb3JtKGgpLFQuc2NhbGVYPShjLngtXy54KS8xMCxULnNjYWxlWT0oYy55LV8ueSkvMTAsdm9pZCAwPT09YSYmbGUoKSxULmJvcmRlckJveCYmIW8mJnQuZ2V0QXR0cmlidXRlKFwid2lkdGhcIikmJihuPXRlKHQpfHx7fSxmPXBhcnNlRmxvYXQobi5ib3JkZXJMZWZ0V2lkdGgpK3BhcnNlRmxvYXQobi5ib3JkZXJSaWdodFdpZHRoKXx8MCxwPXBhcnNlRmxvYXQobi5ib3JkZXJUb3BXaWR0aCkrcGFyc2VGbG9hdChuLmJvcmRlckJvdHRvbVdpZHRoKXx8MCxkPXBhcnNlRmxvYXQobi53aWR0aCl8fDAsbT1wYXJzZUZsb2F0KG4uaGVpZ2h0KXx8MCxULnNjYWxlWCo9KGQtZikvZCxULnNjYWxlWSo9KG0tcCkvbSksbD8oaT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFQub2Zmc2V0TGVmdD1pLmxlZnQtci5sZWZ0LFQub2Zmc2V0VG9wPWkudG9wLXIudG9wKTooVC5vZmZzZXRMZWZ0PV8ueC1yLmxlZnQsVC5vZmZzZXRUb3A9Xy55LXIudG9wKSxULm9mZnNldFBhcmVudD1zLHU9eWUubGVuZ3RoOy0tdT4tMTspeWVbdV0uc3R5bGVbX2VdPXZlW3VdO3JldHVybiBUfSx4ZT1mdW5jdGlvbih0LGkpe2lmKGk9aXx8e30sIXR8fHQ9PT12fHwhdC5wYXJlbnROb2RlfHx0PT09d2luZG93KXJldHVybnt4OjAseTowfTt2YXIgcj10ZSh0KSxzPXVlJiZyP3IuZ2V0UHJvcGVydHlWYWx1ZSh1ZSk6XCI1MCUgNTAlXCIsbj1zLnNwbGl0KFwiIFwiKSxhPS0xIT09cy5pbmRleE9mKFwibGVmdFwiKT9cIjAlXCI6LTEhPT1zLmluZGV4T2YoXCJyaWdodFwiKT9cIjEwMCVcIjpuWzBdLG89LTEhPT1zLmluZGV4T2YoXCJ0b3BcIik/XCIwJVwiOi0xIT09cy5pbmRleE9mKFwiYm90dG9tXCIpP1wiMTAwJVwiOm5bMV07cmV0dXJuKFwiY2VudGVyXCI9PT1vfHxudWxsPT1vKSYmKG89XCI1MCVcIiksKFwiY2VudGVyXCI9PT1hfHxpc05hTihwYXJzZUZsb2F0KGEpKSkmJihhPVwiNTAlXCIpLHQuZ2V0QkJveCYmbWUodCk/KHQuX2dzVHJhbnNmb3JtfHwoZS5zZXQodCx7eDpcIis9MFwiLG92ZXJ3cml0ZTohMX0pLHZvaWQgMD09PXQuX2dzVHJhbnNmb3JtLnhPcmlnaW4mJmNvbnNvbGUubG9nKFwiRHJhZ2dhYmxlIHJlcXVpcmVzIGF0IGxlYXN0IEdTQVAgMS4xNy4wXCIpKSxzPXQuZ2V0QkJveCgpLGkueD10Ll9nc1RyYW5zZm9ybS54T3JpZ2luLXMueCxpLnk9dC5fZ3NUcmFuc2Zvcm0ueU9yaWdpbi1zLnkpOih0LmdldEJCb3gmJiF0Lm9mZnNldFdpZHRoJiYtMSE9PShhK28pLmluZGV4T2YoXCIlXCIpJiYodD10LmdldEJCb3goKSx0PXtvZmZzZXRXaWR0aDp0LndpZHRoLG9mZnNldEhlaWdodDp0LmhlaWdodH0pLGkueD0tMSE9PWEuaW5kZXhPZihcIiVcIik/dC5vZmZzZXRXaWR0aCpwYXJzZUZsb2F0KGEpLzEwMDpwYXJzZUZsb2F0KGEpLGkueT0tMSE9PW8uaW5kZXhPZihcIiVcIik/dC5vZmZzZXRIZWlnaHQqcGFyc2VGbG9hdChvKS8xMDA6cGFyc2VGbG9hdChvKSksaX0sd2U9ZnVuY3Rpb24odCl7aWYoV2UuY2FjaGVTVkdEYXRhIT09ITEmJnQuX2dzQ2FjaGUmJnQuX2dzQ2FjaGUubGFzdFVwZGF0ZT09PWUudGlja2VyLmZyYW1lKXJldHVybiB0Ll9nc0NhY2hlO3ZhciBpLHI9dC5fZ3NDYWNoZT10Ll9nc0NhY2hlfHx7fSxzPXRlKHQpLG49dC5nZXRCQm94JiZtZSh0KSxhPVwic3ZnXCI9PT0odC5ub2RlTmFtZStcIlwiKS50b0xvd2VyQ2FzZSgpO2lmKHIuaXNTVkc9bixyLmlzU1ZHUm9vdD1hLHIuYm9yZGVyQm94PVwiYm9yZGVyLWJveFwiPT09cy5ib3hTaXppbmcsci5jb21wdXRlZFN0eWxlPXMsYSkoci5vZmZzZXRQYXJlbnQ9dC5vZmZzZXRQYXJlbnQpfHwodC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShULHQpLHIub2Zmc2V0UGFyZW50PVQub2Zmc2V0UGFyZW50LHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChUKSk7ZWxzZSBpZihuKXtmb3IoaT10LnBhcmVudE5vZGU7aSYmXCJzdmdcIiE9PShpLm5vZGVOYW1lK1wiXCIpLnRvTG93ZXJDYXNlKCk7KWk9aS5wYXJlbnROb2RlO3Iub2Zmc2V0UGFyZW50PWl9cmV0dXJuIHJ9LGJlPWZ1bmN0aW9uKHQsZSxpLHIpe2lmKHQ9PT13aW5kb3d8fCF0fHwhdC5zdHlsZXx8IXQucGFyZW50Tm9kZSlyZXR1cm5bMSwwLDAsMSwwLDBdO3ZhciBzLG4sbyxsLHUsXyxjLGYscCxkLG0seSxULHgsdz10Ll9nc0NhY2hlfHx3ZSh0KSxiPXQucGFyZW50Tm9kZSxQPWIuX2dzQ2FjaGV8fHdlKGIpLFM9dy5jb21wdXRlZFN0eWxlLGs9dy5pc1NWRz9QLm9mZnNldFBhcmVudDpiLm9mZnNldFBhcmVudDtyZXR1cm4gcz13LmlzU1ZHJiYtMSE9PSh0LnN0eWxlW19lXStcIlwiKS5pbmRleE9mKFwibWF0cml4XCIpP3Quc3R5bGVbX2VdOlM/Uy5nZXRQcm9wZXJ0eVZhbHVlKGNlKTp0LmN1cnJlbnRTdHlsZT90LmN1cnJlbnRTdHlsZVtfZV06XCIxLDAsMCwxLDAsMFwiLHQuZ2V0QkJveCYmLTEhPT0odC5nZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIikrXCJcIikuaW5kZXhPZihcIm1hdHJpeFwiKSYmKHM9dC5nZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIikpLHM9KHMrXCJcIikubWF0Y2goLyg/OlxcLXxcXGIpW1xcZFxcLVxcLmVdK1xcYi9nKXx8WzEsMCwwLDEsMCwwXSxzLmxlbmd0aD42JiYocz1bc1swXSxzWzFdLHNbNF0sc1s1XSxzWzEyXSxzWzEzXV0pLHI/c1s0XT1zWzVdPTA6dy5pc1NWRyYmKHU9dC5fZ3NUcmFuc2Zvcm0pJiYodS54T3JpZ2lufHx1LnlPcmlnaW4pJiYoc1swXT1wYXJzZUZsb2F0KHNbMF0pLHNbMV09cGFyc2VGbG9hdChzWzFdKSxzWzJdPXBhcnNlRmxvYXQoc1syXSksc1szXT1wYXJzZUZsb2F0KHNbM10pLHNbNF09cGFyc2VGbG9hdChzWzRdKS0odS54T3JpZ2luLSh1LnhPcmlnaW4qc1swXSt1LnlPcmlnaW4qc1syXSkpLHNbNV09cGFyc2VGbG9hdChzWzVdKS0odS55T3JpZ2luLSh1LnhPcmlnaW4qc1sxXSt1LnlPcmlnaW4qc1szXSkpKSxlJiYodm9pZCAwPT09YSYmbGUoKSxvPXcuaXNTVkd8fHcuaXNTVkdSb290P1RlKHQpOnQsdy5pc1NWRz8obD10LmdldEJCb3goKSxkPVAuaXNTVkdSb290P3t4OjAseTowfTpiLmdldEJCb3goKSxvPXtvZmZzZXRMZWZ0OmwueC1kLngsb2Zmc2V0VG9wOmwueS1kLnksb2Zmc2V0UGFyZW50Oncub2Zmc2V0UGFyZW50fSk6dy5pc1NWR1Jvb3Q/KG09cGFyc2VJbnQoUy5ib3JkZXJUb3BXaWR0aCwxMCl8fDAseT1wYXJzZUludChTLmJvcmRlckxlZnRXaWR0aCwxMCl8fDAsVD0oc1swXS1hKSp5K3NbMl0qbSx4PXNbMV0qeSsoc1szXS1hKSptLF89ZS54LGM9ZS55LGY9Xy0oXypzWzBdK2Mqc1syXSkscD1jLShfKnNbMV0rYypzWzNdKSxzWzRdPXBhcnNlRmxvYXQoc1s0XSkrZixzWzVdPXBhcnNlRmxvYXQoc1s1XSkrcCxlLngtPWYsZS55LT1wLF89by5zY2FsZVgsYz1vLnNjYWxlWSxlLngqPV8sZS55Kj1jLHNbMF0qPV8sc1sxXSo9YyxzWzJdKj1fLHNbM10qPWMsZ2V8fChlLngrPVQsZS55Kz14KSk6IWgmJnQub2Zmc2V0UGFyZW50JiYoZS54Kz1wYXJzZUludChuZSh0Lm9mZnNldFBhcmVudCxcImJvcmRlckxlZnRXaWR0aFwiKSwxMCl8fDAsZS55Kz1wYXJzZUludChuZSh0Lm9mZnNldFBhcmVudCxcImJvcmRlclRvcFdpZHRoXCIpLDEwKXx8MCksbj1iPT09dnx8Yj09PWcuYm9keSxzWzRdPU51bWJlcihzWzRdKStlLngrKG8ub2Zmc2V0TGVmdHx8MCktaS54LShuPzA6Yi5zY3JvbGxMZWZ0fHwwKSxzWzVdPU51bWJlcihzWzVdKStlLnkrKG8ub2Zmc2V0VG9wfHwwKS1pLnktKG4/MDpiLnNjcm9sbFRvcHx8MCksYiYmXCJmaXhlZFwiPT09bmUodCxcInBvc2l0aW9uXCIsUykmJihzWzRdKz1VKCksc1s1XSs9aigpKSxiJiZiIT09diYmaz09PW8ub2Zmc2V0UGFyZW50JiYoc1s0XS09Yi5vZmZzZXRMZWZ0fHwwLHNbNV0tPWIub2Zmc2V0VG9wfHwwLGh8fCFiLm9mZnNldFBhcmVudHx8dy5pc1NWR3x8dy5pc1NWR1Jvb3R8fChzWzRdLT1wYXJzZUludChuZShiLm9mZnNldFBhcmVudCxcImJvcmRlckxlZnRXaWR0aFwiKSwxMCl8fDAsc1s1XS09cGFyc2VJbnQobmUoYi5vZmZzZXRQYXJlbnQsXCJib3JkZXJUb3BXaWR0aFwiKSwxMCl8fDApKSksc30sUGU9ZnVuY3Rpb24odCxlKXtpZighdHx8dD09PXdpbmRvd3x8IXQucGFyZW50Tm9kZSlyZXR1cm5bMSwwLDAsMSwwLDBdO2Zvcih2YXIgaSxyLHMsbixhLG8sbCxoLHU9eGUodCxmZSksXz14ZSh0LnBhcmVudE5vZGUscGUpLGM9YmUodCx1LF8pOyh0PXQucGFyZW50Tm9kZSkmJnQucGFyZW50Tm9kZSYmdCE9PXY7KXU9XyxfPXhlKHQucGFyZW50Tm9kZSx1PT09ZmU/cGU6ZmUpLGw9YmUodCx1LF8pLGk9Y1swXSxyPWNbMV0scz1jWzJdLG49Y1szXSxhPWNbNF0sbz1jWzVdLGNbMF09aSpsWzBdK3IqbFsyXSxjWzFdPWkqbFsxXStyKmxbM10sY1syXT1zKmxbMF0rbipsWzJdLGNbM109cypsWzFdK24qbFszXSxjWzRdPWEqbFswXStvKmxbMl0rbFs0XSxjWzVdPWEqbFsxXStvKmxbM10rbFs1XTtyZXR1cm4gZSYmKGk9Y1swXSxyPWNbMV0scz1jWzJdLG49Y1szXSxhPWNbNF0sbz1jWzVdLGg9aSpuLXIqcyxjWzBdPW4vaCxjWzFdPS1yL2gsY1syXT0tcy9oLGNbM109aS9oLGNbNF09KHMqby1uKmEpL2gsY1s1XT0tKGkqby1yKmEpL2gpLGN9LFNlPWZ1bmN0aW9uKHQsZSxpLHIscyl7dD0kKHQpO3ZhciBuPVBlKHQsITEscyksYT1lLngsbz1lLnk7cmV0dXJuIGkmJih4ZSh0LGUpLGEtPWUueCxvLT1lLnkpLHI9cj09PSEwP2U6cnx8e30sci54PWEqblswXStvKm5bMl0rbls0XSxyLnk9YSpuWzFdK28qblszXStuWzVdLHJ9LGtlPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj10LngqZVswXSt0LnkqZVsyXStlWzRdLHM9dC54KmVbMV0rdC55KmVbM10rZVs1XTtyZXR1cm4gdC54PXIqaVswXStzKmlbMl0raVs0XSx0Lnk9cippWzFdK3MqaVszXStpWzVdLHR9LENlPWZ1bmN0aW9uKHQsZSxpKXtpZighKHQ9JCh0KSkpcmV0dXJuIG51bGw7ZT0kKGUpO3ZhciByLHMsbixhLG8sbCxoLHUsXyxjLGYscCxkLG0seSxULHgsdyxiLFAsUyxDLFI9dC5nZXRCQm94JiZtZSh0KTtpZih0PT09d2luZG93KWE9aigpLHM9VSgpLG49cysodi5jbGllbnRXaWR0aHx8dC5pbm5lcldpZHRofHxnLmJvZHkuY2xpZW50V2lkdGh8fDApLG89YSsoKHQuaW5uZXJIZWlnaHR8fDApLTIwPHYuY2xpZW50SGVpZ2h0P3YuY2xpZW50SGVpZ2h0OnQuaW5uZXJIZWlnaHR8fGcuYm9keS5jbGllbnRIZWlnaHR8fDApO2Vsc2V7aWYodm9pZCAwPT09ZXx8ZT09PXdpbmRvdylyZXR1cm4gdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyPXhlKHQpLHM9LXIueCxhPS1yLnksUj8ocD10LmdldEJCb3goKSxkPXAud2lkdGgsbT1wLmhlaWdodCk6dC5vZmZzZXRXaWR0aD8oZD10Lm9mZnNldFdpZHRoLG09dC5vZmZzZXRIZWlnaHQpOihTPXRlKHQpLGQ9cGFyc2VGbG9hdChTLndpZHRoKSxtPXBhcnNlRmxvYXQoUy5oZWlnaHQpKSxuPXMrZCxvPWErbSxcInN2Z1wiIT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfHxrfHwoeT1UZSh0KSxDPXkuY29tcHV0ZWRTdHlsZXx8e30sdz0odC5nZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIpfHxcIjAgMFwiKS5zcGxpdChcIiBcIiksYj1wYXJzZUZsb2F0KHdbMF0pLFA9cGFyc2VGbG9hdCh3WzFdKSxUPXBhcnNlRmxvYXQoQy5ib3JkZXJMZWZ0V2lkdGgpfHwwLHg9cGFyc2VGbG9hdChDLmJvcmRlclRvcFdpZHRoKXx8MCxuLT1kLShkLVQpL3kuc2NhbGVYLWIsby09bS0obS14KS95LnNjYWxlWS1QLHMtPVQveS5zY2FsZVgtYixhLT14L3kuc2NhbGVZLVAsUyYmKG4rPShwYXJzZUZsb2F0KEMuYm9yZGVyUmlnaHRXaWR0aCkrVCkveS5zY2FsZVgsbys9KHgrcGFyc2VGbG9hdChDLmJvcmRlckJvdHRvbVdpZHRoKSkveS5zY2FsZVkpKX1yZXR1cm4gdD09PWU/e2xlZnQ6cyx0b3A6YSx3aWR0aDpuLXMsaGVpZ2h0Om8tYX06KGw9UGUodCksaD1QZShlLCEwKSx1PWtlKHt4OnMseTphfSxsLGgpLF89a2Uoe3g6bix5OmF9LGwsaCksYz1rZSh7eDpuLHk6b30sbCxoKSxmPWtlKHt4OnMseTpvfSxsLGgpLHM9TWF0aC5taW4odS54LF8ueCxjLngsZi54KSxhPU1hdGgubWluKHUueSxfLnksYy55LGYueSksRS54PUUueT0wLGkmJnhlKGUsRSkse2xlZnQ6cytFLngsdG9wOmErRS55LHdpZHRoOk1hdGgubWF4KHUueCxfLngsYy54LGYueCktcyxoZWlnaHQ6TWF0aC5tYXgodS55LF8ueSxjLnksZi55KS1hfSl9LFJlPWZ1bmN0aW9uKHQpe3JldHVybiB0Lmxlbmd0aCYmdFswXSYmKHRbMF0ubm9kZVR5cGUmJnRbMF0uc3R5bGUmJiF0Lm5vZGVUeXBlfHx0WzBdLmxlbmd0aCYmdFswXVswXSk/ITA6ITF9LE9lPWZ1bmN0aW9uKHQpe3ZhciBlLGkscixzPVtdLG49dC5sZW5ndGg7Zm9yKGU9MDtuPmU7ZSsrKWlmKGk9dFtlXSxSZShpKSlmb3Iocj1pLmxlbmd0aCxyPTA7aS5sZW5ndGg+cjtyKyspcy5wdXNoKGlbcl0pO2Vsc2Ugcy5wdXNoKGkpO3JldHVybiBzfSxBZT1cIm9udG91Y2hzdGFydFwiaW4gdiYmXCJvcmllbnRhdGlvblwiaW4gd2luZG93LERlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnNwbGl0KFwiLFwiKSxpPSh2b2lkIDAhPT1ULm9ucG9pbnRlcmRvd24/XCJwb2ludGVyZG93bixwb2ludGVybW92ZSxwb2ludGVydXAscG9pbnRlcmNhbmNlbFwiOnZvaWQgMCE9PVQub25tc3BvaW50ZXJkb3duP1wiTVNQb2ludGVyRG93bixNU1BvaW50ZXJNb3ZlLE1TUG9pbnRlclVwLE1TUG9pbnRlckNhbmNlbFwiOnQpLnNwbGl0KFwiLFwiKSxyPXt9LHM9ODstLXM+LTE7KXJbZVtzXV09aVtzXSxyW2lbc11dPWVbc107cmV0dXJuIHJ9KFwidG91Y2hzdGFydCx0b3VjaG1vdmUsdG91Y2hlbmQsdG91Y2hjYW5jZWxcIiksTWU9ZnVuY3Rpb24odCxlLGkscil7dC5hZGRFdmVudExpc3RlbmVyP3QuYWRkRXZlbnRMaXN0ZW5lcihEZVtlXXx8ZSxpLHIpOnQuYXR0YWNoRXZlbnQmJnQuYXR0YWNoRXZlbnQoXCJvblwiK2UsaSl9LExlPWZ1bmN0aW9uKHQsZSxpKXt0LnJlbW92ZUV2ZW50TGlzdGVuZXI/dC5yZW1vdmVFdmVudExpc3RlbmVyKERlW2VdfHxlLGkpOnQuZGV0YWNoRXZlbnQmJnQuZGV0YWNoRXZlbnQoXCJvblwiK2UsaSl9LE5lPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXQubGVuZ3RoOy0taT4tMTspaWYodFtpXS5pZGVudGlmaWVyPT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0sRWU9ZnVuY3Rpb24odCl7cz10LnRvdWNoZXMmJnQudG91Y2hlcy5sZW5ndGg+TSxMZSh0LnRhcmdldCxcInRvdWNoZW5kXCIsRWUpfSxJZT1mdW5jdGlvbih0KXtzPXQudG91Y2hlcyYmdC50b3VjaGVzLmxlbmd0aD5NLE1lKHQudGFyZ2V0LFwidG91Y2hlbmRcIixFZSl9LHplPWZ1bmN0aW9uKHQsZSxpLHIscyxuKXt2YXIgYSxvLGwsaD17fTtpZihlKWlmKDEhPT1zJiZlIGluc3RhbmNlb2YgQXJyYXkpe2ZvcihoLmVuZD1hPVtdLGw9ZS5sZW5ndGgsbz0wO2w+bztvKyspYVtvXT1lW29dKnM7aSs9MS4xLHItPTEuMX1lbHNlIGguZW5kPVwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZnVuY3Rpb24oaSl7cmV0dXJuIGUuY2FsbCh0LGkpKnN9OmU7cmV0dXJuKGl8fDA9PT1pKSYmKGgubWF4PWkpLChyfHwwPT09cikmJihoLm1pbj1yKSxuJiYoaC52ZWxvY2l0eT0wKSxofSxGZT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdCYmdC5nZXRBdHRyaWJ1dGUmJlwiQk9EWVwiIT09dC5ub2RlTmFtZT9cInRydWVcIj09PShlPXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1jbGlja2FibGVcIikpfHxcImZhbHNlXCIhPT1lJiYodC5vbmNsaWNrfHxELnRlc3QodC5ub2RlTmFtZStcIlwiKXx8XCJ0cnVlXCI9PT10LmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKSk/ITA6RmUodC5wYXJlbnROb2RlKTohMX0sWGU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkscj10Lmxlbmd0aDstLXI+LTE7KWk9dFtyXSxpLm9uZHJhZ3N0YXJ0PWkub25zZWxlY3RzdGFydD1lP251bGw6dyxKKGksXCJ1c2VyU2VsZWN0XCIsZT9cInRleHRcIjpcIm5vbmVcIil9LEJlPWZ1bmN0aW9uKCl7dmFyIHQsZT1nLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksaT1nLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikscj1pLnN0eWxlLHM9Zy5ib2R5fHxUO3JldHVybiByLmRpc3BsYXk9XCJpbmxpbmUtYmxvY2tcIixyLnBvc2l0aW9uPVwicmVsYXRpdmVcIixlLnN0eWxlLmNzc1RleHQ9aS5pbm5lckhUTUw9XCJ3aWR0aDo5MHB4OyBoZWlnaHQ6NDBweDsgcGFkZGluZzoxMHB4OyBvdmVyZmxvdzphdXRvOyB2aXNpYmlsaXR5OiBoaWRkZW5cIixlLmFwcGVuZENoaWxkKGkpLHMuYXBwZW5kQ2hpbGQoZSksdT1pLm9mZnNldEhlaWdodCsxOD5lLnNjcm9sbEhlaWdodCxyLndpZHRoPVwiMTAwJVwiLF9lfHwoci5wYWRkaW5nUmlnaHQ9XCI1MDBweFwiLHQ9ZS5zY3JvbGxMZWZ0PWUuc2Nyb2xsV2lkdGgtZS5jbGllbnRXaWR0aCxyLmxlZnQ9XCItOTBweFwiLHQ9dCE9PWUuc2Nyb2xsTGVmdCkscy5yZW1vdmVDaGlsZChlKSx0fSgpLFllPWZ1bmN0aW9uKHQsaSl7dD0kKHQpLGk9aXx8e307dmFyIHIscyxuLGEsbyxsLGg9Zy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLF89aC5zdHlsZSxjPXQuZmlyc3RDaGlsZCxmPTAscD0wLGQ9dC5zY3JvbGxUb3AsbT10LnNjcm9sbExlZnQsdj10LnNjcm9sbFdpZHRoLHk9dC5zY3JvbGxIZWlnaHQsVD0wLHg9MCx3PTA7aGUmJmkuZm9yY2UzRCE9PSExPyhvPVwidHJhbnNsYXRlM2QoXCIsbD1cInB4LDBweClcIik6X2UmJihvPVwidHJhbnNsYXRlKFwiLGw9XCJweClcIiksdGhpcy5zY3JvbGxUb3A9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy50b3AoLXQsZSksdm9pZCAwKTotdGhpcy50b3AoKX0sdGhpcy5zY3JvbGxMZWZ0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMubGVmdCgtdCxlKSx2b2lkIDApOi10aGlzLmxlZnQoKX0sdGhpcy5sZWZ0PWZ1bmN0aW9uKHIscyl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuLSh0LnNjcm9sbExlZnQrcCk7dmFyIG49dC5zY3JvbGxMZWZ0LW0sYT1wO3JldHVybihuPjJ8fC0yPm4pJiYhcz8obT10LnNjcm9sbExlZnQsZS5raWxsVHdlZW5zT2YodGhpcywhMCx7bGVmdDoxLHNjcm9sbExlZnQ6MX0pLHRoaXMubGVmdCgtbSksaS5vbktpbGwmJmkub25LaWxsKCksdm9pZCAwKToocj0tciwwPnI/KHA9MHxyLS41LHI9MCk6cj54PyhwPTB8ci14LHI9eCk6cD0wLChwfHxhKSYmKG8/dGhpcy5fc3VzcGVuZFRyYW5zZm9ybXN8fChfW19lXT1vKy1wK1wicHgsXCIrLWYrbCk6Xy5sZWZ0PS1wK1wicHhcIixCZSYmcCtUPj0wJiYoXy5wYWRkaW5nUmlnaHQ9cCtUK1wicHhcIikpLHQuc2Nyb2xsTGVmdD0wfHIsbT10LnNjcm9sbExlZnQsdm9pZCAwKX0sdGhpcy50b3A9ZnVuY3Rpb24ocixzKXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4tKHQuc2Nyb2xsVG9wK2YpO3ZhciBuPXQuc2Nyb2xsVG9wLWQsYT1mO3JldHVybihuPjJ8fC0yPm4pJiYhcz8oZD10LnNjcm9sbFRvcCxlLmtpbGxUd2VlbnNPZih0aGlzLCEwLHt0b3A6MSxzY3JvbGxUb3A6MX0pLHRoaXMudG9wKC1kKSxpLm9uS2lsbCYmaS5vbktpbGwoKSx2b2lkIDApOihyPS1yLDA+cj8oZj0wfHItLjUscj0wKTpyPnc/KGY9MHxyLXcscj13KTpmPTAsKGZ8fGEpJiYobz90aGlzLl9zdXNwZW5kVHJhbnNmb3Jtc3x8KF9bX2VdPW8rLXArXCJweCxcIistZitsKTpfLnRvcD0tZitcInB4XCIpLHQuc2Nyb2xsVG9wPTB8cixkPXQuc2Nyb2xsVG9wLHZvaWQgMCl9LHRoaXMubWF4U2Nyb2xsVG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHd9LHRoaXMubWF4U2Nyb2xsTGVmdD1mdW5jdGlvbigpe3JldHVybiB4fSx0aGlzLmRpc2FibGU9ZnVuY3Rpb24oKXtmb3IoYz1oLmZpcnN0Q2hpbGQ7YzspYT1jLm5leHRTaWJsaW5nLHQuYXBwZW5kQ2hpbGQoYyksYz1hO3Q9PT1oLnBhcmVudE5vZGUmJnQucmVtb3ZlQ2hpbGQoaCl9LHRoaXMuZW5hYmxlPWZ1bmN0aW9uKCl7aWYoYz10LmZpcnN0Q2hpbGQsYyE9PWgpe2Zvcig7YzspYT1jLm5leHRTaWJsaW5nLGguYXBwZW5kQ2hpbGQoYyksYz1hO3QuYXBwZW5kQ2hpbGQoaCksdGhpcy5jYWxpYnJhdGUoKX19LHRoaXMuY2FsaWJyYXRlPWZ1bmN0aW9uKGUpe3ZhciBpLGEsbz10LmNsaWVudFdpZHRoPT09cjtkPXQuc2Nyb2xsVG9wLG09dC5zY3JvbGxMZWZ0LCghb3x8dC5jbGllbnRIZWlnaHQhPT1zfHxoLm9mZnNldEhlaWdodCE9PW58fHYhPT10LnNjcm9sbFdpZHRofHx5IT09dC5zY3JvbGxIZWlnaHR8fGUpJiYoKGZ8fHApJiYoaT10aGlzLmxlZnQoKSxhPXRoaXMudG9wKCksdGhpcy5sZWZ0KC10LnNjcm9sbExlZnQpLHRoaXMudG9wKC10LnNjcm9sbFRvcCkpLCghb3x8ZSkmJihfLmRpc3BsYXk9XCJibG9ja1wiLF8ud2lkdGg9XCJhdXRvXCIsXy5wYWRkaW5nUmlnaHQ9XCIwcHhcIixUPU1hdGgubWF4KDAsdC5zY3JvbGxXaWR0aC10LmNsaWVudFdpZHRoKSxUJiYoVCs9bmUodCxcInBhZGRpbmdMZWZ0XCIpKyh1P25lKHQsXCJwYWRkaW5nUmlnaHRcIik6MCkpKSxfLmRpc3BsYXk9XCJpbmxpbmUtYmxvY2tcIixfLnBvc2l0aW9uPVwicmVsYXRpdmVcIixfLm92ZXJmbG93PVwidmlzaWJsZVwiLF8udmVydGljYWxBbGlnbj1cInRvcFwiLF8ud2lkdGg9XCIxMDAlXCIsXy5wYWRkaW5nUmlnaHQ9VCtcInB4XCIsdSYmKF8ucGFkZGluZ0JvdHRvbT1uZSh0LFwicGFkZGluZ0JvdHRvbVwiLCEwKSksayYmKF8uem9vbT1cIjFcIikscj10LmNsaWVudFdpZHRoLHM9dC5jbGllbnRIZWlnaHQsdj10LnNjcm9sbFdpZHRoLHk9dC5zY3JvbGxIZWlnaHQseD10LnNjcm9sbFdpZHRoLXIsdz10LnNjcm9sbEhlaWdodC1zLG49aC5vZmZzZXRIZWlnaHQsXy5kaXNwbGF5PVwiYmxvY2tcIiwoaXx8YSkmJih0aGlzLmxlZnQoaSksdGhpcy50b3AoYSkpKX0sdGhpcy5jb250ZW50PWgsdGhpcy5lbGVtZW50PXQsdGhpcy5fc3VzcGVuZFRyYW5zZm9ybXM9ITEsdGhpcy5lbmFibGUoKX0sV2U9ZnVuY3Rpb24ocixhKXt0LmNhbGwodGhpcyxyKSxyPSQociksbnx8KG49ZC5jb20uZ3JlZW5zb2NrLnBsdWdpbnMuVGhyb3dQcm9wc1BsdWdpbiksdGhpcy52YXJzPWE9YXx8e30sdGhpcy50YXJnZXQ9cix0aGlzLng9dGhpcy55PXRoaXMucm90YXRpb249MCx0aGlzLmRyYWdSZXNpc3RhbmNlPXBhcnNlRmxvYXQoYS5kcmFnUmVzaXN0YW5jZSl8fDAsdGhpcy5lZGdlUmVzaXN0YW5jZT1pc05hTihhLmVkZ2VSZXNpc3RhbmNlKT8xOnBhcnNlRmxvYXQoYS5lZGdlUmVzaXN0YW5jZSl8fDAsdGhpcy5sb2NrQXhpcz1hLmxvY2tBeGlzLHRoaXMuYXV0b1Njcm9sbD1hLmF1dG9TY3JvbGx8fDAsdGhpcy5sb2NrZWRBeGlzPW51bGwsdGhpcy5hbGxvd0V2ZW50RGVmYXVsdD0hIWEuYWxsb3dFdmVudERlZmF1bHQ7dmFyIG8sbCxoLHUsbSx5LFQsdyxSLEQsRSxGLFksaixVLEgsSyx0ZSxlZSxpZSxyZSxzZSxsZSxoZSx1ZSxfZSxjZSxmZSxwZSxkZSxtZSxnZT0oYS50eXBlfHwoaz9cInRvcCxsZWZ0XCI6XCJ4LHlcIikpLnRvTG93ZXJDYXNlKCksdmU9LTEhPT1nZS5pbmRleE9mKFwieFwiKXx8LTEhPT1nZS5pbmRleE9mKFwieVwiKSx5ZT0tMSE9PWdlLmluZGV4T2YoXCJyb3RhdGlvblwiKSxUZT15ZT9cInJvdGF0aW9uXCI6dmU/XCJ4XCI6XCJsZWZ0XCIseGU9dmU/XCJ5XCI6XCJ0b3BcIix3ZT0tMSE9PWdlLmluZGV4T2YoXCJ4XCIpfHwtMSE9PWdlLmluZGV4T2YoXCJsZWZ0XCIpfHxcInNjcm9sbFwiPT09Z2UsYmU9LTEhPT1nZS5pbmRleE9mKFwieVwiKXx8LTEhPT1nZS5pbmRleE9mKFwidG9wXCIpfHxcInNjcm9sbFwiPT09Z2Usa2U9YS5taW5pbXVtTW92ZW1lbnR8fDIsQ2U9dGhpcyxSZT16KGEudHJpZ2dlcnx8YS5oYW5kbGV8fHIpLE9lPXt9LEVlPTAsQmU9ITEsamU9YS5jbGlja2FibGVUZXN0fHxGZSxVZT1mdW5jdGlvbih0KXtpZihDZS5hdXRvU2Nyb2xsJiZDZS5pc0RyYWdnaW5nJiYodGV8fEJlKSl7dmFyIGUsaSxzLG4sYSxvLGgsdSxfPXIsYz0xNSpDZS5hdXRvU2Nyb2xsO2ZvcihCZT0hMSxJLnNjcm9sbFRvcD1udWxsIT13aW5kb3cucGFnZVlPZmZzZXQ/d2luZG93LnBhZ2VZT2Zmc2V0Om51bGwhPXYuc2Nyb2xsVG9wP3Yuc2Nyb2xsVG9wOmcuYm9keS5zY3JvbGxUb3AsSS5zY3JvbGxMZWZ0PW51bGwhPXdpbmRvdy5wYWdlWE9mZnNldD93aW5kb3cucGFnZVhPZmZzZXQ6bnVsbCE9di5zY3JvbGxMZWZ0P3Yuc2Nyb2xsTGVmdDpnLmJvZHkuc2Nyb2xsTGVmdCxuPUNlLnBvaW50ZXJYLUkuc2Nyb2xsTGVmdCxhPUNlLnBvaW50ZXJZLUkuc2Nyb2xsVG9wO18mJiFpOylpPXEoXy5wYXJlbnROb2RlKSxlPWk/STpfLnBhcmVudE5vZGUscz1pP3tib3R0b206TWF0aC5tYXgodi5jbGllbnRIZWlnaHQsd2luZG93LmlubmVySGVpZ2h0fHwwKSxyaWdodDpNYXRoLm1heCh2LmNsaWVudFdpZHRoLHdpbmRvdy5pbm5lcldpZHRofHwwKSxsZWZ0OjAsdG9wOjB9OmUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1oPTAsYmUmJihhPnMuYm90dG9tLTQwJiYodT1lLl9nc01heFNjcm9sbFktZS5zY3JvbGxUb3ApPyhCZT0hMCxoPU1hdGgubWluKHUsMHxjKigxLU1hdGgubWF4KDAscy5ib3R0b20tYSkvNDApKSk6cy50b3ArNDA+YSYmZS5zY3JvbGxUb3AmJihCZT0hMCxoPS1NYXRoLm1pbihlLnNjcm9sbFRvcCwwfGMqKDEtTWF0aC5tYXgoMCxhLXMudG9wKS80MCkpKSxoJiYoZS5zY3JvbGxUb3ArPWgpKSx3ZSYmKG4+cy5yaWdodC00MCYmKHU9ZS5fZ3NNYXhTY3JvbGxYLWUuc2Nyb2xsTGVmdCk/KEJlPSEwLG89TWF0aC5taW4odSwwfGMqKDEtTWF0aC5tYXgoMCxzLnJpZ2h0LW4pLzQwKSkpOnMubGVmdCs0MD5uJiZlLnNjcm9sbExlZnQmJihCZT0hMCxvPS1NYXRoLm1pbihlLnNjcm9sbExlZnQsMHxjKigxLU1hdGgubWF4KDAsbi1zLmxlZnQpLzQwKSkpLG8mJihlLnNjcm9sbExlZnQrPW8pKSxpJiYob3x8aCkmJih3aW5kb3cuc2Nyb2xsVG8oZS5zY3JvbGxMZWZ0LGUuc2Nyb2xsVG9wKSxyaShDZS5wb2ludGVyWCtvLENlLnBvaW50ZXJZK2gpKSxfPWV9aWYodGUpe3ZhciBmPUNlLngscD1DZS55LGQ9MWUtNjtkPmYmJmY+LWQmJihmPTApLGQ+cCYmcD4tZCYmKHA9MCkseWU/KHBlLmRhdGEucm90YXRpb249Q2Uucm90YXRpb249ZixwZS5zZXRSYXRpbygxKSk6bD8oYmUmJmwudG9wKHApLHdlJiZsLmxlZnQoZikpOnZlPyhiZSYmKHBlLmRhdGEueT1wKSx3ZSYmKHBlLmRhdGEueD1mKSxwZS5zZXRSYXRpbygxKSk6KGJlJiYoci5zdHlsZS50b3A9cCtcInB4XCIpLHdlJiYoci5zdHlsZS5sZWZ0PWYrXCJweFwiKSksdyYmIXQmJmFlKENlLFwiZHJhZ1wiLFwib25EcmFnXCIpfXRlPSExfSxHZT1mdW5jdGlvbih0LGkpe3ZhciBzO3IuX2dzVHJhbnNmb3JtfHwhdmUmJiF5ZXx8ZS5zZXQocix7eDpcIis9MFwiLG92ZXJ3cml0ZTohMX0pLHZlPyhDZS55PXIuX2dzVHJhbnNmb3JtLnksQ2UueD1yLl9nc1RyYW5zZm9ybS54KTp5ZT9DZS54PUNlLnJvdGF0aW9uPXIuX2dzVHJhbnNmb3JtLnJvdGF0aW9uOmw/KENlLnk9bC50b3AoKSxDZS54PWwubGVmdCgpKTooQ2UueT1wYXJzZUludChyLnN0eWxlLnRvcCwxMCl8fDAsQ2UueD1wYXJzZUludChyLnN0eWxlLmxlZnQsMTApfHwwKSwhaWUmJiFyZXx8aXx8KGllJiYocz1pZShDZS54KSxzIT09Q2UueCYmKENlLng9cyx5ZSYmKENlLnJvdGF0aW9uPXMpLHRlPSEwKSkscmUmJihzPXJlKENlLnkpLHMhPT1DZS55JiYoQ2UueT1zLHRlPSEwKSksdGUmJlVlKCEwKSksdHx8YWUoQ2UsXCJ0aHJvd3VwZGF0ZVwiLFwib25UaHJvd1VwZGF0ZVwiKX0scWU9ZnVuY3Rpb24oKXt2YXIgdCxlLGkscztUPSExLGw/KGwuY2FsaWJyYXRlKCksQ2UubWluWD1EPS1sLm1heFNjcm9sbExlZnQoKSxDZS5taW5ZPUY9LWwubWF4U2Nyb2xsVG9wKCksQ2UubWF4WD1SPUNlLm1heFk9RT0wLFQ9ITApOmEuYm91bmRzJiYodD1vZShhLmJvdW5kcyxyLnBhcmVudE5vZGUpLHllPyhDZS5taW5YPUQ9dC5sZWZ0LENlLm1heFg9Uj10LmxlZnQrdC53aWR0aCxDZS5taW5ZPUY9Q2UubWF4WT1FPTApOnZvaWQgMCE9PWEuYm91bmRzLm1heFh8fHZvaWQgMCE9PWEuYm91bmRzLm1heFk/KHQ9YS5ib3VuZHMsQ2UubWluWD1EPXQubWluWCxDZS5taW5ZPUY9dC5taW5ZLENlLm1heFg9Uj10Lm1heFgsQ2UubWF4WT1FPXQubWF4WSk6KGU9b2UocixyLnBhcmVudE5vZGUpLENlLm1pblg9RD1uZShyLFRlKSt0LmxlZnQtZS5sZWZ0LENlLm1pblk9Rj1uZShyLHhlKSt0LnRvcC1lLnRvcCxDZS5tYXhYPVI9RCsodC53aWR0aC1lLndpZHRoKSxDZS5tYXhZPUU9RisodC5oZWlnaHQtZS5oZWlnaHQpKSxEPlImJihDZS5taW5YPVIsQ2UubWF4WD1SPUQsRD1DZS5taW5YKSxGPkUmJihDZS5taW5ZPUUsQ2UubWF4WT1FPUYsRj1DZS5taW5ZKSx5ZSYmKENlLm1pblJvdGF0aW9uPUQsQ2UubWF4Um90YXRpb249UiksVD0hMCksYS5saXZlU25hcCYmKGk9YS5saXZlU25hcD09PSEwP2Euc25hcHx8e306YS5saXZlU25hcCxzPWkgaW5zdGFuY2VvZiBBcnJheXx8XCJmdW5jdGlvblwiPT10eXBlb2YgaSx5ZT8oaWU9dGkocz9pOmkucm90YXRpb24sRCxSLDEpLHJlPW51bGwpOih3ZSYmKGllPXRpKHM/aTppLnh8fGkubGVmdHx8aS5zY3JvbGxMZWZ0LEQsUixsPy0xOjEpKSxiZSYmKHJlPXRpKHM/aTppLnl8fGkudG9wfHxpLnNjcm9sbFRvcCxGLEUsbD8tMToxKSkpKX0sSGU9ZnVuY3Rpb24oKXtDZS5pc1Rocm93aW5nPSExLGFlKENlLFwidGhyb3djb21wbGV0ZVwiLFwib25UaHJvd0NvbXBsZXRlXCIpfSxRZT1mdW5jdGlvbigpe0NlLmlzVGhyb3dpbmc9ITF9LFplPWZ1bmN0aW9uKHQsZSl7dmFyIGkscyxvLGg7dCYmbj8odD09PSEwJiYoaT1hLnNuYXB8fHt9LHM9aSBpbnN0YW5jZW9mIEFycmF5fHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLHQ9e3Jlc2lzdGFuY2U6KGEudGhyb3dSZXNpc3RhbmNlfHxhLnJlc2lzdGFuY2V8fDFlMykvKHllPzEwOjEpfSx5ZT90LnJvdGF0aW9uPXplKENlLHM/aTppLnJvdGF0aW9uLFIsRCwxLGUpOih3ZSYmKHRbVGVdPXplKENlLHM/aTppLnh8fGkubGVmdHx8aS5zY3JvbGxMZWZ0LFIsRCxsPy0xOjEsZXx8XCJ4XCI9PT1DZS5sb2NrZWRBeGlzKSksYmUmJih0W3hlXT16ZShDZSxzP2k6aS55fHxpLnRvcHx8aS5zY3JvbGxUb3AsRSxGLGw/LTE6MSxlfHxcInlcIj09PUNlLmxvY2tlZEF4aXMpKSkpLENlLmlzVGhyb3dpbmc9ITAsaD1pc05hTihhLm92ZXJzaG9vdFRvbGVyYW5jZSk/MT09PWEuZWRnZVJlc2lzdGFuY2U/MDoxLUNlLmVkZ2VSZXNpc3RhbmNlKy4yOmEub3ZlcnNob290VG9sZXJhbmNlLENlLnR3ZWVuPW89bi50byhsfHxyLHt0aHJvd1Byb3BzOnQsZWFzZTphLmVhc2V8fGQuUG93ZXIzLmVhc2VPdXQsb25Db21wbGV0ZTpIZSxvbk92ZXJ3cml0ZTpRZSxvblVwZGF0ZTphLmZhc3RNb2RlP2FlOkdlLG9uVXBkYXRlUGFyYW1zOmEuZmFzdE1vZGU/W0NlLFwib250aHJvd3VwZGF0ZVwiLFwib25UaHJvd1VwZGF0ZVwiXTp4fSxpc05hTihhLm1heER1cmF0aW9uKT8yOmEubWF4RHVyYXRpb24saXNOYU4oYS5taW5EdXJhdGlvbik/MD09PWg/MDouNTphLm1pbkR1cmF0aW9uLGgpLGEuZmFzdE1vZGV8fChsJiYobC5fc3VzcGVuZFRyYW5zZm9ybXM9ITApLG8ucmVuZGVyKG8uZHVyYXRpb24oKSwhMCwhMCksR2UoITAsITApLENlLmVuZFg9Q2UueCxDZS5lbmRZPUNlLnkseWUmJihDZS5lbmRSb3RhdGlvbj1DZS54KSxvLnBsYXkoMCksR2UoITAsITApLGwmJihsLl9zdXNwZW5kVHJhbnNmb3Jtcz0hMSkpKTpUJiZDZS5hcHBseUJvdW5kcygpfSwkZT1mdW5jdGlvbigpe2hlPVBlKHIucGFyZW50Tm9kZSwhMCksaGVbMV18fGhlWzJdfHwxIT1oZVswXXx8MSE9aGVbM118fDAhPWhlWzRdfHwwIT1oZVs1XXx8KGhlPW51bGwpfSxLZT1mdW5jdGlvbigpe3ZhciB0PTEtQ2UuZWRnZVJlc2lzdGFuY2U7JGUoKSxsPyhxZSgpLHk9bC50b3AoKSxtPWwubGVmdCgpKTooSmUoKT8oR2UoITAsITApLHFlKCkpOkNlLmFwcGx5Qm91bmRzKCkseWU/KEs9U2Uocix7eDowLHk6MH0pLEdlKCEwLCEwKSxtPUNlLngseT1DZS55PU1hdGguYXRhbjIoSy55LXUsaC1LLngpKmIpOihjZT1yLnBhcmVudE5vZGU/ci5wYXJlbnROb2RlLnNjcm9sbFRvcHx8MDowLGZlPXIucGFyZW50Tm9kZT9yLnBhcmVudE5vZGUuc2Nyb2xsTGVmdHx8MDowLHk9bmUocix4ZSksbT1uZShyLFRlKSkpLFQmJnQmJihtPlI/bT1SKyhtLVIpL3Q6RD5tJiYobT1ELShELW0pL3QpLHllfHwoeT5FP3k9RSsoeS1FKS90OkY+eSYmKHk9Ri0oRi15KS90KSkpfSxKZT1mdW5jdGlvbigpe3JldHVybiBDZS50d2VlbiYmQ2UudHdlZW4uaXNBY3RpdmUoKX0sdGk9ZnVuY3Rpb24odCxlLGkscil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD9mdW5jdGlvbihzKXt2YXIgbj1DZS5pc1ByZXNzZWQ/MS1DZS5lZGdlUmVzaXN0YW5jZToxO3JldHVybiB0LmNhbGwoQ2Uscz5pP2krKHMtaSkqbjplPnM/ZSsocy1lKSpuOnMpKnJ9OnQgaW5zdGFuY2VvZiBBcnJheT9mdW5jdGlvbihyKXtmb3IodmFyIHMsbixhPXQubGVuZ3RoLG89MCxsPVA7LS1hPi0xOylzPXRbYV0sbj1zLXIsMD5uJiYobj0tbiksbD5uJiZzPj1lJiZpPj1zJiYobz1hLGw9bik7cmV0dXJuIHRbb119OmlzTmFOKHQpP2Z1bmN0aW9uKHQpe3JldHVybiB0fTpmdW5jdGlvbigpe3JldHVybiB0KnJ9fSxlaT1mdW5jdGlvbih0KXt2YXIgaSxzO2lmKG8mJiFDZS5pc1ByZXNzZWQmJnQmJiEoXCJtb3VzZWRvd25cIj09PXQudHlwZSYmMzA+UygpLV9lJiZEZVtDZS5wb2ludGVyRXZlbnQudHlwZV0pKXtpZih1ZT1KZSgpLENlLnBvaW50ZXJFdmVudD10LERlW3QudHlwZV0/KGxlPS0xIT09dC50eXBlLmluZGV4T2YoXCJ0b3VjaFwiKT90LmN1cnJlbnRUYXJnZXQ6ZyxNZShsZSxcInRvdWNoZW5kXCIsc2kpLE1lKGxlLFwidG91Y2htb3ZlXCIsaWkpLE1lKGxlLFwidG91Y2hjYW5jZWxcIixzaSksTWUoZyxcInRvdWNoc3RhcnRcIixJZSkpOihsZT1udWxsLE1lKGcsXCJtb3VzZW1vdmVcIixpaSkpLG1lPW51bGwsTWUoZyxcIm1vdXNldXBcIixzaSksdCYmdC50YXJnZXQmJk1lKHQudGFyZ2V0LFwibW91c2V1cFwiLHNpKSxzZT1qZS5jYWxsKENlLHQudGFyZ2V0KSYmIWEuZHJhZ0NsaWNrYWJsZXMpcmV0dXJuIE1lKHQudGFyZ2V0LFwiY2hhbmdlXCIsc2kpLGFlKENlLFwicHJlc3NcIixcIm9uUHJlc3NcIiksWGUoUmUsITApLHZvaWQgMDtpZihkZT0hbGV8fHdlPT09YmV8fGx8fENlLnZhcnMuYWxsb3dOYXRpdmVUb3VjaFNjcm9sbGluZz09PSExPyExOndlP1wieVwiOlwieFwiLGs/dD1aKHQsITApOmRlfHxDZS5hbGxvd0V2ZW50RGVmYXVsdHx8KHQucHJldmVudERlZmF1bHQoKSx0LnByZXZlbnRNYW5pcHVsYXRpb24mJnQucHJldmVudE1hbmlwdWxhdGlvbigpKSx0LmNoYW5nZWRUb3VjaGVzPyh0PVU9dC5jaGFuZ2VkVG91Y2hlc1swXSxIPXQuaWRlbnRpZmllcik6dC5wb2ludGVySWQ/SD10LnBvaW50ZXJJZDpVPUg9bnVsbCxNKyssWChVZSksdT1DZS5wb2ludGVyWT10LnBhZ2VZLGg9Q2UucG9pbnRlclg9dC5wYWdlWCwoZGV8fENlLmF1dG9TY3JvbGwpJiZRKHIucGFyZW50Tm9kZSksIUNlLmF1dG9TY3JvbGx8fHllfHxsfHwhci5wYXJlbnROb2RlfHxyLmdldEJCb3h8fCFyLnBhcmVudE5vZGUuX2dzTWF4U2Nyb2xsWHx8Qy5wYXJlbnROb2RlfHwoQy5zdHlsZS53aWR0aD1yLnBhcmVudE5vZGUuc2Nyb2xsV2lkdGgrXCJweFwiLHIucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChDKSksS2UoKSxoZSYmKGk9aCpoZVswXSt1KmhlWzJdK2hlWzRdLHU9aCpoZVsxXSt1KmhlWzNdK2hlWzVdLGg9aSksQ2UudHdlZW4mJkNlLnR3ZWVuLmtpbGwoKSxDZS5pc1Rocm93aW5nPSExLGUua2lsbFR3ZWVuc09mKGx8fHIsITAsT2UpLGwmJmUua2lsbFR3ZWVuc09mKHIsITAse3Njcm9sbFRvOjF9KSxDZS50d2Vlbj1DZS5sb2NrZWRBeGlzPW51bGwsKGEuekluZGV4Qm9vc3R8fCF5ZSYmIWwmJmEuekluZGV4Qm9vc3QhPT0hMSkmJihyLnN0eWxlLnpJbmRleD1XZS56SW5kZXgrKyksQ2UuaXNQcmVzc2VkPSEwLHc9ISghYS5vbkRyYWcmJiFDZS5fbGlzdGVuZXJzLmRyYWcpLCF5ZSlmb3Iocz1SZS5sZW5ndGg7LS1zPi0xOylKKFJlW3NdLFwiY3Vyc29yXCIsYS5jdXJzb3J8fFwibW92ZVwiKTthZShDZSxcInByZXNzXCIsXCJvblByZXNzXCIpfX0saWk9ZnVuY3Rpb24odCl7dmFyIGUsaSxyLG4sYT10O2lmKG8mJiFzJiZDZS5pc1ByZXNzZWQmJnQpe2lmKENlLnBvaW50ZXJFdmVudD10LGU9dC5jaGFuZ2VkVG91Y2hlcyl7aWYodD1lWzBdLHQhPT1VJiZ0LmlkZW50aWZpZXIhPT1IKXtmb3Iobj1lLmxlbmd0aDstLW4+LTEmJih0PWVbbl0pLmlkZW50aWZpZXIhPT1IOyk7aWYoMD5uKXJldHVybn19ZWxzZSBpZih0LnBvaW50ZXJJZCYmSCYmdC5wb2ludGVySWQhPT1IKXJldHVybjtpZihrKXQ9Wih0LCEwKTtlbHNle2lmKGxlJiZkZSYmIW1lJiYoaT10LnBhZ2VYLHI9dC5wYWdlWSxoZSYmKG49aSpoZVswXStyKmhlWzJdK2hlWzRdLHI9aSpoZVsxXStyKmhlWzNdK2hlWzVdLGk9biksbWU9TWF0aC5hYnMoaS1oKT5NYXRoLmFicyhyLXUpJiZ3ZT9cInhcIjpcInlcIixDZS52YXJzLmxvY2tBeGlzT25Ub3VjaFNjcm9sbCE9PSExJiYoQ2UubG9ja2VkQXhpcz1cInhcIj09PW1lP1wieVwiOlwieFwiLFwiZnVuY3Rpb25cIj09dHlwZW9mIENlLnZhcnMub25Mb2NrQXhpcyYmQ2UudmFycy5vbkxvY2tBeGlzLmNhbGwoQ2UsYSkpLEwmJmRlPT09bWUpKXJldHVybiBzaShhKSx2b2lkIDA7Q2UuYWxsb3dFdmVudERlZmF1bHR8fGRlJiYoIW1lfHxkZT09PW1lKXx8YS5jYW5jZWxhYmxlPT09ITF8fChhLnByZXZlbnREZWZhdWx0KCksYS5wcmV2ZW50TWFuaXB1bGF0aW9uJiZhLnByZXZlbnRNYW5pcHVsYXRpb24oKSl9Q2UuYXV0b1Njcm9sbCYmKEJlPSEwKSxyaSh0LnBhZ2VYLHQucGFnZVkpfX0scmk9ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHMsbixhLG8sbD0xLUNlLmRyYWdSZXNpc3RhbmNlLF89MS1DZS5lZGdlUmVzaXN0YW5jZTtDZS5wb2ludGVyWD10LENlLnBvaW50ZXJZPWUseWU/KG49TWF0aC5hdGFuMihLLnktZSx0LUsueCkqYixhPUNlLnktbixDZS55PW4sYT4xODA/eS09MzYwOi0xODA+YSYmKHkrPTM2MCkscz1tKyh5LW4pKmwpOihoZSYmKG89dCpoZVswXStlKmhlWzJdK2hlWzRdLGU9dCpoZVsxXStlKmhlWzNdK2hlWzVdLHQ9bykscj1lLXUsaT10LWgsa2U+ciYmcj4ta2UmJihyPTApLGtlPmkmJmk+LWtlJiYoaT0wKSwoQ2UubG9ja0F4aXN8fENlLmxvY2tlZEF4aXMpJiYoaXx8cikmJihvPUNlLmxvY2tlZEF4aXMsb3x8KENlLmxvY2tlZEF4aXM9bz13ZSYmTWF0aC5hYnMoaSk+TWF0aC5hYnMocik/XCJ5XCI6YmU/XCJ4XCI6bnVsbCxvJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBDZS52YXJzLm9uTG9ja0F4aXMmJkNlLnZhcnMub25Mb2NrQXhpcy5jYWxsKENlLENlLnBvaW50ZXJFdmVudCkpLFwieVwiPT09bz9yPTA6XCJ4XCI9PT1vJiYoaT0wKSkscz1tK2kqbCxuPXkrcipsKSxpZXx8cmU/KGllJiYocz1pZShzKSkscmUmJihuPXJlKG4pKSk6VCYmKHM+Uj9zPVIrKHMtUikqXzpEPnMmJihzPUQrKHMtRCkqXykseWV8fChuPkU/bj1FKyhuLUUpKl86Rj5uJiYobj1GKyhuLUYpKl8pKSkseWV8fChzPU1hdGgucm91bmQocyksbj1NYXRoLnJvdW5kKG4pKSwoQ2UueCE9PXN8fENlLnkhPT1uJiYheWUpJiYoeWU/Q2UuZW5kUm90YXRpb249Q2UueD1DZS5lbmRYPXM6KGJlJiYoQ2UueT1DZS5lbmRZPW4pLHdlJiYoQ2UueD1DZS5lbmRYPXMpKSx0ZT0hMCxDZS5pc0RyYWdnaW5nfHwoQ2UuaXNEcmFnZ2luZz0hMCxhZShDZSxcImRyYWdzdGFydFwiLFwib25EcmFnU3RhcnRcIikpKX0sc2k9ZnVuY3Rpb24odCxlKXtpZihvJiZDZS5pc1ByZXNzZWQmJighdHx8bnVsbD09SHx8ZXx8ISh0LnBvaW50ZXJJZCYmdC5wb2ludGVySWQhPT1IfHx0LmNoYW5nZWRUb3VjaGVzJiYhTmUodC5jaGFuZ2VkVG91Y2hlcyxIKSkpKXtDZS5pc1ByZXNzZWQ9ITE7dmFyIGkscyxuLGwsaD10LHU9Q2UuaXNEcmFnZ2luZztpZihsZT8oTGUobGUsXCJ0b3VjaGVuZFwiLHNpKSxMZShsZSxcInRvdWNobW92ZVwiLGlpKSxMZShsZSxcInRvdWNoY2FuY2VsXCIsc2kpLExlKGcsXCJ0b3VjaHN0YXJ0XCIsSWUpKTpMZShnLFwibW91c2Vtb3ZlXCIsaWkpLExlKGcsXCJtb3VzZXVwXCIsc2kpLHQmJnQudGFyZ2V0JiZMZSh0LnRhcmdldCxcIm1vdXNldXBcIixzaSksdGU9ITEsQy5wYXJlbnROb2RlJiZDLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoQyksc2UpcmV0dXJuIHQmJkxlKHQudGFyZ2V0LFwiY2hhbmdlXCIsc2kpLFhlKFJlLCExKSxhZShDZSxcInJlbGVhc2VcIixcIm9uUmVsZWFzZVwiKSxhZShDZSxcImNsaWNrXCIsXCJvbkNsaWNrXCIpLHNlPSExLHZvaWQgMDtpZihCKFVlKSwheWUpZm9yKHM9UmUubGVuZ3RoOy0tcz4tMTspSihSZVtzXSxcImN1cnNvclwiLGEuY3Vyc29yfHxcIm1vdmVcIik7aWYodSYmKEVlPU49UygpLENlLmlzRHJhZ2dpbmc9ITEpLE0tLSx0KXtpZihrJiYodD1aKHQsITEpKSxpPXQuY2hhbmdlZFRvdWNoZXMsaSYmKHQ9aVswXSx0IT09VSYmdC5pZGVudGlmaWVyIT09SCkpe2ZvcihzPWkubGVuZ3RoOy0tcz4tMSYmKHQ9aVtzXSkuaWRlbnRpZmllciE9PUg7KTtpZigwPnMpcmV0dXJufUNlLnBvaW50ZXJFdmVudD1oLENlLnBvaW50ZXJYPXQucGFnZVgsQ2UucG9pbnRlclk9dC5wYWdlWX1yZXR1cm4gaCYmIXU/KHVlJiYoYS5zbmFwfHxhLmJvdW5kcykmJlplKGEudGhyb3dQcm9wcyksYWUoQ2UsXCJyZWxlYXNlXCIsXCJvblJlbGVhc2VcIiksTCYmXCJ0b3VjaG1vdmVcIj09PWgudHlwZXx8KGFlKENlLFwiY2xpY2tcIixcIm9uQ2xpY2tcIiksbD1oLnRhcmdldHx8aC5zcmNFbGVtZW50fHxyLGwuY2xpY2s/bC5jbGljaygpOmcuY3JlYXRlRXZlbnQmJihuPWcuY3JlYXRlRXZlbnQoXCJNb3VzZUV2ZW50c1wiKSxuLmluaXRFdmVudChcImNsaWNrXCIsITAsITApLGwuZGlzcGF0Y2hFdmVudChuKSksX2U9UygpKSk6KFplKGEudGhyb3dQcm9wcyksa3x8Q2UuYWxsb3dFdmVudERlZmF1bHR8fCFofHwhYS5kcmFnQ2xpY2thYmxlcyYmamUuY2FsbChDZSxoLnRhcmdldCl8fCF1fHxkZSYmKCFtZXx8ZGUhPT1tZSl8fGguY2FuY2VsYWJsZT09PSExfHwoaC5wcmV2ZW50RGVmYXVsdCgpLGgucHJldmVudE1hbmlwdWxhdGlvbiYmaC5wcmV2ZW50TWFuaXB1bGF0aW9uKCkpLGFlKENlLFwicmVsZWFzZVwiLFwib25SZWxlYXNlXCIpKSx1JiZhZShDZSxcImRyYWdlbmRcIixcIm9uRHJhZ0VuZFwiKSwhMH19LG5pPWZ1bmN0aW9uKHQpe2lmKHQmJkNlLmlzRHJhZ2dpbmcpe3ZhciBlPXQudGFyZ2V0fHx0LnNyY0VsZW1lbnR8fHIucGFyZW50Tm9kZSxpPWUuc2Nyb2xsTGVmdC1lLl9nc1Njcm9sbFgscz1lLnNjcm9sbFRvcC1lLl9nc1Njcm9sbFk7KGl8fHMpJiYoaC09aSx1LT1zLGUuX2dzU2Nyb2xsWCs9aSxlLl9nc1Njcm9sbFkrPXMscmkoQ2UucG9pbnRlclgsQ2UucG9pbnRlclkpKX19LGFpPWZ1bmN0aW9uKHQpe3ZhciBlPVMoKSxpPTQwPmUtX2Uscj00MD5lLUVlOyhDZS5pc1ByZXNzZWR8fHJ8fGkpJiYodC5wcmV2ZW50RGVmYXVsdD8odC5wcmV2ZW50RGVmYXVsdCgpLChpfHxyJiZDZS52YXJzLnN1cHByZXNzQ2xpY2tPbkRyYWchPT0hMSkmJnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpOnQucmV0dXJuVmFsdWU9ITEsdC5wcmV2ZW50TWFuaXB1bGF0aW9uJiZ0LnByZXZlbnRNYW5pcHVsYXRpb24oKSl9O2VlPVdlLmdldCh0aGlzLnRhcmdldCksZWUmJmVlLmtpbGwoKSx0aGlzLnN0YXJ0RHJhZz1mdW5jdGlvbih0KXtlaSh0KSxDZS5pc0RyYWdnaW5nfHwoQ2UuaXNEcmFnZ2luZz0hMCxhZShDZSxcImRyYWdzdGFydFwiLFwib25EcmFnU3RhcnRcIikpfSx0aGlzLmRyYWc9aWksdGhpcy5lbmREcmFnPWZ1bmN0aW9uKHQpe3NpKHQsITApfSx0aGlzLnRpbWVTaW5jZURyYWc9ZnVuY3Rpb24oKXtyZXR1cm4gQ2UuaXNEcmFnZ2luZz8wOihTKCktRWUpLzFlM30sdGhpcy5oaXRUZXN0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFdlLmhpdFRlc3QoQ2UudGFyZ2V0LHQsZSl9LHRoaXMuZ2V0RGlyZWN0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIGkscixzLGEsbyxsLGg9XCJ2ZWxvY2l0eVwiPT09dCYmbj90Olwib2JqZWN0XCIhPXR5cGVvZiB0fHx5ZT9cInN0YXJ0XCI6XCJlbGVtZW50XCI7cmV0dXJuXCJlbGVtZW50XCI9PT1oJiYobz1WZShDZS50YXJnZXQpLGw9VmUodCkpLGk9XCJzdGFydFwiPT09aD9DZS54LW06XCJ2ZWxvY2l0eVwiPT09aD9uLmdldFZlbG9jaXR5KHRoaXMudGFyZ2V0LFRlKTpvLmxlZnQrby53aWR0aC8yLShsLmxlZnQrbC53aWR0aC8yKSx5ZT8wPmk/XCJjb3VudGVyLWNsb2Nrd2lzZVwiOlwiY2xvY2t3aXNlXCI6KGU9ZXx8MixyPVwic3RhcnRcIj09PWg/Q2UueS15OlwidmVsb2NpdHlcIj09PWg/bi5nZXRWZWxvY2l0eSh0aGlzLnRhcmdldCx4ZSk6by50b3Arby5oZWlnaHQvMi0obC50b3ArbC5oZWlnaHQvMikscz1NYXRoLmFicyhpL3IpLGE9MS9lPnM/XCJcIjowPmk/XCJsZWZ0XCI6XCJyaWdodFwiLGU+cyYmKFwiXCIhPT1hJiYoYSs9XCItXCIpLGErPTA+cj9cInVwXCI6XCJkb3duXCIpLGEpfSx0aGlzLmFwcGx5Qm91bmRzPWZ1bmN0aW9uKHQpe3ZhciBlLGk7cmV0dXJuIHQmJmEuYm91bmRzIT09dD8oYS5ib3VuZHM9dCxDZS51cGRhdGUoITApKTooR2UoITApLHFlKCksVCYmKGU9Q2UueCxpPUNlLnksVCYmKGU+Uj9lPVI6RD5lJiYoZT1EKSxpPkU/aT1FOkY+aSYmKGk9RikpLChDZS54IT09ZXx8Q2UueSE9PWkpJiYoQ2UueD1DZS5lbmRYPWUseWU/Q2UuZW5kUm90YXRpb249ZTpDZS55PUNlLmVuZFk9aSx0ZT0hMCxVZSgpKSksQ2UpfSx0aGlzLnVwZGF0ZT1mdW5jdGlvbih0KXt2YXIgZT1DZS54LGk9Q2UueTtyZXR1cm4gJGUoKSx0P0NlLmFwcGx5Qm91bmRzKCk6KHRlJiZVZSgpLEdlKCEwKSksQ2UuaXNQcmVzc2VkJiYod2UmJk1hdGguYWJzKGUtQ2UueCk+LjAxfHxiZSYmTWF0aC5hYnMoaS1DZS55KT4uMDEmJiF5ZSkmJktlKCksQ2V9LHRoaXMuZW5hYmxlPWZ1bmN0aW9uKHQpe3ZhciBzLGgsdTtpZihcInNvZnRcIiE9PXQpe2ZvcihoPVJlLmxlbmd0aDstLWg+LTE7KXU9UmVbaF0sTWUodSxcIm1vdXNlZG93blwiLGVpKSxNZSh1LFwidG91Y2hzdGFydFwiLGVpKSxNZSh1LFwiY2xpY2tcIixhaSwhMCkseWV8fEoodSxcImN1cnNvclwiLGEuY3Vyc29yfHxcIm1vdmVcIiksSih1LFwidG91Y2hDYWxsb3V0XCIsXCJub25lXCIpLEoodSxcInRvdWNoQWN0aW9uXCIsd2U9PT1iZXx8bD9cIm5vbmVcIjp3ZT9cInBhbi15XCI6XCJwYW4teFwiKTtYZShSZSwhMSl9cmV0dXJuIFYoQ2UudGFyZ2V0LG5pKSxvPSEwLG4mJlwic29mdFwiIT09dCYmbi50cmFjayhsfHxyLHZlP1wieCx5XCI6eWU/XCJyb3RhdGlvblwiOlwidG9wLGxlZnRcIiksbCYmbC5lbmFibGUoKSxyLl9nc0RyYWdJRD1zPVwiZFwiK0ErKyxPW3NdPXRoaXMsbCYmKGwuZWxlbWVudC5fZ3NEcmFnSUQ9cyksZS5zZXQocix7eDpcIis9MFwiLG92ZXJ3cml0ZTohMX0pLHBlPXt0OnIsZGF0YTprP2o6ci5fZ3NUcmFuc2Zvcm0sdHdlZW46e30sc2V0UmF0aW86az9mdW5jdGlvbigpe2Uuc2V0KHIsWSl9OmkuX2ludGVybmFscy5zZXRUcmFuc2Zvcm1SYXRpb3x8aS5faW50ZXJuYWxzLnNldDNEVHJhbnNmb3JtUmF0aW99LHRoaXMudXBkYXRlKCEwKSxDZX0sdGhpcy5kaXNhYmxlPWZ1bmN0aW9uKHQpe3ZhciBlLGkscz10aGlzLmlzRHJhZ2dpbmc7aWYoIXllKWZvcihlPVJlLmxlbmd0aDstLWU+LTE7KUooUmVbZV0sXCJjdXJzb3JcIixudWxsKTtpZihcInNvZnRcIiE9PXQpe2ZvcihlPVJlLmxlbmd0aDstLWU+LTE7KWk9UmVbZV0sSihpLFwidG91Y2hDYWxsb3V0XCIsbnVsbCksSihpLFwidG91Y2hBY3Rpb25cIixudWxsKSxMZShpLFwibW91c2Vkb3duXCIsZWkpLExlKGksXCJ0b3VjaHN0YXJ0XCIsZWkpLExlKGksXCJjbGlja1wiLGFpKTtYZShSZSwhMCksbGUmJihMZShsZSxcInRvdWNoY2FuY2VsXCIsc2kpLExlKGxlLFwidG91Y2hlbmRcIixzaSksTGUobGUsXCJ0b3VjaG1vdmVcIixpaSkpLExlKGcsXCJtb3VzZXVwXCIsc2kpLExlKGcsXCJtb3VzZW1vdmVcIixpaSl9cmV0dXJuIEcocixuaSksbz0hMSxuJiZcInNvZnRcIiE9PXQmJm4udW50cmFjayhsfHxyLHZlP1wieCx5XCI6eWU/XCJyb3RhdGlvblwiOlwidG9wLGxlZnRcIiksbCYmbC5kaXNhYmxlKCksQihVZSksdGhpcy5pc0RyYWdnaW5nPXRoaXMuaXNQcmVzc2VkPXNlPSExLHMmJmFlKHRoaXMsXCJkcmFnZW5kXCIsXCJvbkRyYWdFbmRcIiksQ2V9LHRoaXMuZW5hYmxlZD1mdW5jdGlvbih0LGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3Q/dGhpcy5lbmFibGUoZSk6dGhpcy5kaXNhYmxlKGUpOm99LHRoaXMua2lsbD1mdW5jdGlvbigpe3JldHVybiBDZS5pc1Rocm93aW5nPSExLGUua2lsbFR3ZWVuc09mKGx8fHIsITAsT2UpLENlLmRpc2FibGUoKSxkZWxldGUgT1tyLl9nc0RyYWdJRF0sQ2V9LC0xIT09Z2UuaW5kZXhPZihcInNjcm9sbFwiKSYmKGw9dGhpcy5zY3JvbGxQcm94eT1uZXcgWWUocixXKHtvbktpbGw6ZnVuY3Rpb24oKXtDZS5pc1ByZXNzZWQmJnNpKG51bGwpfX0sYSkpLHIuc3R5bGUub3ZlcmZsb3dZPWJlJiYhQWU/XCJhdXRvXCI6XCJoaWRkZW5cIixyLnN0eWxlLm92ZXJmbG93WD13ZSYmIUFlP1wiYXV0b1wiOlwiaGlkZGVuXCIscj1sLmNvbnRlbnQpLGEuZm9yY2UzRCE9PSExJiZlLnNldChyLHtmb3JjZTNEOiEwfSkseWU/T2Uucm90YXRpb249MTood2UmJihPZVtUZV09MSksYmUmJihPZVt4ZV09MSkpLHllPyhZPXAsaj1ZLmNzcyxZLm92ZXJ3cml0ZT0hMSk6dmUmJihZPXdlJiZiZT9fOndlP2M6ZixqPVkuY3NzLFkub3ZlcndyaXRlPSExKSx0aGlzLmVuYWJsZSgpfSxqZT1XZS5wcm90b3R5cGU9bmV3IHQ7amUuY29uc3RydWN0b3I9V2UsamUucG9pbnRlclg9amUucG9pbnRlclk9MCxqZS5pc0RyYWdnaW5nPWplLmlzUHJlc3NlZD0hMSxXZS52ZXJzaW9uPVwiMC4xNC4wXCIsV2UuekluZGV4PTFlMyxNZShnLFwidG91Y2hjYW5jZWxcIixmdW5jdGlvbigpe30pLE1lKGcsXCJjb250ZXh0bWVudVwiLGZ1bmN0aW9uKCl7dmFyIHQ7Zm9yKHQgaW4gTylPW3RdLmlzUHJlc3NlZCYmT1t0XS5lbmREcmFnKCl9KSxXZS5jcmVhdGU9ZnVuY3Rpb24odCxpKXtcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9ZS5zZWxlY3Rvcih0KSk7Zm9yKHZhciByPVJlKHQpP09lKHQpOlt0XSxzPXIubGVuZ3RoOy0tcz4tMTspcltzXT1uZXcgV2UocltzXSxpKTtyZXR1cm4gcn0sV2UuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBPWygkKHQpfHx7fSkuX2dzRHJhZ0lEXX0sV2UudGltZVNpbmNlRHJhZz1mdW5jdGlvbigpe3JldHVybihTKCktTikvMWUzfTt2YXIgVWU9e30sVmU9ZnVuY3Rpb24odCxlKXtpZih0PT09d2luZG93KXJldHVybiBVZS5sZWZ0PVVlLnRvcD0wLFVlLndpZHRoPVVlLnJpZ2h0PXYuY2xpZW50V2lkdGh8fHQuaW5uZXJXaWR0aHx8Zy5ib2R5LmNsaWVudFdpZHRofHwwLFVlLmhlaWdodD1VZS5ib3R0b209KHQuaW5uZXJIZWlnaHR8fDApLTIwPHYuY2xpZW50SGVpZ2h0P3YuY2xpZW50SGVpZ2h0OnQuaW5uZXJIZWlnaHR8fGcuYm9keS5jbGllbnRIZWlnaHR8fDAsVWU7dmFyIGk9dC5wYWdlWCE9PWU/e2xlZnQ6dC5wYWdlWCx0b3A6dC5wYWdlWSxyaWdodDp0LnBhZ2VYKzEsYm90dG9tOnQucGFnZVkrMX06dC5ub2RlVHlwZXx8dC5sZWZ0PT09ZXx8dC50b3A9PT1lPyQodCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6dDtyZXR1cm4gaS5yaWdodD09PWUmJmkud2lkdGghPT1lPyhpLnJpZ2h0PWkubGVmdCtpLndpZHRoLGkuYm90dG9tPWkudG9wK2kuaGVpZ2h0KTppLndpZHRoPT09ZSYmKGk9e3dpZHRoOmkucmlnaHQtaS5sZWZ0LGhlaWdodDppLmJvdHRvbS1pLnRvcCxyaWdodDppLnJpZ2h0LGxlZnQ6aS5sZWZ0LGJvdHRvbTppLmJvdHRvbSx0b3A6aS50b3B9KSxpXHJcbn07cmV0dXJuIFdlLmhpdFRlc3Q9ZnVuY3Rpb24odCxlLGkpe2lmKHQ9PT1lKXJldHVybiExO3ZhciByLHMsbixhPVZlKHQpLG89VmUoZSksbD1vLmxlZnQ+YS5yaWdodHx8by5yaWdodDxhLmxlZnR8fG8udG9wPmEuYm90dG9tfHxvLmJvdHRvbTxhLnRvcDtyZXR1cm4gbHx8IWk/IWw6KG49LTEhPT0oaStcIlwiKS5pbmRleE9mKFwiJVwiKSxpPXBhcnNlRmxvYXQoaSl8fDAscj17bGVmdDpNYXRoLm1heChhLmxlZnQsby5sZWZ0KSx0b3A6TWF0aC5tYXgoYS50b3Asby50b3ApfSxyLndpZHRoPU1hdGgubWluKGEucmlnaHQsby5yaWdodCktci5sZWZ0LHIuaGVpZ2h0PU1hdGgubWluKGEuYm90dG9tLG8uYm90dG9tKS1yLnRvcCwwPnIud2lkdGh8fDA+ci5oZWlnaHQ/ITE6bj8oaSo9LjAxLHM9ci53aWR0aCpyLmhlaWdodCxzPj1hLndpZHRoKmEuaGVpZ2h0Kml8fHM+PW8ud2lkdGgqby5oZWlnaHQqaSk6ci53aWR0aD5pJiZyLmhlaWdodD5pKX0sQy5zdHlsZS5jc3NUZXh0PVwidmlzaWJpbGl0eTpoaWRkZW47aGVpZ2h0OjFweDt0b3A6LTFweDtwb2ludGVyLWV2ZW50czpub25lO3Bvc2l0aW9uOnJlbGF0aXZlO2NsZWFyOmJvdGg7XCIsV2V9LCEwKX0pLF9nc1Njb3BlLl9nc0RlZmluZSYmX2dzU2NvcGUuX2dzUXVldWUucG9wKCkoKSxmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt2YXIgZT1mdW5jdGlvbigpe3JldHVybihfZ3NTY29wZS5HcmVlblNvY2tHbG9iYWxzfHxfZ3NTY29wZSlbdF19O1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiVHdlZW5MaXRlXCJdLGUpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiYocmVxdWlyZShcIi4uL1R3ZWVuTGl0ZS5qc1wiKSxyZXF1aXJlKFwiLi4vcGx1Z2lucy9DU1NQbHVnaW4uanNcIiksbW9kdWxlLmV4cG9ydHM9ZSgpKX0oXCJEcmFnZ2FibGVcIik7XHJcblxyXG5cclxudmFyIF9nc1Njb3BlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDp0aGlzfHx3aW5kb3c7KF9nc1Njb3BlLl9nc1F1ZXVlfHwoX2dzU2NvcGUuX2dzUXVldWU9W10pKS5wdXNoKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7X2dzU2NvcGUuX2dzRGVmaW5lKFwiVHdlZW5NYXhcIixbXCJjb3JlLkFuaW1hdGlvblwiLFwiY29yZS5TaW1wbGVUaW1lbGluZVwiLFwiVHdlZW5MaXRlXCJdLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihhKXt2YXIgYixjPVtdLGQ9YS5sZW5ndGg7Zm9yKGI9MDtiIT09ZDtjLnB1c2goYVtiKytdKSk7cmV0dXJuIGN9LGU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj1hLmN5Y2xlO2ZvcihkIGluIGYpZT1mW2RdLGFbZF09XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lKGMsYltjXSk6ZVtjJWUubGVuZ3RoXTtkZWxldGUgYS5jeWNsZX0sZj1mdW5jdGlvbihhLGIsZCl7Yy5jYWxsKHRoaXMsYSxiLGQpLHRoaXMuX2N5Y2xlPTAsdGhpcy5feW95bz10aGlzLnZhcnMueW95bz09PSEwLHRoaXMuX3JlcGVhdD10aGlzLnZhcnMucmVwZWF0fHwwLHRoaXMuX3JlcGVhdERlbGF5PXRoaXMudmFycy5yZXBlYXREZWxheXx8MCx0aGlzLl9kaXJ0eT0hMCx0aGlzLnJlbmRlcj1mLnByb3RvdHlwZS5yZW5kZXJ9LGc9MWUtMTAsaD1jLl9pbnRlcm5hbHMsaT1oLmlzU2VsZWN0b3Isaj1oLmlzQXJyYXksaz1mLnByb3RvdHlwZT1jLnRvKHt9LC4xLHt9KSxsPVtdO2YudmVyc2lvbj1cIjEuMTkuMVwiLGsuY29uc3RydWN0b3I9ZixrLmtpbGwoKS5fZ2M9ITEsZi5raWxsVHdlZW5zT2Y9Zi5raWxsRGVsYXllZENhbGxzVG89Yy5raWxsVHdlZW5zT2YsZi5nZXRUd2VlbnNPZj1jLmdldFR3ZWVuc09mLGYubGFnU21vb3RoaW5nPWMubGFnU21vb3RoaW5nLGYudGlja2VyPWMudGlja2VyLGYucmVuZGVyPWMucmVuZGVyLGsuaW52YWxpZGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl95b3lvPXRoaXMudmFycy55b3lvPT09ITAsdGhpcy5fcmVwZWF0PXRoaXMudmFycy5yZXBlYXR8fDAsdGhpcy5fcmVwZWF0RGVsYXk9dGhpcy52YXJzLnJlcGVhdERlbGF5fHwwLHRoaXMuX3VuY2FjaGUoITApLGMucHJvdG90eXBlLmludmFsaWRhdGUuY2FsbCh0aGlzKX0say51cGRhdGVUbz1mdW5jdGlvbihhLGIpe3ZhciBkLGU9dGhpcy5yYXRpbyxmPXRoaXMudmFycy5pbW1lZGlhdGVSZW5kZXJ8fGEuaW1tZWRpYXRlUmVuZGVyO2ImJnRoaXMuX3N0YXJ0VGltZTx0aGlzLl90aW1lbGluZS5fdGltZSYmKHRoaXMuX3N0YXJ0VGltZT10aGlzLl90aW1lbGluZS5fdGltZSx0aGlzLl91bmNhY2hlKCExKSx0aGlzLl9nYz90aGlzLl9lbmFibGVkKCEwLCExKTp0aGlzLl90aW1lbGluZS5pbnNlcnQodGhpcyx0aGlzLl9zdGFydFRpbWUtdGhpcy5fZGVsYXkpKTtmb3IoZCBpbiBhKXRoaXMudmFyc1tkXT1hW2RdO2lmKHRoaXMuX2luaXR0ZWR8fGYpaWYoYil0aGlzLl9pbml0dGVkPSExLGYmJnRoaXMucmVuZGVyKDAsITAsITApO2Vsc2UgaWYodGhpcy5fZ2MmJnRoaXMuX2VuYWJsZWQoITAsITEpLHRoaXMuX25vdGlmeVBsdWdpbnNPZkVuYWJsZWQmJnRoaXMuX2ZpcnN0UFQmJmMuX29uUGx1Z2luRXZlbnQoXCJfb25EaXNhYmxlXCIsdGhpcyksdGhpcy5fdGltZS90aGlzLl9kdXJhdGlvbj4uOTk4KXt2YXIgZz10aGlzLl90b3RhbFRpbWU7dGhpcy5yZW5kZXIoMCwhMCwhMSksdGhpcy5faW5pdHRlZD0hMSx0aGlzLnJlbmRlcihnLCEwLCExKX1lbHNlIGlmKHRoaXMuX2luaXR0ZWQ9ITEsdGhpcy5faW5pdCgpLHRoaXMuX3RpbWU+MHx8Zilmb3IodmFyIGgsaT0xLygxLWUpLGo9dGhpcy5fZmlyc3RQVDtqOyloPWoucytqLmMsai5jKj1pLGoucz1oLWouYyxqPWouX25leHQ7cmV0dXJuIHRoaXN9LGsucmVuZGVyPWZ1bmN0aW9uKGEsYixjKXt0aGlzLl9pbml0dGVkfHwwPT09dGhpcy5fZHVyYXRpb24mJnRoaXMudmFycy5yZXBlYXQmJnRoaXMuaW52YWxpZGF0ZSgpO3ZhciBkLGUsZixpLGosayxsLG0sbj10aGlzLl9kaXJ0eT90aGlzLnRvdGFsRHVyYXRpb24oKTp0aGlzLl90b3RhbER1cmF0aW9uLG89dGhpcy5fdGltZSxwPXRoaXMuX3RvdGFsVGltZSxxPXRoaXMuX2N5Y2xlLHI9dGhpcy5fZHVyYXRpb24scz10aGlzLl9yYXdQcmV2VGltZTtpZihhPj1uLTFlLTcmJmE+PTA/KHRoaXMuX3RvdGFsVGltZT1uLHRoaXMuX2N5Y2xlPXRoaXMuX3JlcGVhdCx0aGlzLl95b3lvJiYwIT09KDEmdGhpcy5fY3ljbGUpPyh0aGlzLl90aW1lPTAsdGhpcy5yYXRpbz10aGlzLl9lYXNlLl9jYWxjRW5kP3RoaXMuX2Vhc2UuZ2V0UmF0aW8oMCk6MCk6KHRoaXMuX3RpbWU9cix0aGlzLnJhdGlvPXRoaXMuX2Vhc2UuX2NhbGNFbmQ/dGhpcy5fZWFzZS5nZXRSYXRpbygxKToxKSx0aGlzLl9yZXZlcnNlZHx8KGQ9ITAsZT1cIm9uQ29tcGxldGVcIixjPWN8fHRoaXMuX3RpbWVsaW5lLmF1dG9SZW1vdmVDaGlsZHJlbiksMD09PXImJih0aGlzLl9pbml0dGVkfHwhdGhpcy52YXJzLmxhenl8fGMpJiYodGhpcy5fc3RhcnRUaW1lPT09dGhpcy5fdGltZWxpbmUuX2R1cmF0aW9uJiYoYT0wKSwoMD5zfHwwPj1hJiZhPj0tMWUtN3x8cz09PWcmJlwiaXNQYXVzZVwiIT09dGhpcy5kYXRhKSYmcyE9PWEmJihjPSEwLHM+ZyYmKGU9XCJvblJldmVyc2VDb21wbGV0ZVwiKSksdGhpcy5fcmF3UHJldlRpbWU9bT0hYnx8YXx8cz09PWE/YTpnKSk6MWUtNz5hPyh0aGlzLl90b3RhbFRpbWU9dGhpcy5fdGltZT10aGlzLl9jeWNsZT0wLHRoaXMucmF0aW89dGhpcy5fZWFzZS5fY2FsY0VuZD90aGlzLl9lYXNlLmdldFJhdGlvKDApOjAsKDAhPT1wfHwwPT09ciYmcz4wKSYmKGU9XCJvblJldmVyc2VDb21wbGV0ZVwiLGQ9dGhpcy5fcmV2ZXJzZWQpLDA+YSYmKHRoaXMuX2FjdGl2ZT0hMSwwPT09ciYmKHRoaXMuX2luaXR0ZWR8fCF0aGlzLnZhcnMubGF6eXx8YykmJihzPj0wJiYoYz0hMCksdGhpcy5fcmF3UHJldlRpbWU9bT0hYnx8YXx8cz09PWE/YTpnKSksdGhpcy5faW5pdHRlZHx8KGM9ITApKToodGhpcy5fdG90YWxUaW1lPXRoaXMuX3RpbWU9YSwwIT09dGhpcy5fcmVwZWF0JiYoaT1yK3RoaXMuX3JlcGVhdERlbGF5LHRoaXMuX2N5Y2xlPXRoaXMuX3RvdGFsVGltZS9pPj4wLDAhPT10aGlzLl9jeWNsZSYmdGhpcy5fY3ljbGU9PT10aGlzLl90b3RhbFRpbWUvaSYmYT49cCYmdGhpcy5fY3ljbGUtLSx0aGlzLl90aW1lPXRoaXMuX3RvdGFsVGltZS10aGlzLl9jeWNsZSppLHRoaXMuX3lveW8mJjAhPT0oMSZ0aGlzLl9jeWNsZSkmJih0aGlzLl90aW1lPXItdGhpcy5fdGltZSksdGhpcy5fdGltZT5yP3RoaXMuX3RpbWU9cjp0aGlzLl90aW1lPDAmJih0aGlzLl90aW1lPTApKSx0aGlzLl9lYXNlVHlwZT8oaj10aGlzLl90aW1lL3Isaz10aGlzLl9lYXNlVHlwZSxsPXRoaXMuX2Vhc2VQb3dlciwoMT09PWt8fDM9PT1rJiZqPj0uNSkmJihqPTEtaiksMz09PWsmJihqKj0yKSwxPT09bD9qKj1qOjI9PT1sP2oqPWoqajozPT09bD9qKj1qKmoqajo0PT09bCYmKGoqPWoqaipqKmopLDE9PT1rP3RoaXMucmF0aW89MS1qOjI9PT1rP3RoaXMucmF0aW89ajp0aGlzLl90aW1lL3I8LjU/dGhpcy5yYXRpbz1qLzI6dGhpcy5yYXRpbz0xLWovMik6dGhpcy5yYXRpbz10aGlzLl9lYXNlLmdldFJhdGlvKHRoaXMuX3RpbWUvcikpLG89PT10aGlzLl90aW1lJiYhYyYmcT09PXRoaXMuX2N5Y2xlKXJldHVybiB2b2lkKHAhPT10aGlzLl90b3RhbFRpbWUmJnRoaXMuX29uVXBkYXRlJiYoYnx8dGhpcy5fY2FsbGJhY2soXCJvblVwZGF0ZVwiKSkpO2lmKCF0aGlzLl9pbml0dGVkKXtpZih0aGlzLl9pbml0KCksIXRoaXMuX2luaXR0ZWR8fHRoaXMuX2djKXJldHVybjtpZighYyYmdGhpcy5fZmlyc3RQVCYmKHRoaXMudmFycy5sYXp5IT09ITEmJnRoaXMuX2R1cmF0aW9ufHx0aGlzLnZhcnMubGF6eSYmIXRoaXMuX2R1cmF0aW9uKSlyZXR1cm4gdGhpcy5fdGltZT1vLHRoaXMuX3RvdGFsVGltZT1wLHRoaXMuX3Jhd1ByZXZUaW1lPXMsdGhpcy5fY3ljbGU9cSxoLmxhenlUd2VlbnMucHVzaCh0aGlzKSx2b2lkKHRoaXMuX2xhenk9W2EsYl0pO3RoaXMuX3RpbWUmJiFkP3RoaXMucmF0aW89dGhpcy5fZWFzZS5nZXRSYXRpbyh0aGlzLl90aW1lL3IpOmQmJnRoaXMuX2Vhc2UuX2NhbGNFbmQmJih0aGlzLnJhdGlvPXRoaXMuX2Vhc2UuZ2V0UmF0aW8oMD09PXRoaXMuX3RpbWU/MDoxKSl9Zm9yKHRoaXMuX2xhenkhPT0hMSYmKHRoaXMuX2xhenk9ITEpLHRoaXMuX2FjdGl2ZXx8IXRoaXMuX3BhdXNlZCYmdGhpcy5fdGltZSE9PW8mJmE+PTAmJih0aGlzLl9hY3RpdmU9ITApLDA9PT1wJiYoMj09PXRoaXMuX2luaXR0ZWQmJmE+MCYmdGhpcy5faW5pdCgpLHRoaXMuX3N0YXJ0QXQmJihhPj0wP3RoaXMuX3N0YXJ0QXQucmVuZGVyKGEsYixjKTplfHwoZT1cIl9kdW1teUdTXCIpKSx0aGlzLnZhcnMub25TdGFydCYmKDAhPT10aGlzLl90b3RhbFRpbWV8fDA9PT1yKSYmKGJ8fHRoaXMuX2NhbGxiYWNrKFwib25TdGFydFwiKSkpLGY9dGhpcy5fZmlyc3RQVDtmOylmLmY/Zi50W2YucF0oZi5jKnRoaXMucmF0aW8rZi5zKTpmLnRbZi5wXT1mLmMqdGhpcy5yYXRpbytmLnMsZj1mLl9uZXh0O3RoaXMuX29uVXBkYXRlJiYoMD5hJiZ0aGlzLl9zdGFydEF0JiZ0aGlzLl9zdGFydFRpbWUmJnRoaXMuX3N0YXJ0QXQucmVuZGVyKGEsYixjKSxifHwodGhpcy5fdG90YWxUaW1lIT09cHx8ZSkmJnRoaXMuX2NhbGxiYWNrKFwib25VcGRhdGVcIikpLHRoaXMuX2N5Y2xlIT09cSYmKGJ8fHRoaXMuX2djfHx0aGlzLnZhcnMub25SZXBlYXQmJnRoaXMuX2NhbGxiYWNrKFwib25SZXBlYXRcIikpLGUmJighdGhpcy5fZ2N8fGMpJiYoMD5hJiZ0aGlzLl9zdGFydEF0JiYhdGhpcy5fb25VcGRhdGUmJnRoaXMuX3N0YXJ0VGltZSYmdGhpcy5fc3RhcnRBdC5yZW5kZXIoYSxiLGMpLGQmJih0aGlzLl90aW1lbGluZS5hdXRvUmVtb3ZlQ2hpbGRyZW4mJnRoaXMuX2VuYWJsZWQoITEsITEpLHRoaXMuX2FjdGl2ZT0hMSksIWImJnRoaXMudmFyc1tlXSYmdGhpcy5fY2FsbGJhY2soZSksMD09PXImJnRoaXMuX3Jhd1ByZXZUaW1lPT09ZyYmbSE9PWcmJih0aGlzLl9yYXdQcmV2VGltZT0wKSl9LGYudG89ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuZXcgZihhLGIsYyl9LGYuZnJvbT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGMucnVuQmFja3dhcmRzPSEwLGMuaW1tZWRpYXRlUmVuZGVyPTAhPWMuaW1tZWRpYXRlUmVuZGVyLG5ldyBmKGEsYixjKX0sZi5mcm9tVG89ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGQuc3RhcnRBdD1jLGQuaW1tZWRpYXRlUmVuZGVyPTAhPWQuaW1tZWRpYXRlUmVuZGVyJiYwIT1jLmltbWVkaWF0ZVJlbmRlcixuZXcgZihhLGIsZCl9LGYuc3RhZ2dlclRvPWYuYWxsVG89ZnVuY3Rpb24oYSxiLGcsaCxrLG0sbil7aD1ofHwwO3ZhciBvLHAscSxyLHM9MCx0PVtdLHU9ZnVuY3Rpb24oKXtnLm9uQ29tcGxldGUmJmcub25Db21wbGV0ZS5hcHBseShnLm9uQ29tcGxldGVTY29wZXx8dGhpcyxhcmd1bWVudHMpLGsuYXBwbHkobnx8Zy5jYWxsYmFja1Njb3BlfHx0aGlzLG18fGwpfSx2PWcuY3ljbGUsdz1nLnN0YXJ0QXQmJmcuc3RhcnRBdC5jeWNsZTtmb3IoaihhKXx8KFwic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT1jLnNlbGVjdG9yKGEpfHxhKSxpKGEpJiYoYT1kKGEpKSksYT1hfHxbXSwwPmgmJihhPWQoYSksYS5yZXZlcnNlKCksaCo9LTEpLG89YS5sZW5ndGgtMSxxPTA7bz49cTtxKyspe3A9e307Zm9yKHIgaW4gZylwW3JdPWdbcl07aWYodiYmKGUocCxhLHEpLG51bGwhPXAuZHVyYXRpb24mJihiPXAuZHVyYXRpb24sZGVsZXRlIHAuZHVyYXRpb24pKSx3KXt3PXAuc3RhcnRBdD17fTtmb3IociBpbiBnLnN0YXJ0QXQpd1tyXT1nLnN0YXJ0QXRbcl07ZShwLnN0YXJ0QXQsYSxxKX1wLmRlbGF5PXMrKHAuZGVsYXl8fDApLHE9PT1vJiZrJiYocC5vbkNvbXBsZXRlPXUpLHRbcV09bmV3IGYoYVtxXSxiLHApLHMrPWh9cmV0dXJuIHR9LGYuc3RhZ2dlckZyb209Zi5hbGxGcm9tPWZ1bmN0aW9uKGEsYixjLGQsZSxnLGgpe3JldHVybiBjLnJ1bkJhY2t3YXJkcz0hMCxjLmltbWVkaWF0ZVJlbmRlcj0wIT1jLmltbWVkaWF0ZVJlbmRlcixmLnN0YWdnZXJUbyhhLGIsYyxkLGUsZyxoKX0sZi5zdGFnZ2VyRnJvbVRvPWYuYWxsRnJvbVRvPWZ1bmN0aW9uKGEsYixjLGQsZSxnLGgsaSl7cmV0dXJuIGQuc3RhcnRBdD1jLGQuaW1tZWRpYXRlUmVuZGVyPTAhPWQuaW1tZWRpYXRlUmVuZGVyJiYwIT1jLmltbWVkaWF0ZVJlbmRlcixmLnN0YWdnZXJUbyhhLGIsZCxlLGcsaCxpKX0sZi5kZWxheWVkQ2FsbD1mdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBuZXcgZihiLDAse2RlbGF5OmEsb25Db21wbGV0ZTpiLG9uQ29tcGxldGVQYXJhbXM6YyxjYWxsYmFja1Njb3BlOmQsb25SZXZlcnNlQ29tcGxldGU6YixvblJldmVyc2VDb21wbGV0ZVBhcmFtczpjLGltbWVkaWF0ZVJlbmRlcjohMSx1c2VGcmFtZXM6ZSxvdmVyd3JpdGU6MH0pfSxmLnNldD1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgZihhLDAsYil9LGYuaXNUd2VlbmluZz1mdW5jdGlvbihhKXtyZXR1cm4gYy5nZXRUd2VlbnNPZihhLCEwKS5sZW5ndGg+MH07dmFyIG09ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGQ9W10sZT0wLGY9YS5fZmlyc3Q7ZjspZiBpbnN0YW5jZW9mIGM/ZFtlKytdPWY6KGImJihkW2UrK109ZiksZD1kLmNvbmNhdChtKGYsYikpLGU9ZC5sZW5ndGgpLGY9Zi5fbmV4dDtyZXR1cm4gZH0sbj1mLmdldEFsbFR3ZWVucz1mdW5jdGlvbihiKXtyZXR1cm4gbShhLl9yb290VGltZWxpbmUsYikuY29uY2F0KG0oYS5fcm9vdEZyYW1lc1RpbWVsaW5lLGIpKX07Zi5raWxsQWxsPWZ1bmN0aW9uKGEsYyxkLGUpe251bGw9PWMmJihjPSEwKSxudWxsPT1kJiYoZD0hMCk7dmFyIGYsZyxoLGk9bigwIT1lKSxqPWkubGVuZ3RoLGs9YyYmZCYmZTtmb3IoaD0wO2o+aDtoKyspZz1pW2hdLChrfHxnIGluc3RhbmNlb2YgYnx8KGY9Zy50YXJnZXQ9PT1nLnZhcnMub25Db21wbGV0ZSkmJmR8fGMmJiFmKSYmKGE/Zy50b3RhbFRpbWUoZy5fcmV2ZXJzZWQ/MDpnLnRvdGFsRHVyYXRpb24oKSk6Zy5fZW5hYmxlZCghMSwhMSkpfSxmLmtpbGxDaGlsZFR3ZWVuc09mPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9YSl7dmFyIGUsZyxrLGwsbSxuPWgudHdlZW5Mb29rdXA7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPWMuc2VsZWN0b3IoYSl8fGEpLGkoYSkmJihhPWQoYSkpLGooYSkpZm9yKGw9YS5sZW5ndGg7LS1sPi0xOylmLmtpbGxDaGlsZFR3ZWVuc09mKGFbbF0sYik7ZWxzZXtlPVtdO2ZvcihrIGluIG4pZm9yKGc9bltrXS50YXJnZXQucGFyZW50Tm9kZTtnOylnPT09YSYmKGU9ZS5jb25jYXQobltrXS50d2VlbnMpKSxnPWcucGFyZW50Tm9kZTtmb3IobT1lLmxlbmd0aCxsPTA7bT5sO2wrKyliJiZlW2xdLnRvdGFsVGltZShlW2xdLnRvdGFsRHVyYXRpb24oKSksZVtsXS5fZW5hYmxlZCghMSwhMSl9fX07dmFyIG89ZnVuY3Rpb24oYSxjLGQsZSl7Yz1jIT09ITEsZD1kIT09ITEsZT1lIT09ITE7Zm9yKHZhciBmLGcsaD1uKGUpLGk9YyYmZCYmZSxqPWgubGVuZ3RoOy0taj4tMTspZz1oW2pdLChpfHxnIGluc3RhbmNlb2YgYnx8KGY9Zy50YXJnZXQ9PT1nLnZhcnMub25Db21wbGV0ZSkmJmR8fGMmJiFmKSYmZy5wYXVzZWQoYSl9O3JldHVybiBmLnBhdXNlQWxsPWZ1bmN0aW9uKGEsYixjKXtvKCEwLGEsYixjKX0sZi5yZXN1bWVBbGw9ZnVuY3Rpb24oYSxiLGMpe28oITEsYSxiLGMpfSxmLmdsb2JhbFRpbWVTY2FsZT1mdW5jdGlvbihiKXt2YXIgZD1hLl9yb290VGltZWxpbmUsZT1jLnRpY2tlci50aW1lO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPWJ8fGcsZC5fc3RhcnRUaW1lPWUtKGUtZC5fc3RhcnRUaW1lKSpkLl90aW1lU2NhbGUvYixkPWEuX3Jvb3RGcmFtZXNUaW1lbGluZSxlPWMudGlja2VyLmZyYW1lLGQuX3N0YXJ0VGltZT1lLShlLWQuX3N0YXJ0VGltZSkqZC5fdGltZVNjYWxlL2IsZC5fdGltZVNjYWxlPWEuX3Jvb3RUaW1lbGluZS5fdGltZVNjYWxlPWIsYik6ZC5fdGltZVNjYWxlfSxrLnByb2dyZXNzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dGhpcy50b3RhbFRpbWUodGhpcy5kdXJhdGlvbigpKih0aGlzLl95b3lvJiYwIT09KDEmdGhpcy5fY3ljbGUpPzEtYTphKSt0aGlzLl9jeWNsZSoodGhpcy5fZHVyYXRpb24rdGhpcy5fcmVwZWF0RGVsYXkpLGIpOnRoaXMuX3RpbWUvdGhpcy5kdXJhdGlvbigpfSxrLnRvdGFsUHJvZ3Jlc3M9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90aGlzLnRvdGFsVGltZSh0aGlzLnRvdGFsRHVyYXRpb24oKSphLGIpOnRoaXMuX3RvdGFsVGltZS90aGlzLnRvdGFsRHVyYXRpb24oKX0say50aW1lPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX2RpcnR5JiZ0aGlzLnRvdGFsRHVyYXRpb24oKSxhPnRoaXMuX2R1cmF0aW9uJiYoYT10aGlzLl9kdXJhdGlvbiksdGhpcy5feW95byYmMCE9PSgxJnRoaXMuX2N5Y2xlKT9hPXRoaXMuX2R1cmF0aW9uLWErdGhpcy5fY3ljbGUqKHRoaXMuX2R1cmF0aW9uK3RoaXMuX3JlcGVhdERlbGF5KTowIT09dGhpcy5fcmVwZWF0JiYoYSs9dGhpcy5fY3ljbGUqKHRoaXMuX2R1cmF0aW9uK3RoaXMuX3JlcGVhdERlbGF5KSksdGhpcy50b3RhbFRpbWUoYSxiKSk6dGhpcy5fdGltZX0say5kdXJhdGlvbj1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9hLnByb3RvdHlwZS5kdXJhdGlvbi5jYWxsKHRoaXMsYik6dGhpcy5fZHVyYXRpb259LGsudG90YWxEdXJhdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8tMT09PXRoaXMuX3JlcGVhdD90aGlzOnRoaXMuZHVyYXRpb24oKGEtdGhpcy5fcmVwZWF0KnRoaXMuX3JlcGVhdERlbGF5KS8odGhpcy5fcmVwZWF0KzEpKToodGhpcy5fZGlydHkmJih0aGlzLl90b3RhbER1cmF0aW9uPS0xPT09dGhpcy5fcmVwZWF0Pzk5OTk5OTk5OTk5OTp0aGlzLl9kdXJhdGlvbioodGhpcy5fcmVwZWF0KzEpK3RoaXMuX3JlcGVhdERlbGF5KnRoaXMuX3JlcGVhdCx0aGlzLl9kaXJ0eT0hMSksdGhpcy5fdG90YWxEdXJhdGlvbil9LGsucmVwZWF0PWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9yZXBlYXQ9YSx0aGlzLl91bmNhY2hlKCEwKSk6dGhpcy5fcmVwZWF0fSxrLnJlcGVhdERlbGF5PWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9yZXBlYXREZWxheT1hLHRoaXMuX3VuY2FjaGUoITApKTp0aGlzLl9yZXBlYXREZWxheX0say55b3lvPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl95b3lvPWEsdGhpcyk6dGhpcy5feW95b30sZn0sITApLF9nc1Njb3BlLl9nc0RlZmluZShcIlRpbWVsaW5lTGl0ZVwiLFtcImNvcmUuQW5pbWF0aW9uXCIsXCJjb3JlLlNpbXBsZVRpbWVsaW5lXCIsXCJUd2VlbkxpdGVcIl0sZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEpe2IuY2FsbCh0aGlzLGEpLHRoaXMuX2xhYmVscz17fSx0aGlzLmF1dG9SZW1vdmVDaGlsZHJlbj10aGlzLnZhcnMuYXV0b1JlbW92ZUNoaWxkcmVuPT09ITAsdGhpcy5zbW9vdGhDaGlsZFRpbWluZz10aGlzLnZhcnMuc21vb3RoQ2hpbGRUaW1pbmc9PT0hMCx0aGlzLl9zb3J0Q2hpbGRyZW49ITAsdGhpcy5fb25VcGRhdGU9dGhpcy52YXJzLm9uVXBkYXRlO3ZhciBjLGQsZT10aGlzLnZhcnM7Zm9yKGQgaW4gZSljPWVbZF0saShjKSYmLTEhPT1jLmpvaW4oXCJcIikuaW5kZXhPZihcIntzZWxmfVwiKSYmKGVbZF09dGhpcy5fc3dhcFNlbGZJblBhcmFtcyhjKSk7aShlLnR3ZWVucykmJnRoaXMuYWRkKGUudHdlZW5zLDAsZS5hbGlnbixlLnN0YWdnZXIpfSxlPTFlLTEwLGY9Yy5faW50ZXJuYWxzLGc9ZC5faW50ZXJuYWxzPXt9LGg9Zi5pc1NlbGVjdG9yLGk9Zi5pc0FycmF5LGo9Zi5sYXp5VHdlZW5zLGs9Zi5sYXp5UmVuZGVyLGw9X2dzU2NvcGUuX2dzRGVmaW5lLmdsb2JhbHMsbT1mdW5jdGlvbihhKXt2YXIgYixjPXt9O2ZvcihiIGluIGEpY1tiXT1hW2JdO3JldHVybiBjfSxuPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9YS5jeWNsZTtmb3IoZCBpbiBmKWU9ZltkXSxhW2RdPVwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZShjLGJbY10pOmVbYyVlLmxlbmd0aF07ZGVsZXRlIGEuY3ljbGV9LG89Zy5wYXVzZUNhbGxiYWNrPWZ1bmN0aW9uKCl7fSxwPWZ1bmN0aW9uKGEpe3ZhciBiLGM9W10sZD1hLmxlbmd0aDtmb3IoYj0wO2IhPT1kO2MucHVzaChhW2IrK10pKTtyZXR1cm4gY30scT1kLnByb3RvdHlwZT1uZXcgYjtyZXR1cm4gZC52ZXJzaW9uPVwiMS4xOS4xXCIscS5jb25zdHJ1Y3Rvcj1kLHEua2lsbCgpLl9nYz1xLl9mb3JjaW5nUGxheWhlYWQ9cS5faGFzUGF1c2U9ITEscS50bz1mdW5jdGlvbihhLGIsZCxlKXt2YXIgZj1kLnJlcGVhdCYmbC5Ud2Vlbk1heHx8YztyZXR1cm4gYj90aGlzLmFkZChuZXcgZihhLGIsZCksZSk6dGhpcy5zZXQoYSxkLGUpfSxxLmZyb209ZnVuY3Rpb24oYSxiLGQsZSl7cmV0dXJuIHRoaXMuYWRkKChkLnJlcGVhdCYmbC5Ud2Vlbk1heHx8YykuZnJvbShhLGIsZCksZSl9LHEuZnJvbVRvPWZ1bmN0aW9uKGEsYixkLGUsZil7dmFyIGc9ZS5yZXBlYXQmJmwuVHdlZW5NYXh8fGM7cmV0dXJuIGI/dGhpcy5hZGQoZy5mcm9tVG8oYSxiLGQsZSksZik6dGhpcy5zZXQoYSxlLGYpfSxxLnN0YWdnZXJUbz1mdW5jdGlvbihhLGIsZSxmLGcsaSxqLGspe3ZhciBsLG8scT1uZXcgZCh7b25Db21wbGV0ZTppLG9uQ29tcGxldGVQYXJhbXM6aixjYWxsYmFja1Njb3BlOmssc21vb3RoQ2hpbGRUaW1pbmc6dGhpcy5zbW9vdGhDaGlsZFRpbWluZ30pLHI9ZS5jeWNsZTtmb3IoXCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPWMuc2VsZWN0b3IoYSl8fGEpLGE9YXx8W10saChhKSYmKGE9cChhKSksZj1mfHwwLDA+ZiYmKGE9cChhKSxhLnJldmVyc2UoKSxmKj0tMSksbz0wO288YS5sZW5ndGg7bysrKWw9bShlKSxsLnN0YXJ0QXQmJihsLnN0YXJ0QXQ9bShsLnN0YXJ0QXQpLGwuc3RhcnRBdC5jeWNsZSYmbihsLnN0YXJ0QXQsYSxvKSksciYmKG4obCxhLG8pLG51bGwhPWwuZHVyYXRpb24mJihiPWwuZHVyYXRpb24sZGVsZXRlIGwuZHVyYXRpb24pKSxxLnRvKGFbb10sYixsLG8qZik7cmV0dXJuIHRoaXMuYWRkKHEsZyl9LHEuc3RhZ2dlckZyb209ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtyZXR1cm4gYy5pbW1lZGlhdGVSZW5kZXI9MCE9Yy5pbW1lZGlhdGVSZW5kZXIsYy5ydW5CYWNrd2FyZHM9ITAsdGhpcy5zdGFnZ2VyVG8oYSxiLGMsZCxlLGYsZyxoKX0scS5zdGFnZ2VyRnJvbVRvPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCxpKXtyZXR1cm4gZC5zdGFydEF0PWMsZC5pbW1lZGlhdGVSZW5kZXI9MCE9ZC5pbW1lZGlhdGVSZW5kZXImJjAhPWMuaW1tZWRpYXRlUmVuZGVyLHRoaXMuc3RhZ2dlclRvKGEsYixkLGUsZixnLGgsaSl9LHEuY2FsbD1mdW5jdGlvbihhLGIsZCxlKXtyZXR1cm4gdGhpcy5hZGQoYy5kZWxheWVkQ2FsbCgwLGEsYixkKSxlKX0scS5zZXQ9ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBkPXRoaXMuX3BhcnNlVGltZU9yTGFiZWwoZCwwLCEwKSxudWxsPT1iLmltbWVkaWF0ZVJlbmRlciYmKGIuaW1tZWRpYXRlUmVuZGVyPWQ9PT10aGlzLl90aW1lJiYhdGhpcy5fcGF1c2VkKSx0aGlzLmFkZChuZXcgYyhhLDAsYiksZCl9LGQuZXhwb3J0Um9vdD1mdW5jdGlvbihhLGIpe2E9YXx8e30sbnVsbD09YS5zbW9vdGhDaGlsZFRpbWluZyYmKGEuc21vb3RoQ2hpbGRUaW1pbmc9ITApO3ZhciBlLGYsZz1uZXcgZChhKSxoPWcuX3RpbWVsaW5lO2ZvcihudWxsPT1iJiYoYj0hMCksaC5fcmVtb3ZlKGcsITApLGcuX3N0YXJ0VGltZT0wLGcuX3Jhd1ByZXZUaW1lPWcuX3RpbWU9Zy5fdG90YWxUaW1lPWguX3RpbWUsZT1oLl9maXJzdDtlOylmPWUuX25leHQsYiYmZSBpbnN0YW5jZW9mIGMmJmUudGFyZ2V0PT09ZS52YXJzLm9uQ29tcGxldGV8fGcuYWRkKGUsZS5fc3RhcnRUaW1lLWUuX2RlbGF5KSxlPWY7cmV0dXJuIGguYWRkKGcsMCksZ30scS5hZGQ9ZnVuY3Rpb24oZSxmLGcsaCl7dmFyIGosayxsLG0sbixvO2lmKFwibnVtYmVyXCIhPXR5cGVvZiBmJiYoZj10aGlzLl9wYXJzZVRpbWVPckxhYmVsKGYsMCwhMCxlKSksIShlIGluc3RhbmNlb2YgYSkpe2lmKGUgaW5zdGFuY2VvZiBBcnJheXx8ZSYmZS5wdXNoJiZpKGUpKXtmb3IoZz1nfHxcIm5vcm1hbFwiLGg9aHx8MCxqPWYsaz1lLmxlbmd0aCxsPTA7az5sO2wrKylpKG09ZVtsXSkmJihtPW5ldyBkKHt0d2VlbnM6bX0pKSx0aGlzLmFkZChtLGopLFwic3RyaW5nXCIhPXR5cGVvZiBtJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBtJiYoXCJzZXF1ZW5jZVwiPT09Zz9qPW0uX3N0YXJ0VGltZSttLnRvdGFsRHVyYXRpb24oKS9tLl90aW1lU2NhbGU6XCJzdGFydFwiPT09ZyYmKG0uX3N0YXJ0VGltZS09bS5kZWxheSgpKSksais9aDtyZXR1cm4gdGhpcy5fdW5jYWNoZSghMCl9aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIHRoaXMuYWRkTGFiZWwoZSxmKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93XCJDYW5ub3QgYWRkIFwiK2UrXCIgaW50byB0aGUgdGltZWxpbmU7IGl0IGlzIG5vdCBhIHR3ZWVuLCB0aW1lbGluZSwgZnVuY3Rpb24sIG9yIHN0cmluZy5cIjtlPWMuZGVsYXllZENhbGwoMCxlKX1pZihiLnByb3RvdHlwZS5hZGQuY2FsbCh0aGlzLGUsZiksKHRoaXMuX2djfHx0aGlzLl90aW1lPT09dGhpcy5fZHVyYXRpb24pJiYhdGhpcy5fcGF1c2VkJiZ0aGlzLl9kdXJhdGlvbjx0aGlzLmR1cmF0aW9uKCkpZm9yKG49dGhpcyxvPW4ucmF3VGltZSgpPmUuX3N0YXJ0VGltZTtuLl90aW1lbGluZTspbyYmbi5fdGltZWxpbmUuc21vb3RoQ2hpbGRUaW1pbmc/bi50b3RhbFRpbWUobi5fdG90YWxUaW1lLCEwKTpuLl9nYyYmbi5fZW5hYmxlZCghMCwhMSksbj1uLl90aW1lbGluZTtyZXR1cm4gdGhpc30scS5yZW1vdmU9ZnVuY3Rpb24oYil7aWYoYiBpbnN0YW5jZW9mIGEpe3RoaXMuX3JlbW92ZShiLCExKTt2YXIgYz1iLl90aW1lbGluZT1iLnZhcnMudXNlRnJhbWVzP2EuX3Jvb3RGcmFtZXNUaW1lbGluZTphLl9yb290VGltZWxpbmU7cmV0dXJuIGIuX3N0YXJ0VGltZT0oYi5fcGF1c2VkP2IuX3BhdXNlVGltZTpjLl90aW1lKS0oYi5fcmV2ZXJzZWQ/Yi50b3RhbER1cmF0aW9uKCktYi5fdG90YWxUaW1lOmIuX3RvdGFsVGltZSkvYi5fdGltZVNjYWxlLHRoaXN9aWYoYiBpbnN0YW5jZW9mIEFycmF5fHxiJiZiLnB1c2gmJmkoYikpe2Zvcih2YXIgZD1iLmxlbmd0aDstLWQ+LTE7KXRoaXMucmVtb3ZlKGJbZF0pO3JldHVybiB0aGlzfXJldHVyblwic3RyaW5nXCI9PXR5cGVvZiBiP3RoaXMucmVtb3ZlTGFiZWwoYik6dGhpcy5raWxsKG51bGwsYil9LHEuX3JlbW92ZT1mdW5jdGlvbihhLGMpe2IucHJvdG90eXBlLl9yZW1vdmUuY2FsbCh0aGlzLGEsYyk7dmFyIGQ9dGhpcy5fbGFzdDtyZXR1cm4gZD90aGlzLl90aW1lPnRoaXMuZHVyYXRpb24oKSYmKHRoaXMuX3RpbWU9dGhpcy5fZHVyYXRpb24sdGhpcy5fdG90YWxUaW1lPXRoaXMuX3RvdGFsRHVyYXRpb24pOnRoaXMuX3RpbWU9dGhpcy5fdG90YWxUaW1lPXRoaXMuX2R1cmF0aW9uPXRoaXMuX3RvdGFsRHVyYXRpb249MCx0aGlzfSxxLmFwcGVuZD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmFkZChhLHRoaXMuX3BhcnNlVGltZU9yTGFiZWwobnVsbCxiLCEwLGEpKX0scS5pbnNlcnQ9cS5pbnNlcnRNdWx0aXBsZT1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5hZGQoYSxifHwwLGMsZCl9LHEuYXBwZW5kTXVsdGlwbGU9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuYWRkKGEsdGhpcy5fcGFyc2VUaW1lT3JMYWJlbChudWxsLGIsITAsYSksYyxkKX0scS5hZGRMYWJlbD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLl9sYWJlbHNbYV09dGhpcy5fcGFyc2VUaW1lT3JMYWJlbChiKSx0aGlzfSxxLmFkZFBhdXNlPWZ1bmN0aW9uKGEsYixkLGUpe3ZhciBmPWMuZGVsYXllZENhbGwoMCxvLGQsZXx8dGhpcyk7cmV0dXJuIGYudmFycy5vbkNvbXBsZXRlPWYudmFycy5vblJldmVyc2VDb21wbGV0ZT1iLGYuZGF0YT1cImlzUGF1c2VcIix0aGlzLl9oYXNQYXVzZT0hMCx0aGlzLmFkZChmLGEpfSxxLnJlbW92ZUxhYmVsPWZ1bmN0aW9uKGEpe3JldHVybiBkZWxldGUgdGhpcy5fbGFiZWxzW2FdLHRoaXN9LHEuZ2V0TGFiZWxUaW1lPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT10aGlzLl9sYWJlbHNbYV0/dGhpcy5fbGFiZWxzW2FdOi0xfSxxLl9wYXJzZVRpbWVPckxhYmVsPWZ1bmN0aW9uKGIsYyxkLGUpe3ZhciBmO2lmKGUgaW5zdGFuY2VvZiBhJiZlLnRpbWVsaW5lPT09dGhpcyl0aGlzLnJlbW92ZShlKTtlbHNlIGlmKGUmJihlIGluc3RhbmNlb2YgQXJyYXl8fGUucHVzaCYmaShlKSkpZm9yKGY9ZS5sZW5ndGg7LS1mPi0xOyllW2ZdaW5zdGFuY2VvZiBhJiZlW2ZdLnRpbWVsaW5lPT09dGhpcyYmdGhpcy5yZW1vdmUoZVtmXSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGMpcmV0dXJuIHRoaXMuX3BhcnNlVGltZU9yTGFiZWwoYyxkJiZcIm51bWJlclwiPT10eXBlb2YgYiYmbnVsbD09dGhpcy5fbGFiZWxzW2NdP2ItdGhpcy5kdXJhdGlvbigpOjAsZCk7aWYoYz1jfHwwLFwic3RyaW5nXCIhPXR5cGVvZiBifHwhaXNOYU4oYikmJm51bGw9PXRoaXMuX2xhYmVsc1tiXSludWxsPT1iJiYoYj10aGlzLmR1cmF0aW9uKCkpO2Vsc2V7aWYoZj1iLmluZGV4T2YoXCI9XCIpLC0xPT09ZilyZXR1cm4gbnVsbD09dGhpcy5fbGFiZWxzW2JdP2Q/dGhpcy5fbGFiZWxzW2JdPXRoaXMuZHVyYXRpb24oKStjOmM6dGhpcy5fbGFiZWxzW2JdK2M7Yz1wYXJzZUludChiLmNoYXJBdChmLTEpK1wiMVwiLDEwKSpOdW1iZXIoYi5zdWJzdHIoZisxKSksYj1mPjE/dGhpcy5fcGFyc2VUaW1lT3JMYWJlbChiLnN1YnN0cigwLGYtMSksMCxkKTp0aGlzLmR1cmF0aW9uKCl9cmV0dXJuIE51bWJlcihiKStjfSxxLnNlZWs9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy50b3RhbFRpbWUoXCJudW1iZXJcIj09dHlwZW9mIGE/YTp0aGlzLl9wYXJzZVRpbWVPckxhYmVsKGEpLGIhPT0hMSl9LHEuc3RvcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdXNlZCghMCl9LHEuZ290b0FuZFBsYXk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wbGF5KGEsYil9LHEuZ290b0FuZFN0b3A9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wYXVzZShhLGIpfSxxLnJlbmRlcj1mdW5jdGlvbihhLGIsYyl7dGhpcy5fZ2MmJnRoaXMuX2VuYWJsZWQoITAsITEpO3ZhciBkLGYsZyxoLGksbCxtLG49dGhpcy5fZGlydHk/dGhpcy50b3RhbER1cmF0aW9uKCk6dGhpcy5fdG90YWxEdXJhdGlvbixvPXRoaXMuX3RpbWUscD10aGlzLl9zdGFydFRpbWUscT10aGlzLl90aW1lU2NhbGUscj10aGlzLl9wYXVzZWQ7aWYoYT49bi0xZS03JiZhPj0wKXRoaXMuX3RvdGFsVGltZT10aGlzLl90aW1lPW4sdGhpcy5fcmV2ZXJzZWR8fHRoaXMuX2hhc1BhdXNlZENoaWxkKCl8fChmPSEwLGg9XCJvbkNvbXBsZXRlXCIsaT0hIXRoaXMuX3RpbWVsaW5lLmF1dG9SZW1vdmVDaGlsZHJlbiwwPT09dGhpcy5fZHVyYXRpb24mJigwPj1hJiZhPj0tMWUtN3x8dGhpcy5fcmF3UHJldlRpbWU8MHx8dGhpcy5fcmF3UHJldlRpbWU9PT1lKSYmdGhpcy5fcmF3UHJldlRpbWUhPT1hJiZ0aGlzLl9maXJzdCYmKGk9ITAsdGhpcy5fcmF3UHJldlRpbWU+ZSYmKGg9XCJvblJldmVyc2VDb21wbGV0ZVwiKSkpLHRoaXMuX3Jhd1ByZXZUaW1lPXRoaXMuX2R1cmF0aW9ufHwhYnx8YXx8dGhpcy5fcmF3UHJldlRpbWU9PT1hP2E6ZSxhPW4rMWUtNDtlbHNlIGlmKDFlLTc+YSlpZih0aGlzLl90b3RhbFRpbWU9dGhpcy5fdGltZT0wLCgwIT09b3x8MD09PXRoaXMuX2R1cmF0aW9uJiZ0aGlzLl9yYXdQcmV2VGltZSE9PWUmJih0aGlzLl9yYXdQcmV2VGltZT4wfHwwPmEmJnRoaXMuX3Jhd1ByZXZUaW1lPj0wKSkmJihoPVwib25SZXZlcnNlQ29tcGxldGVcIixmPXRoaXMuX3JldmVyc2VkKSwwPmEpdGhpcy5fYWN0aXZlPSExLHRoaXMuX3RpbWVsaW5lLmF1dG9SZW1vdmVDaGlsZHJlbiYmdGhpcy5fcmV2ZXJzZWQ/KGk9Zj0hMCxoPVwib25SZXZlcnNlQ29tcGxldGVcIik6dGhpcy5fcmF3UHJldlRpbWU+PTAmJnRoaXMuX2ZpcnN0JiYoaT0hMCksdGhpcy5fcmF3UHJldlRpbWU9YTtlbHNle2lmKHRoaXMuX3Jhd1ByZXZUaW1lPXRoaXMuX2R1cmF0aW9ufHwhYnx8YXx8dGhpcy5fcmF3UHJldlRpbWU9PT1hP2E6ZSwwPT09YSYmZilmb3IoZD10aGlzLl9maXJzdDtkJiYwPT09ZC5fc3RhcnRUaW1lOylkLl9kdXJhdGlvbnx8KGY9ITEpLGQ9ZC5fbmV4dDthPTAsdGhpcy5faW5pdHRlZHx8KGk9ITApfWVsc2V7aWYodGhpcy5faGFzUGF1c2UmJiF0aGlzLl9mb3JjaW5nUGxheWhlYWQmJiFiKXtpZihhPj1vKWZvcihkPXRoaXMuX2ZpcnN0O2QmJmQuX3N0YXJ0VGltZTw9YSYmIWw7KWQuX2R1cmF0aW9ufHxcImlzUGF1c2VcIiE9PWQuZGF0YXx8ZC5yYXRpb3x8MD09PWQuX3N0YXJ0VGltZSYmMD09PXRoaXMuX3Jhd1ByZXZUaW1lfHwobD1kKSxkPWQuX25leHQ7ZWxzZSBmb3IoZD10aGlzLl9sYXN0O2QmJmQuX3N0YXJ0VGltZT49YSYmIWw7KWQuX2R1cmF0aW9ufHxcImlzUGF1c2VcIj09PWQuZGF0YSYmZC5fcmF3UHJldlRpbWU+MCYmKGw9ZCksZD1kLl9wcmV2O2wmJih0aGlzLl90aW1lPWE9bC5fc3RhcnRUaW1lLHRoaXMuX3RvdGFsVGltZT1hK3RoaXMuX2N5Y2xlKih0aGlzLl90b3RhbER1cmF0aW9uK3RoaXMuX3JlcGVhdERlbGF5KSl9dGhpcy5fdG90YWxUaW1lPXRoaXMuX3RpbWU9dGhpcy5fcmF3UHJldlRpbWU9YX1pZih0aGlzLl90aW1lIT09byYmdGhpcy5fZmlyc3R8fGN8fGl8fGwpe2lmKHRoaXMuX2luaXR0ZWR8fCh0aGlzLl9pbml0dGVkPSEwKSx0aGlzLl9hY3RpdmV8fCF0aGlzLl9wYXVzZWQmJnRoaXMuX3RpbWUhPT1vJiZhPjAmJih0aGlzLl9hY3RpdmU9ITApLDA9PT1vJiZ0aGlzLnZhcnMub25TdGFydCYmKDA9PT10aGlzLl90aW1lJiZ0aGlzLl9kdXJhdGlvbnx8Ynx8dGhpcy5fY2FsbGJhY2soXCJvblN0YXJ0XCIpKSxtPXRoaXMuX3RpbWUsbT49bylmb3IoZD10aGlzLl9maXJzdDtkJiYoZz1kLl9uZXh0LG09PT10aGlzLl90aW1lJiYoIXRoaXMuX3BhdXNlZHx8cikpOykoZC5fYWN0aXZlfHxkLl9zdGFydFRpbWU8PW0mJiFkLl9wYXVzZWQmJiFkLl9nYykmJihsPT09ZCYmdGhpcy5wYXVzZSgpLGQuX3JldmVyc2VkP2QucmVuZGVyKChkLl9kaXJ0eT9kLnRvdGFsRHVyYXRpb24oKTpkLl90b3RhbER1cmF0aW9uKS0oYS1kLl9zdGFydFRpbWUpKmQuX3RpbWVTY2FsZSxiLGMpOmQucmVuZGVyKChhLWQuX3N0YXJ0VGltZSkqZC5fdGltZVNjYWxlLGIsYykpLGQ9ZztlbHNlIGZvcihkPXRoaXMuX2xhc3Q7ZCYmKGc9ZC5fcHJldixtPT09dGhpcy5fdGltZSYmKCF0aGlzLl9wYXVzZWR8fHIpKTspe2lmKGQuX2FjdGl2ZXx8ZC5fc3RhcnRUaW1lPD1vJiYhZC5fcGF1c2VkJiYhZC5fZ2Mpe2lmKGw9PT1kKXtmb3IobD1kLl9wcmV2O2wmJmwuZW5kVGltZSgpPnRoaXMuX3RpbWU7KWwucmVuZGVyKGwuX3JldmVyc2VkP2wudG90YWxEdXJhdGlvbigpLShhLWwuX3N0YXJ0VGltZSkqbC5fdGltZVNjYWxlOihhLWwuX3N0YXJ0VGltZSkqbC5fdGltZVNjYWxlLGIsYyksbD1sLl9wcmV2O2w9bnVsbCx0aGlzLnBhdXNlKCl9ZC5fcmV2ZXJzZWQ/ZC5yZW5kZXIoKGQuX2RpcnR5P2QudG90YWxEdXJhdGlvbigpOmQuX3RvdGFsRHVyYXRpb24pLShhLWQuX3N0YXJ0VGltZSkqZC5fdGltZVNjYWxlLGIsYyk6ZC5yZW5kZXIoKGEtZC5fc3RhcnRUaW1lKSpkLl90aW1lU2NhbGUsYixjKX1kPWd9dGhpcy5fb25VcGRhdGUmJihifHwoai5sZW5ndGgmJmsoKSx0aGlzLl9jYWxsYmFjayhcIm9uVXBkYXRlXCIpKSksaCYmKHRoaXMuX2djfHwocD09PXRoaXMuX3N0YXJ0VGltZXx8cSE9PXRoaXMuX3RpbWVTY2FsZSkmJigwPT09dGhpcy5fdGltZXx8bj49dGhpcy50b3RhbER1cmF0aW9uKCkpJiYoZiYmKGoubGVuZ3RoJiZrKCksdGhpcy5fdGltZWxpbmUuYXV0b1JlbW92ZUNoaWxkcmVuJiZ0aGlzLl9lbmFibGVkKCExLCExKSx0aGlzLl9hY3RpdmU9ITEpLCFiJiZ0aGlzLnZhcnNbaF0mJnRoaXMuX2NhbGxiYWNrKGgpKSl9fSxxLl9oYXNQYXVzZWRDaGlsZD1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLl9maXJzdDthOyl7aWYoYS5fcGF1c2VkfHxhIGluc3RhbmNlb2YgZCYmYS5faGFzUGF1c2VkQ2hpbGQoKSlyZXR1cm4hMDthPWEuX25leHR9cmV0dXJuITF9LHEuZ2V0Q2hpbGRyZW49ZnVuY3Rpb24oYSxiLGQsZSl7ZT1lfHwtOTk5OTk5OTk5OTtmb3IodmFyIGY9W10sZz10aGlzLl9maXJzdCxoPTA7ZzspZy5fc3RhcnRUaW1lPGV8fChnIGluc3RhbmNlb2YgYz9iIT09ITEmJihmW2grK109Zyk6KGQhPT0hMSYmKGZbaCsrXT1nKSxhIT09ITEmJihmPWYuY29uY2F0KGcuZ2V0Q2hpbGRyZW4oITAsYixkKSksaD1mLmxlbmd0aCkpKSxnPWcuX25leHQ7cmV0dXJuIGZ9LHEuZ2V0VHdlZW5zT2Y9ZnVuY3Rpb24oYSxiKXt2YXIgZCxlLGY9dGhpcy5fZ2MsZz1bXSxoPTA7Zm9yKGYmJnRoaXMuX2VuYWJsZWQoITAsITApLGQ9Yy5nZXRUd2VlbnNPZihhKSxlPWQubGVuZ3RoOy0tZT4tMTspKGRbZV0udGltZWxpbmU9PT10aGlzfHxiJiZ0aGlzLl9jb250YWlucyhkW2VdKSkmJihnW2grK109ZFtlXSk7cmV0dXJuIGYmJnRoaXMuX2VuYWJsZWQoITEsITApLGd9LHEucmVjZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlY2VudH0scS5fY29udGFpbnM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEudGltZWxpbmU7Yjspe2lmKGI9PT10aGlzKXJldHVybiEwO2I9Yi50aW1lbGluZX1yZXR1cm4hMX0scS5zaGlmdENoaWxkcmVuPWZ1bmN0aW9uKGEsYixjKXtjPWN8fDA7Zm9yKHZhciBkLGU9dGhpcy5fZmlyc3QsZj10aGlzLl9sYWJlbHM7ZTspZS5fc3RhcnRUaW1lPj1jJiYoZS5fc3RhcnRUaW1lKz1hKSxlPWUuX25leHQ7aWYoYilmb3IoZCBpbiBmKWZbZF0+PWMmJihmW2RdKz1hKTtyZXR1cm4gdGhpcy5fdW5jYWNoZSghMCl9LHEuX2tpbGw9ZnVuY3Rpb24oYSxiKXtpZighYSYmIWIpcmV0dXJuIHRoaXMuX2VuYWJsZWQoITEsITEpO2Zvcih2YXIgYz1iP3RoaXMuZ2V0VHdlZW5zT2YoYik6dGhpcy5nZXRDaGlsZHJlbighMCwhMCwhMSksZD1jLmxlbmd0aCxlPSExOy0tZD4tMTspY1tkXS5fa2lsbChhLGIpJiYoZT0hMCk7cmV0dXJuIGV9LHEuY2xlYXI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRDaGlsZHJlbighMSwhMCwhMCksYz1iLmxlbmd0aDtmb3IodGhpcy5fdGltZT10aGlzLl90b3RhbFRpbWU9MDstLWM+LTE7KWJbY10uX2VuYWJsZWQoITEsITEpO3JldHVybiBhIT09ITEmJih0aGlzLl9sYWJlbHM9e30pLHRoaXMuX3VuY2FjaGUoITApfSxxLmludmFsaWRhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIGI9dGhpcy5fZmlyc3Q7YjspYi5pbnZhbGlkYXRlKCksYj1iLl9uZXh0O3JldHVybiBhLnByb3RvdHlwZS5pbnZhbGlkYXRlLmNhbGwodGhpcyl9LHEuX2VuYWJsZWQ9ZnVuY3Rpb24oYSxjKXtpZihhPT09dGhpcy5fZ2MpZm9yKHZhciBkPXRoaXMuX2ZpcnN0O2Q7KWQuX2VuYWJsZWQoYSwhMCksZD1kLl9uZXh0O3JldHVybiBiLnByb3RvdHlwZS5fZW5hYmxlZC5jYWxsKHRoaXMsYSxjKX0scS50b3RhbFRpbWU9ZnVuY3Rpb24oYixjLGQpe3RoaXMuX2ZvcmNpbmdQbGF5aGVhZD0hMDt2YXIgZT1hLnByb3RvdHlwZS50b3RhbFRpbWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzLl9mb3JjaW5nUGxheWhlYWQ9ITEsZX0scS5kdXJhdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oMCE9PXRoaXMuZHVyYXRpb24oKSYmMCE9PWEmJnRoaXMudGltZVNjYWxlKHRoaXMuX2R1cmF0aW9uL2EpLHRoaXMpOih0aGlzLl9kaXJ0eSYmdGhpcy50b3RhbER1cmF0aW9uKCksdGhpcy5fZHVyYXRpb24pfSxxLnRvdGFsRHVyYXRpb249ZnVuY3Rpb24oYSl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpe2lmKHRoaXMuX2RpcnR5KXtmb3IodmFyIGIsYyxkPTAsZT10aGlzLl9sYXN0LGY9OTk5OTk5OTk5OTk5O2U7KWI9ZS5fcHJldixlLl9kaXJ0eSYmZS50b3RhbER1cmF0aW9uKCksZS5fc3RhcnRUaW1lPmYmJnRoaXMuX3NvcnRDaGlsZHJlbiYmIWUuX3BhdXNlZD90aGlzLmFkZChlLGUuX3N0YXJ0VGltZS1lLl9kZWxheSk6Zj1lLl9zdGFydFRpbWUsZS5fc3RhcnRUaW1lPDAmJiFlLl9wYXVzZWQmJihkLT1lLl9zdGFydFRpbWUsdGhpcy5fdGltZWxpbmUuc21vb3RoQ2hpbGRUaW1pbmcmJih0aGlzLl9zdGFydFRpbWUrPWUuX3N0YXJ0VGltZS90aGlzLl90aW1lU2NhbGUpLHRoaXMuc2hpZnRDaGlsZHJlbigtZS5fc3RhcnRUaW1lLCExLC05OTk5OTk5OTk5KSxmPTApLGM9ZS5fc3RhcnRUaW1lK2UuX3RvdGFsRHVyYXRpb24vZS5fdGltZVNjYWxlLGM+ZCYmKGQ9YyksZT1iO3RoaXMuX2R1cmF0aW9uPXRoaXMuX3RvdGFsRHVyYXRpb249ZCx0aGlzLl9kaXJ0eT0hMX1yZXR1cm4gdGhpcy5fdG90YWxEdXJhdGlvbn1yZXR1cm4gYSYmdGhpcy50b3RhbER1cmF0aW9uKCk/dGhpcy50aW1lU2NhbGUodGhpcy5fdG90YWxEdXJhdGlvbi9hKTp0aGlzfSxxLnBhdXNlZD1mdW5jdGlvbihiKXtpZighYilmb3IodmFyIGM9dGhpcy5fZmlyc3QsZD10aGlzLl90aW1lO2M7KWMuX3N0YXJ0VGltZT09PWQmJlwiaXNQYXVzZVwiPT09Yy5kYXRhJiYoYy5fcmF3UHJldlRpbWU9MCksYz1jLl9uZXh0O3JldHVybiBhLnByb3RvdHlwZS5wYXVzZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxxLnVzZXNGcmFtZXM9ZnVuY3Rpb24oKXtmb3IodmFyIGI9dGhpcy5fdGltZWxpbmU7Yi5fdGltZWxpbmU7KWI9Yi5fdGltZWxpbmU7cmV0dXJuIGI9PT1hLl9yb290RnJhbWVzVGltZWxpbmV9LHEucmF3VGltZT1mdW5jdGlvbihhKXtyZXR1cm4gYSYmKHRoaXMuX3BhdXNlZHx8dGhpcy5fcmVwZWF0JiZ0aGlzLnRpbWUoKT4wJiZ0aGlzLnRvdGFsUHJvZ3Jlc3MoKTwxKT90aGlzLl90b3RhbFRpbWUlKHRoaXMuX2R1cmF0aW9uK3RoaXMuX3JlcGVhdERlbGF5KTp0aGlzLl9wYXVzZWQ/dGhpcy5fdG90YWxUaW1lOih0aGlzLl90aW1lbGluZS5yYXdUaW1lKGEpLXRoaXMuX3N0YXJ0VGltZSkqdGhpcy5fdGltZVNjYWxlfSxkfSwhMCksX2dzU2NvcGUuX2dzRGVmaW5lKFwiVGltZWxpbmVNYXhcIixbXCJUaW1lbGluZUxpdGVcIixcIlR3ZWVuTGl0ZVwiLFwiZWFzaW5nLkVhc2VcIl0sZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGIpe2EuY2FsbCh0aGlzLGIpLHRoaXMuX3JlcGVhdD10aGlzLnZhcnMucmVwZWF0fHwwLHRoaXMuX3JlcGVhdERlbGF5PXRoaXMudmFycy5yZXBlYXREZWxheXx8MCx0aGlzLl9jeWNsZT0wLHRoaXMuX3lveW89dGhpcy52YXJzLnlveW89PT0hMCx0aGlzLl9kaXJ0eT0hMH0sZT0xZS0xMCxmPWIuX2ludGVybmFscyxnPWYubGF6eVR3ZWVucyxoPWYubGF6eVJlbmRlcixpPV9nc1Njb3BlLl9nc0RlZmluZS5nbG9iYWxzLGo9bmV3IGMobnVsbCxudWxsLDEsMCksaz1kLnByb3RvdHlwZT1uZXcgYTtyZXR1cm4gay5jb25zdHJ1Y3Rvcj1kLGsua2lsbCgpLl9nYz0hMSxkLnZlcnNpb249XCIxLjE5LjFcIixrLmludmFsaWRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feW95bz10aGlzLnZhcnMueW95bz09PSEwLHRoaXMuX3JlcGVhdD10aGlzLnZhcnMucmVwZWF0fHwwLHRoaXMuX3JlcGVhdERlbGF5PXRoaXMudmFycy5yZXBlYXREZWxheXx8MCx0aGlzLl91bmNhY2hlKCEwKSxhLnByb3RvdHlwZS5pbnZhbGlkYXRlLmNhbGwodGhpcyl9LGsuYWRkQ2FsbGJhY2s9ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIHRoaXMuYWRkKGIuZGVsYXllZENhbGwoMCxhLGQsZSksYyl9LGsucmVtb3ZlQ2FsbGJhY2s9ZnVuY3Rpb24oYSxiKXtpZihhKWlmKG51bGw9PWIpdGhpcy5fa2lsbChudWxsLGEpO2Vsc2UgZm9yKHZhciBjPXRoaXMuZ2V0VHdlZW5zT2YoYSwhMSksZD1jLmxlbmd0aCxlPXRoaXMuX3BhcnNlVGltZU9yTGFiZWwoYik7LS1kPi0xOyljW2RdLl9zdGFydFRpbWU9PT1lJiZjW2RdLl9lbmFibGVkKCExLCExKTtyZXR1cm4gdGhpc30say5yZW1vdmVQYXVzZT1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5yZW1vdmVDYWxsYmFjayhhLl9pbnRlcm5hbHMucGF1c2VDYWxsYmFjayxiKX0say50d2VlblRvPWZ1bmN0aW9uKGEsYyl7Yz1jfHx7fTt2YXIgZCxlLGYsZz17ZWFzZTpqLHVzZUZyYW1lczp0aGlzLnVzZXNGcmFtZXMoKSxpbW1lZGlhdGVSZW5kZXI6ITF9LGg9Yy5yZXBlYXQmJmkuVHdlZW5NYXh8fGI7Zm9yKGUgaW4gYylnW2VdPWNbZV07cmV0dXJuIGcudGltZT10aGlzLl9wYXJzZVRpbWVPckxhYmVsKGEpLGQ9TWF0aC5hYnMoTnVtYmVyKGcudGltZSktdGhpcy5fdGltZSkvdGhpcy5fdGltZVNjYWxlfHwuMDAxLGY9bmV3IGgodGhpcyxkLGcpLGcub25TdGFydD1mdW5jdGlvbigpe2YudGFyZ2V0LnBhdXNlZCghMCksZi52YXJzLnRpbWUhPT1mLnRhcmdldC50aW1lKCkmJmQ9PT1mLmR1cmF0aW9uKCkmJmYuZHVyYXRpb24oTWF0aC5hYnMoZi52YXJzLnRpbWUtZi50YXJnZXQudGltZSgpKS9mLnRhcmdldC5fdGltZVNjYWxlKSxjLm9uU3RhcnQmJmMub25TdGFydC5hcHBseShjLm9uU3RhcnRTY29wZXx8Yy5jYWxsYmFja1Njb3BlfHxmLGMub25TdGFydFBhcmFtc3x8W10pfSxmfSxrLnR3ZWVuRnJvbVRvPWZ1bmN0aW9uKGEsYixjKXtjPWN8fHt9LGE9dGhpcy5fcGFyc2VUaW1lT3JMYWJlbChhKSxjLnN0YXJ0QXQ9e29uQ29tcGxldGU6dGhpcy5zZWVrLG9uQ29tcGxldGVQYXJhbXM6W2FdLGNhbGxiYWNrU2NvcGU6dGhpc30sYy5pbW1lZGlhdGVSZW5kZXI9Yy5pbW1lZGlhdGVSZW5kZXIhPT0hMTt2YXIgZD10aGlzLnR3ZWVuVG8oYixjKTtyZXR1cm4gZC5kdXJhdGlvbihNYXRoLmFicyhkLnZhcnMudGltZS1hKS90aGlzLl90aW1lU2NhbGV8fC4wMDEpfSxrLnJlbmRlcj1mdW5jdGlvbihhLGIsYyl7dGhpcy5fZ2MmJnRoaXMuX2VuYWJsZWQoITAsITEpO3ZhciBkLGYsaSxqLGssbCxtLG4sbz10aGlzLl9kaXJ0eT90aGlzLnRvdGFsRHVyYXRpb24oKTp0aGlzLl90b3RhbER1cmF0aW9uLHA9dGhpcy5fZHVyYXRpb24scT10aGlzLl90aW1lLHI9dGhpcy5fdG90YWxUaW1lLHM9dGhpcy5fc3RhcnRUaW1lLHQ9dGhpcy5fdGltZVNjYWxlLHU9dGhpcy5fcmF3UHJldlRpbWUsdj10aGlzLl9wYXVzZWQsdz10aGlzLl9jeWNsZTtpZihhPj1vLTFlLTcmJmE+PTApdGhpcy5fbG9ja2VkfHwodGhpcy5fdG90YWxUaW1lPW8sdGhpcy5fY3ljbGU9dGhpcy5fcmVwZWF0KSx0aGlzLl9yZXZlcnNlZHx8dGhpcy5faGFzUGF1c2VkQ2hpbGQoKXx8KGY9ITAsaj1cIm9uQ29tcGxldGVcIixrPSEhdGhpcy5fdGltZWxpbmUuYXV0b1JlbW92ZUNoaWxkcmVuLDA9PT10aGlzLl9kdXJhdGlvbiYmKDA+PWEmJmE+PS0xZS03fHwwPnV8fHU9PT1lKSYmdSE9PWEmJnRoaXMuX2ZpcnN0JiYoaz0hMCx1PmUmJihqPVwib25SZXZlcnNlQ29tcGxldGVcIikpKSx0aGlzLl9yYXdQcmV2VGltZT10aGlzLl9kdXJhdGlvbnx8IWJ8fGF8fHRoaXMuX3Jhd1ByZXZUaW1lPT09YT9hOmUsdGhpcy5feW95byYmMCE9PSgxJnRoaXMuX2N5Y2xlKT90aGlzLl90aW1lPWE9MDoodGhpcy5fdGltZT1wLGE9cCsxZS00KTtlbHNlIGlmKDFlLTc+YSlpZih0aGlzLl9sb2NrZWR8fCh0aGlzLl90b3RhbFRpbWU9dGhpcy5fY3ljbGU9MCksdGhpcy5fdGltZT0wLCgwIT09cXx8MD09PXAmJnUhPT1lJiYodT4wfHwwPmEmJnU+PTApJiYhdGhpcy5fbG9ja2VkKSYmKGo9XCJvblJldmVyc2VDb21wbGV0ZVwiLGY9dGhpcy5fcmV2ZXJzZWQpLDA+YSl0aGlzLl9hY3RpdmU9ITEsdGhpcy5fdGltZWxpbmUuYXV0b1JlbW92ZUNoaWxkcmVuJiZ0aGlzLl9yZXZlcnNlZD8oaz1mPSEwLGo9XCJvblJldmVyc2VDb21wbGV0ZVwiKTp1Pj0wJiZ0aGlzLl9maXJzdCYmKGs9ITApLHRoaXMuX3Jhd1ByZXZUaW1lPWE7ZWxzZXtpZih0aGlzLl9yYXdQcmV2VGltZT1wfHwhYnx8YXx8dGhpcy5fcmF3UHJldlRpbWU9PT1hP2E6ZSwwPT09YSYmZilmb3IoZD10aGlzLl9maXJzdDtkJiYwPT09ZC5fc3RhcnRUaW1lOylkLl9kdXJhdGlvbnx8KGY9ITEpLGQ9ZC5fbmV4dDthPTAsdGhpcy5faW5pdHRlZHx8KGs9ITApfWVsc2UgaWYoMD09PXAmJjA+dSYmKGs9ITApLHRoaXMuX3RpbWU9dGhpcy5fcmF3UHJldlRpbWU9YSx0aGlzLl9sb2NrZWR8fCh0aGlzLl90b3RhbFRpbWU9YSwwIT09dGhpcy5fcmVwZWF0JiYobD1wK3RoaXMuX3JlcGVhdERlbGF5LHRoaXMuX2N5Y2xlPXRoaXMuX3RvdGFsVGltZS9sPj4wLDAhPT10aGlzLl9jeWNsZSYmdGhpcy5fY3ljbGU9PT10aGlzLl90b3RhbFRpbWUvbCYmYT49ciYmdGhpcy5fY3ljbGUtLSx0aGlzLl90aW1lPXRoaXMuX3RvdGFsVGltZS10aGlzLl9jeWNsZSpsLHRoaXMuX3lveW8mJjAhPT0oMSZ0aGlzLl9jeWNsZSkmJih0aGlzLl90aW1lPXAtdGhpcy5fdGltZSksdGhpcy5fdGltZT5wPyh0aGlzLl90aW1lPXAsYT1wKzFlLTQpOnRoaXMuX3RpbWU8MD90aGlzLl90aW1lPWE9MDphPXRoaXMuX3RpbWUpKSx0aGlzLl9oYXNQYXVzZSYmIXRoaXMuX2ZvcmNpbmdQbGF5aGVhZCYmIWImJnA+YSl7aWYoYT10aGlzLl90aW1lLGE+PXF8fHRoaXMuX3JlcGVhdCYmdyE9PXRoaXMuX2N5Y2xlKWZvcihkPXRoaXMuX2ZpcnN0O2QmJmQuX3N0YXJ0VGltZTw9YSYmIW07KWQuX2R1cmF0aW9ufHxcImlzUGF1c2VcIiE9PWQuZGF0YXx8ZC5yYXRpb3x8MD09PWQuX3N0YXJ0VGltZSYmMD09PXRoaXMuX3Jhd1ByZXZUaW1lfHwobT1kKSxkPWQuX25leHQ7ZWxzZSBmb3IoZD10aGlzLl9sYXN0O2QmJmQuX3N0YXJ0VGltZT49YSYmIW07KWQuX2R1cmF0aW9ufHxcImlzUGF1c2VcIj09PWQuZGF0YSYmZC5fcmF3UHJldlRpbWU+MCYmKG09ZCksZD1kLl9wcmV2O20mJih0aGlzLl90aW1lPWE9bS5fc3RhcnRUaW1lLHRoaXMuX3RvdGFsVGltZT1hK3RoaXMuX2N5Y2xlKih0aGlzLl90b3RhbER1cmF0aW9uK3RoaXMuX3JlcGVhdERlbGF5KSl9aWYodGhpcy5fY3ljbGUhPT13JiYhdGhpcy5fbG9ja2VkKXt2YXIgeD10aGlzLl95b3lvJiYwIT09KDEmdykseT14PT09KHRoaXMuX3lveW8mJjAhPT0oMSZ0aGlzLl9jeWNsZSkpLHo9dGhpcy5fdG90YWxUaW1lLEE9dGhpcy5fY3ljbGUsQj10aGlzLl9yYXdQcmV2VGltZSxDPXRoaXMuX3RpbWU7aWYodGhpcy5fdG90YWxUaW1lPXcqcCx0aGlzLl9jeWNsZTx3P3g9IXg6dGhpcy5fdG90YWxUaW1lKz1wLHRoaXMuX3RpbWU9cSx0aGlzLl9yYXdQcmV2VGltZT0wPT09cD91LTFlLTQ6dSx0aGlzLl9jeWNsZT13LHRoaXMuX2xvY2tlZD0hMCxxPXg/MDpwLHRoaXMucmVuZGVyKHEsYiwwPT09cCksYnx8dGhpcy5fZ2N8fHRoaXMudmFycy5vblJlcGVhdCYmKHRoaXMuX2N5Y2xlPUEsdGhpcy5fbG9ja2VkPSExLHRoaXMuX2NhbGxiYWNrKFwib25SZXBlYXRcIikpLHEhPT10aGlzLl90aW1lKXJldHVybjtpZih5JiYodGhpcy5fY3ljbGU9dyx0aGlzLl9sb2NrZWQ9ITAscT14P3ArMWUtNDotMWUtNCx0aGlzLnJlbmRlcihxLCEwLCExKSksdGhpcy5fbG9ja2VkPSExLHRoaXMuX3BhdXNlZCYmIXYpcmV0dXJuO3RoaXMuX3RpbWU9Qyx0aGlzLl90b3RhbFRpbWU9eix0aGlzLl9jeWNsZT1BLHRoaXMuX3Jhd1ByZXZUaW1lPUJ9aWYoISh0aGlzLl90aW1lIT09cSYmdGhpcy5fZmlyc3R8fGN8fGt8fG0pKXJldHVybiB2b2lkKHIhPT10aGlzLl90b3RhbFRpbWUmJnRoaXMuX29uVXBkYXRlJiYoYnx8dGhpcy5fY2FsbGJhY2soXCJvblVwZGF0ZVwiKSkpO2lmKHRoaXMuX2luaXR0ZWR8fCh0aGlzLl9pbml0dGVkPSEwKSx0aGlzLl9hY3RpdmV8fCF0aGlzLl9wYXVzZWQmJnRoaXMuX3RvdGFsVGltZSE9PXImJmE+MCYmKHRoaXMuX2FjdGl2ZT0hMCksMD09PXImJnRoaXMudmFycy5vblN0YXJ0JiYoMD09PXRoaXMuX3RvdGFsVGltZSYmdGhpcy5fdG90YWxEdXJhdGlvbnx8Ynx8dGhpcy5fY2FsbGJhY2soXCJvblN0YXJ0XCIpKSxuPXRoaXMuX3RpbWUsbj49cSlmb3IoZD10aGlzLl9maXJzdDtkJiYoaT1kLl9uZXh0LG49PT10aGlzLl90aW1lJiYoIXRoaXMuX3BhdXNlZHx8dikpOykoZC5fYWN0aXZlfHxkLl9zdGFydFRpbWU8PXRoaXMuX3RpbWUmJiFkLl9wYXVzZWQmJiFkLl9nYykmJihtPT09ZCYmdGhpcy5wYXVzZSgpLGQuX3JldmVyc2VkP2QucmVuZGVyKChkLl9kaXJ0eT9kLnRvdGFsRHVyYXRpb24oKTpkLl90b3RhbER1cmF0aW9uKS0oYS1kLl9zdGFydFRpbWUpKmQuX3RpbWVTY2FsZSxiLGMpOmQucmVuZGVyKChhLWQuX3N0YXJ0VGltZSkqZC5fdGltZVNjYWxlLGIsYykpLGQ9aTtlbHNlIGZvcihkPXRoaXMuX2xhc3Q7ZCYmKGk9ZC5fcHJldixuPT09dGhpcy5fdGltZSYmKCF0aGlzLl9wYXVzZWR8fHYpKTspe2lmKGQuX2FjdGl2ZXx8ZC5fc3RhcnRUaW1lPD1xJiYhZC5fcGF1c2VkJiYhZC5fZ2Mpe2lmKG09PT1kKXtmb3IobT1kLl9wcmV2O20mJm0uZW5kVGltZSgpPnRoaXMuX3RpbWU7KW0ucmVuZGVyKG0uX3JldmVyc2VkP20udG90YWxEdXJhdGlvbigpLShhLW0uX3N0YXJ0VGltZSkqbS5fdGltZVNjYWxlOihhLW0uX3N0YXJ0VGltZSkqbS5fdGltZVNjYWxlLGIsYyksbT1tLl9wcmV2O209bnVsbCx0aGlzLnBhdXNlKCl9ZC5fcmV2ZXJzZWQ/ZC5yZW5kZXIoKGQuX2RpcnR5P2QudG90YWxEdXJhdGlvbigpOmQuX3RvdGFsRHVyYXRpb24pLShhLWQuX3N0YXJ0VGltZSkqZC5fdGltZVNjYWxlLGIsYyk6ZC5yZW5kZXIoKGEtZC5fc3RhcnRUaW1lKSpkLl90aW1lU2NhbGUsYixjKX1kPWl9dGhpcy5fb25VcGRhdGUmJihifHwoZy5sZW5ndGgmJmgoKSx0aGlzLl9jYWxsYmFjayhcIm9uVXBkYXRlXCIpKSksaiYmKHRoaXMuX2xvY2tlZHx8dGhpcy5fZ2N8fChzPT09dGhpcy5fc3RhcnRUaW1lfHx0IT09dGhpcy5fdGltZVNjYWxlKSYmKDA9PT10aGlzLl90aW1lfHxvPj10aGlzLnRvdGFsRHVyYXRpb24oKSkmJihmJiYoZy5sZW5ndGgmJmgoKSx0aGlzLl90aW1lbGluZS5hdXRvUmVtb3ZlQ2hpbGRyZW4mJnRoaXMuX2VuYWJsZWQoITEsITEpLHRoaXMuX2FjdGl2ZT0hMSksIWImJnRoaXMudmFyc1tqXSYmdGhpcy5fY2FsbGJhY2soaikpKX0say5nZXRBY3RpdmU9ZnVuY3Rpb24oYSxiLGMpe251bGw9PWEmJihhPSEwKSxudWxsPT1iJiYoYj0hMCksbnVsbD09YyYmKGM9ITEpO3ZhciBkLGUsZj1bXSxnPXRoaXMuZ2V0Q2hpbGRyZW4oYSxiLGMpLGg9MCxpPWcubGVuZ3RoO2ZvcihkPTA7aT5kO2QrKyllPWdbZF0sZS5pc0FjdGl2ZSgpJiYoZltoKytdPWUpO3JldHVybiBmfSxrLmdldExhYmVsQWZ0ZXI9ZnVuY3Rpb24oYSl7YXx8MCE9PWEmJihhPXRoaXMuX3RpbWUpO3ZhciBiLGM9dGhpcy5nZXRMYWJlbHNBcnJheSgpLGQ9Yy5sZW5ndGg7Zm9yKGI9MDtkPmI7YisrKWlmKGNbYl0udGltZT5hKXJldHVybiBjW2JdLm5hbWU7cmV0dXJuIG51bGx9LGsuZ2V0TGFiZWxCZWZvcmU9ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9dGhpcy5fdGltZSk7Zm9yKHZhciBiPXRoaXMuZ2V0TGFiZWxzQXJyYXkoKSxjPWIubGVuZ3RoOy0tYz4tMTspaWYoYltjXS50aW1lPGEpcmV0dXJuIGJbY10ubmFtZTtyZXR1cm4gbnVsbH0say5nZXRMYWJlbHNBcnJheT1mdW5jdGlvbigpe3ZhciBhLGI9W10sYz0wO2ZvcihhIGluIHRoaXMuX2xhYmVscyliW2MrK109e3RpbWU6dGhpcy5fbGFiZWxzW2FdLG5hbWU6YX07cmV0dXJuIGIuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLnRpbWUtYi50aW1lfSksYn0say5pbnZhbGlkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvY2tlZD0hMSxhLnByb3RvdHlwZS5pbnZhbGlkYXRlLmNhbGwodGhpcyl9LGsucHJvZ3Jlc3M9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90aGlzLnRvdGFsVGltZSh0aGlzLmR1cmF0aW9uKCkqKHRoaXMuX3lveW8mJjAhPT0oMSZ0aGlzLl9jeWNsZSk/MS1hOmEpK3RoaXMuX2N5Y2xlKih0aGlzLl9kdXJhdGlvbit0aGlzLl9yZXBlYXREZWxheSksYik6dGhpcy5fdGltZS90aGlzLmR1cmF0aW9uKCl9LGsudG90YWxQcm9ncmVzcz1mdW5jdGlvbihhLGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3RoaXMudG90YWxUaW1lKHRoaXMudG90YWxEdXJhdGlvbigpKmEsYik6dGhpcy5fdG90YWxUaW1lL3RoaXMudG90YWxEdXJhdGlvbigpfSxrLnRvdGFsRHVyYXRpb249ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/LTEhPT10aGlzLl9yZXBlYXQmJmI/dGhpcy50aW1lU2NhbGUodGhpcy50b3RhbER1cmF0aW9uKCkvYik6dGhpczoodGhpcy5fZGlydHkmJihhLnByb3RvdHlwZS50b3RhbER1cmF0aW9uLmNhbGwodGhpcyksdGhpcy5fdG90YWxEdXJhdGlvbj0tMT09PXRoaXMuX3JlcGVhdD85OTk5OTk5OTk5OTk6dGhpcy5fZHVyYXRpb24qKHRoaXMuX3JlcGVhdCsxKSt0aGlzLl9yZXBlYXREZWxheSp0aGlzLl9yZXBlYXQpLHRoaXMuX3RvdGFsRHVyYXRpb24pfSxrLnRpbWU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fZGlydHkmJnRoaXMudG90YWxEdXJhdGlvbigpLGE+dGhpcy5fZHVyYXRpb24mJihhPXRoaXMuX2R1cmF0aW9uKSx0aGlzLl95b3lvJiYwIT09KDEmdGhpcy5fY3ljbGUpP2E9dGhpcy5fZHVyYXRpb24tYSt0aGlzLl9jeWNsZSoodGhpcy5fZHVyYXRpb24rdGhpcy5fcmVwZWF0RGVsYXkpOjAhPT10aGlzLl9yZXBlYXQmJihhKz10aGlzLl9jeWNsZSoodGhpcy5fZHVyYXRpb24rdGhpcy5fcmVwZWF0RGVsYXkpKSx0aGlzLnRvdGFsVGltZShhLGIpKTp0aGlzLl90aW1lfSxrLnJlcGVhdD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fcmVwZWF0PWEsdGhpcy5fdW5jYWNoZSghMCkpOnRoaXMuX3JlcGVhdH0say5yZXBlYXREZWxheT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fcmVwZWF0RGVsYXk9YSx0aGlzLl91bmNhY2hlKCEwKSk6dGhpcy5fcmVwZWF0RGVsYXl9LGsueW95bz1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5feW95bz1hLHRoaXMpOnRoaXMuX3lveW99LGsuY3VycmVudExhYmVsPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3RoaXMuc2VlayhhLCEwKTp0aGlzLmdldExhYmVsQmVmb3JlKHRoaXMuX3RpbWUrMWUtOCl9LGR9LCEwKSxmdW5jdGlvbigpe3ZhciBhPTE4MC9NYXRoLlBJLGI9W10sYz1bXSxkPVtdLGU9e30sZj1fZ3NTY29wZS5fZ3NEZWZpbmUuZ2xvYmFscyxnPWZ1bmN0aW9uKGEsYixjLGQpe2M9PT1kJiYoYz1kLShkLWIpLzFlNiksYT09PWImJihiPWErKGMtYSkvMWU2KSx0aGlzLmE9YSx0aGlzLmI9Yix0aGlzLmM9Yyx0aGlzLmQ9ZCx0aGlzLmRhPWQtYSx0aGlzLmNhPWMtYSx0aGlzLmJhPWItYX0saD1cIix4LHkseixsZWZ0LHRvcCxyaWdodCxib3R0b20sbWFyZ2luVG9wLG1hcmdpbkxlZnQsbWFyZ2luUmlnaHQsbWFyZ2luQm90dG9tLHBhZGRpbmdMZWZ0LHBhZGRpbmdUb3AscGFkZGluZ1JpZ2h0LHBhZGRpbmdCb3R0b20sYmFja2dyb3VuZFBvc2l0aW9uLGJhY2tncm91bmRQb3NpdGlvbl95LFwiLGk9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9e2E6YX0sZj17fSxnPXt9LGg9e2M6ZH0saT0oYStiKS8yLGo9KGIrYykvMixrPShjK2QpLzIsbD0oaStqKS8yLG09KGoraykvMixuPShtLWwpLzg7cmV0dXJuIGUuYj1pKyhhLWkpLzQsZi5iPWwrbixlLmM9Zi5hPShlLmIrZi5iKS8yLGYuYz1nLmE9KGwrbSkvMixnLmI9bS1uLGguYj1rKyhkLWspLzQsZy5jPWguYT0oZy5iK2guYikvMixbZSxmLGcsaF19LGo9ZnVuY3Rpb24oYSxlLGYsZyxoKXt2YXIgaixrLGwsbSxuLG8scCxxLHIscyx0LHUsdix3PWEubGVuZ3RoLTEseD0wLHk9YVswXS5hO2ZvcihqPTA7dz5qO2orKyluPWFbeF0saz1uLmEsbD1uLmQsbT1hW3grMV0uZCxoPyh0PWJbal0sdT1jW2pdLHY9KHUrdCkqZSouMjUvKGc/LjU6ZFtqXXx8LjUpLG89bC0obC1rKSooZz8uNSplOjAhPT10P3YvdDowKSxwPWwrKG0tbCkqKGc/LjUqZTowIT09dT92L3U6MCkscT1sLShvKygocC1vKSooMyp0Lyh0K3UpKy41KS80fHwwKSkpOihvPWwtKGwtaykqZSouNSxwPWwrKG0tbCkqZSouNSxxPWwtKG8rcCkvMiksbys9cSxwKz1xLG4uYz1yPW8sMCE9PWo/bi5iPXk6bi5iPXk9bi5hKy42KihuLmMtbi5hKSxuLmRhPWwtayxuLmNhPXItayxuLmJhPXktayxmPyhzPWkoayx5LHIsbCksYS5zcGxpY2UoeCwxLHNbMF0sc1sxXSxzWzJdLHNbM10pLHgrPTQpOngrKyx5PXA7bj1hW3hdLG4uYj15LG4uYz15Ky40KihuLmQteSksbi5kYT1uLmQtbi5hLG4uY2E9bi5jLW4uYSxuLmJhPXktbi5hLGYmJihzPWkobi5hLHksbi5jLG4uZCksYS5zcGxpY2UoeCwxLHNbMF0sc1sxXSxzWzJdLHNbM10pKX0saz1mdW5jdGlvbihhLGQsZSxmKXt2YXIgaCxpLGosayxsLG0sbj1bXTtpZihmKWZvcihhPVtmXS5jb25jYXQoYSksaT1hLmxlbmd0aDstLWk+LTE7KVwic3RyaW5nXCI9PXR5cGVvZihtPWFbaV1bZF0pJiZcIj1cIj09PW0uY2hhckF0KDEpJiYoYVtpXVtkXT1mW2RdK051bWJlcihtLmNoYXJBdCgwKSttLnN1YnN0cigyKSkpO2lmKGg9YS5sZW5ndGgtMiwwPmgpcmV0dXJuIG5bMF09bmV3IGcoYVswXVtkXSwwLDAsYVstMT5oPzA6MV1bZF0pLG47Zm9yKGk9MDtoPmk7aSsrKWo9YVtpXVtkXSxrPWFbaSsxXVtkXSxuW2ldPW5ldyBnKGosMCwwLGspLGUmJihsPWFbaSsyXVtkXSxiW2ldPShiW2ldfHwwKSsoay1qKSooay1qKSxjW2ldPShjW2ldfHwwKSsobC1rKSoobC1rKSk7cmV0dXJuIG5baV09bmV3IGcoYVtpXVtkXSwwLDAsYVtpKzFdW2RdKSxufSxsPWZ1bmN0aW9uKGEsZixnLGksbCxtKXt2YXIgbixvLHAscSxyLHMsdCx1LHY9e30sdz1bXSx4PW18fGFbMF07bD1cInN0cmluZ1wiPT10eXBlb2YgbD9cIixcIitsK1wiLFwiOmgsbnVsbD09ZiYmKGY9MSk7Zm9yKG8gaW4gYVswXSl3LnB1c2gobyk7aWYoYS5sZW5ndGg+MSl7Zm9yKHU9YVthLmxlbmd0aC0xXSx0PSEwLG49dy5sZW5ndGg7LS1uPi0xOylpZihvPXdbbl0sTWF0aC5hYnMoeFtvXS11W29dKT4uMDUpe3Q9ITE7YnJlYWt9dCYmKGE9YS5jb25jYXQoKSxtJiZhLnVuc2hpZnQobSksYS5wdXNoKGFbMV0pLG09YVthLmxlbmd0aC0zXSl9Zm9yKGIubGVuZ3RoPWMubGVuZ3RoPWQubGVuZ3RoPTAsbj13Lmxlbmd0aDstLW4+LTE7KW89d1tuXSxlW29dPS0xIT09bC5pbmRleE9mKFwiLFwiK28rXCIsXCIpLHZbb109ayhhLG8sZVtvXSxtKTtmb3Iobj1iLmxlbmd0aDstLW4+LTE7KWJbbl09TWF0aC5zcXJ0KGJbbl0pLGNbbl09TWF0aC5zcXJ0KGNbbl0pO2lmKCFpKXtmb3Iobj13Lmxlbmd0aDstLW4+LTE7KWlmKGVbb10pZm9yKHA9dlt3W25dXSxzPXAubGVuZ3RoLTEscT0wO3M+cTtxKyspcj1wW3ErMV0uZGEvY1txXStwW3FdLmRhL2JbcV18fDAsZFtxXT0oZFtxXXx8MCkrcipyO2ZvcihuPWQubGVuZ3RoOy0tbj4tMTspZFtuXT1NYXRoLnNxcnQoZFtuXSl9Zm9yKG49dy5sZW5ndGgscT1nPzQ6MTstLW4+LTE7KW89d1tuXSxwPXZbb10saihwLGYsZyxpLGVbb10pLHQmJihwLnNwbGljZSgwLHEpLHAuc3BsaWNlKHAubGVuZ3RoLXEscSkpO3JldHVybiB2fSxtPWZ1bmN0aW9uKGEsYixjKXtiPWJ8fFwic29mdFwiO3ZhciBkLGUsZixoLGksaixrLGwsbSxuLG8scD17fSxxPVwiY3ViaWNcIj09PWI/MzoyLHI9XCJzb2Z0XCI9PT1iLHM9W107aWYociYmYyYmKGE9W2NdLmNvbmNhdChhKSksbnVsbD09YXx8YS5sZW5ndGg8cSsxKXRocm93XCJpbnZhbGlkIEJlemllciBkYXRhXCI7Zm9yKG0gaW4gYVswXSlzLnB1c2gobSk7Zm9yKGo9cy5sZW5ndGg7LS1qPi0xOyl7Zm9yKG09c1tqXSxwW21dPWk9W10sbj0wLGw9YS5sZW5ndGgsaz0wO2w+aztrKyspZD1udWxsPT1jP2Fba11bbV06XCJzdHJpbmdcIj09dHlwZW9mKG89YVtrXVttXSkmJlwiPVwiPT09by5jaGFyQXQoMSk/Y1ttXStOdW1iZXIoby5jaGFyQXQoMCkrby5zdWJzdHIoMikpOk51bWJlcihvKSxyJiZrPjEmJmwtMT5rJiYoaVtuKytdPShkK2lbbi0yXSkvMiksaVtuKytdPWQ7Zm9yKGw9bi1xKzEsbj0wLGs9MDtsPms7ays9cSlkPWlba10sZT1pW2srMV0sZj1pW2srMl0saD0yPT09cT8wOmlbayszXSxpW24rK109bz0zPT09cT9uZXcgZyhkLGUsZixoKTpuZXcgZyhkLCgyKmUrZCkvMywoMiplK2YpLzMsZik7aS5sZW5ndGg9bn1yZXR1cm4gcH0sbj1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkLGUsZixnLGgsaSxqLGssbCxtLG4sbz0xL2MscD1hLmxlbmd0aDstLXA+LTE7KWZvcihtPWFbcF0sZj1tLmEsZz1tLmQtZixcclxuICAgIGg9bS5jLWYsaT1tLmItZixkPWU9MCxrPTE7Yz49aztrKyspaj1vKmssbD0xLWosZD1lLShlPShqKmoqZyszKmwqKGoqaCtsKmkpKSpqKSxuPXAqYytrLTEsYltuXT0oYltuXXx8MCkrZCpkfSxvPWZ1bmN0aW9uKGEsYil7Yj1iPj4wfHw2O3ZhciBjLGQsZSxmLGc9W10saD1bXSxpPTAsaj0wLGs9Yi0xLGw9W10sbT1bXTtmb3IoYyBpbiBhKW4oYVtjXSxnLGIpO2ZvcihlPWcubGVuZ3RoLGQ9MDtlPmQ7ZCsrKWkrPU1hdGguc3FydChnW2RdKSxmPWQlYixtW2ZdPWksZj09PWsmJihqKz1pLGY9ZC9iPj4wLGxbZl09bSxoW2ZdPWosaT0wLG09W10pO3JldHVybntsZW5ndGg6aixsZW5ndGhzOmgsc2VnbWVudHM6bH19LHA9X2dzU2NvcGUuX2dzRGVmaW5lLnBsdWdpbih7cHJvcE5hbWU6XCJiZXppZXJcIixwcmlvcml0eTotMSx2ZXJzaW9uOlwiMS4zLjdcIixBUEk6MixnbG9iYWw6ITAsaW5pdDpmdW5jdGlvbihhLGIsYyl7dGhpcy5fdGFyZ2V0PWEsYiBpbnN0YW5jZW9mIEFycmF5JiYoYj17dmFsdWVzOmJ9KSx0aGlzLl9mdW5jPXt9LHRoaXMuX21vZD17fSx0aGlzLl9wcm9wcz1bXSx0aGlzLl90aW1lUmVzPW51bGw9PWIudGltZVJlc29sdXRpb24/NjpwYXJzZUludChiLnRpbWVSZXNvbHV0aW9uLDEwKTt2YXIgZCxlLGYsZyxoLGk9Yi52YWx1ZXN8fFtdLGo9e30saz1pWzBdLG49Yi5hdXRvUm90YXRlfHxjLnZhcnMub3JpZW50VG9CZXppZXI7dGhpcy5fYXV0b1JvdGF0ZT1uP24gaW5zdGFuY2VvZiBBcnJheT9uOltbXCJ4XCIsXCJ5XCIsXCJyb3RhdGlvblwiLG49PT0hMD8wOk51bWJlcihuKXx8MF1dOm51bGw7Zm9yKGQgaW4gayl0aGlzLl9wcm9wcy5wdXNoKGQpO2ZvcihmPXRoaXMuX3Byb3BzLmxlbmd0aDstLWY+LTE7KWQ9dGhpcy5fcHJvcHNbZl0sdGhpcy5fb3ZlcndyaXRlUHJvcHMucHVzaChkKSxlPXRoaXMuX2Z1bmNbZF09XCJmdW5jdGlvblwiPT10eXBlb2YgYVtkXSxqW2RdPWU/YVtkLmluZGV4T2YoXCJzZXRcIil8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGFbXCJnZXRcIitkLnN1YnN0cigzKV0/ZDpcImdldFwiK2Quc3Vic3RyKDMpXSgpOnBhcnNlRmxvYXQoYVtkXSksaHx8altkXSE9PWlbMF1bZF0mJihoPWopO2lmKHRoaXMuX2JlemllcnM9XCJjdWJpY1wiIT09Yi50eXBlJiZcInF1YWRyYXRpY1wiIT09Yi50eXBlJiZcInNvZnRcIiE9PWIudHlwZT9sKGksaXNOYU4oYi5jdXJ2aW5lc3MpPzE6Yi5jdXJ2aW5lc3MsITEsXCJ0aHJ1QmFzaWNcIj09PWIudHlwZSxiLmNvcnJlbGF0ZSxoKTptKGksYi50eXBlLGopLHRoaXMuX3NlZ0NvdW50PXRoaXMuX2JlemllcnNbZF0ubGVuZ3RoLHRoaXMuX3RpbWVSZXMpe3ZhciBwPW8odGhpcy5fYmV6aWVycyx0aGlzLl90aW1lUmVzKTt0aGlzLl9sZW5ndGg9cC5sZW5ndGgsdGhpcy5fbGVuZ3Rocz1wLmxlbmd0aHMsdGhpcy5fc2VnbWVudHM9cC5zZWdtZW50cyx0aGlzLl9sMT10aGlzLl9saT10aGlzLl9zMT10aGlzLl9zaT0wLHRoaXMuX2wyPXRoaXMuX2xlbmd0aHNbMF0sdGhpcy5fY3VyU2VnPXRoaXMuX3NlZ21lbnRzWzBdLHRoaXMuX3MyPXRoaXMuX2N1clNlZ1swXSx0aGlzLl9wcmVjPTEvdGhpcy5fY3VyU2VnLmxlbmd0aH1pZihuPXRoaXMuX2F1dG9Sb3RhdGUpZm9yKHRoaXMuX2luaXRpYWxSb3RhdGlvbnM9W10sblswXWluc3RhbmNlb2YgQXJyYXl8fCh0aGlzLl9hdXRvUm90YXRlPW49W25dKSxmPW4ubGVuZ3RoOy0tZj4tMTspe2ZvcihnPTA7Mz5nO2crKylkPW5bZl1bZ10sdGhpcy5fZnVuY1tkXT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhW2RdP2FbZC5pbmRleE9mKFwic2V0XCIpfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBhW1wiZ2V0XCIrZC5zdWJzdHIoMyldP2Q6XCJnZXRcIitkLnN1YnN0cigzKV06ITE7ZD1uW2ZdWzJdLHRoaXMuX2luaXRpYWxSb3RhdGlvbnNbZl09KHRoaXMuX2Z1bmNbZF0/dGhpcy5fZnVuY1tkXS5jYWxsKHRoaXMuX3RhcmdldCk6dGhpcy5fdGFyZ2V0W2RdKXx8MCx0aGlzLl9vdmVyd3JpdGVQcm9wcy5wdXNoKGQpfXJldHVybiB0aGlzLl9zdGFydFJhdGlvPWMudmFycy5ydW5CYWNrd2FyZHM/MTowLCEwfSxzZXQ6ZnVuY3Rpb24oYil7dmFyIGMsZCxlLGYsZyxoLGksaixrLGwsbT10aGlzLl9zZWdDb3VudCxuPXRoaXMuX2Z1bmMsbz10aGlzLl90YXJnZXQscD1iIT09dGhpcy5fc3RhcnRSYXRpbztpZih0aGlzLl90aW1lUmVzKXtpZihrPXRoaXMuX2xlbmd0aHMsbD10aGlzLl9jdXJTZWcsYio9dGhpcy5fbGVuZ3RoLGU9dGhpcy5fbGksYj50aGlzLl9sMiYmbS0xPmUpe2ZvcihqPW0tMTtqPmUmJih0aGlzLl9sMj1rWysrZV0pPD1iOyk7dGhpcy5fbDE9a1tlLTFdLHRoaXMuX2xpPWUsdGhpcy5fY3VyU2VnPWw9dGhpcy5fc2VnbWVudHNbZV0sdGhpcy5fczI9bFt0aGlzLl9zMT10aGlzLl9zaT0wXX1lbHNlIGlmKGI8dGhpcy5fbDEmJmU+MCl7Zm9yKDtlPjAmJih0aGlzLl9sMT1rWy0tZV0pPj1iOyk7MD09PWUmJmI8dGhpcy5fbDE/dGhpcy5fbDE9MDplKyssdGhpcy5fbDI9a1tlXSx0aGlzLl9saT1lLHRoaXMuX2N1clNlZz1sPXRoaXMuX3NlZ21lbnRzW2VdLHRoaXMuX3MxPWxbKHRoaXMuX3NpPWwubGVuZ3RoLTEpLTFdfHwwLHRoaXMuX3MyPWxbdGhpcy5fc2ldfWlmKGM9ZSxiLT10aGlzLl9sMSxlPXRoaXMuX3NpLGI+dGhpcy5fczImJmU8bC5sZW5ndGgtMSl7Zm9yKGo9bC5sZW5ndGgtMTtqPmUmJih0aGlzLl9zMj1sWysrZV0pPD1iOyk7dGhpcy5fczE9bFtlLTFdLHRoaXMuX3NpPWV9ZWxzZSBpZihiPHRoaXMuX3MxJiZlPjApe2Zvcig7ZT4wJiYodGhpcy5fczE9bFstLWVdKT49YjspOzA9PT1lJiZiPHRoaXMuX3MxP3RoaXMuX3MxPTA6ZSsrLHRoaXMuX3MyPWxbZV0sdGhpcy5fc2k9ZX1oPShlKyhiLXRoaXMuX3MxKS8odGhpcy5fczItdGhpcy5fczEpKSp0aGlzLl9wcmVjfHwwfWVsc2UgYz0wPmI/MDpiPj0xP20tMTptKmI+PjAsaD0oYi1jKigxL20pKSptO2ZvcihkPTEtaCxlPXRoaXMuX3Byb3BzLmxlbmd0aDstLWU+LTE7KWY9dGhpcy5fcHJvcHNbZV0sZz10aGlzLl9iZXppZXJzW2ZdW2NdLGk9KGgqaCpnLmRhKzMqZCooaCpnLmNhK2QqZy5iYSkpKmgrZy5hLHRoaXMuX21vZFtmXSYmKGk9dGhpcy5fbW9kW2ZdKGksbykpLG5bZl0/b1tmXShpKTpvW2ZdPWk7aWYodGhpcy5fYXV0b1JvdGF0ZSl7dmFyIHEscixzLHQsdSx2LHcseD10aGlzLl9hdXRvUm90YXRlO2ZvcihlPXgubGVuZ3RoOy0tZT4tMTspZj14W2VdWzJdLHY9eFtlXVszXXx8MCx3PXhbZV1bNF09PT0hMD8xOmEsZz10aGlzLl9iZXppZXJzW3hbZV1bMF1dLHE9dGhpcy5fYmV6aWVyc1t4W2VdWzFdXSxnJiZxJiYoZz1nW2NdLHE9cVtjXSxyPWcuYSsoZy5iLWcuYSkqaCx0PWcuYisoZy5jLWcuYikqaCxyKz0odC1yKSpoLHQrPShnLmMrKGcuZC1nLmMpKmgtdCkqaCxzPXEuYSsocS5iLXEuYSkqaCx1PXEuYisocS5jLXEuYikqaCxzKz0odS1zKSpoLHUrPShxLmMrKHEuZC1xLmMpKmgtdSkqaCxpPXA/TWF0aC5hdGFuMih1LXMsdC1yKSp3K3Y6dGhpcy5faW5pdGlhbFJvdGF0aW9uc1tlXSx0aGlzLl9tb2RbZl0mJihpPXRoaXMuX21vZFtmXShpLG8pKSxuW2ZdP29bZl0oaSk6b1tmXT1pKX19fSkscT1wLnByb3RvdHlwZTtwLmJlemllclRocm91Z2g9bCxwLmN1YmljVG9RdWFkcmF0aWM9aSxwLl9hdXRvQ1NTPSEwLHAucXVhZHJhdGljVG9DdWJpYz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIG5ldyBnKGEsKDIqYithKS8zLCgyKmIrYykvMyxjKX0scC5fY3NzUmVnaXN0ZXI9ZnVuY3Rpb24oKXt2YXIgYT1mLkNTU1BsdWdpbjtpZihhKXt2YXIgYj1hLl9pbnRlcm5hbHMsYz1iLl9wYXJzZVRvUHJveHksZD1iLl9zZXRQbHVnaW5SYXRpbyxlPWIuQ1NTUHJvcFR3ZWVuO2IuX3JlZ2lzdGVyQ29tcGxleFNwZWNpYWxQcm9wKFwiYmV6aWVyXCIse3BhcnNlcjpmdW5jdGlvbihhLGIsZixnLGgsaSl7YiBpbnN0YW5jZW9mIEFycmF5JiYoYj17dmFsdWVzOmJ9KSxpPW5ldyBwO3ZhciBqLGssbCxtPWIudmFsdWVzLG49bS5sZW5ndGgtMSxvPVtdLHE9e307aWYoMD5uKXJldHVybiBoO2ZvcihqPTA7bj49ajtqKyspbD1jKGEsbVtqXSxnLGgsaSxuIT09aiksb1tqXT1sLmVuZDtmb3IoayBpbiBiKXFba109YltrXTtyZXR1cm4gcS52YWx1ZXM9byxoPW5ldyBlKGEsXCJiZXppZXJcIiwwLDAsbC5wdCwyKSxoLmRhdGE9bCxoLnBsdWdpbj1pLGguc2V0UmF0aW89ZCwwPT09cS5hdXRvUm90YXRlJiYocS5hdXRvUm90YXRlPSEwKSwhcS5hdXRvUm90YXRlfHxxLmF1dG9Sb3RhdGUgaW5zdGFuY2VvZiBBcnJheXx8KGo9cS5hdXRvUm90YXRlPT09ITA/MDpOdW1iZXIocS5hdXRvUm90YXRlKSxxLmF1dG9Sb3RhdGU9bnVsbCE9bC5lbmQubGVmdD9bW1wibGVmdFwiLFwidG9wXCIsXCJyb3RhdGlvblwiLGosITFdXTpudWxsIT1sLmVuZC54P1tbXCJ4XCIsXCJ5XCIsXCJyb3RhdGlvblwiLGosITFdXTohMSkscS5hdXRvUm90YXRlJiYoZy5fdHJhbnNmb3JtfHxnLl9lbmFibGVUcmFuc2Zvcm1zKCExKSxsLmF1dG9Sb3RhdGU9Zy5fdGFyZ2V0Ll9nc1RyYW5zZm9ybSxsLnByb3h5LnJvdGF0aW9uPWwuYXV0b1JvdGF0ZS5yb3RhdGlvbnx8MCxnLl9vdmVyd3JpdGVQcm9wcy5wdXNoKFwicm90YXRpb25cIikpLGkuX29uSW5pdFR3ZWVuKGwucHJveHkscSxnLl90d2VlbiksaH19KX19LHEuX21vZD1mdW5jdGlvbihhKXtmb3IodmFyIGIsYz10aGlzLl9vdmVyd3JpdGVQcm9wcyxkPWMubGVuZ3RoOy0tZD4tMTspYj1hW2NbZF1dLGImJlwiZnVuY3Rpb25cIj09dHlwZW9mIGImJih0aGlzLl9tb2RbY1tkXV09Yil9LHEuX2tpbGw9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPXRoaXMuX3Byb3BzO2ZvcihiIGluIHRoaXMuX2JlemllcnMpaWYoYiBpbiBhKWZvcihkZWxldGUgdGhpcy5fYmV6aWVyc1tiXSxkZWxldGUgdGhpcy5fZnVuY1tiXSxjPWQubGVuZ3RoOy0tYz4tMTspZFtjXT09PWImJmQuc3BsaWNlKGMsMSk7aWYoZD10aGlzLl9hdXRvUm90YXRlKWZvcihjPWQubGVuZ3RoOy0tYz4tMTspYVtkW2NdWzJdXSYmZC5zcGxpY2UoYywxKTtyZXR1cm4gdGhpcy5fc3VwZXIuX2tpbGwuY2FsbCh0aGlzLGEpfX0oKSxfZ3NTY29wZS5fZ3NEZWZpbmUoXCJwbHVnaW5zLkNTU1BsdWdpblwiLFtcInBsdWdpbnMuVHdlZW5QbHVnaW5cIixcIlR3ZWVuTGl0ZVwiXSxmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc9ZnVuY3Rpb24oKXthLmNhbGwodGhpcyxcImNzc1wiKSx0aGlzLl9vdmVyd3JpdGVQcm9wcy5sZW5ndGg9MCx0aGlzLnNldFJhdGlvPWcucHJvdG90eXBlLnNldFJhdGlvfSxoPV9nc1Njb3BlLl9nc0RlZmluZS5nbG9iYWxzLGk9e30saj1nLnByb3RvdHlwZT1uZXcgYShcImNzc1wiKTtqLmNvbnN0cnVjdG9yPWcsZy52ZXJzaW9uPVwiMS4xOS4xXCIsZy5BUEk9MixnLmRlZmF1bHRUcmFuc2Zvcm1QZXJzcGVjdGl2ZT0wLGcuZGVmYXVsdFNrZXdUeXBlPVwiY29tcGVuc2F0ZWRcIixnLmRlZmF1bHRTbW9vdGhPcmlnaW49ITAsaj1cInB4XCIsZy5zdWZmaXhNYXA9e3RvcDpqLHJpZ2h0OmosYm90dG9tOmosbGVmdDpqLHdpZHRoOmosaGVpZ2h0OmosZm9udFNpemU6aixwYWRkaW5nOmosbWFyZ2luOmoscGVyc3BlY3RpdmU6aixsaW5lSGVpZ2h0OlwiXCJ9O3ZhciBrLGwsbSxuLG8scCxxLHIscz0vKD86XFwtfFxcLnxcXGIpKFxcZHxcXC58ZVxcLSkrL2csdD0vKD86XFxkfFxcLVxcZHxcXC5cXGR8XFwtXFwuXFxkfFxcKz1cXGR8XFwtPVxcZHxcXCs9LlxcZHxcXC09XFwuXFxkKSsvZyx1PS8oPzpcXCs9fFxcLT18XFwtfFxcYilbXFxkXFwtXFwuXStbYS16QS1aMC05XSooPzolfFxcYikvZ2ksdj0vKD8hWystXT9cXGQqXFwuP1xcZCt8WystXXxlWystXVxcZCspW14wLTldL2csdz0vKD86XFxkfFxcLXxcXCt8PXwjfFxcLikqL2cseD0vb3BhY2l0eSAqPSAqKFteKV0qKS9pLHk9L29wYWNpdHk6KFteO10qKS9pLHo9L2FscGhhXFwob3BhY2l0eSAqPS4rP1xcKS9pLEE9L14ocmdifGhzbCkvLEI9LyhbQS1aXSkvZyxDPS8tKFthLXpdKS9naSxEPS8oXig/OnVybFxcKFxcXCJ8dXJsXFwoKSl8KD86KFxcXCJcXCkpJHxcXCkkKS9naSxFPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKX0sRj0vKD86TGVmdHxSaWdodHxXaWR0aCkvaSxHPS8oTTExfE0xMnxNMjF8TTIyKT1bXFxkXFwtXFwuZV0rL2dpLEg9L3Byb2dpZFxcOkRYSW1hZ2VUcmFuc2Zvcm1cXC5NaWNyb3NvZnRcXC5NYXRyaXhcXCguKz9cXCkvaSxJPS8sKD89W15cXCldKig/OlxcKHwkKSkvZ2ksSj0vW1xccyxcXChdL2ksSz1NYXRoLlBJLzE4MCxMPTE4MC9NYXRoLlBJLE09e30sTj17c3R5bGU6e319LE89X2dzU2NvcGUuZG9jdW1lbnR8fHtjcmVhdGVFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIE59fSxQPWZ1bmN0aW9uKGEsYil7cmV0dXJuIE8uY3JlYXRlRWxlbWVudE5TP08uY3JlYXRlRWxlbWVudE5TKGJ8fFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLGEpOk8uY3JlYXRlRWxlbWVudChhKX0sUT1QKFwiZGl2XCIpLFI9UChcImltZ1wiKSxTPWcuX2ludGVybmFscz17X3NwZWNpYWxQcm9wczppfSxUPShfZ3NTY29wZS5uYXZpZ2F0b3J8fHt9KS51c2VyQWdlbnR8fFwiXCIsVT1mdW5jdGlvbigpe3ZhciBhPVQuaW5kZXhPZihcIkFuZHJvaWRcIiksYj1QKFwiYVwiKTtyZXR1cm4gbT0tMSE9PVQuaW5kZXhPZihcIlNhZmFyaVwiKSYmLTE9PT1ULmluZGV4T2YoXCJDaHJvbWVcIikmJigtMT09PWF8fHBhcnNlRmxvYXQoVC5zdWJzdHIoYSs4LDIpKT4zKSxvPW0mJnBhcnNlRmxvYXQoVC5zdWJzdHIoVC5pbmRleE9mKFwiVmVyc2lvbi9cIikrOCwyKSk8NixuPS0xIT09VC5pbmRleE9mKFwiRmlyZWZveFwiKSwoL01TSUUgKFswLTldezEsfVtcXC4wLTldezAsfSkvLmV4ZWMoVCl8fC9UcmlkZW50XFwvLipydjooWzAtOV17MSx9W1xcLjAtOV17MCx9KS8uZXhlYyhUKSkmJihwPXBhcnNlRmxvYXQoUmVnRXhwLiQxKSksYj8oYi5zdHlsZS5jc3NUZXh0PVwidG9wOjFweDtvcGFjaXR5Oi41NTtcIiwvXjAuNTUvLnRlc3QoYi5zdHlsZS5vcGFjaXR5KSk6ITF9KCksVj1mdW5jdGlvbihhKXtyZXR1cm4geC50ZXN0KFwic3RyaW5nXCI9PXR5cGVvZiBhP2E6KGEuY3VycmVudFN0eWxlP2EuY3VycmVudFN0eWxlLmZpbHRlcjphLnN0eWxlLmZpbHRlcil8fFwiXCIpP3BhcnNlRmxvYXQoUmVnRXhwLiQxKS8xMDA6MX0sVz1mdW5jdGlvbihhKXtfZ3NTY29wZS5jb25zb2xlJiZjb25zb2xlLmxvZyhhKX0sWD1cIlwiLFk9XCJcIixaPWZ1bmN0aW9uKGEsYil7Yj1ifHxRO3ZhciBjLGQsZT1iLnN0eWxlO2lmKHZvaWQgMCE9PWVbYV0pcmV0dXJuIGE7Zm9yKGE9YS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKSxjPVtcIk9cIixcIk1velwiLFwibXNcIixcIk1zXCIsXCJXZWJraXRcIl0sZD01Oy0tZD4tMSYmdm9pZCAwPT09ZVtjW2RdK2FdOyk7cmV0dXJuIGQ+PTA/KFk9Mz09PWQ/XCJtc1wiOmNbZF0sWD1cIi1cIitZLnRvTG93ZXJDYXNlKCkrXCItXCIsWSthKTpudWxsfSwkPU8uZGVmYXVsdFZpZXc/Ty5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlOmZ1bmN0aW9uKCl7fSxfPWcuZ2V0U3R5bGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZjtyZXR1cm4gVXx8XCJvcGFjaXR5XCIhPT1iPyghZCYmYS5zdHlsZVtiXT9mPWEuc3R5bGVbYl06KGM9Y3x8JChhKSk/Zj1jW2JdfHxjLmdldFByb3BlcnR5VmFsdWUoYil8fGMuZ2V0UHJvcGVydHlWYWx1ZShiLnJlcGxhY2UoQixcIi0kMVwiKS50b0xvd2VyQ2FzZSgpKTphLmN1cnJlbnRTdHlsZSYmKGY9YS5jdXJyZW50U3R5bGVbYl0pLG51bGw9PWV8fGYmJlwibm9uZVwiIT09ZiYmXCJhdXRvXCIhPT1mJiZcImF1dG8gYXV0b1wiIT09Zj9mOmUpOlYoYSl9LGFhPVMuY29udmVydFRvUGl4ZWxzPWZ1bmN0aW9uKGEsYyxkLGUsZil7aWYoXCJweFwiPT09ZXx8IWUpcmV0dXJuIGQ7aWYoXCJhdXRvXCI9PT1lfHwhZClyZXR1cm4gMDt2YXIgaCxpLGosaz1GLnRlc3QoYyksbD1hLG09US5zdHlsZSxuPTA+ZCxvPTE9PT1kO2lmKG4mJihkPS1kKSxvJiYoZCo9MTAwKSxcIiVcIj09PWUmJi0xIT09Yy5pbmRleE9mKFwiYm9yZGVyXCIpKWg9ZC8xMDAqKGs/YS5jbGllbnRXaWR0aDphLmNsaWVudEhlaWdodCk7ZWxzZXtpZihtLmNzc1RleHQ9XCJib3JkZXI6MCBzb2xpZCByZWQ7cG9zaXRpb246XCIrXyhhLFwicG9zaXRpb25cIikrXCI7bGluZS1oZWlnaHQ6MDtcIixcIiVcIiE9PWUmJmwuYXBwZW5kQ2hpbGQmJlwidlwiIT09ZS5jaGFyQXQoMCkmJlwicmVtXCIhPT1lKW1baz9cImJvcmRlckxlZnRXaWR0aFwiOlwiYm9yZGVyVG9wV2lkdGhcIl09ZCtlO2Vsc2V7aWYobD1hLnBhcmVudE5vZGV8fE8uYm9keSxpPWwuX2dzQ2FjaGUsaj1iLnRpY2tlci5mcmFtZSxpJiZrJiZpLnRpbWU9PT1qKXJldHVybiBpLndpZHRoKmQvMTAwO21baz9cIndpZHRoXCI6XCJoZWlnaHRcIl09ZCtlfWwuYXBwZW5kQ2hpbGQoUSksaD1wYXJzZUZsb2F0KFFbaz9cIm9mZnNldFdpZHRoXCI6XCJvZmZzZXRIZWlnaHRcIl0pLGwucmVtb3ZlQ2hpbGQoUSksayYmXCIlXCI9PT1lJiZnLmNhY2hlV2lkdGhzIT09ITEmJihpPWwuX2dzQ2FjaGU9bC5fZ3NDYWNoZXx8e30saS50aW1lPWosaS53aWR0aD1oL2QqMTAwKSwwIT09aHx8Znx8KGg9YWEoYSxjLGQsZSwhMCkpfXJldHVybiBvJiYoaC89MTAwKSxuPy1oOmh9LGJhPVMuY2FsY3VsYXRlT2Zmc2V0PWZ1bmN0aW9uKGEsYixjKXtpZihcImFic29sdXRlXCIhPT1fKGEsXCJwb3NpdGlvblwiLGMpKXJldHVybiAwO3ZhciBkPVwibGVmdFwiPT09Yj9cIkxlZnRcIjpcIlRvcFwiLGU9XyhhLFwibWFyZ2luXCIrZCxjKTtyZXR1cm4gYVtcIm9mZnNldFwiK2RdLShhYShhLGIscGFyc2VGbG9hdChlKSxlLnJlcGxhY2UodyxcIlwiKSl8fDApfSxjYT1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPXt9O2lmKGI9Ynx8JChhLG51bGwpKWlmKGM9Yi5sZW5ndGgpZm9yKDstLWM+LTE7KWU9YltjXSwoLTE9PT1lLmluZGV4T2YoXCItdHJhbnNmb3JtXCIpfHxEYT09PWUpJiYoZltlLnJlcGxhY2UoQyxFKV09Yi5nZXRQcm9wZXJ0eVZhbHVlKGUpKTtlbHNlIGZvcihjIGluIGIpKC0xPT09Yy5pbmRleE9mKFwiVHJhbnNmb3JtXCIpfHxDYT09PWMpJiYoZltjXT1iW2NdKTtlbHNlIGlmKGI9YS5jdXJyZW50U3R5bGV8fGEuc3R5bGUpZm9yKGMgaW4gYilcInN0cmluZ1wiPT10eXBlb2YgYyYmdm9pZCAwPT09ZltjXSYmKGZbYy5yZXBsYWNlKEMsRSldPWJbY10pO3JldHVybiBVfHwoZi5vcGFjaXR5PVYoYSkpLGQ9UmEoYSxiLCExKSxmLnJvdGF0aW9uPWQucm90YXRpb24sZi5za2V3WD1kLnNrZXdYLGYuc2NhbGVYPWQuc2NhbGVYLGYuc2NhbGVZPWQuc2NhbGVZLGYueD1kLngsZi55PWQueSxGYSYmKGYuej1kLnosZi5yb3RhdGlvblg9ZC5yb3RhdGlvblgsZi5yb3RhdGlvblk9ZC5yb3RhdGlvblksZi5zY2FsZVo9ZC5zY2FsZVopLGYuZmlsdGVycyYmZGVsZXRlIGYuZmlsdGVycyxmfSxkYT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpPXt9LGo9YS5zdHlsZTtmb3IoZyBpbiBjKVwiY3NzVGV4dFwiIT09ZyYmXCJsZW5ndGhcIiE9PWcmJmlzTmFOKGcpJiYoYltnXSE9PShmPWNbZ10pfHxlJiZlW2ddKSYmLTE9PT1nLmluZGV4T2YoXCJPcmlnaW5cIikmJihcIm51bWJlclwiPT10eXBlb2YgZnx8XCJzdHJpbmdcIj09dHlwZW9mIGYpJiYoaVtnXT1cImF1dG9cIiE9PWZ8fFwibGVmdFwiIT09ZyYmXCJ0b3BcIiE9PWc/XCJcIiE9PWYmJlwiYXV0b1wiIT09ZiYmXCJub25lXCIhPT1mfHxcInN0cmluZ1wiIT10eXBlb2YgYltnXXx8XCJcIj09PWJbZ10ucmVwbGFjZSh2LFwiXCIpP2Y6MDpiYShhLGcpLHZvaWQgMCE9PWpbZ10mJihoPW5ldyBzYShqLGcsaltnXSxoKSkpO2lmKGQpZm9yKGcgaW4gZClcImNsYXNzTmFtZVwiIT09ZyYmKGlbZ109ZFtnXSk7cmV0dXJue2RpZnM6aSxmaXJzdE1QVDpofX0sZWE9e3dpZHRoOltcIkxlZnRcIixcIlJpZ2h0XCJdLGhlaWdodDpbXCJUb3BcIixcIkJvdHRvbVwiXX0sZmE9W1wibWFyZ2luTGVmdFwiLFwibWFyZ2luUmlnaHRcIixcIm1hcmdpblRvcFwiLFwibWFyZ2luQm90dG9tXCJdLGdhPWZ1bmN0aW9uKGEsYixjKXtpZihcInN2Z1wiPT09KGEubm9kZU5hbWUrXCJcIikudG9Mb3dlckNhc2UoKSlyZXR1cm4oY3x8JChhKSlbYl18fDA7aWYoYS5nZXRDVE0mJk9hKGEpKXJldHVybiBhLmdldEJCb3goKVtiXXx8MDt2YXIgZD1wYXJzZUZsb2F0KFwid2lkdGhcIj09PWI/YS5vZmZzZXRXaWR0aDphLm9mZnNldEhlaWdodCksZT1lYVtiXSxmPWUubGVuZ3RoO2ZvcihjPWN8fCQoYSxudWxsKTstLWY+LTE7KWQtPXBhcnNlRmxvYXQoXyhhLFwicGFkZGluZ1wiK2VbZl0sYywhMCkpfHwwLGQtPXBhcnNlRmxvYXQoXyhhLFwiYm9yZGVyXCIrZVtmXStcIldpZHRoXCIsYywhMCkpfHwwO3JldHVybiBkfSxoYT1mdW5jdGlvbihhLGIpe2lmKFwiY29udGFpblwiPT09YXx8XCJhdXRvXCI9PT1hfHxcImF1dG8gYXV0b1wiPT09YSlyZXR1cm4gYStcIiBcIjsobnVsbD09YXx8XCJcIj09PWEpJiYoYT1cIjAgMFwiKTt2YXIgYyxkPWEuc3BsaXQoXCIgXCIpLGU9LTEhPT1hLmluZGV4T2YoXCJsZWZ0XCIpP1wiMCVcIjotMSE9PWEuaW5kZXhPZihcInJpZ2h0XCIpP1wiMTAwJVwiOmRbMF0sZj0tMSE9PWEuaW5kZXhPZihcInRvcFwiKT9cIjAlXCI6LTEhPT1hLmluZGV4T2YoXCJib3R0b21cIik/XCIxMDAlXCI6ZFsxXTtpZihkLmxlbmd0aD4zJiYhYil7Zm9yKGQ9YS5zcGxpdChcIiwgXCIpLmpvaW4oXCIsXCIpLnNwbGl0KFwiLFwiKSxhPVtdLGM9MDtjPGQubGVuZ3RoO2MrKylhLnB1c2goaGEoZFtjXSkpO3JldHVybiBhLmpvaW4oXCIsXCIpfXJldHVybiBudWxsPT1mP2Y9XCJjZW50ZXJcIj09PWU/XCI1MCVcIjpcIjBcIjpcImNlbnRlclwiPT09ZiYmKGY9XCI1MCVcIiksKFwiY2VudGVyXCI9PT1lfHxpc05hTihwYXJzZUZsb2F0KGUpKSYmLTE9PT0oZStcIlwiKS5pbmRleE9mKFwiPVwiKSkmJihlPVwiNTAlXCIpLGE9ZStcIiBcIitmKyhkLmxlbmd0aD4yP1wiIFwiK2RbMl06XCJcIiksYiYmKGIub3hwPS0xIT09ZS5pbmRleE9mKFwiJVwiKSxiLm95cD0tMSE9PWYuaW5kZXhPZihcIiVcIiksYi5veHI9XCI9XCI9PT1lLmNoYXJBdCgxKSxiLm95cj1cIj1cIj09PWYuY2hhckF0KDEpLGIub3g9cGFyc2VGbG9hdChlLnJlcGxhY2UodixcIlwiKSksYi5veT1wYXJzZUZsb2F0KGYucmVwbGFjZSh2LFwiXCIpKSxiLnY9YSksYnx8YX0saWE9ZnVuY3Rpb24oYSxiKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBhJiYoYT1hKHIscSkpLFwic3RyaW5nXCI9PXR5cGVvZiBhJiZcIj1cIj09PWEuY2hhckF0KDEpP3BhcnNlSW50KGEuY2hhckF0KDApK1wiMVwiLDEwKSpwYXJzZUZsb2F0KGEuc3Vic3RyKDIpKTpwYXJzZUZsb2F0KGEpLXBhcnNlRmxvYXQoYil8fDB9LGphPWZ1bmN0aW9uKGEsYil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgYSYmKGE9YShyLHEpKSxudWxsPT1hP2I6XCJzdHJpbmdcIj09dHlwZW9mIGEmJlwiPVwiPT09YS5jaGFyQXQoMSk/cGFyc2VJbnQoYS5jaGFyQXQoMCkrXCIxXCIsMTApKnBhcnNlRmxvYXQoYS5zdWJzdHIoMikpK2I6cGFyc2VGbG9hdChhKXx8MH0sa2E9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPTFlLTY7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgYSYmKGE9YShyLHEpKSxudWxsPT1hP2g9YjpcIm51bWJlclwiPT10eXBlb2YgYT9oPWE6KGU9MzYwLGY9YS5zcGxpdChcIl9cIiksaT1cIj1cIj09PWEuY2hhckF0KDEpLGc9KGk/cGFyc2VJbnQoYS5jaGFyQXQoMCkrXCIxXCIsMTApKnBhcnNlRmxvYXQoZlswXS5zdWJzdHIoMikpOnBhcnNlRmxvYXQoZlswXSkpKigtMT09PWEuaW5kZXhPZihcInJhZFwiKT8xOkwpLShpPzA6YiksZi5sZW5ndGgmJihkJiYoZFtjXT1iK2cpLC0xIT09YS5pbmRleE9mKFwic2hvcnRcIikmJihnJT1lLGchPT1nJShlLzIpJiYoZz0wPmc/ZytlOmctZSkpLC0xIT09YS5pbmRleE9mKFwiX2N3XCIpJiYwPmc/Zz0oZys5OTk5OTk5OTk5KmUpJWUtKGcvZXwwKSplOi0xIT09YS5pbmRleE9mKFwiY2N3XCIpJiZnPjAmJihnPShnLTk5OTk5OTk5OTkqZSklZS0oZy9lfDApKmUpKSxoPWIrZyksaj5oJiZoPi1qJiYoaD0wKSxofSxsYT17YXF1YTpbMCwyNTUsMjU1XSxsaW1lOlswLDI1NSwwXSxzaWx2ZXI6WzE5MiwxOTIsMTkyXSxibGFjazpbMCwwLDBdLG1hcm9vbjpbMTI4LDAsMF0sdGVhbDpbMCwxMjgsMTI4XSxibHVlOlswLDAsMjU1XSxuYXZ5OlswLDAsMTI4XSx3aGl0ZTpbMjU1LDI1NSwyNTVdLGZ1Y2hzaWE6WzI1NSwwLDI1NV0sb2xpdmU6WzEyOCwxMjgsMF0seWVsbG93OlsyNTUsMjU1LDBdLG9yYW5nZTpbMjU1LDE2NSwwXSxncmF5OlsxMjgsMTI4LDEyOF0scHVycGxlOlsxMjgsMCwxMjhdLGdyZWVuOlswLDEyOCwwXSxyZWQ6WzI1NSwwLDBdLHBpbms6WzI1NSwxOTIsMjAzXSxjeWFuOlswLDI1NSwyNTVdLHRyYW5zcGFyZW50OlsyNTUsMjU1LDI1NSwwXX0sbWE9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhPTA+YT9hKzE6YT4xP2EtMTphLDI1NSooMT42KmE/YisoYy1iKSphKjY6LjU+YT9jOjI+MyphP2IrKGMtYikqKDIvMy1hKSo2OmIpKy41fDB9LG5hPWcucGFyc2VDb2xvcj1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGcsaCxpLGosayxsLG07aWYoYSlpZihcIm51bWJlclwiPT10eXBlb2YgYSljPVthPj4xNixhPj44JjI1NSwyNTUmYV07ZWxzZXtpZihcIixcIj09PWEuY2hhckF0KGEubGVuZ3RoLTEpJiYoYT1hLnN1YnN0cigwLGEubGVuZ3RoLTEpKSxsYVthXSljPWxhW2FdO2Vsc2UgaWYoXCIjXCI9PT1hLmNoYXJBdCgwKSk0PT09YS5sZW5ndGgmJihkPWEuY2hhckF0KDEpLGU9YS5jaGFyQXQoMiksZj1hLmNoYXJBdCgzKSxhPVwiI1wiK2QrZCtlK2UrZitmKSxhPXBhcnNlSW50KGEuc3Vic3RyKDEpLDE2KSxjPVthPj4xNixhPj44JjI1NSwyNTUmYV07ZWxzZSBpZihcImhzbFwiPT09YS5zdWJzdHIoMCwzKSlpZihjPW09YS5tYXRjaChzKSxiKXtpZigtMSE9PWEuaW5kZXhPZihcIj1cIikpcmV0dXJuIGEubWF0Y2godCl9ZWxzZSBnPU51bWJlcihjWzBdKSUzNjAvMzYwLGg9TnVtYmVyKGNbMV0pLzEwMCxpPU51bWJlcihjWzJdKS8xMDAsZT0uNT49aT9pKihoKzEpOmkraC1pKmgsZD0yKmktZSxjLmxlbmd0aD4zJiYoY1szXT1OdW1iZXIoYVszXSkpLGNbMF09bWEoZysxLzMsZCxlKSxjWzFdPW1hKGcsZCxlKSxjWzJdPW1hKGctMS8zLGQsZSk7ZWxzZSBjPWEubWF0Y2gocyl8fGxhLnRyYW5zcGFyZW50O2NbMF09TnVtYmVyKGNbMF0pLGNbMV09TnVtYmVyKGNbMV0pLGNbMl09TnVtYmVyKGNbMl0pLGMubGVuZ3RoPjMmJihjWzNdPU51bWJlcihjWzNdKSl9ZWxzZSBjPWxhLmJsYWNrO3JldHVybiBiJiYhbSYmKGQ9Y1swXS8yNTUsZT1jWzFdLzI1NSxmPWNbMl0vMjU1LGo9TWF0aC5tYXgoZCxlLGYpLGs9TWF0aC5taW4oZCxlLGYpLGk9KGoraykvMixqPT09az9nPWg9MDoobD1qLWssaD1pPi41P2wvKDItai1rKTpsLyhqK2spLGc9aj09PWQ/KGUtZikvbCsoZj5lPzY6MCk6aj09PWU/KGYtZCkvbCsyOihkLWUpL2wrNCxnKj02MCksY1swXT1nKy41fDAsY1sxXT0xMDAqaCsuNXwwLGNbMl09MTAwKmkrLjV8MCksY30sb2E9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj1hLm1hdGNoKHBhKXx8W10sZz0wLGg9Zi5sZW5ndGg/XCJcIjphO2ZvcihjPTA7YzxmLmxlbmd0aDtjKyspZD1mW2NdLGU9YS5zdWJzdHIoZyxhLmluZGV4T2YoZCxnKS1nKSxnKz1lLmxlbmd0aCtkLmxlbmd0aCxkPW5hKGQsYiksMz09PWQubGVuZ3RoJiZkLnB1c2goMSksaCs9ZSsoYj9cImhzbGEoXCIrZFswXStcIixcIitkWzFdK1wiJSxcIitkWzJdK1wiJSxcIitkWzNdOlwicmdiYShcIitkLmpvaW4oXCIsXCIpKStcIilcIjtyZXR1cm4gaCthLnN1YnN0cihnKX0scGE9XCIoPzpcXFxcYig/Oig/OnJnYnxyZ2JhfGhzbHxoc2xhKVxcXFwoLis/XFxcXCkpfFxcXFxCIyg/OlswLTlhLWZdezN9KXsxLDJ9XFxcXGJcIjtmb3IoaiBpbiBsYSlwYSs9XCJ8XCIraitcIlxcXFxiXCI7cGE9bmV3IFJlZ0V4cChwYStcIilcIixcImdpXCIpLGcuY29sb3JTdHJpbmdGaWx0ZXI9ZnVuY3Rpb24oYSl7dmFyIGIsYz1hWzBdK2FbMV07cGEudGVzdChjKSYmKGI9LTEhPT1jLmluZGV4T2YoXCJoc2woXCIpfHwtMSE9PWMuaW5kZXhPZihcImhzbGEoXCIpLGFbMF09b2EoYVswXSxiKSxhWzFdPW9hKGFbMV0sYikpLHBhLmxhc3RJbmRleD0wfSxiLmRlZmF1bHRTdHJpbmdGaWx0ZXJ8fChiLmRlZmF1bHRTdHJpbmdGaWx0ZXI9Zy5jb2xvclN0cmluZ0ZpbHRlcik7dmFyIHFhPWZ1bmN0aW9uKGEsYixjLGQpe2lmKG51bGw9PWEpcmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBhfTt2YXIgZSxmPWI/KGEubWF0Y2gocGEpfHxbXCJcIl0pWzBdOlwiXCIsZz1hLnNwbGl0KGYpLmpvaW4oXCJcIikubWF0Y2godSl8fFtdLGg9YS5zdWJzdHIoMCxhLmluZGV4T2YoZ1swXSkpLGk9XCIpXCI9PT1hLmNoYXJBdChhLmxlbmd0aC0xKT9cIilcIjpcIlwiLGo9LTEhPT1hLmluZGV4T2YoXCIgXCIpP1wiIFwiOlwiLFwiLGs9Zy5sZW5ndGgsbD1rPjA/Z1swXS5yZXBsYWNlKHMsXCJcIik6XCJcIjtyZXR1cm4gaz9lPWI/ZnVuY3Rpb24oYSl7dmFyIGIsbSxuLG87aWYoXCJudW1iZXJcIj09dHlwZW9mIGEpYSs9bDtlbHNlIGlmKGQmJkkudGVzdChhKSl7Zm9yKG89YS5yZXBsYWNlKEksXCJ8XCIpLnNwbGl0KFwifFwiKSxuPTA7bjxvLmxlbmd0aDtuKyspb1tuXT1lKG9bbl0pO3JldHVybiBvLmpvaW4oXCIsXCIpfWlmKGI9KGEubWF0Y2gocGEpfHxbZl0pWzBdLG09YS5zcGxpdChiKS5qb2luKFwiXCIpLm1hdGNoKHUpfHxbXSxuPW0ubGVuZ3RoLGs+bi0tKWZvcig7KytuPGs7KW1bbl09Yz9tWyhuLTEpLzJ8MF06Z1tuXTtyZXR1cm4gaCttLmpvaW4oaikraitiK2krKC0xIT09YS5pbmRleE9mKFwiaW5zZXRcIik/XCIgaW5zZXRcIjpcIlwiKX06ZnVuY3Rpb24oYSl7dmFyIGIsZixtO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBhKWErPWw7ZWxzZSBpZihkJiZJLnRlc3QoYSkpe2ZvcihmPWEucmVwbGFjZShJLFwifFwiKS5zcGxpdChcInxcIiksbT0wO208Zi5sZW5ndGg7bSsrKWZbbV09ZShmW21dKTtyZXR1cm4gZi5qb2luKFwiLFwiKX1pZihiPWEubWF0Y2godSl8fFtdLG09Yi5sZW5ndGgsaz5tLS0pZm9yKDsrK208azspYlttXT1jP2JbKG0tMSkvMnwwXTpnW21dO3JldHVybiBoK2Iuam9pbihqKStpfTpmdW5jdGlvbihhKXtyZXR1cm4gYX19LHJhPWZ1bmN0aW9uKGEpe3JldHVybiBhPWEuc3BsaXQoXCIsXCIpLGZ1bmN0aW9uKGIsYyxkLGUsZixnLGgpe3ZhciBpLGo9KGMrXCJcIikuc3BsaXQoXCIgXCIpO2ZvcihoPXt9LGk9MDs0Pmk7aSsrKWhbYVtpXV09altpXT1qW2ldfHxqWyhpLTEpLzI+PjBdO3JldHVybiBlLnBhcnNlKGIsaCxmLGcpfX0sc2E9KFMuX3NldFBsdWdpblJhdGlvPWZ1bmN0aW9uKGEpe3RoaXMucGx1Z2luLnNldFJhdGlvKGEpO2Zvcih2YXIgYixjLGQsZSxmLGc9dGhpcy5kYXRhLGg9Zy5wcm94eSxpPWcuZmlyc3RNUFQsaj0xZS02O2k7KWI9aFtpLnZdLGkucj9iPU1hdGgucm91bmQoYik6aj5iJiZiPi1qJiYoYj0wKSxpLnRbaS5wXT1iLGk9aS5fbmV4dDtpZihnLmF1dG9Sb3RhdGUmJihnLmF1dG9Sb3RhdGUucm90YXRpb249Zy5tb2Q/Zy5tb2QoaC5yb3RhdGlvbix0aGlzLnQpOmgucm90YXRpb24pLDE9PT1hfHwwPT09YSlmb3IoaT1nLmZpcnN0TVBULGY9MT09PWE/XCJlXCI6XCJiXCI7aTspe2lmKGM9aS50LGMudHlwZSl7aWYoMT09PWMudHlwZSl7Zm9yKGU9Yy54czArYy5zK2MueHMxLGQ9MTtkPGMubDtkKyspZSs9Y1tcInhuXCIrZF0rY1tcInhzXCIrKGQrMSldO2NbZl09ZX19ZWxzZSBjW2ZdPWMucytjLnhzMDtpPWkuX25leHR9fSxmdW5jdGlvbihhLGIsYyxkLGUpe3RoaXMudD1hLHRoaXMucD1iLHRoaXMudj1jLHRoaXMucj1lLGQmJihkLl9wcmV2PXRoaXMsdGhpcy5fbmV4dD1kKX0pLHRhPShTLl9wYXJzZVRvUHJveHk9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnLGgsaSxqLGssbD1kLG09e30sbj17fSxvPWMuX3RyYW5zZm9ybSxwPU07Zm9yKGMuX3RyYW5zZm9ybT1udWxsLE09YixkPWs9Yy5wYXJzZShhLGIsZCxlKSxNPXAsZiYmKGMuX3RyYW5zZm9ybT1vLGwmJihsLl9wcmV2PW51bGwsbC5fcHJldiYmKGwuX3ByZXYuX25leHQ9bnVsbCkpKTtkJiZkIT09bDspe2lmKGQudHlwZTw9MSYmKGg9ZC5wLG5baF09ZC5zK2QuYyxtW2hdPWQucyxmfHwoaj1uZXcgc2EoZCxcInNcIixoLGosZC5yKSxkLmM9MCksMT09PWQudHlwZSkpZm9yKGc9ZC5sOy0tZz4wOylpPVwieG5cIitnLGg9ZC5wK1wiX1wiK2ksbltoXT1kLmRhdGFbaV0sbVtoXT1kW2ldLGZ8fChqPW5ldyBzYShkLGksaCxqLGQucnhwW2ldKSk7ZD1kLl9uZXh0fXJldHVybntwcm94eTptLGVuZDpuLGZpcnN0TVBUOmoscHQ6a319LFMuQ1NTUHJvcFR3ZWVuPWZ1bmN0aW9uKGEsYixkLGUsZyxoLGksaixrLGwsbSl7dGhpcy50PWEsdGhpcy5wPWIsdGhpcy5zPWQsdGhpcy5jPWUsdGhpcy5uPWl8fGIsYSBpbnN0YW5jZW9mIHRhfHxmLnB1c2godGhpcy5uKSx0aGlzLnI9aix0aGlzLnR5cGU9aHx8MCxrJiYodGhpcy5wcj1rLGM9ITApLHRoaXMuYj12b2lkIDA9PT1sP2Q6bCx0aGlzLmU9dm9pZCAwPT09bT9kK2U6bSxnJiYodGhpcy5fbmV4dD1nLGcuX3ByZXY9dGhpcyl9KSx1YT1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9bmV3IHRhKGEsYixjLGQtYyxlLC0xLGYpO3JldHVybiBnLmI9YyxnLmU9Zy54czA9ZCxnfSx2YT1nLnBhcnNlQ29tcGxleD1mdW5jdGlvbihhLGIsYyxkLGUsZixoLGksaixsKXtjPWN8fGZ8fFwiXCIsXCJmdW5jdGlvblwiPT10eXBlb2YgZCYmKGQ9ZChyLHEpKSxoPW5ldyB0YShhLGIsMCwwLGgsbD8yOjEsbnVsbCwhMSxpLGMsZCksZCs9XCJcIixlJiZwYS50ZXN0KGQrYykmJihkPVtjLGRdLGcuY29sb3JTdHJpbmdGaWx0ZXIoZCksYz1kWzBdLGQ9ZFsxXSk7dmFyIG0sbixvLHAsdSx2LHcseCx5LHosQSxCLEMsRD1jLnNwbGl0KFwiLCBcIikuam9pbihcIixcIikuc3BsaXQoXCIgXCIpLEU9ZC5zcGxpdChcIiwgXCIpLmpvaW4oXCIsXCIpLnNwbGl0KFwiIFwiKSxGPUQubGVuZ3RoLEc9ayE9PSExO2ZvcigoLTEhPT1kLmluZGV4T2YoXCIsXCIpfHwtMSE9PWMuaW5kZXhPZihcIixcIikpJiYoRD1ELmpvaW4oXCIgXCIpLnJlcGxhY2UoSSxcIiwgXCIpLnNwbGl0KFwiIFwiKSxFPUUuam9pbihcIiBcIikucmVwbGFjZShJLFwiLCBcIikuc3BsaXQoXCIgXCIpLEY9RC5sZW5ndGgpLEYhPT1FLmxlbmd0aCYmKEQ9KGZ8fFwiXCIpLnNwbGl0KFwiIFwiKSxGPUQubGVuZ3RoKSxoLnBsdWdpbj1qLGguc2V0UmF0aW89bCxwYS5sYXN0SW5kZXg9MCxtPTA7Rj5tO20rKylpZihwPURbbV0sdT1FW21dLHg9cGFyc2VGbG9hdChwKSx4fHwwPT09eCloLmFwcGVuZFh0cmEoXCJcIix4LGlhKHUseCksdS5yZXBsYWNlKHQsXCJcIiksRyYmLTEhPT11LmluZGV4T2YoXCJweFwiKSwhMCk7ZWxzZSBpZihlJiZwYS50ZXN0KHApKUI9dS5pbmRleE9mKFwiKVwiKSsxLEI9XCIpXCIrKEI/dS5zdWJzdHIoQik6XCJcIiksQz0tMSE9PXUuaW5kZXhPZihcImhzbFwiKSYmVSxwPW5hKHAsQyksdT1uYSh1LEMpLHk9cC5sZW5ndGgrdS5sZW5ndGg+Nix5JiYhVSYmMD09PXVbM10/KGhbXCJ4c1wiK2gubF0rPWgubD9cIiB0cmFuc3BhcmVudFwiOlwidHJhbnNwYXJlbnRcIixoLmU9aC5lLnNwbGl0KEVbbV0pLmpvaW4oXCJ0cmFuc3BhcmVudFwiKSk6KFV8fCh5PSExKSxDP2guYXBwZW5kWHRyYSh5P1wiaHNsYShcIjpcImhzbChcIixwWzBdLGlhKHVbMF0scFswXSksXCIsXCIsITEsITApLmFwcGVuZFh0cmEoXCJcIixwWzFdLGlhKHVbMV0scFsxXSksXCIlLFwiLCExKS5hcHBlbmRYdHJhKFwiXCIscFsyXSxpYSh1WzJdLHBbMl0pLHk/XCIlLFwiOlwiJVwiK0IsITEpOmguYXBwZW5kWHRyYSh5P1wicmdiYShcIjpcInJnYihcIixwWzBdLHVbMF0tcFswXSxcIixcIiwhMCwhMCkuYXBwZW5kWHRyYShcIlwiLHBbMV0sdVsxXS1wWzFdLFwiLFwiLCEwKS5hcHBlbmRYdHJhKFwiXCIscFsyXSx1WzJdLXBbMl0seT9cIixcIjpCLCEwKSx5JiYocD1wLmxlbmd0aDw0PzE6cFszXSxoLmFwcGVuZFh0cmEoXCJcIixwLCh1Lmxlbmd0aDw0PzE6dVszXSktcCxCLCExKSkpLHBhLmxhc3RJbmRleD0wO2Vsc2UgaWYodj1wLm1hdGNoKHMpKXtpZih3PXUubWF0Y2godCksIXd8fHcubGVuZ3RoIT09di5sZW5ndGgpcmV0dXJuIGg7Zm9yKG89MCxuPTA7bjx2Lmxlbmd0aDtuKyspQT12W25dLHo9cC5pbmRleE9mKEEsbyksaC5hcHBlbmRYdHJhKHAuc3Vic3RyKG8sei1vKSxOdW1iZXIoQSksaWEod1tuXSxBKSxcIlwiLEcmJlwicHhcIj09PXAuc3Vic3RyKHorQS5sZW5ndGgsMiksMD09PW4pLG89eitBLmxlbmd0aDtoW1wieHNcIitoLmxdKz1wLnN1YnN0cihvKX1lbHNlIGhbXCJ4c1wiK2gubF0rPWgubHx8aFtcInhzXCIraC5sXT9cIiBcIit1OnU7aWYoLTEhPT1kLmluZGV4T2YoXCI9XCIpJiZoLmRhdGEpe2ZvcihCPWgueHMwK2guZGF0YS5zLG09MTttPGgubDttKyspQis9aFtcInhzXCIrbV0raC5kYXRhW1wieG5cIittXTtoLmU9QitoW1wieHNcIittXX1yZXR1cm4gaC5sfHwoaC50eXBlPS0xLGgueHMwPWguZSksaC54Zmlyc3R8fGh9LHdhPTk7Zm9yKGo9dGEucHJvdG90eXBlLGoubD1qLnByPTA7LS13YT4wOylqW1wieG5cIit3YV09MCxqW1wieHNcIit3YV09XCJcIjtqLnhzMD1cIlwiLGouX25leHQ9ai5fcHJldj1qLnhmaXJzdD1qLmRhdGE9ai5wbHVnaW49ai5zZXRSYXRpbz1qLnJ4cD1udWxsLGouYXBwZW5kWHRyYT1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9dGhpcyxoPWcubDtyZXR1cm4gZ1tcInhzXCIraF0rPWYmJihofHxnW1wieHNcIitoXSk/XCIgXCIrYTphfHxcIlwiLGN8fDA9PT1ofHxnLnBsdWdpbj8oZy5sKyssZy50eXBlPWcuc2V0UmF0aW8/MjoxLGdbXCJ4c1wiK2cubF09ZHx8XCJcIixoPjA/KGcuZGF0YVtcInhuXCIraF09YitjLGcucnhwW1wieG5cIitoXT1lLGdbXCJ4blwiK2hdPWIsZy5wbHVnaW58fChnLnhmaXJzdD1uZXcgdGEoZyxcInhuXCIraCxiLGMsZy54Zmlyc3R8fGcsMCxnLm4sZSxnLnByKSxnLnhmaXJzdC54czA9MCksZyk6KGcuZGF0YT17czpiK2N9LGcucnhwPXt9LGcucz1iLGcuYz1jLGcucj1lLGcpKTooZ1tcInhzXCIraF0rPWIrKGR8fFwiXCIpLGcpfTt2YXIgeGE9ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9LHRoaXMucD1iLnByZWZpeD9aKGEpfHxhOmEsaVthXT1pW3RoaXMucF09dGhpcyx0aGlzLmZvcm1hdD1iLmZvcm1hdHRlcnx8cWEoYi5kZWZhdWx0VmFsdWUsYi5jb2xvcixiLmNvbGxhcHNpYmxlLGIubXVsdGkpLGIucGFyc2VyJiYodGhpcy5wYXJzZT1iLnBhcnNlciksdGhpcy5jbHJzPWIuY29sb3IsdGhpcy5tdWx0aT1iLm11bHRpLHRoaXMua2V5d29yZD1iLmtleXdvcmQsdGhpcy5kZmx0PWIuZGVmYXVsdFZhbHVlLHRoaXMucHI9Yi5wcmlvcml0eXx8MH0seWE9Uy5fcmVnaXN0ZXJDb21wbGV4U3BlY2lhbFByb3A9ZnVuY3Rpb24oYSxiLGMpe1wib2JqZWN0XCIhPXR5cGVvZiBiJiYoYj17cGFyc2VyOmN9KTt2YXIgZCxlLGY9YS5zcGxpdChcIixcIiksZz1iLmRlZmF1bHRWYWx1ZTtmb3IoYz1jfHxbZ10sZD0wO2Q8Zi5sZW5ndGg7ZCsrKWIucHJlZml4PTA9PT1kJiZiLnByZWZpeCxiLmRlZmF1bHRWYWx1ZT1jW2RdfHxnLGU9bmV3IHhhKGZbZF0sYil9LHphPVMuX3JlZ2lzdGVyUGx1Z2luUHJvcD1mdW5jdGlvbihhKXtpZighaVthXSl7dmFyIGI9YS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKStcIlBsdWdpblwiO3lhKGEse3BhcnNlcjpmdW5jdGlvbihhLGMsZCxlLGYsZyxqKXt2YXIgaz1oLmNvbS5ncmVlbnNvY2sucGx1Z2luc1tiXTtyZXR1cm4gaz8oay5fY3NzUmVnaXN0ZXIoKSxpW2RdLnBhcnNlKGEsYyxkLGUsZixnLGopKTooVyhcIkVycm9yOiBcIitiK1wiIGpzIGZpbGUgbm90IGxvYWRlZC5cIiksZil9fSl9fTtqPXhhLnByb3RvdHlwZSxqLnBhcnNlQ29tcGxleD1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGcsaCxpLGosayxsLG09dGhpcy5rZXl3b3JkO2lmKHRoaXMubXVsdGkmJihJLnRlc3QoYyl8fEkudGVzdChiKT8oaD1iLnJlcGxhY2UoSSxcInxcIikuc3BsaXQoXCJ8XCIpLGk9Yy5yZXBsYWNlKEksXCJ8XCIpLnNwbGl0KFwifFwiKSk6bSYmKGg9W2JdLGk9W2NdKSksaSl7Zm9yKGo9aS5sZW5ndGg+aC5sZW5ndGg/aS5sZW5ndGg6aC5sZW5ndGgsZz0wO2o+ZztnKyspYj1oW2ddPWhbZ118fHRoaXMuZGZsdCxjPWlbZ109aVtnXXx8dGhpcy5kZmx0LG0mJihrPWIuaW5kZXhPZihtKSxsPWMuaW5kZXhPZihtKSxrIT09bCYmKC0xPT09bD9oW2ddPWhbZ10uc3BsaXQobSkuam9pbihcIlwiKTotMT09PWsmJihoW2ddKz1cIiBcIittKSkpO2I9aC5qb2luKFwiLCBcIiksYz1pLmpvaW4oXCIsIFwiKX1yZXR1cm4gdmEoYSx0aGlzLnAsYixjLHRoaXMuY2xycyx0aGlzLmRmbHQsZCx0aGlzLnByLGUsZil9LGoucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCxmLGcsaCl7cmV0dXJuIHRoaXMucGFyc2VDb21wbGV4KGEuc3R5bGUsdGhpcy5mb3JtYXQoXyhhLHRoaXMucCxlLCExLHRoaXMuZGZsdCkpLHRoaXMuZm9ybWF0KGIpLGYsZyl9LGcucmVnaXN0ZXJTcGVjaWFsUHJvcD1mdW5jdGlvbihhLGIsYyl7eWEoYSx7cGFyc2VyOmZ1bmN0aW9uKGEsZCxlLGYsZyxoLGkpe3ZhciBqPW5ldyB0YShhLGUsMCwwLGcsMixlLCExLGMpO3JldHVybiBqLnBsdWdpbj1oLGouc2V0UmF0aW89YihhLGQsZi5fdHdlZW4sZSksan0scHJpb3JpdHk6Y30pfSxnLnVzZVNWR1RyYW5zZm9ybUF0dHI9ITA7dmFyIEFhLEJhPVwic2NhbGVYLHNjYWxlWSxzY2FsZVoseCx5LHosc2tld1gsc2tld1kscm90YXRpb24scm90YXRpb25YLHJvdGF0aW9uWSxwZXJzcGVjdGl2ZSx4UGVyY2VudCx5UGVyY2VudFwiLnNwbGl0KFwiLFwiKSxDYT1aKFwidHJhbnNmb3JtXCIpLERhPVgrXCJ0cmFuc2Zvcm1cIixFYT1aKFwidHJhbnNmb3JtT3JpZ2luXCIpLEZhPW51bGwhPT1aKFwicGVyc3BlY3RpdmVcIiksR2E9Uy5UcmFuc2Zvcm09ZnVuY3Rpb24oKXt0aGlzLnBlcnNwZWN0aXZlPXBhcnNlRmxvYXQoZy5kZWZhdWx0VHJhbnNmb3JtUGVyc3BlY3RpdmUpfHwwLHRoaXMuZm9yY2UzRD1nLmRlZmF1bHRGb3JjZTNEIT09ITEmJkZhP2cuZGVmYXVsdEZvcmNlM0R8fFwiYXV0b1wiOiExfSxIYT1fZ3NTY29wZS5TVkdFbGVtZW50LElhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPU8uY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixhKSxmPS8oW2Etel0pKFtBLVpdKS9nO2ZvcihkIGluIGMpZS5zZXRBdHRyaWJ1dGVOUyhudWxsLGQucmVwbGFjZShmLFwiJDEtJDJcIikudG9Mb3dlckNhc2UoKSxjW2RdKTtyZXR1cm4gYi5hcHBlbmRDaGlsZChlKSxlfSxKYT1PLmRvY3VtZW50RWxlbWVudHx8e30sS2E9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZD1wfHwvQW5kcm9pZC9pLnRlc3QoVCkmJiFfZ3NTY29wZS5jaHJvbWU7cmV0dXJuIE8uY3JlYXRlRWxlbWVudE5TJiYhZCYmKGE9SWEoXCJzdmdcIixKYSksYj1JYShcInJlY3RcIixhLHt3aWR0aDoxMDAsaGVpZ2h0OjUwLHg6MTAwfSksYz1iLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoLGIuc3R5bGVbRWFdPVwiNTAlIDUwJVwiLGIuc3R5bGVbQ2FdPVwic2NhbGVYKDAuNSlcIixkPWM9PT1iLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoJiYhKG4mJkZhKSxKYS5yZW1vdmVDaGlsZChhKSksZH0oKSxMYT1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2PWEuX2dzVHJhbnNmb3JtLHc9UWEoYSwhMCk7diYmKHQ9di54T3JpZ2luLHU9di55T3JpZ2luKSwoIWR8fChoPWQuc3BsaXQoXCIgXCIpKS5sZW5ndGg8MikmJihuPWEuZ2V0QkJveCgpLDA9PT1uLngmJjA9PT1uLnkmJm4ud2lkdGgrbi5oZWlnaHQ9PT0wJiYobj17eDpwYXJzZUZsb2F0KGEuaGFzQXR0cmlidXRlKFwieFwiKT9hLmdldEF0dHJpYnV0ZShcInhcIik6YS5oYXNBdHRyaWJ1dGUoXCJjeFwiKT9hLmdldEF0dHJpYnV0ZShcImN4XCIpOjApfHwwLHk6cGFyc2VGbG9hdChhLmhhc0F0dHJpYnV0ZShcInlcIik/YS5nZXRBdHRyaWJ1dGUoXCJ5XCIpOmEuaGFzQXR0cmlidXRlKFwiY3lcIik/YS5nZXRBdHRyaWJ1dGUoXCJjeVwiKTowKXx8MCx3aWR0aDowLGhlaWdodDowfSksYj1oYShiKS5zcGxpdChcIiBcIiksaD1bKC0xIT09YlswXS5pbmRleE9mKFwiJVwiKT9wYXJzZUZsb2F0KGJbMF0pLzEwMCpuLndpZHRoOnBhcnNlRmxvYXQoYlswXSkpK24ueCwoLTEhPT1iWzFdLmluZGV4T2YoXCIlXCIpP3BhcnNlRmxvYXQoYlsxXSkvMTAwKm4uaGVpZ2h0OnBhcnNlRmxvYXQoYlsxXSkpK24ueV0pLGMueE9yaWdpbj1rPXBhcnNlRmxvYXQoaFswXSksYy55T3JpZ2luPWw9cGFyc2VGbG9hdChoWzFdKSxkJiZ3IT09UGEmJihtPXdbMF0sbj13WzFdLG89d1syXSxwPXdbM10scT13WzRdLHI9d1s1XSxzPW0qcC1uKm8scyYmKGk9ayoocC9zKStsKigtby9zKSsobypyLXAqcSkvcyxqPWsqKC1uL3MpK2wqKG0vcyktKG0qci1uKnEpL3Msaz1jLnhPcmlnaW49aFswXT1pLGw9Yy55T3JpZ2luPWhbMV09aikpLHYmJihmJiYoYy54T2Zmc2V0PXYueE9mZnNldCxjLnlPZmZzZXQ9di55T2Zmc2V0LHY9YyksZXx8ZSE9PSExJiZnLmRlZmF1bHRTbW9vdGhPcmlnaW4hPT0hMT8oaT1rLXQsaj1sLXUsdi54T2Zmc2V0Kz1pKndbMF0raip3WzJdLWksdi55T2Zmc2V0Kz1pKndbMV0raip3WzNdLWopOnYueE9mZnNldD12LnlPZmZzZXQ9MCksZnx8YS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXN2Zy1vcmlnaW5cIixoLmpvaW4oXCIgXCIpKX0sTWE9ZnVuY3Rpb24oYSl7dmFyIGIsYz1QKFwic3ZnXCIsdGhpcy5vd25lclNWR0VsZW1lbnQuZ2V0QXR0cmlidXRlKFwieG1sbnNcIil8fFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiksZD10aGlzLnBhcmVudE5vZGUsZT10aGlzLm5leHRTaWJsaW5nLGY9dGhpcy5zdHlsZS5jc3NUZXh0O2lmKEphLmFwcGVuZENoaWxkKGMpLGMuYXBwZW5kQ2hpbGQodGhpcyksdGhpcy5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIixhKXRyeXtiPXRoaXMuZ2V0QkJveCgpLHRoaXMuX29yaWdpbmFsR2V0QkJveD10aGlzLmdldEJCb3gsdGhpcy5nZXRCQm94PU1hfWNhdGNoKGcpe31lbHNlIHRoaXMuX29yaWdpbmFsR2V0QkJveCYmKGI9dGhpcy5fb3JpZ2luYWxHZXRCQm94KCkpO3JldHVybiBlP2QuaW5zZXJ0QmVmb3JlKHRoaXMsZSk6ZC5hcHBlbmRDaGlsZCh0aGlzKSxKYS5yZW1vdmVDaGlsZChjKSx0aGlzLnN0eWxlLmNzc1RleHQ9ZixifSxOYT1mdW5jdGlvbihhKXt0cnl7cmV0dXJuIGEuZ2V0QkJveCgpfWNhdGNoKGIpe3JldHVybiBNYS5jYWxsKGEsITApfX0sT2E9ZnVuY3Rpb24oYSl7cmV0dXJuISghKEhhJiZhLmdldENUTSYmTmEoYSkpfHxhLnBhcmVudE5vZGUmJiFhLm93bmVyU1ZHRWxlbWVudCl9LFBhPVsxLDAsMCwxLDAsMF0sUWE9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnLGgsaT1hLl9nc1RyYW5zZm9ybXx8bmV3IEdhLGo9MWU1LGs9YS5zdHlsZTtpZihDYT9kPV8oYSxEYSxudWxsLCEwKTphLmN1cnJlbnRTdHlsZSYmKGQ9YS5jdXJyZW50U3R5bGUuZmlsdGVyLm1hdGNoKEcpLGQ9ZCYmND09PWQubGVuZ3RoP1tkWzBdLnN1YnN0cig0KSxOdW1iZXIoZFsyXS5zdWJzdHIoNCkpLE51bWJlcihkWzFdLnN1YnN0cig0KSksZFszXS5zdWJzdHIoNCksaS54fHwwLGkueXx8MF0uam9pbihcIixcIik6XCJcIiksYz0hZHx8XCJub25lXCI9PT1kfHxcIm1hdHJpeCgxLCAwLCAwLCAxLCAwLCAwKVwiPT09ZCxjJiZDYSYmKChoPVwibm9uZVwiPT09JChhKS5kaXNwbGF5KXx8IWEucGFyZW50Tm9kZSkmJihoJiYoZj1rLmRpc3BsYXksay5kaXNwbGF5PVwiYmxvY2tcIiksYS5wYXJlbnROb2RlfHwoZz0xLEphLmFwcGVuZENoaWxkKGEpKSxkPV8oYSxEYSxudWxsLCEwKSxjPSFkfHxcIm5vbmVcIj09PWR8fFwibWF0cml4KDEsIDAsIDAsIDEsIDAsIDApXCI9PT1kLGY/ay5kaXNwbGF5PWY6aCYmVmEoayxcImRpc3BsYXlcIiksZyYmSmEucmVtb3ZlQ2hpbGQoYSkpLChpLnN2Z3x8YS5nZXRDVE0mJk9hKGEpKSYmKGMmJi0xIT09KGtbQ2FdK1wiXCIpLmluZGV4T2YoXCJtYXRyaXhcIikmJihkPWtbQ2FdLGM9MCksZT1hLmdldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiKSxjJiZlJiYoLTEhPT1lLmluZGV4T2YoXCJtYXRyaXhcIik/KGQ9ZSxjPTApOi0xIT09ZS5pbmRleE9mKFwidHJhbnNsYXRlXCIpJiYoZD1cIm1hdHJpeCgxLDAsMCwxLFwiK2UubWF0Y2goLyg/OlxcLXxcXGIpW1xcZFxcLVxcLmVdK1xcYi9naSkuam9pbihcIixcIikrXCIpXCIsYz0wKSkpLGMpcmV0dXJuIFBhO2ZvcihlPShkfHxcIlwiKS5tYXRjaChzKXx8W10sd2E9ZS5sZW5ndGg7LS13YT4tMTspZj1OdW1iZXIoZVt3YV0pLGVbd2FdPShnPWYtKGZ8PTApKT8oZypqKygwPmc/LS41Oi41KXwwKS9qK2Y6ZjtyZXR1cm4gYiYmZS5sZW5ndGg+Nj9bZVswXSxlWzFdLGVbNF0sZVs1XSxlWzEyXSxlWzEzXV06ZX0sUmE9Uy5nZXRUcmFuc2Zvcm09ZnVuY3Rpb24oYSxjLGQsZSl7aWYoYS5fZ3NUcmFuc2Zvcm0mJmQmJiFlKXJldHVybiBhLl9nc1RyYW5zZm9ybTt2YXIgZixoLGksaixrLGwsbT1kP2EuX2dzVHJhbnNmb3JtfHxuZXcgR2E6bmV3IEdhLG49bS5zY2FsZVg8MCxvPTJlLTUscD0xZTUscT1GYT9wYXJzZUZsb2F0KF8oYSxFYSxjLCExLFwiMCAwIDBcIikuc3BsaXQoXCIgXCIpWzJdKXx8bS56T3JpZ2lufHwwOjAscj1wYXJzZUZsb2F0KGcuZGVmYXVsdFRyYW5zZm9ybVBlcnNwZWN0aXZlKXx8MDtpZihtLnN2Zz0hKCFhLmdldENUTXx8IU9hKGEpKSxtLnN2ZyYmKExhKGEsXyhhLEVhLGMsITEsXCI1MCUgNTAlXCIpK1wiXCIsbSxhLmdldEF0dHJpYnV0ZShcImRhdGEtc3ZnLW9yaWdpblwiKSksQWE9Zy51c2VTVkdUcmFuc2Zvcm1BdHRyfHxLYSksZj1RYShhKSxmIT09UGEpe2lmKDE2PT09Zi5sZW5ndGgpe3ZhciBzLHQsdSx2LHcseD1mWzBdLHk9ZlsxXSx6PWZbMl0sQT1mWzNdLEI9Zls0XSxDPWZbNV0sRD1mWzZdLEU9Zls3XSxGPWZbOF0sRz1mWzldLEg9ZlsxMF0sST1mWzEyXSxKPWZbMTNdLEs9ZlsxNF0sTT1mWzExXSxOPU1hdGguYXRhbjIoRCxIKTttLnpPcmlnaW4mJihLPS1tLnpPcmlnaW4sST1GKkstZlsxMl0sSj1HKkstZlsxM10sSz1IKksrbS56T3JpZ2luLWZbMTRdKSxtLnJvdGF0aW9uWD1OKkwsTiYmKHY9TWF0aC5jb3MoLU4pLHc9TWF0aC5zaW4oLU4pLHM9Qip2K0Yqdyx0PUMqditHKncsdT1EKnYrSCp3LEY9QiotdytGKnYsRz1DKi13K0cqdixIPUQqLXcrSCp2LE09RSotdytNKnYsQj1zLEM9dCxEPXUpLE49TWF0aC5hdGFuMigteixIKSxtLnJvdGF0aW9uWT1OKkwsTiYmKHY9TWF0aC5jb3MoLU4pLHc9TWF0aC5zaW4oLU4pLHM9eCp2LUYqdyx0PXkqdi1HKncsdT16KnYtSCp3LEc9eSp3K0cqdixIPXoqdytIKnYsTT1BKncrTSp2LHg9cyx5PXQsej11KSxOPU1hdGguYXRhbjIoeSx4KSxtLnJvdGF0aW9uPU4qTCxOJiYodj1NYXRoLmNvcygtTiksdz1NYXRoLnNpbigtTikseD14KnYrQip3LHQ9eSp2K0MqdyxDPXkqLXcrQyp2LEQ9eiotdytEKnYseT10KSxtLnJvdGF0aW9uWCYmTWF0aC5hYnMobS5yb3RhdGlvblgpK01hdGguYWJzKG0ucm90YXRpb24pPjM1OS45JiYobS5yb3RhdGlvblg9bS5yb3RhdGlvbj0wLG0ucm90YXRpb25ZPTE4MC1tLnJvdGF0aW9uWSksbS5zY2FsZVg9KE1hdGguc3FydCh4KngreSp5KSpwKy41fDApL3AsbS5zY2FsZVk9KE1hdGguc3FydChDKkMrRypHKSpwKy41fDApL3AsbS5zY2FsZVo9KE1hdGguc3FydChEKkQrSCpIKSpwKy41fDApL3AsbS5yb3RhdGlvblh8fG0ucm90YXRpb25ZP20uc2tld1g9MDoobS5za2V3WD1CfHxDP01hdGguYXRhbjIoQixDKSpMK20ucm90YXRpb246bS5za2V3WHx8MCxNYXRoLmFicyhtLnNrZXdYKT45MCYmTWF0aC5hYnMobS5za2V3WCk8MjcwJiYobj8obS5zY2FsZVgqPS0xLG0uc2tld1grPW0ucm90YXRpb248PTA/MTgwOi0xODAsbS5yb3RhdGlvbis9bS5yb3RhdGlvbjw9MD8xODA6LTE4MCk6KG0uc2NhbGVZKj0tMSxtLnNrZXdYKz1tLnNrZXdYPD0wPzE4MDotMTgwKSkpLG0ucGVyc3BlY3RpdmU9TT8xLygwPk0/LU06TSk6MCxtLng9SSxtLnk9SixtLno9SyxtLnN2ZyYmKG0ueC09bS54T3JpZ2luLShtLnhPcmlnaW4qeC1tLnlPcmlnaW4qQiksbS55LT1tLnlPcmlnaW4tKG0ueU9yaWdpbip5LW0ueE9yaWdpbipDKSl9ZWxzZSBpZighRmF8fGV8fCFmLmxlbmd0aHx8bS54IT09Zls0XXx8bS55IT09Zls1XXx8IW0ucm90YXRpb25YJiYhbS5yb3RhdGlvblkpe3ZhciBPPWYubGVuZ3RoPj02LFA9Tz9mWzBdOjEsUT1mWzFdfHwwLFI9ZlsyXXx8MCxTPU8/ZlszXToxO20ueD1mWzRdfHwwLG0ueT1mWzVdfHwwLGk9TWF0aC5zcXJ0KFAqUCtRKlEpLGo9TWF0aC5zcXJ0KFMqUytSKlIpLGs9UHx8UT9NYXRoLmF0YW4yKFEsUCkqTDptLnJvdGF0aW9ufHwwLGw9Unx8Uz9NYXRoLmF0YW4yKFIsUykqTCtrOm0uc2tld1h8fDAsTWF0aC5hYnMobCk+OTAmJk1hdGguYWJzKGwpPDI3MCYmKG4/KGkqPS0xLGwrPTA+PWs/MTgwOi0xODAsays9MD49az8xODA6LTE4MCk6KGoqPS0xLGwrPTA+PWw/MTgwOi0xODApKSxtLnNjYWxlWD1pLG0uc2NhbGVZPWosbS5yb3RhdGlvbj1rLG0uc2tld1g9bCxGYSYmKG0ucm90YXRpb25YPW0ucm90YXRpb25ZPW0uej0wLG0ucGVyc3BlY3RpdmU9cixtLnNjYWxlWj0xKSxtLnN2ZyYmKG0ueC09bS54T3JpZ2luLShtLnhPcmlnaW4qUCttLnlPcmlnaW4qUiksbS55LT1tLnlPcmlnaW4tKG0ueE9yaWdpbipRK20ueU9yaWdpbipTKSl9bS56T3JpZ2luPXE7Zm9yKGggaW4gbSltW2hdPG8mJm1baF0+LW8mJihtW2hdPTApfXJldHVybiBkJiYoYS5fZ3NUcmFuc2Zvcm09bSxtLnN2ZyYmKEFhJiZhLnN0eWxlW0NhXT9iLmRlbGF5ZWRDYWxsKC4wMDEsZnVuY3Rpb24oKXtWYShhLnN0eWxlLENhKX0pOiFBYSYmYS5nZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIikmJmIuZGVsYXllZENhbGwoLjAwMSxmdW5jdGlvbigpe2EucmVtb3ZlQXR0cmlidXRlKFwidHJhbnNmb3JtXCIpfSkpKSxtfSxTYT1mdW5jdGlvbihhKXt2YXIgYixjLGQ9dGhpcy5kYXRhLGU9LWQucm90YXRpb24qSyxmPWUrZC5za2V3WCpLLGc9MWU1LGg9KE1hdGguY29zKGUpKmQuc2NhbGVYKmd8MCkvZyxpPShNYXRoLnNpbihlKSpkLnNjYWxlWCpnfDApL2csaj0oTWF0aC5zaW4oZikqLWQuc2NhbGVZKmd8MCkvZyxrPShNYXRoLmNvcyhmKSpkLnNjYWxlWSpnfDApL2csbD10aGlzLnQuc3R5bGUsbT10aGlzLnQuY3VycmVudFN0eWxlO2lmKG0pe2M9aSxpPS1qLGo9LWMsYj1tLmZpbHRlcixsLmZpbHRlcj1cIlwiO3ZhciBuLG8scT10aGlzLnQub2Zmc2V0V2lkdGgscj10aGlzLnQub2Zmc2V0SGVpZ2h0LHM9XCJhYnNvbHV0ZVwiIT09bS5wb3NpdGlvbix0PVwicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0Lk1hdHJpeChNMTE9XCIraCtcIiwgTTEyPVwiK2krXCIsIE0yMT1cIitqK1wiLCBNMjI9XCIrayx1PWQueCtxKmQueFBlcmNlbnQvMTAwLHY9ZC55K3IqZC55UGVyY2VudC8xMDA7aWYobnVsbCE9ZC5veCYmKG49KGQub3hwP3EqZC5veCouMDE6ZC5veCktcS8yLG89KGQub3lwP3IqZC5veSouMDE6ZC5veSktci8yLHUrPW4tKG4qaCtvKmkpLHYrPW8tKG4qaitvKmspKSxzPyhuPXEvMixvPXIvMix0Kz1cIiwgRHg9XCIrKG4tKG4qaCtvKmkpK3UpK1wiLCBEeT1cIisoby0obipqK28qaykrdikrXCIpXCIpOnQrPVwiLCBzaXppbmdNZXRob2Q9J2F1dG8gZXhwYW5kJylcIiwtMSE9PWIuaW5kZXhPZihcIkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0Lk1hdHJpeChcIik/bC5maWx0ZXI9Yi5yZXBsYWNlKEgsdCk6bC5maWx0ZXI9dCtcIiBcIitiLCgwPT09YXx8MT09PWEpJiYxPT09aCYmMD09PWkmJjA9PT1qJiYxPT09ayYmKHMmJi0xPT09dC5pbmRleE9mKFwiRHg9MCwgRHk9MFwiKXx8eC50ZXN0KGIpJiYxMDAhPT1wYXJzZUZsb2F0KFJlZ0V4cC4kMSl8fC0xPT09Yi5pbmRleE9mKGIuaW5kZXhPZihcIkFscGhhXCIpKSYmbC5yZW1vdmVBdHRyaWJ1dGUoXCJmaWx0ZXJcIikpLCFzKXt2YXIgeSx6LEEsQj04PnA/MTotMTtmb3Iobj1kLmllT2Zmc2V0WHx8MCxvPWQuaWVPZmZzZXRZfHwwLGQuaWVPZmZzZXRYPU1hdGgucm91bmQoKHEtKCgwPmg/LWg6aCkqcSsoMD5pPy1pOmkpKnIpKS8yK3UpLGQuaWVPZmZzZXRZPU1hdGgucm91bmQoKHItKCgwPms/LWs6aykqcisoMD5qPy1qOmopKnEpKS8yK3YpLHdhPTA7ND53YTt3YSsrKXo9ZmFbd2FdLHk9bVt6XSxjPS0xIT09eS5pbmRleE9mKFwicHhcIik/cGFyc2VGbG9hdCh5KTphYSh0aGlzLnQseixwYXJzZUZsb2F0KHkpLHkucmVwbGFjZSh3LFwiXCIpKXx8MCxBPWMhPT1kW3pdPzI+d2E/LWQuaWVPZmZzZXRYOi1kLmllT2Zmc2V0WToyPndhP24tZC5pZU9mZnNldFg6by1kLmllT2Zmc2V0WSxsW3pdPShkW3pdPU1hdGgucm91bmQoYy1BKigwPT09d2F8fDI9PT13YT8xOkIpKSkrXCJweFwifX19LFRhPVMuc2V0M0RUcmFuc2Zvcm1SYXRpbz1TLnNldFRyYW5zZm9ybVJhdGlvPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksaixrLGwsbSxvLHAscSxyLHMsdCx1LHYsdyx4LHksej10aGlzLmRhdGEsQT10aGlzLnQuc3R5bGUsQj16LnJvdGF0aW9uLEM9ei5yb3RhdGlvblgsRD16LnJvdGF0aW9uWSxFPXouc2NhbGVYLEY9ei5zY2FsZVksRz16LnNjYWxlWixIPXoueCxJPXoueSxKPXoueixMPXouc3ZnLE09ei5wZXJzcGVjdGl2ZSxOPXouZm9yY2UzRCxPPXouc2tld1ksUD16LnNrZXdYO2lmKE8mJihQKz1PLEIrPU8pLCgoMT09PWF8fDA9PT1hKSYmXCJhdXRvXCI9PT1OJiYodGhpcy50d2Vlbi5fdG90YWxUaW1lPT09dGhpcy50d2Vlbi5fdG90YWxEdXJhdGlvbnx8IXRoaXMudHdlZW4uX3RvdGFsVGltZSl8fCFOKSYmIUomJiFNJiYhRCYmIUMmJjE9PT1HfHxBYSYmTHx8IUZhKXJldHVybiB2b2lkKEJ8fFB8fEw/KEIqPUsseD1QKksseT0xZTUsYz1NYXRoLmNvcyhCKSpFLGY9TWF0aC5zaW4oQikqRSxkPU1hdGguc2luKEIteCkqLUYsZz1NYXRoLmNvcyhCLXgpKkYseCYmXCJzaW1wbGVcIj09PXouc2tld1R5cGUmJihiPU1hdGgudGFuKHgtTypLKSxiPU1hdGguc3FydCgxK2IqYiksZCo9YixnKj1iLE8mJihiPU1hdGgudGFuKE8qSyksYj1NYXRoLnNxcnQoMStiKmIpLGMqPWIsZio9YikpLEwmJihIKz16LnhPcmlnaW4tKHoueE9yaWdpbipjK3oueU9yaWdpbipkKSt6LnhPZmZzZXQsSSs9ei55T3JpZ2luLSh6LnhPcmlnaW4qZit6LnlPcmlnaW4qZykrei55T2Zmc2V0LEFhJiYoei54UGVyY2VudHx8ei55UGVyY2VudCkmJihxPXRoaXMudC5nZXRCQm94KCksSCs9LjAxKnoueFBlcmNlbnQqcS53aWR0aCxJKz0uMDEqei55UGVyY2VudCpxLmhlaWdodCkscT0xZS02LHE+SCYmSD4tcSYmKEg9MCkscT5JJiZJPi1xJiYoST0wKSksdT0oYyp5fDApL3krXCIsXCIrKGYqeXwwKS95K1wiLFwiKyhkKnl8MCkveStcIixcIisoZyp5fDApL3krXCIsXCIrSCtcIixcIitJK1wiKVwiLEwmJkFhP3RoaXMudC5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcIm1hdHJpeChcIit1KTpBW0NhXT0oei54UGVyY2VudHx8ei55UGVyY2VudD9cInRyYW5zbGF0ZShcIit6LnhQZXJjZW50K1wiJSxcIit6LnlQZXJjZW50K1wiJSkgbWF0cml4KFwiOlwibWF0cml4KFwiKSt1KTpBW0NhXT0oei54UGVyY2VudHx8ei55UGVyY2VudD9cInRyYW5zbGF0ZShcIit6LnhQZXJjZW50K1wiJSxcIit6LnlQZXJjZW50K1wiJSkgbWF0cml4KFwiOlwibWF0cml4KFwiKStFK1wiLDAsMCxcIitGK1wiLFwiK0grXCIsXCIrSStcIilcIik7aWYobiYmKHE9MWUtNCxxPkUmJkU+LXEmJihFPUc9MmUtNSkscT5GJiZGPi1xJiYoRj1HPTJlLTUpLCFNfHx6Lnp8fHoucm90YXRpb25YfHx6LnJvdGF0aW9uWXx8KE09MCkpLEJ8fFApQio9SyxyPWM9TWF0aC5jb3MoQikscz1mPU1hdGguc2luKEIpLFAmJihCLT1QKksscj1NYXRoLmNvcyhCKSxzPU1hdGguc2luKEIpLFwic2ltcGxlXCI9PT16LnNrZXdUeXBlJiYoYj1NYXRoLnRhbigoUC1PKSpLKSxiPU1hdGguc3FydCgxK2IqYikscio9YixzKj1iLHouc2tld1kmJihiPU1hdGgudGFuKE8qSyksYj1NYXRoLnNxcnQoMStiKmIpLGMqPWIsZio9YikpKSxkPS1zLGc9cjtlbHNle2lmKCEoRHx8Q3x8MSE9PUd8fE18fEwpKXJldHVybiB2b2lkKEFbQ2FdPSh6LnhQZXJjZW50fHx6LnlQZXJjZW50P1widHJhbnNsYXRlKFwiK3oueFBlcmNlbnQrXCIlLFwiK3oueVBlcmNlbnQrXCIlKSB0cmFuc2xhdGUzZChcIjpcInRyYW5zbGF0ZTNkKFwiKStIK1wicHgsXCIrSStcInB4LFwiK0orXCJweClcIisoMSE9PUV8fDEhPT1GP1wiIHNjYWxlKFwiK0UrXCIsXCIrRitcIilcIjpcIlwiKSk7Yz1nPTEsZD1mPTB9az0xLGU9aD1pPWo9bD1tPTAsbz1NPy0xL006MCxwPXouek9yaWdpbixxPTFlLTYsdj1cIixcIix3PVwiMFwiLEI9RCpLLEImJihyPU1hdGguY29zKEIpLHM9TWF0aC5zaW4oQiksaT0tcyxsPW8qLXMsZT1jKnMsaD1mKnMsaz1yLG8qPXIsYyo9cixmKj1yKSxCPUMqSyxCJiYocj1NYXRoLmNvcyhCKSxzPU1hdGguc2luKEIpLGI9ZCpyK2Uqcyx0PWcqcitoKnMsaj1rKnMsbT1vKnMsZT1kKi1zK2UqcixoPWcqLXMraCpyLGsqPXIsbyo9cixkPWIsZz10KSwxIT09RyYmKGUqPUcsaCo9RyxrKj1HLG8qPUcpLDEhPT1GJiYoZCo9RixnKj1GLGoqPUYsbSo9RiksMSE9PUUmJihjKj1FLGYqPUUsaSo9RSxsKj1FKSwocHx8TCkmJihwJiYoSCs9ZSotcCxJKz1oKi1wLEorPWsqLXArcCksTCYmKEgrPXoueE9yaWdpbi0oei54T3JpZ2luKmMrei55T3JpZ2luKmQpK3oueE9mZnNldCxJKz16LnlPcmlnaW4tKHoueE9yaWdpbipmK3oueU9yaWdpbipnKSt6LnlPZmZzZXQpLHE+SCYmSD4tcSYmKEg9dykscT5JJiZJPi1xJiYoST13KSxxPkomJko+LXEmJihKPTApKSx1PXoueFBlcmNlbnR8fHoueVBlcmNlbnQ/XCJ0cmFuc2xhdGUoXCIrei54UGVyY2VudCtcIiUsXCIrei55UGVyY2VudCtcIiUpIG1hdHJpeDNkKFwiOlwibWF0cml4M2QoXCIsdSs9KHE+YyYmYz4tcT93OmMpK3YrKHE+ZiYmZj4tcT93OmYpK3YrKHE+aSYmaT4tcT93OmkpLHUrPXYrKHE+bCYmbD4tcT93OmwpK3YrKHE+ZCYmZD4tcT93OmQpK3YrKHE+ZyYmZz4tcT93OmcpLEN8fER8fDEhPT1HPyh1Kz12KyhxPmomJmo+LXE/dzpqKSt2KyhxPm0mJm0+LXE/dzptKSt2KyhxPmUmJmU+LXE/dzplKSx1Kz12KyhxPmgmJmg+LXE/dzpoKSt2KyhxPmsmJms+LXE/dzprKSt2KyhxPm8mJm8+LXE/dzpvKSt2KTp1Kz1cIiwwLDAsMCwwLDEsMCxcIix1Kz1IK3YrSSt2K0ordisoTT8xKy1KL006MSkrXCIpXCIsQVtDYV09dX07aj1HYS5wcm90b3R5cGUsai54PWoueT1qLno9ai5za2V3WD1qLnNrZXdZPWoucm90YXRpb249ai5yb3RhdGlvblg9ai5yb3RhdGlvblk9ai56T3JpZ2luPWoueFBlcmNlbnQ9ai55UGVyY2VudD1qLnhPZmZzZXQ9ai55T2Zmc2V0PTAsai5zY2FsZVg9ai5zY2FsZVk9ai5zY2FsZVo9MSx5YShcInRyYW5zZm9ybSxzY2FsZSxzY2FsZVgsc2NhbGVZLHNjYWxlWix4LHkseixyb3RhdGlvbixyb3RhdGlvblgscm90YXRpb25ZLHJvdGF0aW9uWixza2V3WCxza2V3WSxzaG9ydFJvdGF0aW9uLHNob3J0Um90YXRpb25YLHNob3J0Um90YXRpb25ZLHNob3J0Um90YXRpb25aLHRyYW5zZm9ybU9yaWdpbixzdmdPcmlnaW4sdHJhbnNmb3JtUGVyc3BlY3RpdmUsZGlyZWN0aW9uYWxSb3RhdGlvbixwYXJzZVRyYW5zZm9ybSxmb3JjZTNELHNrZXdUeXBlLHhQZXJjZW50LHlQZXJjZW50LHNtb290aE9yaWdpblwiLHtwYXJzZXI6ZnVuY3Rpb24oYSxiLGMsZCxmLGgsaSl7aWYoZC5fbGFzdFBhcnNlZFRyYW5zZm9ybT09PWkpcmV0dXJuIGY7ZC5fbGFzdFBhcnNlZFRyYW5zZm9ybT1pO3ZhciBqLGs9aS5zY2FsZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgaS5zY2FsZT9pLnNjYWxlOjA7XCJmdW5jdGlvblwiPT10eXBlb2YgaVtjXSYmKGo9aVtjXSxpW2NdPWIpLGsmJihpLnNjYWxlPWsocixhKSk7dmFyIGwsbSxuLG8scCxzLHQsdSx2LHc9YS5fZ3NUcmFuc2Zvcm0seD1hLnN0eWxlLHk9MWUtNix6PUJhLmxlbmd0aCxBPWksQj17fSxDPVwidHJhbnNmb3JtT3JpZ2luXCIsRD1SYShhLGUsITAsQS5wYXJzZVRyYW5zZm9ybSksRT1BLnRyYW5zZm9ybSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIEEudHJhbnNmb3JtP0EudHJhbnNmb3JtKHIscSk6QS50cmFuc2Zvcm0pO2lmKGQuX3RyYW5zZm9ybT1ELEUmJlwic3RyaW5nXCI9PXR5cGVvZiBFJiZDYSltPVEuc3R5bGUsbVtDYV09RSxtLmRpc3BsYXk9XCJibG9ja1wiLG0ucG9zaXRpb249XCJhYnNvbHV0ZVwiLE8uYm9keS5hcHBlbmRDaGlsZChRKSxsPVJhKFEsbnVsbCwhMSksRC5zdmcmJihzPUQueE9yaWdpbix0PUQueU9yaWdpbixsLngtPUQueE9mZnNldCxsLnktPUQueU9mZnNldCwoQS50cmFuc2Zvcm1PcmlnaW58fEEuc3ZnT3JpZ2luKSYmKEU9e30sTGEoYSxoYShBLnRyYW5zZm9ybU9yaWdpbiksRSxBLnN2Z09yaWdpbixBLnNtb290aE9yaWdpbiwhMCkscz1FLnhPcmlnaW4sdD1FLnlPcmlnaW4sbC54LT1FLnhPZmZzZXQtRC54T2Zmc2V0LGwueS09RS55T2Zmc2V0LUQueU9mZnNldCksKHN8fHQpJiYodT1RYShRLCEwKSxsLngtPXMtKHMqdVswXSt0KnVbMl0pLGwueS09dC0ocyp1WzFdK3QqdVszXSkpKSxPLmJvZHkucmVtb3ZlQ2hpbGQoUSksbC5wZXJzcGVjdGl2ZXx8KGwucGVyc3BlY3RpdmU9RC5wZXJzcGVjdGl2ZSksbnVsbCE9QS54UGVyY2VudCYmKGwueFBlcmNlbnQ9amEoQS54UGVyY2VudCxELnhQZXJjZW50KSksbnVsbCE9QS55UGVyY2VudCYmKGwueVBlcmNlbnQ9amEoQS55UGVyY2VudCxELnlQZXJjZW50KSk7ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgQSl7aWYobD17c2NhbGVYOmphKG51bGwhPUEuc2NhbGVYP0Euc2NhbGVYOkEuc2NhbGUsRC5zY2FsZVgpLHNjYWxlWTpqYShudWxsIT1BLnNjYWxlWT9BLnNjYWxlWTpBLnNjYWxlLEQuc2NhbGVZKSxzY2FsZVo6amEoQS5zY2FsZVosRC5zY2FsZVopLHg6amEoQS54LEQueCkseTpqYShBLnksRC55KSx6OmphKEEueixELnopLHhQZXJjZW50OmphKEEueFBlcmNlbnQsRC54UGVyY2VudCksXHJcbiAgICB5UGVyY2VudDpqYShBLnlQZXJjZW50LEQueVBlcmNlbnQpLHBlcnNwZWN0aXZlOmphKEEudHJhbnNmb3JtUGVyc3BlY3RpdmUsRC5wZXJzcGVjdGl2ZSl9LHA9QS5kaXJlY3Rpb25hbFJvdGF0aW9uLG51bGwhPXApaWYoXCJvYmplY3RcIj09dHlwZW9mIHApZm9yKG0gaW4gcClBW21dPXBbbV07ZWxzZSBBLnJvdGF0aW9uPXA7XCJzdHJpbmdcIj09dHlwZW9mIEEueCYmLTEhPT1BLnguaW5kZXhPZihcIiVcIikmJihsLng9MCxsLnhQZXJjZW50PWphKEEueCxELnhQZXJjZW50KSksXCJzdHJpbmdcIj09dHlwZW9mIEEueSYmLTEhPT1BLnkuaW5kZXhPZihcIiVcIikmJihsLnk9MCxsLnlQZXJjZW50PWphKEEueSxELnlQZXJjZW50KSksbC5yb3RhdGlvbj1rYShcInJvdGF0aW9uXCJpbiBBP0Eucm90YXRpb246XCJzaG9ydFJvdGF0aW9uXCJpbiBBP0Euc2hvcnRSb3RhdGlvbitcIl9zaG9ydFwiOlwicm90YXRpb25aXCJpbiBBP0Eucm90YXRpb25aOkQucm90YXRpb24sRC5yb3RhdGlvbixcInJvdGF0aW9uXCIsQiksRmEmJihsLnJvdGF0aW9uWD1rYShcInJvdGF0aW9uWFwiaW4gQT9BLnJvdGF0aW9uWDpcInNob3J0Um90YXRpb25YXCJpbiBBP0Euc2hvcnRSb3RhdGlvblgrXCJfc2hvcnRcIjpELnJvdGF0aW9uWHx8MCxELnJvdGF0aW9uWCxcInJvdGF0aW9uWFwiLEIpLGwucm90YXRpb25ZPWthKFwicm90YXRpb25ZXCJpbiBBP0Eucm90YXRpb25ZOlwic2hvcnRSb3RhdGlvbllcImluIEE/QS5zaG9ydFJvdGF0aW9uWStcIl9zaG9ydFwiOkQucm90YXRpb25ZfHwwLEQucm90YXRpb25ZLFwicm90YXRpb25ZXCIsQikpLGwuc2tld1g9a2EoQS5za2V3WCxELnNrZXdYKSxsLnNrZXdZPWthKEEuc2tld1ksRC5za2V3WSl9Zm9yKEZhJiZudWxsIT1BLmZvcmNlM0QmJihELmZvcmNlM0Q9QS5mb3JjZTNELG89ITApLEQuc2tld1R5cGU9QS5za2V3VHlwZXx8RC5za2V3VHlwZXx8Zy5kZWZhdWx0U2tld1R5cGUsbj1ELmZvcmNlM0R8fEQuenx8RC5yb3RhdGlvblh8fEQucm90YXRpb25ZfHxsLnp8fGwucm90YXRpb25YfHxsLnJvdGF0aW9uWXx8bC5wZXJzcGVjdGl2ZSxufHxudWxsPT1BLnNjYWxlfHwobC5zY2FsZVo9MSk7LS16Pi0xOyl2PUJhW3pdLEU9bFt2XS1EW3ZdLChFPnl8fC15PkV8fG51bGwhPUFbdl18fG51bGwhPU1bdl0pJiYobz0hMCxmPW5ldyB0YShELHYsRFt2XSxFLGYpLHYgaW4gQiYmKGYuZT1CW3ZdKSxmLnhzMD0wLGYucGx1Z2luPWgsZC5fb3ZlcndyaXRlUHJvcHMucHVzaChmLm4pKTtyZXR1cm4gRT1BLnRyYW5zZm9ybU9yaWdpbixELnN2ZyYmKEV8fEEuc3ZnT3JpZ2luKSYmKHM9RC54T2Zmc2V0LHQ9RC55T2Zmc2V0LExhKGEsaGEoRSksbCxBLnN2Z09yaWdpbixBLnNtb290aE9yaWdpbiksZj11YShELFwieE9yaWdpblwiLCh3P0Q6bCkueE9yaWdpbixsLnhPcmlnaW4sZixDKSxmPXVhKEQsXCJ5T3JpZ2luXCIsKHc/RDpsKS55T3JpZ2luLGwueU9yaWdpbixmLEMpLChzIT09RC54T2Zmc2V0fHx0IT09RC55T2Zmc2V0KSYmKGY9dWEoRCxcInhPZmZzZXRcIix3P3M6RC54T2Zmc2V0LEQueE9mZnNldCxmLEMpLGY9dWEoRCxcInlPZmZzZXRcIix3P3Q6RC55T2Zmc2V0LEQueU9mZnNldCxmLEMpKSxFPVwiMHB4IDBweFwiKSwoRXx8RmEmJm4mJkQuek9yaWdpbikmJihDYT8obz0hMCx2PUVhLEU9KEV8fF8oYSx2LGUsITEsXCI1MCUgNTAlXCIpKStcIlwiLGY9bmV3IHRhKHgsdiwwLDAsZiwtMSxDKSxmLmI9eFt2XSxmLnBsdWdpbj1oLEZhPyhtPUQuek9yaWdpbixFPUUuc3BsaXQoXCIgXCIpLEQuek9yaWdpbj0oRS5sZW5ndGg+MiYmKDA9PT1tfHxcIjBweFwiIT09RVsyXSk/cGFyc2VGbG9hdChFWzJdKTptKXx8MCxmLnhzMD1mLmU9RVswXStcIiBcIisoRVsxXXx8XCI1MCVcIikrXCIgMHB4XCIsZj1uZXcgdGEoRCxcInpPcmlnaW5cIiwwLDAsZiwtMSxmLm4pLGYuYj1tLGYueHMwPWYuZT1ELnpPcmlnaW4pOmYueHMwPWYuZT1FKTpoYShFK1wiXCIsRCkpLG8mJihkLl90cmFuc2Zvcm1UeXBlPUQuc3ZnJiZBYXx8IW4mJjMhPT10aGlzLl90cmFuc2Zvcm1UeXBlPzI6MyksaiYmKGlbY109aiksayYmKGkuc2NhbGU9ayksZn0scHJlZml4OiEwfSkseWEoXCJib3hTaGFkb3dcIix7ZGVmYXVsdFZhbHVlOlwiMHB4IDBweCAwcHggMHB4ICM5OTlcIixwcmVmaXg6ITAsY29sb3I6ITAsbXVsdGk6ITAsa2V5d29yZDpcImluc2V0XCJ9KSx5YShcImJvcmRlclJhZGl1c1wiLHtkZWZhdWx0VmFsdWU6XCIwcHhcIixwYXJzZXI6ZnVuY3Rpb24oYSxiLGMsZixnLGgpe2I9dGhpcy5mb3JtYXQoYik7dmFyIGksaixrLGwsbSxuLG8scCxxLHIscyx0LHUsdix3LHgseT1bXCJib3JkZXJUb3BMZWZ0UmFkaXVzXCIsXCJib3JkZXJUb3BSaWdodFJhZGl1c1wiLFwiYm9yZGVyQm90dG9tUmlnaHRSYWRpdXNcIixcImJvcmRlckJvdHRvbUxlZnRSYWRpdXNcIl0sej1hLnN0eWxlO2ZvcihxPXBhcnNlRmxvYXQoYS5vZmZzZXRXaWR0aCkscj1wYXJzZUZsb2F0KGEub2Zmc2V0SGVpZ2h0KSxpPWIuc3BsaXQoXCIgXCIpLGo9MDtqPHkubGVuZ3RoO2orKyl0aGlzLnAuaW5kZXhPZihcImJvcmRlclwiKSYmKHlbal09Wih5W2pdKSksbT1sPV8oYSx5W2pdLGUsITEsXCIwcHhcIiksLTEhPT1tLmluZGV4T2YoXCIgXCIpJiYobD1tLnNwbGl0KFwiIFwiKSxtPWxbMF0sbD1sWzFdKSxuPWs9aVtqXSxvPXBhcnNlRmxvYXQobSksdD1tLnN1YnN0cigobytcIlwiKS5sZW5ndGgpLHU9XCI9XCI9PT1uLmNoYXJBdCgxKSx1PyhwPXBhcnNlSW50KG4uY2hhckF0KDApK1wiMVwiLDEwKSxuPW4uc3Vic3RyKDIpLHAqPXBhcnNlRmxvYXQobikscz1uLnN1YnN0cigocCtcIlwiKS5sZW5ndGgtKDA+cD8xOjApKXx8XCJcIik6KHA9cGFyc2VGbG9hdChuKSxzPW4uc3Vic3RyKChwK1wiXCIpLmxlbmd0aCkpLFwiXCI9PT1zJiYocz1kW2NdfHx0KSxzIT09dCYmKHY9YWEoYSxcImJvcmRlckxlZnRcIixvLHQpLHc9YWEoYSxcImJvcmRlclRvcFwiLG8sdCksXCIlXCI9PT1zPyhtPXYvcSoxMDArXCIlXCIsbD13L3IqMTAwK1wiJVwiKTpcImVtXCI9PT1zPyh4PWFhKGEsXCJib3JkZXJMZWZ0XCIsMSxcImVtXCIpLG09di94K1wiZW1cIixsPXcveCtcImVtXCIpOihtPXYrXCJweFwiLGw9dytcInB4XCIpLHUmJihuPXBhcnNlRmxvYXQobSkrcCtzLGs9cGFyc2VGbG9hdChsKStwK3MpKSxnPXZhKHoseVtqXSxtK1wiIFwiK2wsbitcIiBcIitrLCExLFwiMHB4XCIsZyk7cmV0dXJuIGd9LHByZWZpeDohMCxmb3JtYXR0ZXI6cWEoXCIwcHggMHB4IDBweCAwcHhcIiwhMSwhMCl9KSx5YShcImJvcmRlckJvdHRvbUxlZnRSYWRpdXMsYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMsYm9yZGVyVG9wTGVmdFJhZGl1cyxib3JkZXJUb3BSaWdodFJhZGl1c1wiLHtkZWZhdWx0VmFsdWU6XCIwcHhcIixwYXJzZXI6ZnVuY3Rpb24oYSxiLGMsZCxmLGcpe3JldHVybiB2YShhLnN0eWxlLGMsdGhpcy5mb3JtYXQoXyhhLGMsZSwhMSxcIjBweCAwcHhcIikpLHRoaXMuZm9ybWF0KGIpLCExLFwiMHB4XCIsZil9LHByZWZpeDohMCxmb3JtYXR0ZXI6cWEoXCIwcHggMHB4XCIsITEsITApfSkseWEoXCJiYWNrZ3JvdW5kUG9zaXRpb25cIix7ZGVmYXVsdFZhbHVlOlwiMCAwXCIscGFyc2VyOmZ1bmN0aW9uKGEsYixjLGQsZixnKXt2YXIgaCxpLGosayxsLG0sbj1cImJhY2tncm91bmQtcG9zaXRpb25cIixvPWV8fCQoYSxudWxsKSxxPXRoaXMuZm9ybWF0KChvP3A/by5nZXRQcm9wZXJ0eVZhbHVlKG4rXCIteFwiKStcIiBcIitvLmdldFByb3BlcnR5VmFsdWUobitcIi15XCIpOm8uZ2V0UHJvcGVydHlWYWx1ZShuKTphLmN1cnJlbnRTdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb25YK1wiIFwiK2EuY3VycmVudFN0eWxlLmJhY2tncm91bmRQb3NpdGlvblkpfHxcIjAgMFwiKSxyPXRoaXMuZm9ybWF0KGIpO2lmKC0xIT09cS5pbmRleE9mKFwiJVwiKSE9KC0xIT09ci5pbmRleE9mKFwiJVwiKSkmJnIuc3BsaXQoXCIsXCIpLmxlbmd0aDwyJiYobT1fKGEsXCJiYWNrZ3JvdW5kSW1hZ2VcIikucmVwbGFjZShELFwiXCIpLG0mJlwibm9uZVwiIT09bSkpe2ZvcihoPXEuc3BsaXQoXCIgXCIpLGk9ci5zcGxpdChcIiBcIiksUi5zZXRBdHRyaWJ1dGUoXCJzcmNcIixtKSxqPTI7LS1qPi0xOylxPWhbal0saz0tMSE9PXEuaW5kZXhPZihcIiVcIiksayE9PSgtMSE9PWlbal0uaW5kZXhPZihcIiVcIikpJiYobD0wPT09aj9hLm9mZnNldFdpZHRoLVIud2lkdGg6YS5vZmZzZXRIZWlnaHQtUi5oZWlnaHQsaFtqXT1rP3BhcnNlRmxvYXQocSkvMTAwKmwrXCJweFwiOnBhcnNlRmxvYXQocSkvbCoxMDArXCIlXCIpO3E9aC5qb2luKFwiIFwiKX1yZXR1cm4gdGhpcy5wYXJzZUNvbXBsZXgoYS5zdHlsZSxxLHIsZixnKX0sZm9ybWF0dGVyOmhhfSkseWEoXCJiYWNrZ3JvdW5kU2l6ZVwiLHtkZWZhdWx0VmFsdWU6XCIwIDBcIixmb3JtYXR0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGErPVwiXCIsaGEoLTE9PT1hLmluZGV4T2YoXCIgXCIpP2ErXCIgXCIrYTphKX19KSx5YShcInBlcnNwZWN0aXZlXCIse2RlZmF1bHRWYWx1ZTpcIjBweFwiLHByZWZpeDohMH0pLHlhKFwicGVyc3BlY3RpdmVPcmlnaW5cIix7ZGVmYXVsdFZhbHVlOlwiNTAlIDUwJVwiLHByZWZpeDohMH0pLHlhKFwidHJhbnNmb3JtU3R5bGVcIix7cHJlZml4OiEwfSkseWEoXCJiYWNrZmFjZVZpc2liaWxpdHlcIix7cHJlZml4OiEwfSkseWEoXCJ1c2VyU2VsZWN0XCIse3ByZWZpeDohMH0pLHlhKFwibWFyZ2luXCIse3BhcnNlcjpyYShcIm1hcmdpblRvcCxtYXJnaW5SaWdodCxtYXJnaW5Cb3R0b20sbWFyZ2luTGVmdFwiKX0pLHlhKFwicGFkZGluZ1wiLHtwYXJzZXI6cmEoXCJwYWRkaW5nVG9wLHBhZGRpbmdSaWdodCxwYWRkaW5nQm90dG9tLHBhZGRpbmdMZWZ0XCIpfSkseWEoXCJjbGlwXCIse2RlZmF1bHRWYWx1ZTpcInJlY3QoMHB4LDBweCwwcHgsMHB4KVwiLHBhcnNlcjpmdW5jdGlvbihhLGIsYyxkLGYsZyl7dmFyIGgsaSxqO3JldHVybiA5PnA/KGk9YS5jdXJyZW50U3R5bGUsaj04PnA/XCIgXCI6XCIsXCIsaD1cInJlY3QoXCIraS5jbGlwVG9wK2oraS5jbGlwUmlnaHQraitpLmNsaXBCb3R0b20raitpLmNsaXBMZWZ0K1wiKVwiLGI9dGhpcy5mb3JtYXQoYikuc3BsaXQoXCIsXCIpLmpvaW4oaikpOihoPXRoaXMuZm9ybWF0KF8oYSx0aGlzLnAsZSwhMSx0aGlzLmRmbHQpKSxiPXRoaXMuZm9ybWF0KGIpKSx0aGlzLnBhcnNlQ29tcGxleChhLnN0eWxlLGgsYixmLGcpfX0pLHlhKFwidGV4dFNoYWRvd1wiLHtkZWZhdWx0VmFsdWU6XCIwcHggMHB4IDBweCAjOTk5XCIsY29sb3I6ITAsbXVsdGk6ITB9KSx5YShcImF1dG9Sb3VuZCxzdHJpY3RVbml0c1wiLHtwYXJzZXI6ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gZX19KSx5YShcImJvcmRlclwiLHtkZWZhdWx0VmFsdWU6XCIwcHggc29saWQgIzAwMFwiLHBhcnNlcjpmdW5jdGlvbihhLGIsYyxkLGYsZyl7dmFyIGg9XyhhLFwiYm9yZGVyVG9wV2lkdGhcIixlLCExLFwiMHB4XCIpLGk9dGhpcy5mb3JtYXQoYikuc3BsaXQoXCIgXCIpLGo9aVswXS5yZXBsYWNlKHcsXCJcIik7cmV0dXJuXCJweFwiIT09aiYmKGg9cGFyc2VGbG9hdChoKS9hYShhLFwiYm9yZGVyVG9wV2lkdGhcIiwxLGopK2opLHRoaXMucGFyc2VDb21wbGV4KGEuc3R5bGUsdGhpcy5mb3JtYXQoaCtcIiBcIitfKGEsXCJib3JkZXJUb3BTdHlsZVwiLGUsITEsXCJzb2xpZFwiKStcIiBcIitfKGEsXCJib3JkZXJUb3BDb2xvclwiLGUsITEsXCIjMDAwXCIpKSxpLmpvaW4oXCIgXCIpLGYsZyl9LGNvbG9yOiEwLGZvcm1hdHRlcjpmdW5jdGlvbihhKXt2YXIgYj1hLnNwbGl0KFwiIFwiKTtyZXR1cm4gYlswXStcIiBcIisoYlsxXXx8XCJzb2xpZFwiKStcIiBcIisoYS5tYXRjaChwYSl8fFtcIiMwMDBcIl0pWzBdfX0pLHlhKFwiYm9yZGVyV2lkdGhcIix7cGFyc2VyOnJhKFwiYm9yZGVyVG9wV2lkdGgsYm9yZGVyUmlnaHRXaWR0aCxib3JkZXJCb3R0b21XaWR0aCxib3JkZXJMZWZ0V2lkdGhcIil9KSx5YShcImZsb2F0LGNzc0Zsb2F0LHN0eWxlRmxvYXRcIix7cGFyc2VyOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz1hLnN0eWxlLGg9XCJjc3NGbG9hdFwiaW4gZz9cImNzc0Zsb2F0XCI6XCJzdHlsZUZsb2F0XCI7cmV0dXJuIG5ldyB0YShnLGgsMCwwLGUsLTEsYywhMSwwLGdbaF0sYil9fSk7dmFyIFVhPWZ1bmN0aW9uKGEpe3ZhciBiLGM9dGhpcy50LGQ9Yy5maWx0ZXJ8fF8odGhpcy5kYXRhLFwiZmlsdGVyXCIpfHxcIlwiLGU9dGhpcy5zK3RoaXMuYyphfDA7MTAwPT09ZSYmKC0xPT09ZC5pbmRleE9mKFwiYXRyaXgoXCIpJiYtMT09PWQuaW5kZXhPZihcInJhZGllbnQoXCIpJiYtMT09PWQuaW5kZXhPZihcIm9hZGVyKFwiKT8oYy5yZW1vdmVBdHRyaWJ1dGUoXCJmaWx0ZXJcIiksYj0hXyh0aGlzLmRhdGEsXCJmaWx0ZXJcIikpOihjLmZpbHRlcj1kLnJlcGxhY2UoeixcIlwiKSxiPSEwKSksYnx8KHRoaXMueG4xJiYoYy5maWx0ZXI9ZD1kfHxcImFscGhhKG9wYWNpdHk9XCIrZStcIilcIiksLTE9PT1kLmluZGV4T2YoXCJwYWNpdHlcIik/MD09PWUmJnRoaXMueG4xfHwoYy5maWx0ZXI9ZCtcIiBhbHBoYShvcGFjaXR5PVwiK2UrXCIpXCIpOmMuZmlsdGVyPWQucmVwbGFjZSh4LFwib3BhY2l0eT1cIitlKSl9O3lhKFwib3BhY2l0eSxhbHBoYSxhdXRvQWxwaGFcIix7ZGVmYXVsdFZhbHVlOlwiMVwiLHBhcnNlcjpmdW5jdGlvbihhLGIsYyxkLGYsZyl7dmFyIGg9cGFyc2VGbG9hdChfKGEsXCJvcGFjaXR5XCIsZSwhMSxcIjFcIikpLGk9YS5zdHlsZSxqPVwiYXV0b0FscGhhXCI9PT1jO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBiJiZcIj1cIj09PWIuY2hhckF0KDEpJiYoYj0oXCItXCI9PT1iLmNoYXJBdCgwKT8tMToxKSpwYXJzZUZsb2F0KGIuc3Vic3RyKDIpKStoKSxqJiYxPT09aCYmXCJoaWRkZW5cIj09PV8oYSxcInZpc2liaWxpdHlcIixlKSYmMCE9PWImJihoPTApLFU/Zj1uZXcgdGEoaSxcIm9wYWNpdHlcIixoLGItaCxmKTooZj1uZXcgdGEoaSxcIm9wYWNpdHlcIiwxMDAqaCwxMDAqKGItaCksZiksZi54bjE9aj8xOjAsaS56b29tPTEsZi50eXBlPTIsZi5iPVwiYWxwaGEob3BhY2l0eT1cIitmLnMrXCIpXCIsZi5lPVwiYWxwaGEob3BhY2l0eT1cIisoZi5zK2YuYykrXCIpXCIsZi5kYXRhPWEsZi5wbHVnaW49ZyxmLnNldFJhdGlvPVVhKSxqJiYoZj1uZXcgdGEoaSxcInZpc2liaWxpdHlcIiwwLDAsZiwtMSxudWxsLCExLDAsMCE9PWg/XCJpbmhlcml0XCI6XCJoaWRkZW5cIiwwPT09Yj9cImhpZGRlblwiOlwiaW5oZXJpdFwiKSxmLnhzMD1cImluaGVyaXRcIixkLl9vdmVyd3JpdGVQcm9wcy5wdXNoKGYubiksZC5fb3ZlcndyaXRlUHJvcHMucHVzaChjKSksZn19KTt2YXIgVmE9ZnVuY3Rpb24oYSxiKXtiJiYoYS5yZW1vdmVQcm9wZXJ0eT8oKFwibXNcIj09PWIuc3Vic3RyKDAsMil8fFwid2Via2l0XCI9PT1iLnN1YnN0cigwLDYpKSYmKGI9XCItXCIrYiksYS5yZW1vdmVQcm9wZXJ0eShiLnJlcGxhY2UoQixcIi0kMVwiKS50b0xvd2VyQ2FzZSgpKSk6YS5yZW1vdmVBdHRyaWJ1dGUoYikpfSxXYT1mdW5jdGlvbihhKXtpZih0aGlzLnQuX2dzQ2xhc3NQVD10aGlzLDE9PT1hfHwwPT09YSl7dGhpcy50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsMD09PWE/dGhpcy5iOnRoaXMuZSk7Zm9yKHZhciBiPXRoaXMuZGF0YSxjPXRoaXMudC5zdHlsZTtiOyliLnY/Y1tiLnBdPWIudjpWYShjLGIucCksYj1iLl9uZXh0OzE9PT1hJiZ0aGlzLnQuX2dzQ2xhc3NQVD09PXRoaXMmJih0aGlzLnQuX2dzQ2xhc3NQVD1udWxsKX1lbHNlIHRoaXMudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSE9PXRoaXMuZSYmdGhpcy50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsdGhpcy5lKX07eWEoXCJjbGFzc05hbWVcIix7cGFyc2VyOmZ1bmN0aW9uKGEsYixkLGYsZyxoLGkpe3ZhciBqLGssbCxtLG4sbz1hLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiLHA9YS5zdHlsZS5jc3NUZXh0O2lmKGc9Zi5fY2xhc3NOYW1lUFQ9bmV3IHRhKGEsZCwwLDAsZywyKSxnLnNldFJhdGlvPVdhLGcucHI9LTExLGM9ITAsZy5iPW8saz1jYShhLGUpLGw9YS5fZ3NDbGFzc1BUKXtmb3IobT17fSxuPWwuZGF0YTtuOyltW24ucF09MSxuPW4uX25leHQ7bC5zZXRSYXRpbygxKX1yZXR1cm4gYS5fZ3NDbGFzc1BUPWcsZy5lPVwiPVwiIT09Yi5jaGFyQXQoMSk/YjpvLnJlcGxhY2UobmV3IFJlZ0V4cChcIig/OlxcXFxzfF4pXCIrYi5zdWJzdHIoMikrXCIoPyFbXFxcXHctXSlcIiksXCJcIikrKFwiK1wiPT09Yi5jaGFyQXQoMCk/XCIgXCIrYi5zdWJzdHIoMik6XCJcIiksYS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGcuZSksaj1kYShhLGssY2EoYSksaSxtKSxhLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsbyksZy5kYXRhPWouZmlyc3RNUFQsYS5zdHlsZS5jc3NUZXh0PXAsZz1nLnhmaXJzdD1mLnBhcnNlKGEsai5kaWZzLGcsaCl9fSk7dmFyIFhhPWZ1bmN0aW9uKGEpe2lmKCgxPT09YXx8MD09PWEpJiZ0aGlzLmRhdGEuX3RvdGFsVGltZT09PXRoaXMuZGF0YS5fdG90YWxEdXJhdGlvbiYmXCJpc0Zyb21TdGFydFwiIT09dGhpcy5kYXRhLmRhdGEpe3ZhciBiLGMsZCxlLGYsZz10aGlzLnQuc3R5bGUsaD1pLnRyYW5zZm9ybS5wYXJzZTtpZihcImFsbFwiPT09dGhpcy5lKWcuY3NzVGV4dD1cIlwiLGU9ITA7ZWxzZSBmb3IoYj10aGlzLmUuc3BsaXQoXCIgXCIpLmpvaW4oXCJcIikuc3BsaXQoXCIsXCIpLGQ9Yi5sZW5ndGg7LS1kPi0xOyljPWJbZF0saVtjXSYmKGlbY10ucGFyc2U9PT1oP2U9ITA6Yz1cInRyYW5zZm9ybU9yaWdpblwiPT09Yz9FYTppW2NdLnApLFZhKGcsYyk7ZSYmKFZhKGcsQ2EpLGY9dGhpcy50Ll9nc1RyYW5zZm9ybSxmJiYoZi5zdmcmJih0aGlzLnQucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1zdmctb3JpZ2luXCIpLHRoaXMudC5yZW1vdmVBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIikpLGRlbGV0ZSB0aGlzLnQuX2dzVHJhbnNmb3JtKSl9fTtmb3IoeWEoXCJjbGVhclByb3BzXCIse3BhcnNlcjpmdW5jdGlvbihhLGIsZCxlLGYpe3JldHVybiBmPW5ldyB0YShhLGQsMCwwLGYsMiksZi5zZXRSYXRpbz1YYSxmLmU9YixmLnByPS0xMCxmLmRhdGE9ZS5fdHdlZW4sYz0hMCxmfX0pLGo9XCJiZXppZXIsdGhyb3dQcm9wcyxwaHlzaWNzUHJvcHMscGh5c2ljczJEXCIuc3BsaXQoXCIsXCIpLHdhPWoubGVuZ3RoO3dhLS07KXphKGpbd2FdKTtqPWcucHJvdG90eXBlLGouX2ZpcnN0UFQ9ai5fbGFzdFBhcnNlZFRyYW5zZm9ybT1qLl90cmFuc2Zvcm09bnVsbCxqLl9vbkluaXRUd2Vlbj1mdW5jdGlvbihhLGIsaCxqKXtpZighYS5ub2RlVHlwZSlyZXR1cm4hMTt0aGlzLl90YXJnZXQ9cT1hLHRoaXMuX3R3ZWVuPWgsdGhpcy5fdmFycz1iLHI9aixrPWIuYXV0b1JvdW5kLGM9ITEsZD1iLnN1ZmZpeE1hcHx8Zy5zdWZmaXhNYXAsZT0kKGEsXCJcIiksZj10aGlzLl9vdmVyd3JpdGVQcm9wczt2YXIgbixwLHMsdCx1LHYsdyx4LHosQT1hLnN0eWxlO2lmKGwmJlwiXCI9PT1BLnpJbmRleCYmKG49XyhhLFwiekluZGV4XCIsZSksKFwiYXV0b1wiPT09bnx8XCJcIj09PW4pJiZ0aGlzLl9hZGRMYXp5U2V0KEEsXCJ6SW5kZXhcIiwwKSksXCJzdHJpbmdcIj09dHlwZW9mIGImJih0PUEuY3NzVGV4dCxuPWNhKGEsZSksQS5jc3NUZXh0PXQrXCI7XCIrYixuPWRhKGEsbixjYShhKSkuZGlmcywhVSYmeS50ZXN0KGIpJiYobi5vcGFjaXR5PXBhcnNlRmxvYXQoUmVnRXhwLiQxKSksYj1uLEEuY3NzVGV4dD10KSxiLmNsYXNzTmFtZT90aGlzLl9maXJzdFBUPXA9aS5jbGFzc05hbWUucGFyc2UoYSxiLmNsYXNzTmFtZSxcImNsYXNzTmFtZVwiLHRoaXMsbnVsbCxudWxsLGIpOnRoaXMuX2ZpcnN0UFQ9cD10aGlzLnBhcnNlKGEsYixudWxsKSx0aGlzLl90cmFuc2Zvcm1UeXBlKXtmb3Ioej0zPT09dGhpcy5fdHJhbnNmb3JtVHlwZSxDYT9tJiYobD0hMCxcIlwiPT09QS56SW5kZXgmJih3PV8oYSxcInpJbmRleFwiLGUpLChcImF1dG9cIj09PXd8fFwiXCI9PT13KSYmdGhpcy5fYWRkTGF6eVNldChBLFwiekluZGV4XCIsMCkpLG8mJnRoaXMuX2FkZExhenlTZXQoQSxcIldlYmtpdEJhY2tmYWNlVmlzaWJpbGl0eVwiLHRoaXMuX3ZhcnMuV2Via2l0QmFja2ZhY2VWaXNpYmlsaXR5fHwoej9cInZpc2libGVcIjpcImhpZGRlblwiKSkpOkEuem9vbT0xLHM9cDtzJiZzLl9uZXh0OylzPXMuX25leHQ7eD1uZXcgdGEoYSxcInRyYW5zZm9ybVwiLDAsMCxudWxsLDIpLHRoaXMuX2xpbmtDU1NQKHgsbnVsbCxzKSx4LnNldFJhdGlvPUNhP1RhOlNhLHguZGF0YT10aGlzLl90cmFuc2Zvcm18fFJhKGEsZSwhMCkseC50d2Vlbj1oLHgucHI9LTEsZi5wb3AoKX1pZihjKXtmb3IoO3A7KXtmb3Iodj1wLl9uZXh0LHM9dDtzJiZzLnByPnAucHI7KXM9cy5fbmV4dDsocC5fcHJldj1zP3MuX3ByZXY6dSk/cC5fcHJldi5fbmV4dD1wOnQ9cCwocC5fbmV4dD1zKT9zLl9wcmV2PXA6dT1wLHA9dn10aGlzLl9maXJzdFBUPXR9cmV0dXJuITB9LGoucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZil7dmFyIGcsaCxqLGwsbSxuLG8scCxzLHQsdT1hLnN0eWxlO2ZvcihnIGluIGIpbj1iW2ddLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihuPW4ocixxKSksaD1pW2ddLGg/Yz1oLnBhcnNlKGEsbixnLHRoaXMsYyxmLGIpOihtPV8oYSxnLGUpK1wiXCIscz1cInN0cmluZ1wiPT10eXBlb2YgbixcImNvbG9yXCI9PT1nfHxcImZpbGxcIj09PWd8fFwic3Ryb2tlXCI9PT1nfHwtMSE9PWcuaW5kZXhPZihcIkNvbG9yXCIpfHxzJiZBLnRlc3Qobik/KHN8fChuPW5hKG4pLG49KG4ubGVuZ3RoPjM/XCJyZ2JhKFwiOlwicmdiKFwiKStuLmpvaW4oXCIsXCIpK1wiKVwiKSxjPXZhKHUsZyxtLG4sITAsXCJ0cmFuc3BhcmVudFwiLGMsMCxmKSk6cyYmSi50ZXN0KG4pP2M9dmEodSxnLG0sbiwhMCxudWxsLGMsMCxmKTooaj1wYXJzZUZsb2F0KG0pLG89anx8MD09PWo/bS5zdWJzdHIoKGorXCJcIikubGVuZ3RoKTpcIlwiLChcIlwiPT09bXx8XCJhdXRvXCI9PT1tKSYmKFwid2lkdGhcIj09PWd8fFwiaGVpZ2h0XCI9PT1nPyhqPWdhKGEsZyxlKSxvPVwicHhcIik6XCJsZWZ0XCI9PT1nfHxcInRvcFwiPT09Zz8oaj1iYShhLGcsZSksbz1cInB4XCIpOihqPVwib3BhY2l0eVwiIT09Zz8wOjEsbz1cIlwiKSksdD1zJiZcIj1cIj09PW4uY2hhckF0KDEpLHQ/KGw9cGFyc2VJbnQobi5jaGFyQXQoMCkrXCIxXCIsMTApLG49bi5zdWJzdHIoMiksbCo9cGFyc2VGbG9hdChuKSxwPW4ucmVwbGFjZSh3LFwiXCIpKToobD1wYXJzZUZsb2F0KG4pLHA9cz9uLnJlcGxhY2UodyxcIlwiKTpcIlwiKSxcIlwiPT09cCYmKHA9ZyBpbiBkP2RbZ106byksbj1sfHwwPT09bD8odD9sK2o6bCkrcDpiW2ddLG8hPT1wJiZcIlwiIT09cCYmKGx8fDA9PT1sKSYmaiYmKGo9YWEoYSxnLGosbyksXCIlXCI9PT1wPyhqLz1hYShhLGcsMTAwLFwiJVwiKS8xMDAsYi5zdHJpY3RVbml0cyE9PSEwJiYobT1qK1wiJVwiKSk6XCJlbVwiPT09cHx8XCJyZW1cIj09PXB8fFwidndcIj09PXB8fFwidmhcIj09PXA/ai89YWEoYSxnLDEscCk6XCJweFwiIT09cCYmKGw9YWEoYSxnLGwscCkscD1cInB4XCIpLHQmJihsfHwwPT09bCkmJihuPWwraitwKSksdCYmKGwrPWopLCFqJiYwIT09anx8IWwmJjAhPT1sP3ZvaWQgMCE9PXVbZ10mJihufHxuK1wiXCIhPVwiTmFOXCImJm51bGwhPW4pPyhjPW5ldyB0YSh1LGcsbHx8anx8MCwwLGMsLTEsZywhMSwwLG0sbiksYy54czA9XCJub25lXCIhPT1ufHxcImRpc3BsYXlcIiE9PWcmJi0xPT09Zy5pbmRleE9mKFwiU3R5bGVcIik/bjptKTpXKFwiaW52YWxpZCBcIitnK1wiIHR3ZWVuIHZhbHVlOiBcIitiW2ddKTooYz1uZXcgdGEodSxnLGosbC1qLGMsMCxnLGshPT0hMSYmKFwicHhcIj09PXB8fFwiekluZGV4XCI9PT1nKSwwLG0sbiksYy54czA9cCkpKSxmJiZjJiYhYy5wbHVnaW4mJihjLnBsdWdpbj1mKTtyZXR1cm4gY30sai5zZXRSYXRpbz1mdW5jdGlvbihhKXt2YXIgYixjLGQsZT10aGlzLl9maXJzdFBULGY9MWUtNjtpZigxIT09YXx8dGhpcy5fdHdlZW4uX3RpbWUhPT10aGlzLl90d2Vlbi5fZHVyYXRpb24mJjAhPT10aGlzLl90d2Vlbi5fdGltZSlpZihhfHx0aGlzLl90d2Vlbi5fdGltZSE9PXRoaXMuX3R3ZWVuLl9kdXJhdGlvbiYmMCE9PXRoaXMuX3R3ZWVuLl90aW1lfHx0aGlzLl90d2Vlbi5fcmF3UHJldlRpbWU9PT0tMWUtNilmb3IoO2U7KXtpZihiPWUuYyphK2UucyxlLnI/Yj1NYXRoLnJvdW5kKGIpOmY+YiYmYj4tZiYmKGI9MCksZS50eXBlKWlmKDE9PT1lLnR5cGUpaWYoZD1lLmwsMj09PWQpZS50W2UucF09ZS54czArYitlLnhzMStlLnhuMStlLnhzMjtlbHNlIGlmKDM9PT1kKWUudFtlLnBdPWUueHMwK2IrZS54czErZS54bjErZS54czIrZS54bjIrZS54czM7ZWxzZSBpZig0PT09ZCllLnRbZS5wXT1lLnhzMCtiK2UueHMxK2UueG4xK2UueHMyK2UueG4yK2UueHMzK2UueG4zK2UueHM0O2Vsc2UgaWYoNT09PWQpZS50W2UucF09ZS54czArYitlLnhzMStlLnhuMStlLnhzMitlLnhuMitlLnhzMytlLnhuMytlLnhzNCtlLnhuNCtlLnhzNTtlbHNle2ZvcihjPWUueHMwK2IrZS54czEsZD0xO2Q8ZS5sO2QrKyljKz1lW1wieG5cIitkXStlW1wieHNcIisoZCsxKV07ZS50W2UucF09Y31lbHNlLTE9PT1lLnR5cGU/ZS50W2UucF09ZS54czA6ZS5zZXRSYXRpbyYmZS5zZXRSYXRpbyhhKTtlbHNlIGUudFtlLnBdPWIrZS54czA7ZT1lLl9uZXh0fWVsc2UgZm9yKDtlOykyIT09ZS50eXBlP2UudFtlLnBdPWUuYjplLnNldFJhdGlvKGEpLGU9ZS5fbmV4dDtlbHNlIGZvcig7ZTspe2lmKDIhPT1lLnR5cGUpaWYoZS5yJiYtMSE9PWUudHlwZSlpZihiPU1hdGgucm91bmQoZS5zK2UuYyksZS50eXBlKXtpZigxPT09ZS50eXBlKXtmb3IoZD1lLmwsYz1lLnhzMCtiK2UueHMxLGQ9MTtkPGUubDtkKyspYys9ZVtcInhuXCIrZF0rZVtcInhzXCIrKGQrMSldO2UudFtlLnBdPWN9fWVsc2UgZS50W2UucF09YitlLnhzMDtlbHNlIGUudFtlLnBdPWUuZTtlbHNlIGUuc2V0UmF0aW8oYSk7ZT1lLl9uZXh0fX0sai5fZW5hYmxlVHJhbnNmb3Jtcz1mdW5jdGlvbihhKXt0aGlzLl90cmFuc2Zvcm09dGhpcy5fdHJhbnNmb3JtfHxSYSh0aGlzLl90YXJnZXQsZSwhMCksdGhpcy5fdHJhbnNmb3JtVHlwZT10aGlzLl90cmFuc2Zvcm0uc3ZnJiZBYXx8IWEmJjMhPT10aGlzLl90cmFuc2Zvcm1UeXBlPzI6M307dmFyIFlhPWZ1bmN0aW9uKGEpe3RoaXMudFt0aGlzLnBdPXRoaXMuZSx0aGlzLmRhdGEuX2xpbmtDU1NQKHRoaXMsdGhpcy5fbmV4dCxudWxsLCEwKX07ai5fYWRkTGF6eVNldD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5fZmlyc3RQVD1uZXcgdGEoYSxiLDAsMCx0aGlzLl9maXJzdFBULDIpO2QuZT1jLGQuc2V0UmF0aW89WWEsZC5kYXRhPXRoaXN9LGouX2xpbmtDU1NQPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBhJiYoYiYmKGIuX3ByZXY9YSksYS5fbmV4dCYmKGEuX25leHQuX3ByZXY9YS5fcHJldiksYS5fcHJldj9hLl9wcmV2Ll9uZXh0PWEuX25leHQ6dGhpcy5fZmlyc3RQVD09PWEmJih0aGlzLl9maXJzdFBUPWEuX25leHQsZD0hMCksYz9jLl9uZXh0PWE6ZHx8bnVsbCE9PXRoaXMuX2ZpcnN0UFR8fCh0aGlzLl9maXJzdFBUPWEpLGEuX25leHQ9YixhLl9wcmV2PWMpLGF9LGouX21vZD1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5fZmlyc3RQVDtiOylcImZ1bmN0aW9uXCI9PXR5cGVvZiBhW2IucF0mJmFbYi5wXT09PU1hdGgucm91bmQmJihiLnI9MSksYj1iLl9uZXh0fSxqLl9raWxsPWZ1bmN0aW9uKGIpe3ZhciBjLGQsZSxmPWI7aWYoYi5hdXRvQWxwaGF8fGIuYWxwaGEpe2Y9e307Zm9yKGQgaW4gYilmW2RdPWJbZF07Zi5vcGFjaXR5PTEsZi5hdXRvQWxwaGEmJihmLnZpc2liaWxpdHk9MSl9Zm9yKGIuY2xhc3NOYW1lJiYoYz10aGlzLl9jbGFzc05hbWVQVCkmJihlPWMueGZpcnN0LGUmJmUuX3ByZXY/dGhpcy5fbGlua0NTU1AoZS5fcHJldixjLl9uZXh0LGUuX3ByZXYuX3ByZXYpOmU9PT10aGlzLl9maXJzdFBUJiYodGhpcy5fZmlyc3RQVD1jLl9uZXh0KSxjLl9uZXh0JiZ0aGlzLl9saW5rQ1NTUChjLl9uZXh0LGMuX25leHQuX25leHQsZS5fcHJldiksdGhpcy5fY2xhc3NOYW1lUFQ9bnVsbCksYz10aGlzLl9maXJzdFBUO2M7KWMucGx1Z2luJiZjLnBsdWdpbiE9PWQmJmMucGx1Z2luLl9raWxsJiYoYy5wbHVnaW4uX2tpbGwoYiksZD1jLnBsdWdpbiksYz1jLl9uZXh0O3JldHVybiBhLnByb3RvdHlwZS5fa2lsbC5jYWxsKHRoaXMsZil9O3ZhciBaYT1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGc7aWYoYS5zbGljZSlmb3IoZT1hLmxlbmd0aDstLWU+LTE7KVphKGFbZV0sYixjKTtlbHNlIGZvcihkPWEuY2hpbGROb2RlcyxlPWQubGVuZ3RoOy0tZT4tMTspZj1kW2VdLGc9Zi50eXBlLGYuc3R5bGUmJihiLnB1c2goY2EoZikpLGMmJmMucHVzaChmKSksMSE9PWcmJjkhPT1nJiYxMSE9PWd8fCFmLmNoaWxkTm9kZXMubGVuZ3RofHxaYShmLGIsYyl9O3JldHVybiBnLmNhc2NhZGVUbz1mdW5jdGlvbihhLGMsZCl7dmFyIGUsZixnLGgsaT1iLnRvKGEsYyxkKSxqPVtpXSxrPVtdLGw9W10sbT1bXSxuPWIuX2ludGVybmFscy5yZXNlcnZlZFByb3BzO2ZvcihhPWkuX3RhcmdldHN8fGkudGFyZ2V0LFphKGEsayxtKSxpLnJlbmRlcihjLCEwLCEwKSxaYShhLGwpLGkucmVuZGVyKDAsITAsITApLGkuX2VuYWJsZWQoITApLGU9bS5sZW5ndGg7LS1lPi0xOylpZihmPWRhKG1bZV0sa1tlXSxsW2VdKSxmLmZpcnN0TVBUKXtmPWYuZGlmcztmb3IoZyBpbiBkKW5bZ10mJihmW2ddPWRbZ10pO2g9e307Zm9yKGcgaW4gZiloW2ddPWtbZV1bZ107ai5wdXNoKGIuZnJvbVRvKG1bZV0sYyxoLGYpKX1yZXR1cm4gan0sYS5hY3RpdmF0ZShbZ10pLGd9LCEwKSxmdW5jdGlvbigpe3ZhciBhPV9nc1Njb3BlLl9nc0RlZmluZS5wbHVnaW4oe3Byb3BOYW1lOlwicm91bmRQcm9wc1wiLHZlcnNpb246XCIxLjYuMFwiLHByaW9yaXR5Oi0xLEFQSToyLGluaXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLl90d2Vlbj1jLCEwfX0pLGI9ZnVuY3Rpb24oYSl7Zm9yKDthOylhLmZ8fGEuYmxvYnx8KGEubT1NYXRoLnJvdW5kKSxhPWEuX25leHR9LGM9YS5wcm90b3R5cGU7Yy5fb25Jbml0QWxsUHJvcHM9ZnVuY3Rpb24oKXtmb3IodmFyIGEsYyxkLGU9dGhpcy5fdHdlZW4sZj1lLnZhcnMucm91bmRQcm9wcy5qb2luP2UudmFycy5yb3VuZFByb3BzOmUudmFycy5yb3VuZFByb3BzLnNwbGl0KFwiLFwiKSxnPWYubGVuZ3RoLGg9e30saT1lLl9wcm9wTG9va3VwLnJvdW5kUHJvcHM7LS1nPi0xOyloW2ZbZ11dPU1hdGgucm91bmQ7Zm9yKGc9Zi5sZW5ndGg7LS1nPi0xOylmb3IoYT1mW2ddLGM9ZS5fZmlyc3RQVDtjOylkPWMuX25leHQsYy5wZz9jLnQuX21vZChoKTpjLm49PT1hJiYoMj09PWMuZiYmYy50P2IoYy50Ll9maXJzdFBUKToodGhpcy5fYWRkKGMudCxhLGMucyxjLmMpLGQmJihkLl9wcmV2PWMuX3ByZXYpLGMuX3ByZXY/Yy5fcHJldi5fbmV4dD1kOmUuX2ZpcnN0UFQ9PT1jJiYoZS5fZmlyc3RQVD1kKSxjLl9uZXh0PWMuX3ByZXY9bnVsbCxlLl9wcm9wTG9va3VwW2FdPWkpKSxjPWQ7cmV0dXJuITF9LGMuX2FkZD1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLl9hZGRUd2VlbihhLGIsYyxjK2QsYixNYXRoLnJvdW5kKSx0aGlzLl9vdmVyd3JpdGVQcm9wcy5wdXNoKGIpfX0oKSxmdW5jdGlvbigpe19nc1Njb3BlLl9nc0RlZmluZS5wbHVnaW4oe3Byb3BOYW1lOlwiYXR0clwiLEFQSToyLHZlcnNpb246XCIwLjYuMFwiLGluaXQ6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZjtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLnNldEF0dHJpYnV0ZSlyZXR1cm4hMTtmb3IoZSBpbiBiKWY9YltlXSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBmJiYoZj1mKGQsYSkpLHRoaXMuX2FkZFR3ZWVuKGEsXCJzZXRBdHRyaWJ1dGVcIixhLmdldEF0dHJpYnV0ZShlKStcIlwiLGYrXCJcIixlLCExLGUpLHRoaXMuX292ZXJ3cml0ZVByb3BzLnB1c2goZSk7cmV0dXJuITB9fSl9KCksX2dzU2NvcGUuX2dzRGVmaW5lLnBsdWdpbih7cHJvcE5hbWU6XCJkaXJlY3Rpb25hbFJvdGF0aW9uXCIsdmVyc2lvbjpcIjAuMy4wXCIsQVBJOjIsaW5pdDpmdW5jdGlvbihhLGIsYyxkKXtcIm9iamVjdFwiIT10eXBlb2YgYiYmKGI9e3JvdGF0aW9uOmJ9KSx0aGlzLmZpbmFscz17fTt2YXIgZSxmLGcsaCxpLGosaz1iLnVzZVJhZGlhbnM9PT0hMD8yKk1hdGguUEk6MzYwLGw9MWUtNjtmb3IoZSBpbiBiKVwidXNlUmFkaWFuc1wiIT09ZSYmKGg9YltlXSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBoJiYoaD1oKGQsYSkpLGo9KGgrXCJcIikuc3BsaXQoXCJfXCIpLGY9alswXSxnPXBhcnNlRmxvYXQoXCJmdW5jdGlvblwiIT10eXBlb2YgYVtlXT9hW2VdOmFbZS5pbmRleE9mKFwic2V0XCIpfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBhW1wiZ2V0XCIrZS5zdWJzdHIoMyldP2U6XCJnZXRcIitlLnN1YnN0cigzKV0oKSksaD10aGlzLmZpbmFsc1tlXT1cInN0cmluZ1wiPT10eXBlb2YgZiYmXCI9XCI9PT1mLmNoYXJBdCgxKT9nK3BhcnNlSW50KGYuY2hhckF0KDApK1wiMVwiLDEwKSpOdW1iZXIoZi5zdWJzdHIoMikpOk51bWJlcihmKXx8MCxpPWgtZyxqLmxlbmd0aCYmKGY9ai5qb2luKFwiX1wiKSwtMSE9PWYuaW5kZXhPZihcInNob3J0XCIpJiYoaSU9ayxpIT09aSUoay8yKSYmKGk9MD5pP2krazppLWspKSwtMSE9PWYuaW5kZXhPZihcIl9jd1wiKSYmMD5pP2k9KGkrOTk5OTk5OTk5OSprKSVrLShpL2t8MCkqazotMSE9PWYuaW5kZXhPZihcImNjd1wiKSYmaT4wJiYoaT0oaS05OTk5OTk5OTk5KmspJWstKGkva3wwKSprKSksKGk+bHx8LWw+aSkmJih0aGlzLl9hZGRUd2VlbihhLGUsZyxnK2ksZSksdGhpcy5fb3ZlcndyaXRlUHJvcHMucHVzaChlKSkpO3JldHVybiEwfSxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoMSE9PWEpdGhpcy5fc3VwZXIuc2V0UmF0aW8uY2FsbCh0aGlzLGEpO2Vsc2UgZm9yKGI9dGhpcy5fZmlyc3RQVDtiOyliLmY/Yi50W2IucF0odGhpcy5maW5hbHNbYi5wXSk6Yi50W2IucF09dGhpcy5maW5hbHNbYi5wXSxiPWIuX25leHR9fSkuX2F1dG9DU1M9ITAsX2dzU2NvcGUuX2dzRGVmaW5lKFwiZWFzaW5nLkJhY2tcIixbXCJlYXNpbmcuRWFzZVwiXSxmdW5jdGlvbihhKXt2YXIgYixjLGQsZT1fZ3NTY29wZS5HcmVlblNvY2tHbG9iYWxzfHxfZ3NTY29wZSxmPWUuY29tLmdyZWVuc29jayxnPTIqTWF0aC5QSSxoPU1hdGguUEkvMixpPWYuX2NsYXNzLGo9ZnVuY3Rpb24oYixjKXt2YXIgZD1pKFwiZWFzaW5nLlwiK2IsZnVuY3Rpb24oKXt9LCEwKSxlPWQucHJvdG90eXBlPW5ldyBhO3JldHVybiBlLmNvbnN0cnVjdG9yPWQsZS5nZXRSYXRpbz1jLGR9LGs9YS5yZWdpc3Rlcnx8ZnVuY3Rpb24oKXt9LGw9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1pKFwiZWFzaW5nLlwiK2Ese2Vhc2VPdXQ6bmV3IGIsZWFzZUluOm5ldyBjLGVhc2VJbk91dDpuZXcgZH0sITApO3JldHVybiBrKGYsYSksZn0sbT1mdW5jdGlvbihhLGIsYyl7dGhpcy50PWEsdGhpcy52PWIsYyYmKHRoaXMubmV4dD1jLGMucHJldj10aGlzLHRoaXMuYz1jLnYtYix0aGlzLmdhcD1jLnQtYSl9LG49ZnVuY3Rpb24oYixjKXt2YXIgZD1pKFwiZWFzaW5nLlwiK2IsZnVuY3Rpb24oYSl7dGhpcy5fcDE9YXx8MD09PWE/YToxLjcwMTU4LHRoaXMuX3AyPTEuNTI1KnRoaXMuX3AxfSwhMCksZT1kLnByb3RvdHlwZT1uZXcgYTtyZXR1cm4gZS5jb25zdHJ1Y3Rvcj1kLGUuZ2V0UmF0aW89YyxlLmNvbmZpZz1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IGQoYSl9LGR9LG89bChcIkJhY2tcIixuKFwiQmFja091dFwiLGZ1bmN0aW9uKGEpe3JldHVybihhLT0xKSphKigodGhpcy5fcDErMSkqYSt0aGlzLl9wMSkrMX0pLG4oXCJCYWNrSW5cIixmdW5jdGlvbihhKXtyZXR1cm4gYSphKigodGhpcy5fcDErMSkqYS10aGlzLl9wMSl9KSxuKFwiQmFja0luT3V0XCIsZnVuY3Rpb24oYSl7cmV0dXJuKGEqPTIpPDE/LjUqYSphKigodGhpcy5fcDIrMSkqYS10aGlzLl9wMik6LjUqKChhLT0yKSphKigodGhpcy5fcDIrMSkqYSt0aGlzLl9wMikrMil9KSkscD1pKFwiZWFzaW5nLlNsb3dNb1wiLGZ1bmN0aW9uKGEsYixjKXtiPWJ8fDA9PT1iP2I6LjcsbnVsbD09YT9hPS43OmE+MSYmKGE9MSksdGhpcy5fcD0xIT09YT9iOjAsdGhpcy5fcDE9KDEtYSkvMix0aGlzLl9wMj1hLHRoaXMuX3AzPXRoaXMuX3AxK3RoaXMuX3AyLHRoaXMuX2NhbGNFbmQ9Yz09PSEwfSwhMCkscT1wLnByb3RvdHlwZT1uZXcgYTtyZXR1cm4gcS5jb25zdHJ1Y3Rvcj1wLHEuZ2V0UmF0aW89ZnVuY3Rpb24oYSl7dmFyIGI9YSsoLjUtYSkqdGhpcy5fcDtyZXR1cm4gYTx0aGlzLl9wMT90aGlzLl9jYWxjRW5kPzEtKGE9MS1hL3RoaXMuX3AxKSphOmItKGE9MS1hL3RoaXMuX3AxKSphKmEqYSpiOmE+dGhpcy5fcDM/dGhpcy5fY2FsY0VuZD8xLShhPShhLXRoaXMuX3AzKS90aGlzLl9wMSkqYTpiKyhhLWIpKihhPShhLXRoaXMuX3AzKS90aGlzLl9wMSkqYSphKmE6dGhpcy5fY2FsY0VuZD8xOmJ9LHAuZWFzZT1uZXcgcCguNywuNykscS5jb25maWc9cC5jb25maWc9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuZXcgcChhLGIsYyl9LGI9aShcImVhc2luZy5TdGVwcGVkRWFzZVwiLGZ1bmN0aW9uKGEpe2E9YXx8MSx0aGlzLl9wMT0xL2EsdGhpcy5fcDI9YSsxfSwhMCkscT1iLnByb3RvdHlwZT1uZXcgYSxxLmNvbnN0cnVjdG9yPWIscS5nZXRSYXRpbz1mdW5jdGlvbihhKXtyZXR1cm4gMD5hP2E9MDphPj0xJiYoYT0uOTk5OTk5OTk5KSwodGhpcy5fcDIqYT4+MCkqdGhpcy5fcDF9LHEuY29uZmlnPWIuY29uZmlnPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgYihhKX0sYz1pKFwiZWFzaW5nLlJvdWdoRWFzZVwiLGZ1bmN0aW9uKGIpe2I9Ynx8e307Zm9yKHZhciBjLGQsZSxmLGcsaCxpPWIudGFwZXJ8fFwibm9uZVwiLGo9W10saz0wLGw9MHwoYi5wb2ludHN8fDIwKSxuPWwsbz1iLnJhbmRvbWl6ZSE9PSExLHA9Yi5jbGFtcD09PSEwLHE9Yi50ZW1wbGF0ZSBpbnN0YW5jZW9mIGE/Yi50ZW1wbGF0ZTpudWxsLHI9XCJudW1iZXJcIj09dHlwZW9mIGIuc3RyZW5ndGg/LjQqYi5zdHJlbmd0aDouNDstLW4+LTE7KWM9bz9NYXRoLnJhbmRvbSgpOjEvbCpuLGQ9cT9xLmdldFJhdGlvKGMpOmMsXCJub25lXCI9PT1pP2U9cjpcIm91dFwiPT09aT8oZj0xLWMsZT1mKmYqcik6XCJpblwiPT09aT9lPWMqYypyOi41PmM/KGY9MipjLGU9ZipmKi41KnIpOihmPTIqKDEtYyksZT1mKmYqLjUqciksbz9kKz1NYXRoLnJhbmRvbSgpKmUtLjUqZTpuJTI/ZCs9LjUqZTpkLT0uNSplLHAmJihkPjE/ZD0xOjA+ZCYmKGQ9MCkpLGpbaysrXT17eDpjLHk6ZH07Zm9yKGouc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLngtYi54fSksaD1uZXcgbSgxLDEsbnVsbCksbj1sOy0tbj4tMTspZz1qW25dLGg9bmV3IG0oZy54LGcueSxoKTt0aGlzLl9wcmV2PW5ldyBtKDAsMCwwIT09aC50P2g6aC5uZXh0KX0sITApLHE9Yy5wcm90b3R5cGU9bmV3IGEscS5jb25zdHJ1Y3Rvcj1jLHEuZ2V0UmF0aW89ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fcHJldjtpZihhPmIudCl7Zm9yKDtiLm5leHQmJmE+PWIudDspYj1iLm5leHQ7Yj1iLnByZXZ9ZWxzZSBmb3IoO2IucHJldiYmYTw9Yi50OyliPWIucHJldjtyZXR1cm4gdGhpcy5fcHJldj1iLGIudisoYS1iLnQpL2IuZ2FwKmIuY30scS5jb25maWc9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBjKGEpfSxjLmVhc2U9bmV3IGMsbChcIkJvdW5jZVwiLGooXCJCb3VuY2VPdXRcIixmdW5jdGlvbihhKXtyZXR1cm4gMS8yLjc1PmE/Ny41NjI1KmEqYToyLzIuNzU+YT83LjU2MjUqKGEtPTEuNS8yLjc1KSphKy43NToyLjUvMi43NT5hPzcuNTYyNSooYS09Mi4yNS8yLjc1KSphKy45Mzc1OjcuNTYyNSooYS09Mi42MjUvMi43NSkqYSsuOTg0Mzc1fSksaihcIkJvdW5jZUluXCIsZnVuY3Rpb24oYSl7cmV0dXJuKGE9MS1hKTwxLzIuNzU/MS03LjU2MjUqYSphOjIvMi43NT5hPzEtKDcuNTYyNSooYS09MS41LzIuNzUpKmErLjc1KToyLjUvMi43NT5hPzEtKDcuNTYyNSooYS09Mi4yNS8yLjc1KSphKy45Mzc1KToxLSg3LjU2MjUqKGEtPTIuNjI1LzIuNzUpKmErLjk4NDM3NSl9KSxqKFwiQm91bmNlSW5PdXRcIixmdW5jdGlvbihhKXt2YXIgYj0uNT5hO3JldHVybiBhPWI/MS0yKmE6MiphLTEsYT0xLzIuNzU+YT83LjU2MjUqYSphOjIvMi43NT5hPzcuNTYyNSooYS09MS41LzIuNzUpKmErLjc1OjIuNS8yLjc1PmE/Ny41NjI1KihhLT0yLjI1LzIuNzUpKmErLjkzNzU6Ny41NjI1KihhLT0yLjYyNS8yLjc1KSphKy45ODQzNzUsYj8uNSooMS1hKTouNSphKy41fSkpLGwoXCJDaXJjXCIsaihcIkNpcmNPdXRcIixmdW5jdGlvbihhKXtyZXR1cm4gTWF0aC5zcXJ0KDEtKGEtPTEpKmEpfSksaihcIkNpcmNJblwiLGZ1bmN0aW9uKGEpe3JldHVybi0oTWF0aC5zcXJ0KDEtYSphKS0xKX0pLGooXCJDaXJjSW5PdXRcIixmdW5jdGlvbihhKXtyZXR1cm4oYSo9Mik8MT8tLjUqKE1hdGguc3FydCgxLWEqYSktMSk6LjUqKE1hdGguc3FydCgxLShhLT0yKSphKSsxKX0pKSxkPWZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1pKFwiZWFzaW5nLlwiK2IsZnVuY3Rpb24oYSxiKXt0aGlzLl9wMT1hPj0xP2E6MSx0aGlzLl9wMj0oYnx8ZCkvKDE+YT9hOjEpLHRoaXMuX3AzPXRoaXMuX3AyL2cqKE1hdGguYXNpbigxL3RoaXMuX3AxKXx8MCksdGhpcy5fcDI9Zy90aGlzLl9wMn0sITApLGY9ZS5wcm90b3R5cGU9bmV3IGE7cmV0dXJuIGYuY29uc3RydWN0b3I9ZSxmLmdldFJhdGlvPWMsZi5jb25maWc9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IGUoYSxiKX0sZX0sbChcIkVsYXN0aWNcIixkKFwiRWxhc3RpY091dFwiLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9wMSpNYXRoLnBvdygyLC0xMCphKSpNYXRoLnNpbigoYS10aGlzLl9wMykqdGhpcy5fcDIpKzF9LC4zKSxkKFwiRWxhc3RpY0luXCIsZnVuY3Rpb24oYSl7cmV0dXJuLSh0aGlzLl9wMSpNYXRoLnBvdygyLDEwKihhLT0xKSkqTWF0aC5zaW4oKGEtdGhpcy5fcDMpKnRoaXMuX3AyKSl9LC4zKSxkKFwiRWxhc3RpY0luT3V0XCIsZnVuY3Rpb24oYSl7cmV0dXJuKGEqPTIpPDE/LS41Kih0aGlzLl9wMSpNYXRoLnBvdygyLDEwKihhLT0xKSkqTWF0aC5zaW4oKGEtdGhpcy5fcDMpKnRoaXMuX3AyKSk6dGhpcy5fcDEqTWF0aC5wb3coMiwtMTAqKGEtPTEpKSpNYXRoLnNpbigoYS10aGlzLl9wMykqdGhpcy5fcDIpKi41KzF9LC40NSkpLGwoXCJFeHBvXCIsaihcIkV4cG9PdXRcIixmdW5jdGlvbihhKXtyZXR1cm4gMS1NYXRoLnBvdygyLC0xMCphKX0pLGooXCJFeHBvSW5cIixmdW5jdGlvbihhKXtyZXR1cm4gTWF0aC5wb3coMiwxMCooYS0xKSktLjAwMX0pLGooXCJFeHBvSW5PdXRcIixmdW5jdGlvbihhKXtyZXR1cm4oYSo9Mik8MT8uNSpNYXRoLnBvdygyLDEwKihhLTEpKTouNSooMi1NYXRoLnBvdygyLC0xMCooYS0xKSkpfSkpLGwoXCJTaW5lXCIsaihcIlNpbmVPdXRcIixmdW5jdGlvbihhKXtyZXR1cm4gTWF0aC5zaW4oYSpoKX0pLGooXCJTaW5lSW5cIixmdW5jdGlvbihhKXtyZXR1cm4tTWF0aC5jb3MoYSpoKSsxfSksaihcIlNpbmVJbk91dFwiLGZ1bmN0aW9uKGEpe3JldHVybi0uNSooTWF0aC5jb3MoTWF0aC5QSSphKS0xKX0pKSxpKFwiZWFzaW5nLkVhc2VMb29rdXBcIix7ZmluZDpmdW5jdGlvbihiKXtyZXR1cm4gYS5tYXBbYl19fSwhMCksayhlLlNsb3dNbyxcIlNsb3dNb1wiLFwiZWFzZSxcIiksayhjLFwiUm91Z2hFYXNlXCIsXCJlYXNlLFwiKSxrKGIsXCJTdGVwcGVkRWFzZVwiLFwiZWFzZSxcIiksb30sITApfSksX2dzU2NvcGUuX2dzRGVmaW5lJiZfZ3NTY29wZS5fZ3NRdWV1ZS5wb3AoKSgpLGZ1bmN0aW9uKGEsYil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGM9e30sZD1hLmRvY3VtZW50LGU9YS5HcmVlblNvY2tHbG9iYWxzPWEuR3JlZW5Tb2NrR2xvYmFsc3x8YTtpZighZS5Ud2VlbkxpdGUpe3ZhciBmLGcsaCxpLGosaz1mdW5jdGlvbihhKXt2YXIgYixjPWEuc3BsaXQoXCIuXCIpLGQ9ZTtmb3IoYj0wO2I8Yy5sZW5ndGg7YisrKWRbY1tiXV09ZD1kW2NbYl1dfHx7fTtyZXR1cm4gZH0sbD1rKFwiY29tLmdyZWVuc29ja1wiKSxtPTFlLTEwLG49ZnVuY3Rpb24oYSl7dmFyIGIsYz1bXSxkPWEubGVuZ3RoO2ZvcihiPTA7YiE9PWQ7Yy5wdXNoKGFbYisrXSkpO3JldHVybiBjfSxvPWZ1bmN0aW9uKCl7fSxwPWZ1bmN0aW9uKCl7dmFyIGE9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxiPWEuY2FsbChbXSk7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiBudWxsIT1jJiYoYyBpbnN0YW5jZW9mIEFycmF5fHxcIm9iamVjdFwiPT10eXBlb2YgYyYmISFjLnB1c2gmJmEuY2FsbChjKT09PWIpfX0oKSxxPXt9LHI9ZnVuY3Rpb24oZCxmLGcsaCl7dGhpcy5zYz1xW2RdP3FbZF0uc2M6W10scVtkXT10aGlzLHRoaXMuZ3NDbGFzcz1udWxsLHRoaXMuZnVuYz1nO3ZhciBpPVtdO3RoaXMuY2hlY2s9ZnVuY3Rpb24oail7Zm9yKHZhciBsLG0sbixvLHAscz1mLmxlbmd0aCx0PXM7LS1zPi0xOykobD1xW2Zbc11dfHxuZXcgcihmW3NdLFtdKSkuZ3NDbGFzcz8oaVtzXT1sLmdzQ2xhc3MsdC0tKTpqJiZsLnNjLnB1c2godGhpcyk7aWYoMD09PXQmJmcpe2lmKG09KFwiY29tLmdyZWVuc29jay5cIitkKS5zcGxpdChcIi5cIiksbj1tLnBvcCgpLG89ayhtLmpvaW4oXCIuXCIpKVtuXT10aGlzLmdzQ2xhc3M9Zy5hcHBseShnLGkpLGgpaWYoZVtuXT1jW25dPW8scD1cInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cywhcCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZSgoYS5HcmVlblNvY2tBTURQYXRoP2EuR3JlZW5Tb2NrQU1EUGF0aCtcIi9cIjpcIlwiKStkLnNwbGl0KFwiLlwiKS5wb3AoKSxbXSxmdW5jdGlvbigpe3JldHVybiBvfSk7ZWxzZSBpZihwKWlmKGQ9PT1iKXttb2R1bGUuZXhwb3J0cz1jW2JdPW87Zm9yKHMgaW4gYylvW3NdPWNbc119ZWxzZSBjW2JdJiYoY1tiXVtuXT1vKTtmb3Iocz0wO3M8dGhpcy5zYy5sZW5ndGg7cysrKXRoaXMuc2Nbc10uY2hlY2soKX19LHRoaXMuY2hlY2soITApfSxzPWEuX2dzRGVmaW5lPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBuZXcgcihhLGIsYyxkKX0sdD1sLl9jbGFzcz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI9Ynx8ZnVuY3Rpb24oKXt9LHMoYSxbXSxmdW5jdGlvbigpe3JldHVybiBifSxjKSxifTtzLmdsb2JhbHM9ZTt2YXIgdT1bMCwwLDEsMV0sdj10KFwiZWFzaW5nLkVhc2VcIixmdW5jdGlvbihhLGIsYyxkKXt0aGlzLl9mdW5jPWEsdGhpcy5fdHlwZT1jfHwwLHRoaXMuX3Bvd2VyPWR8fDAsdGhpcy5fcGFyYW1zPWI/dS5jb25jYXQoYik6dX0sITApLHc9di5tYXA9e30seD12LnJlZ2lzdGVyPWZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZSxmLGcsaCxpPWIuc3BsaXQoXCIsXCIpLGo9aS5sZW5ndGgsaz0oY3x8XCJlYXNlSW4sZWFzZU91dCxlYXNlSW5PdXRcIikuc3BsaXQoXCIsXCIpOy0taj4tMTspZm9yKGY9aVtqXSxlPWQ/dChcImVhc2luZy5cIitmLG51bGwsITApOmwuZWFzaW5nW2ZdfHx7fSxnPWsubGVuZ3RoOy0tZz4tMTspaD1rW2ddLHdbZitcIi5cIitoXT13W2grZl09ZVtoXT1hLmdldFJhdGlvP2E6YVtoXXx8bmV3IGF9O2ZvcihoPXYucHJvdG90eXBlLGguX2NhbGNFbmQ9ITEsaC5nZXRSYXRpbz1mdW5jdGlvbihhKXtpZih0aGlzLl9mdW5jKXJldHVybiB0aGlzLl9wYXJhbXNbMF09YSx0aGlzLl9mdW5jLmFwcGx5KG51bGwsdGhpcy5fcGFyYW1zKTt2YXIgYj10aGlzLl90eXBlLGM9dGhpcy5fcG93ZXIsZD0xPT09Yj8xLWE6Mj09PWI/YTouNT5hPzIqYToyKigxLWEpO3JldHVybiAxPT09Yz9kKj1kOjI9PT1jP2QqPWQqZDozPT09Yz9kKj1kKmQqZDo0PT09YyYmKGQqPWQqZCpkKmQpLDE9PT1iPzEtZDoyPT09Yj9kOi41PmE/ZC8yOjEtZC8yfSxmPVtcIkxpbmVhclwiLFwiUXVhZFwiLFwiQ3ViaWNcIixcIlF1YXJ0XCIsXCJRdWludCxTdHJvbmdcIl0sZz1mLmxlbmd0aDstLWc+LTE7KWg9ZltnXStcIixQb3dlclwiK2cseChuZXcgdihudWxsLG51bGwsMSxnKSxoLFwiZWFzZU91dFwiLCEwKSx4KG5ldyB2KG51bGwsbnVsbCwyLGcpLGgsXCJlYXNlSW5cIisoMD09PWc/XCIsZWFzZU5vbmVcIjpcIlwiKSkseChuZXcgdihudWxsLG51bGwsMyxnKSxoLFwiZWFzZUluT3V0XCIpO3cubGluZWFyPWwuZWFzaW5nLkxpbmVhci5lYXNlSW4sdy5zd2luZz1sLmVhc2luZy5RdWFkLmVhc2VJbk91dDt2YXIgeT10KFwiZXZlbnRzLkV2ZW50RGlzcGF0Y2hlclwiLGZ1bmN0aW9uKGEpe3RoaXMuX2xpc3RlbmVycz17fSx0aGlzLl9ldmVudFRhcmdldD1hfHx0aGlzfSk7aD15LnByb3RvdHlwZSxoLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiLGMsZCxlKXtlPWV8fDA7dmFyIGYsZyxoPXRoaXMuX2xpc3RlbmVyc1thXSxrPTA7Zm9yKHRoaXMhPT1pfHxqfHxpLndha2UoKSxudWxsPT1oJiYodGhpcy5fbGlzdGVuZXJzW2FdPWg9W10pLGc9aC5sZW5ndGg7LS1nPi0xOylmPWhbZ10sZi5jPT09YiYmZi5zPT09Yz9oLnNwbGljZShnLDEpOjA9PT1rJiZmLnByPGUmJihrPWcrMSk7aC5zcGxpY2UoaywwLHtjOmIsczpjLHVwOmQscHI6ZX0pfSxoLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXRoaXMuX2xpc3RlbmVyc1thXTtpZihkKWZvcihjPWQubGVuZ3RoOy0tYz4tMTspaWYoZFtjXS5jPT09YilyZXR1cm4gdm9pZCBkLnNwbGljZShjLDEpfSxoLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU9dGhpcy5fbGlzdGVuZXJzW2FdO2lmKGUpZm9yKGI9ZS5sZW5ndGgsYj4xJiYoZT1lLnNsaWNlKDApKSxjPXRoaXMuX2V2ZW50VGFyZ2V0Oy0tYj4tMTspZD1lW2JdLGQmJihkLnVwP2QuYy5jYWxsKGQuc3x8Yyx7dHlwZTphLHRhcmdldDpjfSk6ZC5jLmNhbGwoZC5zfHxjKSl9O3ZhciB6PWEucmVxdWVzdEFuaW1hdGlvbkZyYW1lLEE9YS5jYW5jZWxBbmltYXRpb25GcmFtZSxCPURhdGUubm93fHxmdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfSxDPUIoKTtmb3IoZj1bXCJtc1wiLFwibW96XCIsXCJ3ZWJraXRcIixcIm9cIl0sZz1mLmxlbmd0aDstLWc+LTEmJiF6Oyl6PWFbZltnXStcIlJlcXVlc3RBbmltYXRpb25GcmFtZVwiXSxBPWFbZltnXStcIkNhbmNlbEFuaW1hdGlvbkZyYW1lXCJdfHxhW2ZbZ10rXCJDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl07dChcIlRpY2tlclwiLGZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaCxrPXRoaXMsbD1CKCksbj1iIT09ITEmJno/XCJhdXRvXCI6ITEscD01MDAscT0zMyxyPVwidGlja1wiLHM9ZnVuY3Rpb24oYSl7dmFyIGIsZCxpPUIoKS1DO2k+cCYmKGwrPWktcSksQys9aSxrLnRpbWU9KEMtbCkvMWUzLGI9ay50aW1lLWgsKCFjfHxiPjB8fGE9PT0hMCkmJihrLmZyYW1lKyssaCs9YisoYj49Zz8uMDA0OmctYiksZD0hMCksYSE9PSEwJiYoZj1lKHMpKSxkJiZrLmRpc3BhdGNoRXZlbnQocil9O3kuY2FsbChrKSxrLnRpbWU9ay5mcmFtZT0wLGsudGljaz1mdW5jdGlvbigpe3MoITApfSxrLmxhZ1Ntb290aGluZz1mdW5jdGlvbihhLGIpe3A9YXx8MS9tLHE9TWF0aC5taW4oYixwLDApfSxrLnNsZWVwPWZ1bmN0aW9uKCl7bnVsbCE9ZiYmKG4mJkE/QShmKTpjbGVhclRpbWVvdXQoZiksZT1vLGY9bnVsbCxrPT09aSYmKGo9ITEpKX0say53YWtlPWZ1bmN0aW9uKGEpe251bGwhPT1mP2suc2xlZXAoKTphP2wrPS1DKyhDPUIoKSk6ay5mcmFtZT4xMCYmKEM9QigpLXArNSksZT0wPT09Yz9vOm4mJno/ejpmdW5jdGlvbihhKXtyZXR1cm4gc2V0VGltZW91dChhLDFlMyooaC1rLnRpbWUpKzF8MCl9LGs9PT1pJiYoaj0hMCkscygyKX0say5mcHM9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9YSxnPTEvKGN8fDYwKSxoPXRoaXMudGltZStnLHZvaWQgay53YWtlKCkpOmN9LGsudXNlUkFGPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhrLnNsZWVwKCksbj1hLHZvaWQgay5mcHMoYykpOm59LGsuZnBzKGEpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcImF1dG9cIj09PW4mJmsuZnJhbWU8NSYmXCJoaWRkZW5cIiE9PWQudmlzaWJpbGl0eVN0YXRlJiZrLnVzZVJBRighMSl9LDE1MDApfSksaD1sLlRpY2tlci5wcm90b3R5cGU9bmV3IGwuZXZlbnRzLkV2ZW50RGlzcGF0Y2hlcixoLmNvbnN0cnVjdG9yPWwuVGlja2VyO3ZhciBEPXQoXCJjb3JlLkFuaW1hdGlvblwiLGZ1bmN0aW9uKGEsYil7aWYodGhpcy52YXJzPWI9Ynx8e30sdGhpcy5fZHVyYXRpb249dGhpcy5fdG90YWxEdXJhdGlvbj1hfHwwLHRoaXMuX2RlbGF5PU51bWJlcihiLmRlbGF5KXx8MCx0aGlzLl90aW1lU2NhbGU9MSx0aGlzLl9hY3RpdmU9Yi5pbW1lZGlhdGVSZW5kZXI9PT0hMCx0aGlzLmRhdGE9Yi5kYXRhLHRoaXMuX3JldmVyc2VkPWIucmV2ZXJzZWQ9PT0hMCxXKXtqfHxpLndha2UoKTt2YXIgYz10aGlzLnZhcnMudXNlRnJhbWVzP1Y6VztjLmFkZCh0aGlzLGMuX3RpbWUpLHRoaXMudmFycy5wYXVzZWQmJnRoaXMucGF1c2VkKCEwKX19KTtpPUQudGlja2VyPW5ldyBsLlRpY2tlcixoPUQucHJvdG90eXBlLGguX2RpcnR5PWguX2djPWguX2luaXR0ZWQ9aC5fcGF1c2VkPSExLGguX3RvdGFsVGltZT1oLl90aW1lPTAsaC5fcmF3UHJldlRpbWU9LTEsaC5fbmV4dD1oLl9sYXN0PWguX29uVXBkYXRlPWguX3RpbWVsaW5lPWgudGltZWxpbmU9bnVsbCxoLl9wYXVzZWQ9ITE7dmFyIEU9ZnVuY3Rpb24oKXtqJiZCKCktQz4yZTMmJmkud2FrZSgpLHNldFRpbWVvdXQoRSwyZTMpfTtFKCksaC5wbGF5PWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPWEmJnRoaXMuc2VlayhhLGIpLHRoaXMucmV2ZXJzZWQoITEpLnBhdXNlZCghMSl9LGgucGF1c2U9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbCE9YSYmdGhpcy5zZWVrKGEsYiksdGhpcy5wYXVzZWQoITApfSxoLnJlc3VtZT1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsIT1hJiZ0aGlzLnNlZWsoYSxiKSx0aGlzLnBhdXNlZCghMSl9LGguc2Vlaz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnRvdGFsVGltZShOdW1iZXIoYSksYiE9PSExKX0saC5yZXN0YXJ0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMucmV2ZXJzZWQoITEpLnBhdXNlZCghMSkudG90YWxUaW1lKGE/LXRoaXMuX2RlbGF5OjAsYiE9PSExLCEwKX0saC5yZXZlcnNlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPWEmJnRoaXMuc2VlayhhfHx0aGlzLnRvdGFsRHVyYXRpb24oKSxiKSx0aGlzLnJldmVyc2VkKCEwKS5wYXVzZWQoITEpfSxoLnJlbmRlcj1mdW5jdGlvbihhLGIsYyl7fSxoLmludmFsaWRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGltZT10aGlzLl90b3RhbFRpbWU9MCx0aGlzLl9pbml0dGVkPXRoaXMuX2djPSExLHRoaXMuX3Jhd1ByZXZUaW1lPS0xLCh0aGlzLl9nY3x8IXRoaXMudGltZWxpbmUpJiZ0aGlzLl9lbmFibGVkKCEwKSx0aGlzfSxoLmlzQWN0aXZlPWZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLl90aW1lbGluZSxjPXRoaXMuX3N0YXJ0VGltZTtyZXR1cm4hYnx8IXRoaXMuX2djJiYhdGhpcy5fcGF1c2VkJiZiLmlzQWN0aXZlKCkmJihhPWIucmF3VGltZSghMCkpPj1jJiZhPGMrdGhpcy50b3RhbER1cmF0aW9uKCkvdGhpcy5fdGltZVNjYWxlfSxoLl9lbmFibGVkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGp8fGkud2FrZSgpLHRoaXMuX2djPSFhLHRoaXMuX2FjdGl2ZT10aGlzLmlzQWN0aXZlKCksYiE9PSEwJiYoYSYmIXRoaXMudGltZWxpbmU/dGhpcy5fdGltZWxpbmUuYWRkKHRoaXMsdGhpcy5fc3RhcnRUaW1lLXRoaXMuX2RlbGF5KTohYSYmdGhpcy50aW1lbGluZSYmdGhpcy5fdGltZWxpbmUuX3JlbW92ZSh0aGlzLCEwKSksITF9LGguX2tpbGw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fZW5hYmxlZCghMSwhMSl9LGgua2lsbD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLl9raWxsKGEsYiksdGhpc30saC5fdW5jYWNoZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9YT90aGlzOnRoaXMudGltZWxpbmU7YjspYi5fZGlydHk9ITAsYj1iLnRpbWVsaW5lO3JldHVybiB0aGlzfSxoLl9zd2FwU2VsZkluUGFyYW1zPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmxlbmd0aCxjPWEuY29uY2F0KCk7LS1iPi0xOylcIntzZWxmfVwiPT09YVtiXSYmKGNbYl09dGhpcyk7cmV0dXJuIGN9LGguX2NhbGxiYWNrPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudmFycyxjPWJbYV0sZD1iW2ErXCJQYXJhbXNcIl0sZT1iW2ErXCJTY29wZVwiXXx8Yi5jYWxsYmFja1Njb3BlfHx0aGlzLGY9ZD9kLmxlbmd0aDowO3N3aXRjaChmKXtjYXNlIDA6Yy5jYWxsKGUpO2JyZWFrO2Nhc2UgMTpjLmNhbGwoZSxkWzBdKTticmVhaztjYXNlIDI6Yy5jYWxsKGUsZFswXSxkWzFdKTticmVhaztkZWZhdWx0OmMuYXBwbHkoZSxkKX19LGguZXZlbnRDYWxsYmFjaz1mdW5jdGlvbihhLGIsYyxkKXtpZihcIm9uXCI9PT0oYXx8XCJcIikuc3Vic3RyKDAsMikpe3ZhciBlPXRoaXMudmFycztpZigxPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZVthXTtudWxsPT1iP2RlbGV0ZSBlW2FdOihlW2FdPWIsZVthK1wiUGFyYW1zXCJdPXAoYykmJi0xIT09Yy5qb2luKFwiXCIpLmluZGV4T2YoXCJ7c2VsZn1cIik/dGhpcy5fc3dhcFNlbGZJblBhcmFtcyhjKTpjLGVbYStcIlNjb3BlXCJdPWQpLFwib25VcGRhdGVcIj09PWEmJih0aGlzLl9vblVwZGF0ZT1iKX1yZXR1cm4gdGhpc30saC5kZWxheT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fdGltZWxpbmUuc21vb3RoQ2hpbGRUaW1pbmcmJnRoaXMuc3RhcnRUaW1lKHRoaXMuX3N0YXJ0VGltZSthLXRoaXMuX2RlbGF5KSx0aGlzLl9kZWxheT1hLHRoaXMpOnRoaXMuX2RlbGF5fSxoLmR1cmF0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9kdXJhdGlvbj10aGlzLl90b3RhbER1cmF0aW9uPWEsdGhpcy5fdW5jYWNoZSghMCksdGhpcy5fdGltZWxpbmUuc21vb3RoQ2hpbGRUaW1pbmcmJnRoaXMuX3RpbWU+MCYmdGhpcy5fdGltZTx0aGlzLl9kdXJhdGlvbiYmMCE9PWEmJnRoaXMudG90YWxUaW1lKHRoaXMuX3RvdGFsVGltZSooYS90aGlzLl9kdXJhdGlvbiksITApLHRoaXMpOih0aGlzLl9kaXJ0eT0hMSx0aGlzLl9kdXJhdGlvbil9LGgudG90YWxEdXJhdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fZGlydHk9ITEsYXJndW1lbnRzLmxlbmd0aD90aGlzLmR1cmF0aW9uKGEpOnRoaXMuX3RvdGFsRHVyYXRpb259LGgudGltZT1mdW5jdGlvbihhLGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9kaXJ0eSYmdGhpcy50b3RhbER1cmF0aW9uKCksdGhpcy50b3RhbFRpbWUoYT50aGlzLl9kdXJhdGlvbj90aGlzLl9kdXJhdGlvbjphLGIpKTp0aGlzLl90aW1lfSxoLnRvdGFsVGltZT1mdW5jdGlvbihhLGIsYyl7aWYoanx8aS53YWtlKCksIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuX3RvdGFsVGltZTtpZih0aGlzLl90aW1lbGluZSl7aWYoMD5hJiYhYyYmKGErPXRoaXMudG90YWxEdXJhdGlvbigpKSx0aGlzLl90aW1lbGluZS5zbW9vdGhDaGlsZFRpbWluZyl7dGhpcy5fZGlydHkmJnRoaXMudG90YWxEdXJhdGlvbigpO3ZhciBkPXRoaXMuX3RvdGFsRHVyYXRpb24sZT10aGlzLl90aW1lbGluZTtpZihhPmQmJiFjJiYoYT1kKSx0aGlzLl9zdGFydFRpbWU9KHRoaXMuX3BhdXNlZD90aGlzLl9wYXVzZVRpbWU6ZS5fdGltZSktKHRoaXMuX3JldmVyc2VkP2QtYTphKS90aGlzLl90aW1lU2NhbGUsZS5fZGlydHl8fHRoaXMuX3VuY2FjaGUoITEpLGUuX3RpbWVsaW5lKWZvcig7ZS5fdGltZWxpbmU7KWUuX3RpbWVsaW5lLl90aW1lIT09KGUuX3N0YXJ0VGltZStlLl90b3RhbFRpbWUpL2UuX3RpbWVTY2FsZSYmZS50b3RhbFRpbWUoZS5fdG90YWxUaW1lLCEwKSxlPWUuX3RpbWVsaW5lfXRoaXMuX2djJiZ0aGlzLl9lbmFibGVkKCEwLCExKSwodGhpcy5fdG90YWxUaW1lIT09YXx8MD09PXRoaXMuX2R1cmF0aW9uKSYmKEoubGVuZ3RoJiZZKCksdGhpcy5yZW5kZXIoYSxiLCExKSxKLmxlbmd0aCYmWSgpKX1yZXR1cm4gdGhpc30saC5wcm9ncmVzcz1oLnRvdGFsUHJvZ3Jlc3M9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmR1cmF0aW9uKCk7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dGhpcy50b3RhbFRpbWUoYyphLGIpOmM/dGhpcy5fdGltZS9jOnRoaXMucmF0aW99LGguc3RhcnRUaW1lPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhIT09dGhpcy5fc3RhcnRUaW1lJiYodGhpcy5fc3RhcnRUaW1lPWEsdGhpcy50aW1lbGluZSYmdGhpcy50aW1lbGluZS5fc29ydENoaWxkcmVuJiZ0aGlzLnRpbWVsaW5lLmFkZCh0aGlzLGEtdGhpcy5fZGVsYXkpKSx0aGlzKTp0aGlzLl9zdGFydFRpbWV9LGguZW5kVGltZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fc3RhcnRUaW1lKygwIT1hP3RoaXMudG90YWxEdXJhdGlvbigpOnRoaXMuZHVyYXRpb24oKSkvdGhpcy5fdGltZVNjYWxlfSxoLnRpbWVTY2FsZT1mdW5jdGlvbihhKXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fdGltZVNjYWxlO2lmKGE9YXx8bSx0aGlzLl90aW1lbGluZSYmdGhpcy5fdGltZWxpbmUuc21vb3RoQ2hpbGRUaW1pbmcpe3ZhciBiPXRoaXMuX3BhdXNlVGltZSxjPWJ8fDA9PT1iP2I6dGhpcy5fdGltZWxpbmUudG90YWxUaW1lKCk7dGhpcy5fc3RhcnRUaW1lPWMtKGMtdGhpcy5fc3RhcnRUaW1lKSp0aGlzLl90aW1lU2NhbGUvYX1yZXR1cm4gdGhpcy5fdGltZVNjYWxlPWEsdGhpcy5fdW5jYWNoZSghMSl9LGgucmV2ZXJzZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGEhPXRoaXMuX3JldmVyc2VkJiYodGhpcy5fcmV2ZXJzZWQ9YSx0aGlzLnRvdGFsVGltZSh0aGlzLl90aW1lbGluZSYmIXRoaXMuX3RpbWVsaW5lLnNtb290aENoaWxkVGltaW5nP3RoaXMudG90YWxEdXJhdGlvbigpLXRoaXMuX3RvdGFsVGltZTp0aGlzLl90b3RhbFRpbWUsITApKSx0aGlzKTp0aGlzLl9yZXZlcnNlZH0saC5wYXVzZWQ9ZnVuY3Rpb24oYSl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuX3BhdXNlZDt2YXIgYixjLGQ9dGhpcy5fdGltZWxpbmU7cmV0dXJuIGEhPXRoaXMuX3BhdXNlZCYmZCYmKGp8fGF8fGkud2FrZSgpLGI9ZC5yYXdUaW1lKCksYz1iLXRoaXMuX3BhdXNlVGltZSwhYSYmZC5zbW9vdGhDaGlsZFRpbWluZyYmKHRoaXMuX3N0YXJ0VGltZSs9Yyx0aGlzLl91bmNhY2hlKCExKSksdGhpcy5fcGF1c2VUaW1lPWE/YjpudWxsLHRoaXMuX3BhdXNlZD1hLHRoaXMuX2FjdGl2ZT10aGlzLmlzQWN0aXZlKCksIWEmJjAhPT1jJiZ0aGlzLl9pbml0dGVkJiZ0aGlzLmR1cmF0aW9uKCkmJihiPWQuc21vb3RoQ2hpbGRUaW1pbmc/dGhpcy5fdG90YWxUaW1lOihiLXRoaXMuX3N0YXJ0VGltZSkvdGhpcy5fdGltZVNjYWxlLHRoaXMucmVuZGVyKGIsYj09PXRoaXMuX3RvdGFsVGltZSwhMCkpKSx0aGlzLl9nYyYmIWEmJnRoaXMuX2VuYWJsZWQoITAsITEpLHRoaXN9O3ZhciBGPXQoXCJjb3JlLlNpbXBsZVRpbWVsaW5lXCIsZnVuY3Rpb24oYSl7RC5jYWxsKHRoaXMsMCxhKSx0aGlzLmF1dG9SZW1vdmVDaGlsZHJlbj10aGlzLnNtb290aENoaWxkVGltaW5nPSEwfSk7aD1GLnByb3RvdHlwZT1uZXcgRCxoLmNvbnN0cnVjdG9yPUYsaC5raWxsKCkuX2djPSExLGguX2ZpcnN0PWguX2xhc3Q9aC5fcmVjZW50PW51bGwsaC5fc29ydENoaWxkcmVuPSExLGguYWRkPWguaW5zZXJ0PWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGY7aWYoYS5fc3RhcnRUaW1lPU51bWJlcihifHwwKSthLl9kZWxheSxhLl9wYXVzZWQmJnRoaXMhPT1hLl90aW1lbGluZSYmKGEuX3BhdXNlVGltZT1hLl9zdGFydFRpbWUrKHRoaXMucmF3VGltZSgpLWEuX3N0YXJ0VGltZSkvYS5fdGltZVNjYWxlKSxhLnRpbWVsaW5lJiZhLnRpbWVsaW5lLl9yZW1vdmUoYSwhMCksYS50aW1lbGluZT1hLl90aW1lbGluZT10aGlzLGEuX2djJiZhLl9lbmFibGVkKCEwLCEwKSxlPXRoaXMuX2xhc3QsdGhpcy5fc29ydENoaWxkcmVuKWZvcihmPWEuX3N0YXJ0VGltZTtlJiZlLl9zdGFydFRpbWU+ZjspZT1lLl9wcmV2O3JldHVybiBlPyhhLl9uZXh0PWUuX25leHQsZS5fbmV4dD1hKTooYS5fbmV4dD10aGlzLl9maXJzdCx0aGlzLl9maXJzdD1hKSxhLl9uZXh0P2EuX25leHQuX3ByZXY9YTp0aGlzLl9sYXN0PWEsYS5fcHJldj1lLHRoaXMuX3JlY2VudD1hLHRoaXMuX3RpbWVsaW5lJiZ0aGlzLl91bmNhY2hlKCEwKSx0aGlzfSxoLl9yZW1vdmU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS50aW1lbGluZT09PXRoaXMmJihifHxhLl9lbmFibGVkKCExLCEwKSxhLl9wcmV2P2EuX3ByZXYuX25leHQ9YS5fbmV4dDp0aGlzLl9maXJzdD09PWEmJih0aGlzLl9maXJzdD1hLl9uZXh0KSxhLl9uZXh0P2EuX25leHQuX3ByZXY9YS5fcHJldjp0aGlzLl9sYXN0PT09YSYmKHRoaXMuX2xhc3Q9YS5fcHJldiksYS5fbmV4dD1hLl9wcmV2PWEudGltZWxpbmU9bnVsbCxhPT09dGhpcy5fcmVjZW50JiYodGhpcy5fcmVjZW50PXRoaXMuX2xhc3QpLHRoaXMuX3RpbWVsaW5lJiZ0aGlzLl91bmNhY2hlKCEwKSksdGhpc30saC5yZW5kZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9dGhpcy5fZmlyc3Q7Zm9yKHRoaXMuX3RvdGFsVGltZT10aGlzLl90aW1lPXRoaXMuX3Jhd1ByZXZUaW1lPWE7ZTspZD1lLl9uZXh0LChlLl9hY3RpdmV8fGE+PWUuX3N0YXJ0VGltZSYmIWUuX3BhdXNlZCkmJihlLl9yZXZlcnNlZD9lLnJlbmRlcigoZS5fZGlydHk/ZS50b3RhbER1cmF0aW9uKCk6ZS5fdG90YWxEdXJhdGlvbiktKGEtZS5fc3RhcnRUaW1lKSplLl90aW1lU2NhbGUsYixjKTplLnJlbmRlcigoYS1lLl9zdGFydFRpbWUpKmUuX3RpbWVTY2FsZSxiLGMpKSxlPWR9LGgucmF3VGltZT1mdW5jdGlvbigpe3JldHVybiBqfHxpLndha2UoKSx0aGlzLl90b3RhbFRpbWV9O3ZhciBHPXQoXCJUd2VlbkxpdGVcIixmdW5jdGlvbihiLGMsZCl7XHJcbiAgICBpZihELmNhbGwodGhpcyxjLGQpLHRoaXMucmVuZGVyPUcucHJvdG90eXBlLnJlbmRlcixudWxsPT1iKXRocm93XCJDYW5ub3QgdHdlZW4gYSBudWxsIHRhcmdldC5cIjt0aGlzLnRhcmdldD1iPVwic3RyaW5nXCIhPXR5cGVvZiBiP2I6Ry5zZWxlY3RvcihiKXx8Yjt2YXIgZSxmLGcsaD1iLmpxdWVyeXx8Yi5sZW5ndGgmJmIhPT1hJiZiWzBdJiYoYlswXT09PWF8fGJbMF0ubm9kZVR5cGUmJmJbMF0uc3R5bGUmJiFiLm5vZGVUeXBlKSxpPXRoaXMudmFycy5vdmVyd3JpdGU7aWYodGhpcy5fb3ZlcndyaXRlPWk9bnVsbD09aT9VW0cuZGVmYXVsdE92ZXJ3cml0ZV06XCJudW1iZXJcIj09dHlwZW9mIGk/aT4+MDpVW2ldLChofHxiIGluc3RhbmNlb2YgQXJyYXl8fGIucHVzaCYmcChiKSkmJlwibnVtYmVyXCIhPXR5cGVvZiBiWzBdKWZvcih0aGlzLl90YXJnZXRzPWc9bihiKSx0aGlzLl9wcm9wTG9va3VwPVtdLHRoaXMuX3NpYmxpbmdzPVtdLGU9MDtlPGcubGVuZ3RoO2UrKylmPWdbZV0sZj9cInN0cmluZ1wiIT10eXBlb2YgZj9mLmxlbmd0aCYmZiE9PWEmJmZbMF0mJihmWzBdPT09YXx8ZlswXS5ub2RlVHlwZSYmZlswXS5zdHlsZSYmIWYubm9kZVR5cGUpPyhnLnNwbGljZShlLS0sMSksdGhpcy5fdGFyZ2V0cz1nPWcuY29uY2F0KG4oZikpKToodGhpcy5fc2libGluZ3NbZV09WihmLHRoaXMsITEpLDE9PT1pJiZ0aGlzLl9zaWJsaW5nc1tlXS5sZW5ndGg+MSYmXyhmLHRoaXMsbnVsbCwxLHRoaXMuX3NpYmxpbmdzW2VdKSk6KGY9Z1tlLS1dPUcuc2VsZWN0b3IoZiksXCJzdHJpbmdcIj09dHlwZW9mIGYmJmcuc3BsaWNlKGUrMSwxKSk6Zy5zcGxpY2UoZS0tLDEpO2Vsc2UgdGhpcy5fcHJvcExvb2t1cD17fSx0aGlzLl9zaWJsaW5ncz1aKGIsdGhpcywhMSksMT09PWkmJnRoaXMuX3NpYmxpbmdzLmxlbmd0aD4xJiZfKGIsdGhpcyxudWxsLDEsdGhpcy5fc2libGluZ3MpOyh0aGlzLnZhcnMuaW1tZWRpYXRlUmVuZGVyfHwwPT09YyYmMD09PXRoaXMuX2RlbGF5JiZ0aGlzLnZhcnMuaW1tZWRpYXRlUmVuZGVyIT09ITEpJiYodGhpcy5fdGltZT0tbSx0aGlzLnJlbmRlcihNYXRoLm1pbigwLC10aGlzLl9kZWxheSkpKX0sITApLEg9ZnVuY3Rpb24oYil7cmV0dXJuIGImJmIubGVuZ3RoJiZiIT09YSYmYlswXSYmKGJbMF09PT1hfHxiWzBdLm5vZGVUeXBlJiZiWzBdLnN0eWxlJiYhYi5ub2RlVHlwZSl9LEk9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXt9O2ZvcihjIGluIGEpVFtjXXx8YyBpbiBiJiZcInRyYW5zZm9ybVwiIT09YyYmXCJ4XCIhPT1jJiZcInlcIiE9PWMmJlwid2lkdGhcIiE9PWMmJlwiaGVpZ2h0XCIhPT1jJiZcImNsYXNzTmFtZVwiIT09YyYmXCJib3JkZXJcIiE9PWN8fCEoIVFbY118fFFbY10mJlFbY10uX2F1dG9DU1MpfHwoZFtjXT1hW2NdLGRlbGV0ZSBhW2NdKTthLmNzcz1kfTtoPUcucHJvdG90eXBlPW5ldyBELGguY29uc3RydWN0b3I9RyxoLmtpbGwoKS5fZ2M9ITEsaC5yYXRpbz0wLGguX2ZpcnN0UFQ9aC5fdGFyZ2V0cz1oLl9vdmVyd3JpdHRlblByb3BzPWguX3N0YXJ0QXQ9bnVsbCxoLl9ub3RpZnlQbHVnaW5zT2ZFbmFibGVkPWguX2xhenk9ITEsRy52ZXJzaW9uPVwiMS4xOS4xXCIsRy5kZWZhdWx0RWFzZT1oLl9lYXNlPW5ldyB2KG51bGwsbnVsbCwxLDEpLEcuZGVmYXVsdE92ZXJ3cml0ZT1cImF1dG9cIixHLnRpY2tlcj1pLEcuYXV0b1NsZWVwPTEyMCxHLmxhZ1Ntb290aGluZz1mdW5jdGlvbihhLGIpe2kubGFnU21vb3RoaW5nKGEsYil9LEcuc2VsZWN0b3I9YS4kfHxhLmpRdWVyeXx8ZnVuY3Rpb24oYil7dmFyIGM9YS4kfHxhLmpRdWVyeTtyZXR1cm4gYz8oRy5zZWxlY3Rvcj1jLGMoYikpOlwidW5kZWZpbmVkXCI9PXR5cGVvZiBkP2I6ZC5xdWVyeVNlbGVjdG9yQWxsP2QucXVlcnlTZWxlY3RvckFsbChiKTpkLmdldEVsZW1lbnRCeUlkKFwiI1wiPT09Yi5jaGFyQXQoMCk/Yi5zdWJzdHIoMSk6Yil9O3ZhciBKPVtdLEs9e30sTD0vKD86KC18LT18XFwrPSk/XFxkKlxcLj9cXGQqKD86ZVtcXC0rXT9cXGQrKT8pWzAtOV0vZ2ksTT1mdW5jdGlvbihhKXtmb3IodmFyIGIsYz10aGlzLl9maXJzdFBULGQ9MWUtNjtjOyliPWMuYmxvYj8xPT09YT90aGlzLmVuZDphP3RoaXMuam9pbihcIlwiKTp0aGlzLnN0YXJ0OmMuYyphK2MucyxjLm0/Yj1jLm0oYix0aGlzLl90YXJnZXR8fGMudCk6ZD5iJiZiPi1kJiYhYy5ibG9iJiYoYj0wKSxjLmY/Yy5mcD9jLnRbYy5wXShjLmZwLGIpOmMudFtjLnBdKGIpOmMudFtjLnBdPWIsYz1jLl9uZXh0fSxOPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoLGksaixrLGw9W10sbT0wLG49XCJcIixvPTA7Zm9yKGwuc3RhcnQ9YSxsLmVuZD1iLGE9bFswXT1hK1wiXCIsYj1sWzFdPWIrXCJcIixjJiYoYyhsKSxhPWxbMF0sYj1sWzFdKSxsLmxlbmd0aD0wLGU9YS5tYXRjaChMKXx8W10sZj1iLm1hdGNoKEwpfHxbXSxkJiYoZC5fbmV4dD1udWxsLGQuYmxvYj0xLGwuX2ZpcnN0UFQ9bC5fYXBwbHlQVD1kKSxpPWYubGVuZ3RoLGg9MDtpPmg7aCsrKWs9ZltoXSxqPWIuc3Vic3RyKG0sYi5pbmRleE9mKGssbSktbSksbis9anx8IWg/ajpcIixcIixtKz1qLmxlbmd0aCxvP289KG8rMSklNTpcInJnYmEoXCI9PT1qLnN1YnN0cigtNSkmJihvPTEpLGs9PT1lW2hdfHxlLmxlbmd0aDw9aD9uKz1rOihuJiYobC5wdXNoKG4pLG49XCJcIiksZz1wYXJzZUZsb2F0KGVbaF0pLGwucHVzaChnKSxsLl9maXJzdFBUPXtfbmV4dDpsLl9maXJzdFBULHQ6bCxwOmwubGVuZ3RoLTEsczpnLGM6KFwiPVwiPT09ay5jaGFyQXQoMSk/cGFyc2VJbnQoay5jaGFyQXQoMCkrXCIxXCIsMTApKnBhcnNlRmxvYXQoay5zdWJzdHIoMikpOnBhcnNlRmxvYXQoayktZyl8fDAsZjowLG06byYmND5vP01hdGgucm91bmQ6MH0pLG0rPWsubGVuZ3RoO3JldHVybiBuKz1iLnN1YnN0cihtKSxuJiZsLnB1c2gobiksbC5zZXRSYXRpbz1NLGx9LE89ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGkpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGQmJihkPWQoaXx8MCxhKSk7dmFyIGosaz10eXBlb2YgYVtiXSxsPVwiZnVuY3Rpb25cIiE9PWs/XCJcIjpiLmluZGV4T2YoXCJzZXRcIil8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGFbXCJnZXRcIitiLnN1YnN0cigzKV0/YjpcImdldFwiK2Iuc3Vic3RyKDMpLG09XCJnZXRcIiE9PWM/YzpsP2c/YVtsXShnKTphW2xdKCk6YVtiXSxuPVwic3RyaW5nXCI9PXR5cGVvZiBkJiZcIj1cIj09PWQuY2hhckF0KDEpLG89e3Q6YSxwOmIsczptLGY6XCJmdW5jdGlvblwiPT09ayxwZzowLG46ZXx8YixtOmY/XCJmdW5jdGlvblwiPT10eXBlb2YgZj9mOk1hdGgucm91bmQ6MCxwcjowLGM6bj9wYXJzZUludChkLmNoYXJBdCgwKStcIjFcIiwxMCkqcGFyc2VGbG9hdChkLnN1YnN0cigyKSk6cGFyc2VGbG9hdChkKS1tfHwwfTtyZXR1cm4oXCJudW1iZXJcIiE9dHlwZW9mIG18fFwibnVtYmVyXCIhPXR5cGVvZiBkJiYhbikmJihnfHxpc05hTihtKXx8IW4mJmlzTmFOKGQpfHxcImJvb2xlYW5cIj09dHlwZW9mIG18fFwiYm9vbGVhblwiPT10eXBlb2YgZD8oby5mcD1nLGo9TihtLG4/by5zK28uYzpkLGh8fEcuZGVmYXVsdFN0cmluZ0ZpbHRlcixvKSxvPXt0OmoscDpcInNldFJhdGlvXCIsczowLGM6MSxmOjIscGc6MCxuOmV8fGIscHI6MCxtOjB9KTooby5zPXBhcnNlRmxvYXQobSksbnx8KG8uYz1wYXJzZUZsb2F0KGQpLW8uc3x8MCkpKSxvLmM/KChvLl9uZXh0PXRoaXMuX2ZpcnN0UFQpJiYoby5fbmV4dC5fcHJldj1vKSx0aGlzLl9maXJzdFBUPW8sbyk6dm9pZCAwfSxQPUcuX2ludGVybmFscz17aXNBcnJheTpwLGlzU2VsZWN0b3I6SCxsYXp5VHdlZW5zOkosYmxvYkRpZjpOfSxRPUcuX3BsdWdpbnM9e30sUj1QLnR3ZWVuTG9va3VwPXt9LFM9MCxUPVAucmVzZXJ2ZWRQcm9wcz17ZWFzZToxLGRlbGF5OjEsb3ZlcndyaXRlOjEsb25Db21wbGV0ZToxLG9uQ29tcGxldGVQYXJhbXM6MSxvbkNvbXBsZXRlU2NvcGU6MSx1c2VGcmFtZXM6MSxydW5CYWNrd2FyZHM6MSxzdGFydEF0OjEsb25VcGRhdGU6MSxvblVwZGF0ZVBhcmFtczoxLG9uVXBkYXRlU2NvcGU6MSxvblN0YXJ0OjEsb25TdGFydFBhcmFtczoxLG9uU3RhcnRTY29wZToxLG9uUmV2ZXJzZUNvbXBsZXRlOjEsb25SZXZlcnNlQ29tcGxldGVQYXJhbXM6MSxvblJldmVyc2VDb21wbGV0ZVNjb3BlOjEsb25SZXBlYXQ6MSxvblJlcGVhdFBhcmFtczoxLG9uUmVwZWF0U2NvcGU6MSxlYXNlUGFyYW1zOjEseW95bzoxLGltbWVkaWF0ZVJlbmRlcjoxLHJlcGVhdDoxLHJlcGVhdERlbGF5OjEsZGF0YToxLHBhdXNlZDoxLHJldmVyc2VkOjEsYXV0b0NTUzoxLGxhenk6MSxvbk92ZXJ3cml0ZToxLGNhbGxiYWNrU2NvcGU6MSxzdHJpbmdGaWx0ZXI6MSxpZDoxfSxVPXtub25lOjAsYWxsOjEsYXV0bzoyLGNvbmN1cnJlbnQ6MyxhbGxPblN0YXJ0OjQscHJlZXhpc3Rpbmc6NSxcInRydWVcIjoxLFwiZmFsc2VcIjowfSxWPUQuX3Jvb3RGcmFtZXNUaW1lbGluZT1uZXcgRixXPUQuX3Jvb3RUaW1lbGluZT1uZXcgRixYPTMwLFk9UC5sYXp5UmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGEsYj1KLmxlbmd0aDtmb3IoSz17fTstLWI+LTE7KWE9SltiXSxhJiZhLl9sYXp5IT09ITEmJihhLnJlbmRlcihhLl9sYXp5WzBdLGEuX2xhenlbMV0sITApLGEuX2xhenk9ITEpO0oubGVuZ3RoPTB9O1cuX3N0YXJ0VGltZT1pLnRpbWUsVi5fc3RhcnRUaW1lPWkuZnJhbWUsVy5fYWN0aXZlPVYuX2FjdGl2ZT0hMCxzZXRUaW1lb3V0KFksMSksRC5fdXBkYXRlUm9vdD1HLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBhLGIsYztpZihKLmxlbmd0aCYmWSgpLFcucmVuZGVyKChpLnRpbWUtVy5fc3RhcnRUaW1lKSpXLl90aW1lU2NhbGUsITEsITEpLFYucmVuZGVyKChpLmZyYW1lLVYuX3N0YXJ0VGltZSkqVi5fdGltZVNjYWxlLCExLCExKSxKLmxlbmd0aCYmWSgpLGkuZnJhbWU+PVgpe1g9aS5mcmFtZSsocGFyc2VJbnQoRy5hdXRvU2xlZXAsMTApfHwxMjApO2ZvcihjIGluIFIpe2ZvcihiPVJbY10udHdlZW5zLGE9Yi5sZW5ndGg7LS1hPi0xOyliW2FdLl9nYyYmYi5zcGxpY2UoYSwxKTswPT09Yi5sZW5ndGgmJmRlbGV0ZSBSW2NdfWlmKGM9Vy5fZmlyc3QsKCFjfHxjLl9wYXVzZWQpJiZHLmF1dG9TbGVlcCYmIVYuX2ZpcnN0JiYxPT09aS5fbGlzdGVuZXJzLnRpY2subGVuZ3RoKXtmb3IoO2MmJmMuX3BhdXNlZDspYz1jLl9uZXh0O2N8fGkuc2xlZXAoKX19fSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJ0aWNrXCIsRC5fdXBkYXRlUm9vdCk7dmFyIFo9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj1hLl9nc1R3ZWVuSUQ7aWYoUltmfHwoYS5fZ3NUd2VlbklEPWY9XCJ0XCIrUysrKV18fChSW2ZdPXt0YXJnZXQ6YSx0d2VlbnM6W119KSxiJiYoZD1SW2ZdLnR3ZWVucyxkW2U9ZC5sZW5ndGhdPWIsYykpZm9yKDstLWU+LTE7KWRbZV09PT1iJiZkLnNwbGljZShlLDEpO3JldHVybiBSW2ZdLnR3ZWVuc30sJD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGc9YS52YXJzLm9uT3ZlcndyaXRlO3JldHVybiBnJiYoZT1nKGEsYixjLGQpKSxnPUcub25PdmVyd3JpdGUsZyYmKGY9ZyhhLGIsYyxkKSksZSE9PSExJiZmIT09ITF9LF89ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaTtpZigxPT09ZHx8ZD49NCl7Zm9yKGk9ZS5sZW5ndGgsZj0wO2k+ZjtmKyspaWYoKGg9ZVtmXSkhPT1iKWguX2djfHxoLl9raWxsKG51bGwsYSxiKSYmKGc9ITApO2Vsc2UgaWYoNT09PWQpYnJlYWs7cmV0dXJuIGd9dmFyIGosaz1iLl9zdGFydFRpbWUrbSxsPVtdLG49MCxvPTA9PT1iLl9kdXJhdGlvbjtmb3IoZj1lLmxlbmd0aDstLWY+LTE7KShoPWVbZl0pPT09Ynx8aC5fZ2N8fGguX3BhdXNlZHx8KGguX3RpbWVsaW5lIT09Yi5fdGltZWxpbmU/KGo9anx8YWEoYiwwLG8pLDA9PT1hYShoLGosbykmJihsW24rK109aCkpOmguX3N0YXJ0VGltZTw9ayYmaC5fc3RhcnRUaW1lK2gudG90YWxEdXJhdGlvbigpL2guX3RpbWVTY2FsZT5rJiYoKG98fCFoLl9pbml0dGVkKSYmay1oLl9zdGFydFRpbWU8PTJlLTEwfHwobFtuKytdPWgpKSk7Zm9yKGY9bjstLWY+LTE7KWlmKGg9bFtmXSwyPT09ZCYmaC5fa2lsbChjLGEsYikmJihnPSEwKSwyIT09ZHx8IWguX2ZpcnN0UFQmJmguX2luaXR0ZWQpe2lmKDIhPT1kJiYhJChoLGIpKWNvbnRpbnVlO2guX2VuYWJsZWQoITEsITEpJiYoZz0hMCl9cmV0dXJuIGd9LGFhPWZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5fdGltZWxpbmUsZT1kLl90aW1lU2NhbGUsZj1hLl9zdGFydFRpbWU7ZC5fdGltZWxpbmU7KXtpZihmKz1kLl9zdGFydFRpbWUsZSo9ZC5fdGltZVNjYWxlLGQuX3BhdXNlZClyZXR1cm4tMTAwO2Q9ZC5fdGltZWxpbmV9cmV0dXJuIGYvPWUsZj5iP2YtYjpjJiZmPT09Ynx8IWEuX2luaXR0ZWQmJjIqbT5mLWI/bTooZis9YS50b3RhbER1cmF0aW9uKCkvYS5fdGltZVNjYWxlL2UpPmIrbT8wOmYtYi1tfTtoLl9pbml0PWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGc9dGhpcy52YXJzLGg9dGhpcy5fb3ZlcndyaXR0ZW5Qcm9wcyxpPXRoaXMuX2R1cmF0aW9uLGo9ISFnLmltbWVkaWF0ZVJlbmRlcixrPWcuZWFzZTtpZihnLnN0YXJ0QXQpe3RoaXMuX3N0YXJ0QXQmJih0aGlzLl9zdGFydEF0LnJlbmRlcigtMSwhMCksdGhpcy5fc3RhcnRBdC5raWxsKCkpLGU9e307Zm9yKGQgaW4gZy5zdGFydEF0KWVbZF09Zy5zdGFydEF0W2RdO2lmKGUub3ZlcndyaXRlPSExLGUuaW1tZWRpYXRlUmVuZGVyPSEwLGUubGF6eT1qJiZnLmxhenkhPT0hMSxlLnN0YXJ0QXQ9ZS5kZWxheT1udWxsLHRoaXMuX3N0YXJ0QXQ9Ry50byh0aGlzLnRhcmdldCwwLGUpLGopaWYodGhpcy5fdGltZT4wKXRoaXMuX3N0YXJ0QXQ9bnVsbDtlbHNlIGlmKDAhPT1pKXJldHVybn1lbHNlIGlmKGcucnVuQmFja3dhcmRzJiYwIT09aSlpZih0aGlzLl9zdGFydEF0KXRoaXMuX3N0YXJ0QXQucmVuZGVyKC0xLCEwKSx0aGlzLl9zdGFydEF0LmtpbGwoKSx0aGlzLl9zdGFydEF0PW51bGw7ZWxzZXswIT09dGhpcy5fdGltZSYmKGo9ITEpLGM9e307Zm9yKGQgaW4gZylUW2RdJiZcImF1dG9DU1NcIiE9PWR8fChjW2RdPWdbZF0pO2lmKGMub3ZlcndyaXRlPTAsYy5kYXRhPVwiaXNGcm9tU3RhcnRcIixjLmxhenk9aiYmZy5sYXp5IT09ITEsYy5pbW1lZGlhdGVSZW5kZXI9aix0aGlzLl9zdGFydEF0PUcudG8odGhpcy50YXJnZXQsMCxjKSxqKXtpZigwPT09dGhpcy5fdGltZSlyZXR1cm59ZWxzZSB0aGlzLl9zdGFydEF0Ll9pbml0KCksdGhpcy5fc3RhcnRBdC5fZW5hYmxlZCghMSksdGhpcy52YXJzLmltbWVkaWF0ZVJlbmRlciYmKHRoaXMuX3N0YXJ0QXQ9bnVsbCl9aWYodGhpcy5fZWFzZT1rPWs/ayBpbnN0YW5jZW9mIHY/azpcImZ1bmN0aW9uXCI9PXR5cGVvZiBrP25ldyB2KGssZy5lYXNlUGFyYW1zKTp3W2tdfHxHLmRlZmF1bHRFYXNlOkcuZGVmYXVsdEVhc2UsZy5lYXNlUGFyYW1zIGluc3RhbmNlb2YgQXJyYXkmJmsuY29uZmlnJiYodGhpcy5fZWFzZT1rLmNvbmZpZy5hcHBseShrLGcuZWFzZVBhcmFtcykpLHRoaXMuX2Vhc2VUeXBlPXRoaXMuX2Vhc2UuX3R5cGUsdGhpcy5fZWFzZVBvd2VyPXRoaXMuX2Vhc2UuX3Bvd2VyLHRoaXMuX2ZpcnN0UFQ9bnVsbCx0aGlzLl90YXJnZXRzKWZvcihmPXRoaXMuX3RhcmdldHMubGVuZ3RoLGE9MDtmPmE7YSsrKXRoaXMuX2luaXRQcm9wcyh0aGlzLl90YXJnZXRzW2FdLHRoaXMuX3Byb3BMb29rdXBbYV09e30sdGhpcy5fc2libGluZ3NbYV0saD9oW2FdOm51bGwsYSkmJihiPSEwKTtlbHNlIGI9dGhpcy5faW5pdFByb3BzKHRoaXMudGFyZ2V0LHRoaXMuX3Byb3BMb29rdXAsdGhpcy5fc2libGluZ3MsaCwwKTtpZihiJiZHLl9vblBsdWdpbkV2ZW50KFwiX29uSW5pdEFsbFByb3BzXCIsdGhpcyksaCYmKHRoaXMuX2ZpcnN0UFR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHRoaXMudGFyZ2V0JiZ0aGlzLl9lbmFibGVkKCExLCExKSksZy5ydW5CYWNrd2FyZHMpZm9yKGM9dGhpcy5fZmlyc3RQVDtjOyljLnMrPWMuYyxjLmM9LWMuYyxjPWMuX25leHQ7dGhpcy5fb25VcGRhdGU9Zy5vblVwZGF0ZSx0aGlzLl9pbml0dGVkPSEwfSxoLl9pbml0UHJvcHM9ZnVuY3Rpb24oYixjLGQsZSxmKXt2YXIgZyxoLGksaixrLGw7aWYobnVsbD09YilyZXR1cm4hMTtLW2IuX2dzVHdlZW5JRF0mJlkoKSx0aGlzLnZhcnMuY3NzfHxiLnN0eWxlJiZiIT09YSYmYi5ub2RlVHlwZSYmUS5jc3MmJnRoaXMudmFycy5hdXRvQ1NTIT09ITEmJkkodGhpcy52YXJzLGIpO2ZvcihnIGluIHRoaXMudmFycylpZihsPXRoaXMudmFyc1tnXSxUW2ddKWwmJihsIGluc3RhbmNlb2YgQXJyYXl8fGwucHVzaCYmcChsKSkmJi0xIT09bC5qb2luKFwiXCIpLmluZGV4T2YoXCJ7c2VsZn1cIikmJih0aGlzLnZhcnNbZ109bD10aGlzLl9zd2FwU2VsZkluUGFyYW1zKGwsdGhpcykpO2Vsc2UgaWYoUVtnXSYmKGo9bmV3IFFbZ10pLl9vbkluaXRUd2VlbihiLHRoaXMudmFyc1tnXSx0aGlzLGYpKXtmb3IodGhpcy5fZmlyc3RQVD1rPXtfbmV4dDp0aGlzLl9maXJzdFBULHQ6aixwOlwic2V0UmF0aW9cIixzOjAsYzoxLGY6MSxuOmcscGc6MSxwcjpqLl9wcmlvcml0eSxtOjB9LGg9ai5fb3ZlcndyaXRlUHJvcHMubGVuZ3RoOy0taD4tMTspY1tqLl9vdmVyd3JpdGVQcm9wc1toXV09dGhpcy5fZmlyc3RQVDsoai5fcHJpb3JpdHl8fGouX29uSW5pdEFsbFByb3BzKSYmKGk9ITApLChqLl9vbkRpc2FibGV8fGouX29uRW5hYmxlKSYmKHRoaXMuX25vdGlmeVBsdWdpbnNPZkVuYWJsZWQ9ITApLGsuX25leHQmJihrLl9uZXh0Ll9wcmV2PWspfWVsc2UgY1tnXT1PLmNhbGwodGhpcyxiLGcsXCJnZXRcIixsLGcsMCxudWxsLHRoaXMudmFycy5zdHJpbmdGaWx0ZXIsZik7cmV0dXJuIGUmJnRoaXMuX2tpbGwoZSxiKT90aGlzLl9pbml0UHJvcHMoYixjLGQsZSxmKTp0aGlzLl9vdmVyd3JpdGU+MSYmdGhpcy5fZmlyc3RQVCYmZC5sZW5ndGg+MSYmXyhiLHRoaXMsYyx0aGlzLl9vdmVyd3JpdGUsZCk/KHRoaXMuX2tpbGwoYyxiKSx0aGlzLl9pbml0UHJvcHMoYixjLGQsZSxmKSk6KHRoaXMuX2ZpcnN0UFQmJih0aGlzLnZhcnMubGF6eSE9PSExJiZ0aGlzLl9kdXJhdGlvbnx8dGhpcy52YXJzLmxhenkmJiF0aGlzLl9kdXJhdGlvbikmJihLW2IuX2dzVHdlZW5JRF09ITApLGkpfSxoLnJlbmRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaD10aGlzLl90aW1lLGk9dGhpcy5fZHVyYXRpb24saj10aGlzLl9yYXdQcmV2VGltZTtpZihhPj1pLTFlLTcmJmE+PTApdGhpcy5fdG90YWxUaW1lPXRoaXMuX3RpbWU9aSx0aGlzLnJhdGlvPXRoaXMuX2Vhc2UuX2NhbGNFbmQ/dGhpcy5fZWFzZS5nZXRSYXRpbygxKToxLHRoaXMuX3JldmVyc2VkfHwoZD0hMCxlPVwib25Db21wbGV0ZVwiLGM9Y3x8dGhpcy5fdGltZWxpbmUuYXV0b1JlbW92ZUNoaWxkcmVuKSwwPT09aSYmKHRoaXMuX2luaXR0ZWR8fCF0aGlzLnZhcnMubGF6eXx8YykmJih0aGlzLl9zdGFydFRpbWU9PT10aGlzLl90aW1lbGluZS5fZHVyYXRpb24mJihhPTApLCgwPmp8fDA+PWEmJmE+PS0xZS03fHxqPT09bSYmXCJpc1BhdXNlXCIhPT10aGlzLmRhdGEpJiZqIT09YSYmKGM9ITAsaj5tJiYoZT1cIm9uUmV2ZXJzZUNvbXBsZXRlXCIpKSx0aGlzLl9yYXdQcmV2VGltZT1nPSFifHxhfHxqPT09YT9hOm0pO2Vsc2UgaWYoMWUtNz5hKXRoaXMuX3RvdGFsVGltZT10aGlzLl90aW1lPTAsdGhpcy5yYXRpbz10aGlzLl9lYXNlLl9jYWxjRW5kP3RoaXMuX2Vhc2UuZ2V0UmF0aW8oMCk6MCwoMCE9PWh8fDA9PT1pJiZqPjApJiYoZT1cIm9uUmV2ZXJzZUNvbXBsZXRlXCIsZD10aGlzLl9yZXZlcnNlZCksMD5hJiYodGhpcy5fYWN0aXZlPSExLDA9PT1pJiYodGhpcy5faW5pdHRlZHx8IXRoaXMudmFycy5sYXp5fHxjKSYmKGo+PTAmJihqIT09bXx8XCJpc1BhdXNlXCIhPT10aGlzLmRhdGEpJiYoYz0hMCksdGhpcy5fcmF3UHJldlRpbWU9Zz0hYnx8YXx8aj09PWE/YTptKSksdGhpcy5faW5pdHRlZHx8KGM9ITApO2Vsc2UgaWYodGhpcy5fdG90YWxUaW1lPXRoaXMuX3RpbWU9YSx0aGlzLl9lYXNlVHlwZSl7dmFyIGs9YS9pLGw9dGhpcy5fZWFzZVR5cGUsbj10aGlzLl9lYXNlUG93ZXI7KDE9PT1sfHwzPT09bCYmaz49LjUpJiYoaz0xLWspLDM9PT1sJiYoayo9MiksMT09PW4/ayo9azoyPT09bj9rKj1rKms6Mz09PW4/ayo9ayprKms6ND09PW4mJihrKj1rKmsqayprKSwxPT09bD90aGlzLnJhdGlvPTEtazoyPT09bD90aGlzLnJhdGlvPWs6LjU+YS9pP3RoaXMucmF0aW89ay8yOnRoaXMucmF0aW89MS1rLzJ9ZWxzZSB0aGlzLnJhdGlvPXRoaXMuX2Vhc2UuZ2V0UmF0aW8oYS9pKTtpZih0aGlzLl90aW1lIT09aHx8Yyl7aWYoIXRoaXMuX2luaXR0ZWQpe2lmKHRoaXMuX2luaXQoKSwhdGhpcy5faW5pdHRlZHx8dGhpcy5fZ2MpcmV0dXJuO2lmKCFjJiZ0aGlzLl9maXJzdFBUJiYodGhpcy52YXJzLmxhenkhPT0hMSYmdGhpcy5fZHVyYXRpb258fHRoaXMudmFycy5sYXp5JiYhdGhpcy5fZHVyYXRpb24pKXJldHVybiB0aGlzLl90aW1lPXRoaXMuX3RvdGFsVGltZT1oLHRoaXMuX3Jhd1ByZXZUaW1lPWosSi5wdXNoKHRoaXMpLHZvaWQodGhpcy5fbGF6eT1bYSxiXSk7dGhpcy5fdGltZSYmIWQ/dGhpcy5yYXRpbz10aGlzLl9lYXNlLmdldFJhdGlvKHRoaXMuX3RpbWUvaSk6ZCYmdGhpcy5fZWFzZS5fY2FsY0VuZCYmKHRoaXMucmF0aW89dGhpcy5fZWFzZS5nZXRSYXRpbygwPT09dGhpcy5fdGltZT8wOjEpKX1mb3IodGhpcy5fbGF6eSE9PSExJiYodGhpcy5fbGF6eT0hMSksdGhpcy5fYWN0aXZlfHwhdGhpcy5fcGF1c2VkJiZ0aGlzLl90aW1lIT09aCYmYT49MCYmKHRoaXMuX2FjdGl2ZT0hMCksMD09PWgmJih0aGlzLl9zdGFydEF0JiYoYT49MD90aGlzLl9zdGFydEF0LnJlbmRlcihhLGIsYyk6ZXx8KGU9XCJfZHVtbXlHU1wiKSksdGhpcy52YXJzLm9uU3RhcnQmJigwIT09dGhpcy5fdGltZXx8MD09PWkpJiYoYnx8dGhpcy5fY2FsbGJhY2soXCJvblN0YXJ0XCIpKSksZj10aGlzLl9maXJzdFBUO2Y7KWYuZj9mLnRbZi5wXShmLmMqdGhpcy5yYXRpbytmLnMpOmYudFtmLnBdPWYuYyp0aGlzLnJhdGlvK2YucyxmPWYuX25leHQ7dGhpcy5fb25VcGRhdGUmJigwPmEmJnRoaXMuX3N0YXJ0QXQmJmEhPT0tMWUtNCYmdGhpcy5fc3RhcnRBdC5yZW5kZXIoYSxiLGMpLGJ8fCh0aGlzLl90aW1lIT09aHx8ZHx8YykmJnRoaXMuX2NhbGxiYWNrKFwib25VcGRhdGVcIikpLGUmJighdGhpcy5fZ2N8fGMpJiYoMD5hJiZ0aGlzLl9zdGFydEF0JiYhdGhpcy5fb25VcGRhdGUmJmEhPT0tMWUtNCYmdGhpcy5fc3RhcnRBdC5yZW5kZXIoYSxiLGMpLGQmJih0aGlzLl90aW1lbGluZS5hdXRvUmVtb3ZlQ2hpbGRyZW4mJnRoaXMuX2VuYWJsZWQoITEsITEpLHRoaXMuX2FjdGl2ZT0hMSksIWImJnRoaXMudmFyc1tlXSYmdGhpcy5fY2FsbGJhY2soZSksMD09PWkmJnRoaXMuX3Jhd1ByZXZUaW1lPT09bSYmZyE9PW0mJih0aGlzLl9yYXdQcmV2VGltZT0wKSl9fSxoLl9raWxsPWZ1bmN0aW9uKGEsYixjKXtpZihcImFsbFwiPT09YSYmKGE9bnVsbCksbnVsbD09YSYmKG51bGw9PWJ8fGI9PT10aGlzLnRhcmdldCkpcmV0dXJuIHRoaXMuX2xhenk9ITEsdGhpcy5fZW5hYmxlZCghMSwhMSk7Yj1cInN0cmluZ1wiIT10eXBlb2YgYj9ifHx0aGlzLl90YXJnZXRzfHx0aGlzLnRhcmdldDpHLnNlbGVjdG9yKGIpfHxiO3ZhciBkLGUsZixnLGgsaSxqLGssbCxtPWMmJnRoaXMuX3RpbWUmJmMuX3N0YXJ0VGltZT09PXRoaXMuX3N0YXJ0VGltZSYmdGhpcy5fdGltZWxpbmU9PT1jLl90aW1lbGluZTtpZigocChiKXx8SChiKSkmJlwibnVtYmVyXCIhPXR5cGVvZiBiWzBdKWZvcihkPWIubGVuZ3RoOy0tZD4tMTspdGhpcy5fa2lsbChhLGJbZF0sYykmJihpPSEwKTtlbHNle2lmKHRoaXMuX3RhcmdldHMpe2ZvcihkPXRoaXMuX3RhcmdldHMubGVuZ3RoOy0tZD4tMTspaWYoYj09PXRoaXMuX3RhcmdldHNbZF0pe2g9dGhpcy5fcHJvcExvb2t1cFtkXXx8e30sdGhpcy5fb3ZlcndyaXR0ZW5Qcm9wcz10aGlzLl9vdmVyd3JpdHRlblByb3BzfHxbXSxlPXRoaXMuX292ZXJ3cml0dGVuUHJvcHNbZF09YT90aGlzLl9vdmVyd3JpdHRlblByb3BzW2RdfHx7fTpcImFsbFwiO2JyZWFrfX1lbHNle2lmKGIhPT10aGlzLnRhcmdldClyZXR1cm4hMTtoPXRoaXMuX3Byb3BMb29rdXAsZT10aGlzLl9vdmVyd3JpdHRlblByb3BzPWE/dGhpcy5fb3ZlcndyaXR0ZW5Qcm9wc3x8e306XCJhbGxcIn1pZihoKXtpZihqPWF8fGgsaz1hIT09ZSYmXCJhbGxcIiE9PWUmJmEhPT1oJiYoXCJvYmplY3RcIiE9dHlwZW9mIGF8fCFhLl90ZW1wS2lsbCksYyYmKEcub25PdmVyd3JpdGV8fHRoaXMudmFycy5vbk92ZXJ3cml0ZSkpe2ZvcihmIGluIGopaFtmXSYmKGx8fChsPVtdKSxsLnB1c2goZikpO2lmKChsfHwhYSkmJiEkKHRoaXMsYyxiLGwpKXJldHVybiExfWZvcihmIGluIGopKGc9aFtmXSkmJihtJiYoZy5mP2cudFtnLnBdKGcucyk6Zy50W2cucF09Zy5zLGk9ITApLGcucGcmJmcudC5fa2lsbChqKSYmKGk9ITApLGcucGcmJjAhPT1nLnQuX292ZXJ3cml0ZVByb3BzLmxlbmd0aHx8KGcuX3ByZXY/Zy5fcHJldi5fbmV4dD1nLl9uZXh0Omc9PT10aGlzLl9maXJzdFBUJiYodGhpcy5fZmlyc3RQVD1nLl9uZXh0KSxnLl9uZXh0JiYoZy5fbmV4dC5fcHJldj1nLl9wcmV2KSxnLl9uZXh0PWcuX3ByZXY9bnVsbCksZGVsZXRlIGhbZl0pLGsmJihlW2ZdPTEpOyF0aGlzLl9maXJzdFBUJiZ0aGlzLl9pbml0dGVkJiZ0aGlzLl9lbmFibGVkKCExLCExKX19cmV0dXJuIGl9LGguaW52YWxpZGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub3RpZnlQbHVnaW5zT2ZFbmFibGVkJiZHLl9vblBsdWdpbkV2ZW50KFwiX29uRGlzYWJsZVwiLHRoaXMpLHRoaXMuX2ZpcnN0UFQ9dGhpcy5fb3ZlcndyaXR0ZW5Qcm9wcz10aGlzLl9zdGFydEF0PXRoaXMuX29uVXBkYXRlPW51bGwsdGhpcy5fbm90aWZ5UGx1Z2luc09mRW5hYmxlZD10aGlzLl9hY3RpdmU9dGhpcy5fbGF6eT0hMSx0aGlzLl9wcm9wTG9va3VwPXRoaXMuX3RhcmdldHM/e306W10sRC5wcm90b3R5cGUuaW52YWxpZGF0ZS5jYWxsKHRoaXMpLHRoaXMudmFycy5pbW1lZGlhdGVSZW5kZXImJih0aGlzLl90aW1lPS1tLHRoaXMucmVuZGVyKE1hdGgubWluKDAsLXRoaXMuX2RlbGF5KSkpLHRoaXN9LGguX2VuYWJsZWQ9ZnVuY3Rpb24oYSxiKXtpZihqfHxpLndha2UoKSxhJiZ0aGlzLl9nYyl7dmFyIGMsZD10aGlzLl90YXJnZXRzO2lmKGQpZm9yKGM9ZC5sZW5ndGg7LS1jPi0xOyl0aGlzLl9zaWJsaW5nc1tjXT1aKGRbY10sdGhpcywhMCk7ZWxzZSB0aGlzLl9zaWJsaW5ncz1aKHRoaXMudGFyZ2V0LHRoaXMsITApfXJldHVybiBELnByb3RvdHlwZS5fZW5hYmxlZC5jYWxsKHRoaXMsYSxiKSx0aGlzLl9ub3RpZnlQbHVnaW5zT2ZFbmFibGVkJiZ0aGlzLl9maXJzdFBUP0cuX29uUGx1Z2luRXZlbnQoYT9cIl9vbkVuYWJsZVwiOlwiX29uRGlzYWJsZVwiLHRoaXMpOiExfSxHLnRvPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbmV3IEcoYSxiLGMpfSxHLmZyb209ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjLnJ1bkJhY2t3YXJkcz0hMCxjLmltbWVkaWF0ZVJlbmRlcj0wIT1jLmltbWVkaWF0ZVJlbmRlcixuZXcgRyhhLGIsYyl9LEcuZnJvbVRvPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBkLnN0YXJ0QXQ9YyxkLmltbWVkaWF0ZVJlbmRlcj0wIT1kLmltbWVkaWF0ZVJlbmRlciYmMCE9Yy5pbW1lZGlhdGVSZW5kZXIsbmV3IEcoYSxiLGQpfSxHLmRlbGF5ZWRDYWxsPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG5ldyBHKGIsMCx7ZGVsYXk6YSxvbkNvbXBsZXRlOmIsb25Db21wbGV0ZVBhcmFtczpjLGNhbGxiYWNrU2NvcGU6ZCxvblJldmVyc2VDb21wbGV0ZTpiLG9uUmV2ZXJzZUNvbXBsZXRlUGFyYW1zOmMsaW1tZWRpYXRlUmVuZGVyOiExLGxhenk6ITEsdXNlRnJhbWVzOmUsb3ZlcndyaXRlOjB9KX0sRy5zZXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IEcoYSwwLGIpfSxHLmdldFR3ZWVuc09mPWZ1bmN0aW9uKGEsYil7aWYobnVsbD09YSlyZXR1cm5bXTthPVwic3RyaW5nXCIhPXR5cGVvZiBhP2E6Ry5zZWxlY3RvcihhKXx8YTt2YXIgYyxkLGUsZjtpZigocChhKXx8SChhKSkmJlwibnVtYmVyXCIhPXR5cGVvZiBhWzBdKXtmb3IoYz1hLmxlbmd0aCxkPVtdOy0tYz4tMTspZD1kLmNvbmNhdChHLmdldFR3ZWVuc09mKGFbY10sYikpO2ZvcihjPWQubGVuZ3RoOy0tYz4tMTspZm9yKGY9ZFtjXSxlPWM7LS1lPi0xOylmPT09ZFtlXSYmZC5zcGxpY2UoYywxKX1lbHNlIGZvcihkPVooYSkuY29uY2F0KCksYz1kLmxlbmd0aDstLWM+LTE7KShkW2NdLl9nY3x8YiYmIWRbY10uaXNBY3RpdmUoKSkmJmQuc3BsaWNlKGMsMSk7cmV0dXJuIGR9LEcua2lsbFR3ZWVuc09mPUcua2lsbERlbGF5ZWRDYWxsc1RvPWZ1bmN0aW9uKGEsYixjKXtcIm9iamVjdFwiPT10eXBlb2YgYiYmKGM9YixiPSExKTtmb3IodmFyIGQ9Ry5nZXRUd2VlbnNPZihhLGIpLGU9ZC5sZW5ndGg7LS1lPi0xOylkW2VdLl9raWxsKGMsYSl9O3ZhciBiYT10KFwicGx1Z2lucy5Ud2VlblBsdWdpblwiLGZ1bmN0aW9uKGEsYil7dGhpcy5fb3ZlcndyaXRlUHJvcHM9KGF8fFwiXCIpLnNwbGl0KFwiLFwiKSx0aGlzLl9wcm9wTmFtZT10aGlzLl9vdmVyd3JpdGVQcm9wc1swXSx0aGlzLl9wcmlvcml0eT1ifHwwLHRoaXMuX3N1cGVyPWJhLnByb3RvdHlwZX0sITApO2lmKGg9YmEucHJvdG90eXBlLGJhLnZlcnNpb249XCIxLjE5LjBcIixiYS5BUEk9MixoLl9maXJzdFBUPW51bGwsaC5fYWRkVHdlZW49TyxoLnNldFJhdGlvPU0saC5fa2lsbD1mdW5jdGlvbihhKXt2YXIgYixjPXRoaXMuX292ZXJ3cml0ZVByb3BzLGQ9dGhpcy5fZmlyc3RQVDtpZihudWxsIT1hW3RoaXMuX3Byb3BOYW1lXSl0aGlzLl9vdmVyd3JpdGVQcm9wcz1bXTtlbHNlIGZvcihiPWMubGVuZ3RoOy0tYj4tMTspbnVsbCE9YVtjW2JdXSYmYy5zcGxpY2UoYiwxKTtmb3IoO2Q7KW51bGwhPWFbZC5uXSYmKGQuX25leHQmJihkLl9uZXh0Ll9wcmV2PWQuX3ByZXYpLGQuX3ByZXY/KGQuX3ByZXYuX25leHQ9ZC5fbmV4dCxkLl9wcmV2PW51bGwpOnRoaXMuX2ZpcnN0UFQ9PT1kJiYodGhpcy5fZmlyc3RQVD1kLl9uZXh0KSksZD1kLl9uZXh0O3JldHVybiExfSxoLl9tb2Q9aC5fcm91bmRQcm9wcz1mdW5jdGlvbihhKXtmb3IodmFyIGIsYz10aGlzLl9maXJzdFBUO2M7KWI9YVt0aGlzLl9wcm9wTmFtZV18fG51bGwhPWMubiYmYVtjLm4uc3BsaXQodGhpcy5fcHJvcE5hbWUrXCJfXCIpLmpvaW4oXCJcIildLGImJlwiZnVuY3Rpb25cIj09dHlwZW9mIGImJigyPT09Yy5mP2MudC5fYXBwbHlQVC5tPWI6Yy5tPWIpLGM9Yy5fbmV4dH0sRy5fb25QbHVnaW5FdmVudD1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGcsaD1iLl9maXJzdFBUO2lmKFwiX29uSW5pdEFsbFByb3BzXCI9PT1hKXtmb3IoO2g7KXtmb3IoZz1oLl9uZXh0LGQ9ZTtkJiZkLnByPmgucHI7KWQ9ZC5fbmV4dDsoaC5fcHJldj1kP2QuX3ByZXY6Zik/aC5fcHJldi5fbmV4dD1oOmU9aCwoaC5fbmV4dD1kKT9kLl9wcmV2PWg6Zj1oLGg9Z31oPWIuX2ZpcnN0UFQ9ZX1mb3IoO2g7KWgucGcmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGgudFthXSYmaC50W2FdKCkmJihjPSEwKSxoPWguX25leHQ7cmV0dXJuIGN9LGJhLmFjdGl2YXRlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmxlbmd0aDstLWI+LTE7KWFbYl0uQVBJPT09YmEuQVBJJiYoUVsobmV3IGFbYl0pLl9wcm9wTmFtZV09YVtiXSk7cmV0dXJuITB9LHMucGx1Z2luPWZ1bmN0aW9uKGEpe2lmKCEoYSYmYS5wcm9wTmFtZSYmYS5pbml0JiZhLkFQSSkpdGhyb3dcImlsbGVnYWwgcGx1Z2luIGRlZmluaXRpb24uXCI7dmFyIGIsYz1hLnByb3BOYW1lLGQ9YS5wcmlvcml0eXx8MCxlPWEub3ZlcndyaXRlUHJvcHMsZj17aW5pdDpcIl9vbkluaXRUd2VlblwiLHNldDpcInNldFJhdGlvXCIsa2lsbDpcIl9raWxsXCIscm91bmQ6XCJfbW9kXCIsbW9kOlwiX21vZFwiLGluaXRBbGw6XCJfb25Jbml0QWxsUHJvcHNcIn0sZz10KFwicGx1Z2lucy5cIitjLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Muc3Vic3RyKDEpK1wiUGx1Z2luXCIsZnVuY3Rpb24oKXtiYS5jYWxsKHRoaXMsYyxkKSx0aGlzLl9vdmVyd3JpdGVQcm9wcz1lfHxbXX0sYS5nbG9iYWw9PT0hMCksaD1nLnByb3RvdHlwZT1uZXcgYmEoYyk7aC5jb25zdHJ1Y3Rvcj1nLGcuQVBJPWEuQVBJO2ZvcihiIGluIGYpXCJmdW5jdGlvblwiPT10eXBlb2YgYVtiXSYmKGhbZltiXV09YVtiXSk7cmV0dXJuIGcudmVyc2lvbj1hLnZlcnNpb24sYmEuYWN0aXZhdGUoW2ddKSxnfSxmPWEuX2dzUXVldWUpe2ZvcihnPTA7ZzxmLmxlbmd0aDtnKyspZltnXSgpO2ZvcihoIGluIHEpcVtoXS5mdW5jfHxhLmNvbnNvbGUubG9nKFwiR1NBUCBlbmNvdW50ZXJlZCBtaXNzaW5nIGRlcGVuZGVuY3k6IFwiK2gpfWo9ITF9fShcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6dGhpc3x8d2luZG93LFwiVHdlZW5NYXhcIik7XHJcblxyXG5cclxuXHJcbnZhciBfZ3NTY29wZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6dGhpc3x8d2luZG93OyhfZ3NTY29wZS5fZ3NRdWV1ZXx8KF9nc1Njb3BlLl9nc1F1ZXVlPVtdKSkucHVzaChmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBlLHQ9X2dzU2NvcGUuZG9jdW1lbnQscD10LmRlZmF1bHRWaWV3P3QuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZTpmdW5jdGlvbigpe30sZz0vKD86KC18LT18XFwrPSk/XFxkKlxcLj9cXGQqKD86ZVtcXC0rXT9cXGQrKT8pWzAtOV0vZ2ksQz0tMSE9PSgoX2dzU2NvcGUubmF2aWdhdG9yfHx7fSkudXNlckFnZW50fHxcIlwiKS5pbmRleE9mKFwiRWRnZVwiKSxsPXtyZWN0OltcIndpZHRoXCIsXCJoZWlnaHRcIl0sY2lyY2xlOltcInJcIixcInJcIl0sZWxsaXBzZTpbXCJyeFwiLFwicnlcIl0sbGluZTpbXCJ4MlwiLFwieTJcIl19LF89XCJEcmF3U1ZHUGx1Z2luXCIsbT1TdHJpbmcuZnJvbUNoYXJDb2RlKDEwMywxMTQsMTAxLDEwMSwxMTAsMTE1LDExMSw5OSwxMDcsNDYsOTksMTExLDEwOSksUz1TdHJpbmcuZnJvbUNoYXJDb2RlKDQ3LDExNCwxMDEsMTEzLDExNywxMDUsMTE0LDEwMSwxMTUsNDUsMTA5LDEwMSwxMDksOTgsMTAxLDExNCwxMTUsMTA0LDEwNSwxMTIsNDcpLHc9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PS0xIT09KHdpbmRvdz93aW5kb3cubG9jYXRpb24uaHJlZjpcIlwiKS5pbmRleE9mKFN0cmluZy5mcm9tQ2hhckNvZGUoMTAzLDExNCwxMDEsMTAxLDExMCwxMTUsMTExLDk5LDEwNykpJiYtMSE9PWUuaW5kZXhPZihTdHJpbmcuZnJvbUNoYXJDb2RlKDEwOCwxMTEsOTksOTcsMTA4LDEwNCwxMTEsMTE1LDExNikpLHI9W20sU3RyaW5nLmZyb21DaGFyQ29kZSg5OSwxMTEsMTAwLDEwMSwxMTIsMTAxLDExMCw0NiwxMDUsMTExKSxTdHJpbmcuZnJvbUNoYXJDb2RlKDk5LDExMSwxMDAsMTAxLDExMiwxMDEsMTEwLDQ2LDExMiwxMDgsMTE3LDEwOSw5OCwxMDUsMTEwLDEwMyksU3RyaW5nLmZyb21DaGFyQ29kZSg5OSwxMTEsMTAwLDEwMSwxMTIsMTAxLDExMCw0NiwxMDAsMTAxLDExOCksU3RyaW5nLmZyb21DaGFyQ29kZSg5OSwxMTEsMTAwLDEwMSwxMTIsMTAxLDExMCw0Niw5NywxMTIsMTEyKSxTdHJpbmcuZnJvbUNoYXJDb2RlKDExMiwxMDEsMTEwLDExNSw0Niw5OSwxMDgsMTExLDExNywxMDApLFN0cmluZy5mcm9tQ2hhckNvZGUoMTEyLDEwMSwxMTAsMTE1LDQ2LDEwNSwxMTEpLFN0cmluZy5mcm9tQ2hhckNvZGUoMTA5LDExMSwxMTYsMTA1LDExMSwxMTAsMTE2LDExNCwxMDUsOTksMTA3LDExNSw0Niw5OSwxMTEsMTA5KSxTdHJpbmcuZnJvbUNoYXJDb2RlKDk5LDExNSwxMTUsNDUsMTE2LDExNCwxMDUsOTksMTA3LDExNSw0Niw5OSwxMTEsMTA5KSxTdHJpbmcuZnJvbUNoYXJDb2RlKDk5LDEwMCwxMTIsMTEwLDQ2LDEwNSwxMTEpLFN0cmluZy5mcm9tQ2hhckNvZGUoMTAzLDk3LDExMCwxMTAsMTExLDExMCw0NiwxMTYsMTE4KSxTdHJpbmcuZnJvbUNoYXJDb2RlKDk5LDExMSwxMDAsMTAxLDk5LDk3LDExMCwxMjEsMTExLDExMCw0NiwxMTAsMTAxLDExNiksU3RyaW5nLmZyb21DaGFyQ29kZSgxMTYsMTA0LDEwMSwxMDksMTAxLDEwMiwxMTEsMTE0LDEwMSwxMTUsMTE2LDQ2LDExMCwxMDEsMTE2KSxTdHJpbmcuZnJvbUNoYXJDb2RlKDk5LDEwMSwxMTQsMTAxLDk4LDExNCw5NywxMjAsNDYsOTksMTExLDQ2LDExNywxMDcpLFN0cmluZy5mcm9tQ2hhckNvZGUoMTE2LDEyMSwxMDksMTEyLDk3LDExMCwxMTcsMTE1LDQ2LDExMCwxMDEsMTE2KSxTdHJpbmcuZnJvbUNoYXJDb2RlKDExNiwxMTksMTAxLDEwMSwxMTAsMTA5LDk3LDEyMCw0Niw5OSwxMTEsMTA5KSxTdHJpbmcuZnJvbUNoYXJDb2RlKDExNiwxMTksMTAxLDEwMSwxMTAsMTA4LDEwNSwxMTYsMTAxLDQ2LDk5LDExMSwxMDkpLFN0cmluZy5mcm9tQ2hhckNvZGUoMTEyLDEwOCwxMTAsMTA3LDExNCw0Niw5OSwxMTEpLFN0cmluZy5mcm9tQ2hhckNvZGUoMTA0LDExMSwxMTYsMTA2LDk3LDExNCw0Niw5OSwxMTEsMTA5KSxTdHJpbmcuZnJvbUNoYXJDb2RlKDExOSwxMDEsOTgsMTEyLDk3LDk5LDEwNyw5OCwxMDUsMTEwLDQ2LDk5LDExMSwxMDkpLFN0cmluZy5mcm9tQ2hhckNvZGUoOTcsMTE0LDk5LDEwNCwxMDUsMTE4LDEwMSw0NiwxMTEsMTE0LDEwMyksU3RyaW5nLmZyb21DaGFyQ29kZSg5OSwxMTEsMTAwLDEwMSwxMTUsOTcsMTEwLDEwMCw5OCwxMTEsMTIwLDQ2LDEwNSwxMTEpLFN0cmluZy5mcm9tQ2hhckNvZGUoMTE1LDExNiw5Nyw5OSwxMDcsOTgsMTA4LDEwNSwxMTYsMTIyLDQ2LDk5LDExMSwxMDkpLFN0cmluZy5mcm9tQ2hhckNvZGUoOTksMTExLDEwMCwxMDUsMTAxLDExNCw0NiwxMDUsMTExKSxTdHJpbmcuZnJvbUNoYXJDb2RlKDEwNiwxMTUsMTAyLDEwNSwxMDAsMTAwLDEwOCwxMDEsNDYsMTEwLDEwMSwxMTYpXSxvPXIubGVuZ3RoOy0xPC0tbzspaWYoLTEhPT1lLmluZGV4T2YocltvXSkpcmV0dXJuITA7cmV0dXJuIHQmJndpbmRvdyYmd2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nKFN0cmluZy5mcm9tQ2hhckNvZGUoODcsNjUsODIsNzgsNzMsNzgsNzEsNTgsMzIsOTcsMzIsMTE1LDExMiwxMDEsOTksMTA1LDk3LDEwOCwzMiwxMTgsMTAxLDExNCwxMTUsMTA1LDExMSwxMTAsMzIsMTExLDEwMiwzMikrXytTdHJpbmcuZnJvbUNoYXJDb2RlKDMyLDEwNSwxMTUsMzIsMTE0LDExNywxMTAsMTEwLDEwNSwxMTAsMTAzLDMyLDEwOCwxMTEsOTksOTcsMTA4LDEwOCwxMjEsNDQsMzIsOTgsMTE3LDExNiwzMiwxMDUsMTE2LDMyLDExOSwxMDUsMTA4LDEwOCwzMiwxMTAsMTExLDExNiwzMiwxMTksMTExLDExNCwxMDcsMzIsMTExLDExMCwzMiw5NywzMiwxMDgsMTA1LDExOCwxMDEsMzIsMTAwLDExMSwxMDksOTcsMTA1LDExMCwzMiw5OCwxMDEsOTksOTcsMTE3LDExNSwxMDEsMzIsMTA1LDExNiwzMiwxMDUsMTE1LDMyLDk3LDMyLDEwOSwxMDEsMTA5LDk4LDEwMSwxMTQsMTE1LDEwNCwxMDUsMTEyLDMyLDk4LDEwMSwxMTAsMTAxLDEwMiwxMDUsMTE2LDMyLDExMSwxMDIsMzIsNjcsMTA4LDExNyw5OCwzMiw3MSwxMTQsMTAxLDEwMSwxMTAsODMsMTExLDk5LDEwNyw0NiwzMiw4MCwxMDgsMTAxLDk3LDExNSwxMDEsMzIsMTE1LDEwNSwxMDMsMTEwLDMyLDExNywxMTIsMzIsOTcsMTE2LDMyLDEwNCwxMTYsMTE2LDExMiw1OCw0Nyw0NywxMDMsMTE0LDEwMSwxMDEsMTEwLDExNSwxMTEsOTksMTA3LDQ2LDk5LDExMSwxMDksNDcsOTksMTA4LDExNyw5OCw0NywzMiw5NywxMTAsMTAwLDMyLDExNiwxMDQsMTAxLDExMCwzMiwxMDAsMTExLDExOSwxMTAsMTA4LDExMSw5NywxMDAsMzIsMTE2LDEwNCwxMDEsMzIsMzksMTE0LDEwMSw5NywxMDgsMzksMzIsMTE4LDEwMSwxMTQsMTE1LDEwNSwxMTEsMTEwLDMyLDEwMiwxMTQsMTExLDEwOSwzMiwxMjEsMTExLDExNywxMTQsMzIsNzEsMTE0LDEwMSwxMDEsMTEwLDgzLDExMSw5OSwxMDcsMzIsOTcsOTksOTksMTExLDExNywxMTAsMTE2LDMyLDExOSwxMDQsMTA1LDk5LDEwNCwzMiwxMDQsOTcsMTE1LDMyLDExMCwxMTEsMzIsMTE1LDExNyw5OSwxMDQsMzIsMTA4LDEwNSwxMDksMTA1LDExNiw5NywxMTYsMTA1LDExMSwxMTAsMTE1LDQ2LDMyLDg0LDEwNCwxMDEsMzIsMTAyLDEwNSwxMDgsMTAxLDMyLDEyMSwxMTEsMTE3LDM5LDExNCwxMDEsMzIsMTE3LDExNSwxMDUsMTEwLDEwMywzMiwxMTksOTcsMTE1LDMyLDEwOCwxMDUsMTA3LDEwMSwxMDgsMTIxLDMyLDEwMCwxMTEsMTE5LDExMCwxMDgsMTExLDk3LDEwMCwxMDEsMTAwLDMyLDEwMiwxMTQsMTExLDEwOSwzMiwxMDEsMTA4LDExNSwxMDEsMTE5LDEwNCwxMDEsMTE0LDEwMSwzMiwxMTEsMTEwLDMyLDExNiwxMDQsMTAxLDMyLDExOSwxMDEsOTgsMzIsOTcsMTEwLDEwMCwzMiwxMDUsMTE1LDMyLDExNCwxMDEsMTE1LDExNiwxMTQsMTA1LDk5LDExNiwxMDEsMTAwLDMyLDExNiwxMTEsMzIsMTA4LDExMSw5OSw5NywxMDgsMzIsMTE3LDExNSwxMDEsMzIsMTExLDExNCwzMiwxMTEsMTEwLDMyLDExNSwxMDUsMTE2LDEwMSwxMTUsMzIsMTA4LDEwNSwxMDcsMTAxLDMyLDk5LDExMSwxMDAsMTAxLDExMiwxMDEsMTEwLDQ2LDEwNSwxMTEsNDYpKSx0fSh3aW5kb3c/d2luZG93LmxvY2F0aW9uLmhvc3Q6XCJcIik7ZnVuY3Rpb24gdShlLHQscixvLGkscyl7cmV0dXJuIHI9KHBhcnNlRmxvYXQocnx8MCktcGFyc2VGbG9hdChlfHwwKSkqaSxvPShwYXJzZUZsb2F0KG98fDApLXBhcnNlRmxvYXQodHx8MCkpKnMsTWF0aC5zcXJ0KHIqcitvKm8pfWZ1bmN0aW9uIGMoZSl7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGUmJmUubm9kZVR5cGV8fChlPV9nc1Njb3BlLlR3ZWVuTGl0ZS5zZWxlY3RvcihlKSkubGVuZ3RoJiYoZT1lWzBdKSxlfWZ1bmN0aW9uIHkoZSl7aWYoIWUpcmV0dXJuIDA7dmFyIHQscixvLGkscyxuLGEsaD0oZT1jKGUpKS50YWdOYW1lLnRvTG93ZXJDYXNlKCksZj0xLGQ9MTtcIm5vbi1zY2FsaW5nLXN0cm9rZVwiPT09ZS5nZXRBdHRyaWJ1dGUoXCJ2ZWN0b3ItZWZmZWN0XCIpJiYoZD1lLmdldFNjcmVlbkNUTSgpLGY9TWF0aC5zcXJ0KGQuYSpkLmErZC5iKmQuYiksZD1NYXRoLnNxcnQoZC5kKmQuZCtkLmMqZC5jKSk7dHJ5e3I9ZS5nZXRCQm94KCl9Y2F0Y2goZSl7Y29uc29sZS5sb2coXCJFcnJvcjogU29tZSBicm93c2VycyBsaWtlIEZpcmVmb3ggd29uJ3QgcmVwb3J0IG1lYXN1cmVtZW50cyBvZiBpbnZpc2libGUgZWxlbWVudHMgKGxpa2UgZGlzcGxheTpub25lIG9yIG1hc2tzIGluc2lkZSBkZWZzKS5cIil9aWYociYmKHIud2lkdGh8fHIuaGVpZ2h0KXx8IWxbaF18fChyPXt3aWR0aDpwYXJzZUZsb2F0KGUuZ2V0QXR0cmlidXRlKGxbaF1bMF0pKSxoZWlnaHQ6cGFyc2VGbG9hdChlLmdldEF0dHJpYnV0ZShsW2hdWzFdKSl9LFwicmVjdFwiIT09aCYmXCJsaW5lXCIhPT1oJiYoci53aWR0aCo9MixyLmhlaWdodCo9MiksXCJsaW5lXCI9PT1oJiYoci54PXBhcnNlRmxvYXQoZS5nZXRBdHRyaWJ1dGUoXCJ4MVwiKSksci55PXBhcnNlRmxvYXQoZS5nZXRBdHRyaWJ1dGUoXCJ5MVwiKSksci53aWR0aD1NYXRoLmFicyhyLndpZHRoLXIueCksci5oZWlnaHQ9TWF0aC5hYnMoci5oZWlnaHQtci55KSkpLFwicGF0aFwiPT09aClpPWUuc3R5bGUuc3Ryb2tlRGFzaGFycmF5LGUuc3R5bGUuc3Ryb2tlRGFzaGFycmF5PVwibm9uZVwiLHQ9ZS5nZXRUb3RhbExlbmd0aCgpfHwwLGYhPT1kJiZjb25zb2xlLmxvZyhcIldhcm5pbmc6IDxwYXRoPiBsZW5ndGggY2Fubm90IGJlIG1lYXN1cmVkIGFjY3VyYXRlbHkgd2hlbiB2ZWN0b3ItZWZmZWN0IGlzIG5vbi1zY2FsaW5nLXN0cm9rZSBhbmQgdGhlIGVsZW1lbnQgaXNuJ3QgcHJvcG9ydGlvbmFsbHkgc2NhbGVkLlwiKSx0Kj0oZitkKS8yLGUuc3R5bGUuc3Ryb2tlRGFzaGFycmF5PWk7ZWxzZSBpZihcInJlY3RcIj09PWgpdD0yKnIud2lkdGgqZisyKnIuaGVpZ2h0KmQ7ZWxzZSBpZihcImxpbmVcIj09PWgpdD11KHIueCxyLnksci54K3Iud2lkdGgsci55K3IuaGVpZ2h0LGYsZCk7ZWxzZSBpZihcInBvbHlsaW5lXCI9PT1ofHxcInBvbHlnb25cIj09PWgpZm9yKG89ZS5nZXRBdHRyaWJ1dGUoXCJwb2ludHNcIikubWF0Y2goZyl8fFtdLFwicG9seWdvblwiPT09aCYmby5wdXNoKG9bMF0sb1sxXSksdD0wLHM9MjtzPG8ubGVuZ3RoO3MrPTIpdCs9dShvW3MtMl0sb1tzLTFdLG9bc10sb1tzKzFdLGYsZCl8fDA7ZWxzZVwiY2lyY2xlXCIhPT1oJiZcImVsbGlwc2VcIiE9PWh8fChuPXIud2lkdGgvMipmLGE9ci5oZWlnaHQvMipkLHQ9TWF0aC5QSSooMyoobithKS1NYXRoLnNxcnQoKDMqbithKSoobiszKmEpKSkpO3JldHVybiB0fHwwfWZ1bmN0aW9uIHgoZSx0KXtpZighZSlyZXR1cm5bMCwwXTtlPWMoZSksdD10fHx5KGUpKzE7dmFyIHI9cChlKSxvPXIuc3Ryb2tlRGFzaGFycmF5fHxcIlwiLGk9cGFyc2VGbG9hdChyLnN0cm9rZURhc2hvZmZzZXQpLHM9by5pbmRleE9mKFwiLFwiKTtyZXR1cm4gczwwJiYocz1vLmluZGV4T2YoXCIgXCIpKSx0PChvPXM8MD90OnBhcnNlRmxvYXQoby5zdWJzdHIoMCxzKSl8fDFlLTUpJiYobz10KSxbTWF0aC5tYXgoMCwtaSksTWF0aC5tYXgoMCxvLWkpXX0oZT1fZ3NTY29wZS5fZ3NEZWZpbmUucGx1Z2luKHtwcm9wTmFtZTpcImRyYXdTVkdcIixBUEk6Mix2ZXJzaW9uOlwiMC4yLjBcIixnbG9iYWw6ITAsb3ZlcndyaXRlUHJvcHM6W1wiZHJhd1NWR1wiXSxpbml0OmZ1bmN0aW9uKGUsdCxyLG8pe2lmKCFlLmdldEJCb3gpcmV0dXJuITE7aWYoIXcpcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5ocmVmPVwiaHR0cDovL1wiK20rUytcIj9wbHVnaW49XCIrXytcIiZzb3VyY2U9Y29kZXBlblwiLCExO3ZhciBpLHMsbixhLGgsZixkLGcsbCx1LGM9eShlKSsxO3JldHVybiB0aGlzLl9zdHlsZT1lLnN0eWxlLHRoaXMuX3RhcmdldD1lLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJih0PXQobyxlKSksITA9PT10fHxcInRydWVcIj09PXQ/dD1cIjAgMTAwJVwiOnQ/LTE9PT0odCtcIlwiKS5pbmRleE9mKFwiIFwiKSYmKHQ9XCIwIFwiK3QpOnQ9XCIwIDBcIixpPXgoZSxjKSxoPXQsZj1jLGQ9aVswXSxnPWguaW5kZXhPZihcIiBcIiksbD0tMT09PWc/KHU9dm9pZCAwIT09ZD9kK1wiXCI6aCxoKToodT1oLnN1YnN0cigwLGcpLGguc3Vic3RyKGcrMSkpLHU9LTEhPT11LmluZGV4T2YoXCIlXCIpP3BhcnNlRmxvYXQodSkvMTAwKmY6cGFyc2VGbG9hdCh1KSxzPShsPS0xIT09bC5pbmRleE9mKFwiJVwiKT9wYXJzZUZsb2F0KGwpLzEwMCpmOnBhcnNlRmxvYXQobCkpPHU/W2wsdV06W3UsbF0sdGhpcy5fbGVuZ3RoPWMrMTAsMD09PWlbMF0mJjA9PT1zWzBdPyhuPU1hdGgubWF4KDFlLTUsc1sxXS1jKSx0aGlzLl9kYXNoPWMrbix0aGlzLl9vZmZzZXQ9Yy1pWzFdK24sdGhpcy5fb2Zmc2V0UFQ9dGhpcy5fYWRkVHdlZW4odGhpcyxcIl9vZmZzZXRcIix0aGlzLl9vZmZzZXQsYy1zWzFdK24sXCJkcmF3U1ZHXCIpKToodGhpcy5fZGFzaD1pWzFdLWlbMF18fDFlLTYsdGhpcy5fb2Zmc2V0PS1pWzBdLHRoaXMuX2Rhc2hQVD10aGlzLl9hZGRUd2Vlbih0aGlzLFwiX2Rhc2hcIix0aGlzLl9kYXNoLHNbMV0tc1swXXx8MWUtNSxcImRyYXdTVkdcIiksdGhpcy5fb2Zmc2V0UFQ9dGhpcy5fYWRkVHdlZW4odGhpcyxcIl9vZmZzZXRcIix0aGlzLl9vZmZzZXQsLXNbMF0sXCJkcmF3U1ZHXCIpKSxDJiYoYT1wKGUpKS5zdHJva2VMaW5lY2FwIT09YS5zdHJva2VMaW5lam9pbiYmKHM9cGFyc2VGbG9hdChhLnN0cm9rZU1pdGVybGltaXQpLHRoaXMuX2FkZFR3ZWVuKGUuc3R5bGUsXCJzdHJva2VNaXRlcmxpbWl0XCIscyxzKzFlLTQsXCJzdHJva2VNaXRlcmxpbWl0XCIpKSx0aGlzLl9saXZlPVwibm9uLXNjYWxpbmctc3Ryb2tlXCI9PT1lLmdldEF0dHJpYnV0ZShcInZlY3Rvci1lZmZlY3RcIil8fC0xIT09KHQrXCJcIikuaW5kZXhPZihcImxpdmVcIiksITB9LHNldDpmdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMuX2ZpcnN0UFQmJighdGhpcy5fbGl2ZXx8KHQ9eSh0aGlzLl90YXJnZXQpKzExKSE9PXRoaXMuX2xlbmd0aCYmKHI9dC90aGlzLl9sZW5ndGgsdGhpcy5fbGVuZ3RoPXQsdGhpcy5fb2Zmc2V0UFQucyo9cix0aGlzLl9vZmZzZXRQVC5jKj1yLHRoaXMuX2Rhc2hQVD8odGhpcy5fZGFzaFBULnMqPXIsdGhpcy5fZGFzaFBULmMqPXIpOnRoaXMuX2Rhc2gqPXIpLHRoaXMuX3N1cGVyLnNldFJhdGlvLmNhbGwodGhpcyxlKSx0aGlzLl9zdHlsZS5zdHJva2VEYXNob2Zmc2V0PXRoaXMuX29mZnNldCx0aGlzLl9zdHlsZS5zdHJva2VEYXNoYXJyYXk9MT09PWV8fDA9PT1lP3RoaXMuX29mZnNldDwuMDAxJiZ0aGlzLl9sZW5ndGgtdGhpcy5fZGFzaDw9MTA/XCJub25lXCI6dGhpcy5fb2Zmc2V0PT09dGhpcy5fZGFzaD9cIjBweCwgOTk5OTk5cHhcIjp0aGlzLl9kYXNoK1wicHgsXCIrdGhpcy5fbGVuZ3RoK1wicHhcIjp0aGlzLl9kYXNoK1wicHgsXCIrdGhpcy5fbGVuZ3RoK1wicHhcIil9fSkpLmdldExlbmd0aD15LGUuZ2V0UG9zaXRpb249eH0pLF9nc1Njb3BlLl9nc0RlZmluZSYmX2dzU2NvcGUuX2dzUXVldWUucG9wKCkoKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUoKXtyZXR1cm4oX2dzU2NvcGUuR3JlZW5Tb2NrR2xvYmFsc3x8X2dzU2NvcGUpLkRyYXdTVkdQbHVnaW59XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/KHJlcXVpcmUoXCIuLi9Ud2VlbkxpdGUuanNcIiksbW9kdWxlLmV4cG9ydHM9ZSgpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZShbXCJUd2VlbkxpdGVcIl0sZSl9KCk7IiwidmFyIHByb2plY3RTZXR0aW5ncyA9IHtcclxuICAgIFwiUHJvamVjdElEXCI6IFwiYjU2MjJkNDQtYzYwMy00MDMzLTk1MWQtMGI0MDFiOWE2YjcwXCIsXHJcbiAgICBcIlByb2plY3ROb1wiOiBcIjAwMFwiXHJcbn0iLCJsZXQgZW4gPSAvLyBzZXQgbmFtZSBvZiBsZXQgdG8gaXNvXHJcbntcclxuXHRcImlzb2NvZGVcIjogXCJlbi1HQlwiLFxyXG5cdFwiZnJpZW5kbHluYW1lXCI6IFwiRW5nbGlzaCBHcmVhdCBCcml0YWluXCIsXHJcblx0XCJsYW5nSURcIjogMCxcclxuXHRcIm5hdlwiOiB7XHJcblx0XHRcImZpZWxkc1wiOiBbXHJcblxyXG5cdFx0XHR7IFwia2V5XCI6IFwibmF2LTFcIiwgXCJJbWFnZVVSTFwiOiBcIlwiLCBcIlRleHRcIjogXCJIb21lXCIgfSxcclxuXHJcblx0XHRdXHJcblx0fSxcclxuXHRcInNjb3JtXCI6IHtcclxuXHRcdFwiZmllbGRzXCI6IFtcclxuXHRcdF1cclxuXHR9LFxyXG5cdFwia2NcIjoge1xyXG5cdFx0XCJmaWVsZHNcIjogW1xyXG5cdFx0XVxyXG5cdH0sXHJcblx0XCJwYWdlc1wiOiBbXHJcblx0XHR7XHJcblx0XHRcdFwidGl0bGVcIjogXCJJbnRyb2R1Y3Rpb25cIiwgXCJwYWdlSURcIjogMCwgXCJGaWxlXCI6IFwiY29udGVudC9pbnRyby5odG1sXCIsXHJcblx0XHRcdFwiZmllbGRzXCI6IFtcclxuXHRcdFx0XHR7IFwia2V5XCI6IFwic2xpZGUxLTFcIiwgXCJJbWFnZVVSTFwiOiBcIlwiLCBcIlRleHRcIjogXCJTdXJhai5jc3NcIiB9LFxyXG5cdFx0XHRcdHsgXCJrZXlcIjogXCJzbGlkZTEtMlwiLCBcIkltYWdlVVJMXCI6IFwiXCIsIFwiVGV4dFwiOiBcIlRoZXNlIGFyZSBhIHNlcmllcyBvZiBsYXlvdXQgc2FtcGxlcyB1c2luZyBTdXJhai5zY3NzIGdyaWQgc3lzdGVtIGFuZCBpdHMgaGVscGVycy4gWW91IGNhbiByZXNpemUgdGhlIGJyb3dzZXIgd2luZG93IHRvIHNlZSBob3cgdGhleSByZWFjdCBpbiBkaWZmZXJlbnQgc2NyZWVuIHNpemVzLlwiIH0sXHJcblx0XHRcdFx0eyBcImtleVwiOiBcInNsaWRlMS0zXCIsIFwiSW1hZ2VVUkxcIjogXCJcIiwgXCJUZXh0XCI6IFwiUmVzcG9uc2l2ZSBncmlkIHN5c3RlbVwiIH0sXHJcblx0XHRcdFx0eyBcImtleVwiOiBcInNsaWRlMS00XCIsIFwiSW1hZ2VVUkxcIjogXCJcIiwgXCJUZXh0XCI6IFwiRnVsbCB3aWR0aCBzcGFuXCIgfSxcclxuXHRcdFx0XHR7IFwia2V5XCI6IFwic2xpZGUxLTVcIiwgXCJJbWFnZVVSTFwiOiBcIlwiLCBcIlRleHRcIjogXCJIYWxmXCIgfSxcclxuXHRcdFx0XHR7IFwia2V5XCI6IFwic2xpZGUxLTZcIiwgXCJJbWFnZVVSTFwiOiBcIlwiLCBcIlRleHRcIjogXCJIYWxmXCIgfSxcclxuXHJcblx0XHRcdFx0eyBcImtleVwiOiBcInNsaWRlMi0xXCIsIFwiSW1hZ2VVUkxcIjogXCJcIiwgXCJUZXh0XCI6IFwiMS8zXCIgfSxcclxuXHRcdFx0XHR7IFwia2V5XCI6IFwic2xpZGUyLTJcIiwgXCJJbWFnZVVSTFwiOiBcIlwiLCBcIlRleHRcIjogXCIxLzRcIiB9LFxyXG5cdFx0XHRcdHsgXCJrZXlcIjogXCJzbGlkZTItM1wiLCBcIkltYWdlVVJMXCI6IFwiXCIsIFwiVGV4dFwiOiBcIjEvNCA8YnI+TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQgY29uc2VjdGV0dXJcIiB9LFxyXG5cdFx0XHRcdHsgXCJrZXlcIjogXCJzbGlkZTItNFwiLCBcIkltYWdlVVJMXCI6IFwiXCIsIFwiVGV4dFwiOiBcIjEvNVwiIH0sXHJcblx0XHRcdFx0eyBcImtleVwiOiBcInNsaWRlMi01XCIsIFwiSW1hZ2VVUkxcIjogXCJcIiwgXCJUZXh0XCI6IFwiMS82XCIgfSxcclxuXHRcdFx0XHR7IFwia2V5XCI6IFwic2xpZGUyLTZcIiwgXCJJbWFnZVVSTFwiOiBcIlwiLCBcIlRleHRcIjogXCJIZWxsbyB3b3JsZFwiIH0sXHJcblxyXG5cdFx0XHRcdHsgXCJrZXlcIjogXCJzbGlkZTMtMVwiLCBcIkltYWdlVVJMXCI6IFwiXCIsIFwiVGV4dFwiOiBcIk1haW4gY29udGVudFwiIH0sXHJcblx0XHRcdFx0eyBcImtleVwiOiBcInNsaWRlMy0yXCIsIFwiSW1hZ2VVUkxcIjogXCJcIiwgXCJUZXh0XCI6IFwiU2lkZWJhclwiIH0sXHJcblx0XHRcdFx0eyBcImtleVwiOiBcInNsaWRlMy0zXCIsIFwiSW1hZ2VVUkxcIjogXCJcIiwgXCJUZXh0XCI6IFwiV2lkZSBTaWRlYmFyXCIgfSxcclxuXHRcdFx0XHR7IFwia2V5XCI6IFwic2xpZGUzLTRcIiwgXCJJbWFnZVVSTFwiOiBcIlwiLCBcIlRleHRcIjogXCJBbHRlcm5hdGVcIiB9LFxyXG5cdFx0XHRcdHsgXCJrZXlcIjogXCJzbGlkZTMtNVwiLCBcIkltYWdlVVJMXCI6IFwiXCIsIFwiVGV4dFwiOiBcIlRoZXNlIGFyZSBhIHNlcmllcyBvZiBhbHRlcm5hdGUgYmxvY2sgbGF5b3V0IHNhbXBsZXMuXCIgfSxcclxuXHRcdFx0XHR7IFwia2V5XCI6IFwic2xpZGUzLTZcIiwgXCJJbWFnZVVSTFwiOiBcIlwiLCBcIlRleHRcIjogXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0XCIgfSxcclxuXHRcdFx0XHR7IFwia2V5XCI6IFwic2xpZGUzLTdcIiwgXCJJbWFnZVVSTFwiOiBcIlwiLCBcIlRleHRcIjogXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0XCIgfSxcclxuXHRcdFx0XHR7IFwia2V5XCI6IFwic2xpZGUzLThcIiwgXCJJbWFnZVVSTFwiOiBcIlwiLCBcIlRleHRcIjogXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0XCIgfSxcclxuXHRcdFx0XHR7IFwia2V5XCI6IFwic2xpZGUzLTlcIiwgXCJJbWFnZVVSTFwiOiBcIlwiLCBcIlRleHRcIjogXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0XCIgfSxcclxuXHRcdFx0XHR7IFwia2V5XCI6IFwic2xpZGUzLTEwXCIsIFwiSW1hZ2VVUkxcIjogXCJcIiwgXCJUZXh0XCI6IFwiQWx0ZXJuYXRlXCIgfSxcclxuXHJcblxyXG5cdFx0XHRdXHJcblx0XHR9LFxyXG5cdFx0e1xyXG5cdFx0XHRcInRpdGxlXCI6IFwiU2VjdGlvbiAxIC0gVGl0bGUgb2Ygc2VjdGlvblwiLCBcInBhZ2VJRFwiOiAxLCBcIkZpbGVcIjogXCJjb250ZW50L3NlY3Rpb24tMS5odG1sXCIsXHJcblx0XHRcdFwiZmllbGRzXCI6IFtcclxuXHRcdFx0XHR7IFwia2V5XCI6IFwic2xpZGUxLTFcIiwgXCJJbWFnZVVSTFwiOiBcIlwiLCBcIlRleHRcIjogXCJMb3JlbSBpcHN1bSBkb2xvciBzaXRcIiB9LFxyXG5cdFx0XHRcdHsgXCJrZXlcIjogXCJzbGlkZTEtMlwiLCBcIkltYWdlVVJMXCI6IFwiXCIsIFwiVGV4dFwiOiBcIkxvcmVtIGlwc3VtIGRvbG9yIHNpdFwiIH0sXHJcblx0XHRcdFx0eyBcImtleVwiOiBcInNsaWRlMS0zXCIsIFwiSW1hZ2VVUkxcIjogXCJcIiwgXCJUZXh0XCI6IFwiTG9yZW0gaXBzdW0gZG9sb3Igc2l0XCIgfSxcclxuXHRcdFx0XHR7IFwia2V5XCI6IFwic2xpZGUyLTFcIiwgXCJJbWFnZVVSTFwiOiBcIlwiLCBcIlRleHRcIjogXCJMb3JlbSBpcHN1bSBkb2xvciBzaXRcIiB9LFxyXG5cdFx0XHRcdHsgXCJrZXlcIjogXCJzbGlkZTItMlwiLCBcIkltYWdlVVJMXCI6IFwiXCIsIFwiVGV4dFwiOiBcIkxvcmVtIGlwc3VtIGRvbG9yIHNpdFwiIH0sXHJcblx0XHRcdFx0eyBcImtleVwiOiBcInNsaWRlMi0zXCIsIFwiSW1hZ2VVUkxcIjogXCJcIiwgXCJUZXh0XCI6IFwiTG9yZW0gaXBzdW0gZG9sb3Igc2l0XCIgfSxcclxuXHRcdFx0XVxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0XCJ0aXRsZVwiOiBcIlNlY3Rpb24gMiAtIFRpdGxlIG9mIHNlY3Rpb25cIiwgXCJwYWdlSURcIjogMiwgXCJGaWxlXCI6IFwiY29udGVudC9zZWN0aW9uLTIuaHRtbFwiLFxyXG5cdFx0XHRcImZpZWxkc1wiOiBbXHJcblx0XHRcdFx0eyBcImtleVwiOiBcInNsaWRlMS0xXCIsIFwiSW1hZ2VVUkxcIjogXCJcIiwgXCJUZXh0XCI6IFwiTG9yZW0gaXBzdW0gZG9sb3Igc2l0XCIgfSxcclxuXHRcdFx0XHR7IFwia2V5XCI6IFwic2xpZGUxLTJcIiwgXCJJbWFnZVVSTFwiOiBcIlwiLCBcIlRleHRcIjogXCJMb3JlbSBpcHN1bSBkb2xvciBzaXRcIiB9LFxyXG5cdFx0XHRcdHsgXCJrZXlcIjogXCJzbGlkZTEtM1wiLCBcIkltYWdlVVJMXCI6IFwiXCIsIFwiVGV4dFwiOiBcIkxvcmVtIGlwc3VtIGRvbG9yIHNpdFwiIH0sXHJcblx0XHRcdFx0eyBcImtleVwiOiBcInNsaWRlMi0xXCIsIFwiSW1hZ2VVUkxcIjogXCJcIiwgXCJUZXh0XCI6IFwiTG9yZW0gaXBzdW0gZG9sb3Igc2l0XCIgfSxcclxuXHRcdFx0XHR7IFwia2V5XCI6IFwic2xpZGUyLTJcIiwgXCJJbWFnZVVSTFwiOiBcIlwiLCBcIlRleHRcIjogXCJMb3JlbSBpcHN1bSBkb2xvciBzaXRcIiB9LFxyXG5cdFx0XHRcdHsgXCJrZXlcIjogXCJzbGlkZTItM1wiLCBcIkltYWdlVVJMXCI6IFwiXCIsIFwiVGV4dFwiOiBcIkxvcmVtIGlwc3VtIGRvbG9yIHNpdFwiIH0sXHJcblx0XHRcdF1cclxuXHRcdH1cclxuXHRdLFxyXG5cdFwiZ2VuZXJhbFwiOiBbXHJcblx0XHR7IFwia2V5XCI6IFwic3VibWl0XCIsIFwiSW1hZ2VVUkxcIjogXCJcIiwgXCJUZXh0XCI6IFwiU3VibWl0XCIgfSxcclxuICAgICAgICB7IFwia2V5XCI6IFwiY2xvc2VcIiwgXCJJbWFnZVVSTFwiOiBcIlwiLCBcIlRleHRcIjogXCJDbG9zZVwiIH0sXHJcblx0XVxyXG59OyIsIi8qIVxyXG4gKiBWRVJTSU9OOiAwLjExLjBcclxuICogREFURTogMjAxNy0wMS0wOVxyXG4gKiBVUERBVEVTIEFORCBET0NTIEFUOiBodHRwOi8vZ3JlZW5zb2NrLmNvbVxyXG4gKlxyXG4gKiBAbGljZW5zZSBDb3B5cmlnaHQgKGMpIDIwMDgtMjAxNywgR3JlZW5Tb2NrLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBUaHJvd1Byb3BzUGx1Z2luIGlzIGEgQ2x1YiBHcmVlblNvY2sgbWVtYmVyc2hpcCBiZW5lZml0OyBZb3UgbXVzdCBoYXZlIGEgdmFsaWQgbWVtYmVyc2hpcCB0byB1c2VcclxuICogdGhpcyBjb2RlIHdpdGhvdXQgdmlvbGF0aW5nIHRoZSB0ZXJtcyBvZiB1c2UuIFZpc2l0IGh0dHA6Ly9ncmVlbnNvY2suY29tL2NsdWIvIHRvIHNpZ24gdXAgb3IgZ2V0IG1vcmUgZGV0YWlscy5cclxuICogVGhpcyB3b3JrIGlzIHN1YmplY3QgdG8gdGhlIHNvZnR3YXJlIGFncmVlbWVudCB0aGF0IHdhcyBpc3N1ZWQgd2l0aCB5b3VyIG1lbWJlcnNoaXAuXHJcbiAqXHJcbiAqIEBhdXRob3I6IEphY2sgRG95bGUsIGphY2tAZ3JlZW5zb2NrLmNvbVxyXG4gKi9cclxudmFyIF9nc1Njb3BlID1cclxuICBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBtb2R1bGUgJiYgbW9kdWxlLmV4cG9ydHMgJiYgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgZ2xvYmFsXHJcbiAgICA/IGdsb2JhbFxyXG4gICAgOiB0aGlzIHx8IHdpbmRvdztcclxuKF9nc1Njb3BlLl9nc1F1ZXVlIHx8IChfZ3NTY29wZS5fZ3NRdWV1ZSA9IFtdKSkucHVzaChmdW5jdGlvbiAoKSB7XHJcbiAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgX2dzU2NvcGUuX2dzRGVmaW5lKFxyXG4gICAgXCJwbHVnaW5zLlRocm93UHJvcHNQbHVnaW5cIixcclxuICAgIFtcclxuICAgICAgXCJwbHVnaW5zLlR3ZWVuUGx1Z2luXCIsXHJcbiAgICAgIFwiVHdlZW5MaXRlXCIsXHJcbiAgICAgIFwiZWFzaW5nLkVhc2VcIixcclxuICAgICAgXCJ1dGlscy5WZWxvY2l0eVRyYWNrZXJcIixcclxuICAgIF0sXHJcbiAgICBmdW5jdGlvbiAociwgUywgYiwgVCkge1xyXG4gICAgICBmdW5jdGlvbiBOKGUsIHQpIHtcclxuICAgICAgICByLmNhbGwodGhpcywgXCJ0aHJvd1Byb3BzXCIpLCAodGhpcy5fb3ZlcndyaXRlUHJvcHMubGVuZ3RoID0gMCk7XHJcbiAgICAgIH1cclxuICAgICAgZnVuY3Rpb24gdShlLCB0LCByLCBvLCBuKSB7XHJcbiAgICAgICAgdmFyIGksXHJcbiAgICAgICAgICBzLFxyXG4gICAgICAgICAgYSxcclxuICAgICAgICAgIGMsXHJcbiAgICAgICAgICB1ID0gdC5sZW5ndGgsXHJcbiAgICAgICAgICBmID0gMCxcclxuICAgICAgICAgIHAgPSBsO1xyXG4gICAgICAgIGlmIChcIm9iamVjdFwiID09IHR5cGVvZiBlKSB7XHJcbiAgICAgICAgICBmb3IgKDsgLTEgPCAtLXU7ICkge1xyXG4gICAgICAgICAgICBmb3IgKGEgaW4gKChpID0gdFt1XSksIChzID0gMCksIGUpKSBzICs9IChjID0gaVthXSAtIGVbYV0pICogYztcclxuICAgICAgICAgICAgcyA8IHAgJiYgKChmID0gdSksIChwID0gcykpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKChuIHx8IGwpIDwgbCAmJiBuIDwgTWF0aC5zcXJ0KHApKSByZXR1cm4gZTtcclxuICAgICAgICB9IGVsc2VcclxuICAgICAgICAgIGZvciAoOyAtMSA8IC0tdTsgKVxyXG4gICAgICAgICAgICAocyA9IChpID0gdFt1XSkgLSBlKSA8IDAgJiYgKHMgPSAtcyksXHJcbiAgICAgICAgICAgICAgcyA8IHAgJiYgbyA8PSBpICYmIGkgPD0gciAmJiAoKGYgPSB1KSwgKHAgPSBzKSk7XHJcbiAgICAgICAgcmV0dXJuIHRbZl07XHJcbiAgICAgIH1cclxuICAgICAgZnVuY3Rpb24gVihlLCB0LCByLCBvLCBuLCBpKSB7XHJcbiAgICAgICAgaWYgKFwiYXV0b1wiID09PSBlLmVuZCkgcmV0dXJuIGU7XHJcbiAgICAgICAgdmFyIHMsXHJcbiAgICAgICAgICBhLFxyXG4gICAgICAgICAgYyA9IGUuZW5kO1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICgociA9IGlzTmFOKHIpID8gbCA6IHIpLFxyXG4gICAgICAgICAgKG8gPSBpc05hTihvKSA/IC1sIDogbyksXHJcbiAgICAgICAgICBcIm9iamVjdFwiID09IHR5cGVvZiB0KVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAoKHMgPVxyXG4gICAgICAgICAgICAgICghdC5jYWxjdWxhdGVkICYmXHJcbiAgICAgICAgICAgICAgICAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBjID8gYyh0KSA6IHUodCwgYywgciwgbywgaSkpKSB8fFxyXG4gICAgICAgICAgICAgIHQpLFxyXG4gICAgICAgICAgICAhdC5jYWxjdWxhdGVkKVxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGZvciAoYSBpbiBzKSB0W2FdID0gc1thXTtcclxuICAgICAgICAgICAgdC5jYWxjdWxhdGVkID0gITA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBzID0gc1tuXTtcclxuICAgICAgICB9IGVsc2VcclxuICAgICAgICAgIHMgPVxyXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGNcclxuICAgICAgICAgICAgICA/IGModClcclxuICAgICAgICAgICAgICA6IGMgaW5zdGFuY2VvZiBBcnJheVxyXG4gICAgICAgICAgICAgID8gdSh0LCBjLCByLCBvLCBpKVxyXG4gICAgICAgICAgICAgIDogTnVtYmVyKGMpO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICByIDwgcyA/IChzID0gcikgOiBzIDwgbyAmJiAocyA9IG8pLFxyXG4gICAgICAgICAgeyBtYXg6IHMsIG1pbjogcywgdW5pdEZhY3RvcjogZS51bml0RmFjdG9yIH1cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICAgIGZ1bmN0aW9uIE8oZSwgdCwgcikge1xyXG4gICAgICAgIGZvciAodmFyIG8gaW4gdCkgdm9pZCAwID09PSBlW29dICYmIG8gIT09IHIgJiYgKGVbb10gPSB0W29dKTtcclxuICAgICAgICByZXR1cm4gZTtcclxuICAgICAgfVxyXG4gICAgICB2YXIgXyxcclxuICAgICAgICB3LFxyXG4gICAgICAgIEMsXHJcbiAgICAgICAgUCxcclxuICAgICAgICBsID0gOTk5OTk5OTk5OTk5OTk5LFxyXG4gICAgICAgIG8gPSBfZ3NTY29wZS5fZ3NEZWZpbmUuZ2xvYmFscyxcclxuICAgICAgICBSID0gITEsXHJcbiAgICAgICAgayA9IHtcclxuICAgICAgICAgIHg6IDEsXHJcbiAgICAgICAgICB5OiAxLFxyXG4gICAgICAgICAgejogMixcclxuICAgICAgICAgIHNjYWxlOiAxLFxyXG4gICAgICAgICAgc2NhbGVYOiAxLFxyXG4gICAgICAgICAgc2NhbGVZOiAxLFxyXG4gICAgICAgICAgcm90YXRpb246IDEsXHJcbiAgICAgICAgICByb3RhdGlvblo6IDEsXHJcbiAgICAgICAgICByb3RhdGlvblg6IDIsXHJcbiAgICAgICAgICByb3RhdGlvblk6IDIsXHJcbiAgICAgICAgICBza2V3WDogMSxcclxuICAgICAgICAgIHNrZXdZOiAxLFxyXG4gICAgICAgICAgeFBlcmNlbnQ6IDEsXHJcbiAgICAgICAgICB5UGVyY2VudDogMSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHggPSBcIlRocm93UHJvcHNQbHVnaW5cIixcclxuICAgICAgICBCID0gU3RyaW5nLmZyb21DaGFyQ29kZShcclxuICAgICAgICAgIDEwMyxcclxuICAgICAgICAgIDExNCxcclxuICAgICAgICAgIDEwMSxcclxuICAgICAgICAgIDEwMSxcclxuICAgICAgICAgIDExMCxcclxuICAgICAgICAgIDExNSxcclxuICAgICAgICAgIDExMSxcclxuICAgICAgICAgIDk5LFxyXG4gICAgICAgICAgMTA3LFxyXG4gICAgICAgICAgNDYsXHJcbiAgICAgICAgICA5OSxcclxuICAgICAgICAgIDExMSxcclxuICAgICAgICAgIDEwOVxyXG4gICAgICAgICksXHJcbiAgICAgICAgaiA9IFN0cmluZy5mcm9tQ2hhckNvZGUoXHJcbiAgICAgICAgICA0NyxcclxuICAgICAgICAgIDExNCxcclxuICAgICAgICAgIDEwMSxcclxuICAgICAgICAgIDExMyxcclxuICAgICAgICAgIDExNyxcclxuICAgICAgICAgIDEwNSxcclxuICAgICAgICAgIDExNCxcclxuICAgICAgICAgIDEwMSxcclxuICAgICAgICAgIDExNSxcclxuICAgICAgICAgIDQ1LFxyXG4gICAgICAgICAgMTA5LFxyXG4gICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgMTA5LFxyXG4gICAgICAgICAgOTgsXHJcbiAgICAgICAgICAxMDEsXHJcbiAgICAgICAgICAxMTQsXHJcbiAgICAgICAgICAxMTUsXHJcbiAgICAgICAgICAxMDQsXHJcbiAgICAgICAgICAxMDUsXHJcbiAgICAgICAgICAxMTIsXHJcbiAgICAgICAgICA0N1xyXG4gICAgICAgICksXHJcbiAgICAgICAgRiA9IChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgZm9yIChcclxuICAgICAgICAgICAgdmFyIHQgPVxyXG4gICAgICAgICAgICAgICAgLTEgIT09XHJcbiAgICAgICAgICAgICAgICAgICh3aW5kb3cgPyB3aW5kb3cubG9jYXRpb24uaHJlZiA6IFwiXCIpLmluZGV4T2YoXHJcbiAgICAgICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZShcclxuICAgICAgICAgICAgICAgICAgICAgIDEwMyxcclxuICAgICAgICAgICAgICAgICAgICAgIDExNCxcclxuICAgICAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgICAgIDExMCxcclxuICAgICAgICAgICAgICAgICAgICAgIDExNSxcclxuICAgICAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgICAgIDk5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgMTA3XHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICApICYmXHJcbiAgICAgICAgICAgICAgICAtMSAhPT1cclxuICAgICAgICAgICAgICAgICAgZS5pbmRleE9mKFxyXG4gICAgICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAxMDgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAxMTEsXHJcbiAgICAgICAgICAgICAgICAgICAgICA5OSxcclxuICAgICAgICAgICAgICAgICAgICAgIDk3LFxyXG4gICAgICAgICAgICAgICAgICAgICAgMTA4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgMTA0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgMTExLFxyXG4gICAgICAgICAgICAgICAgICAgICAgMTE1LFxyXG4gICAgICAgICAgICAgICAgICAgICAgMTE2XHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgIHIgPSBbXHJcbiAgICAgICAgICAgICAgICBCLFxyXG4gICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZShcclxuICAgICAgICAgICAgICAgICAgOTksXHJcbiAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgMTAwLFxyXG4gICAgICAgICAgICAgICAgICAxMDEsXHJcbiAgICAgICAgICAgICAgICAgIDExMixcclxuICAgICAgICAgICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgICAgICAgICAxMTAsXHJcbiAgICAgICAgICAgICAgICAgIDQ2LFxyXG4gICAgICAgICAgICAgICAgICAxMDUsXHJcbiAgICAgICAgICAgICAgICAgIDExMVxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoXHJcbiAgICAgICAgICAgICAgICAgIDk5LFxyXG4gICAgICAgICAgICAgICAgICAxMTEsXHJcbiAgICAgICAgICAgICAgICAgIDEwMCxcclxuICAgICAgICAgICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgICAgICAgICAxMTIsXHJcbiAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgMTEwLFxyXG4gICAgICAgICAgICAgICAgICA0NixcclxuICAgICAgICAgICAgICAgICAgMTEyLFxyXG4gICAgICAgICAgICAgICAgICAxMDgsXHJcbiAgICAgICAgICAgICAgICAgIDExNyxcclxuICAgICAgICAgICAgICAgICAgMTA5LFxyXG4gICAgICAgICAgICAgICAgICA5OCxcclxuICAgICAgICAgICAgICAgICAgMTA1LFxyXG4gICAgICAgICAgICAgICAgICAxMTAsXHJcbiAgICAgICAgICAgICAgICAgIDEwM1xyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoXHJcbiAgICAgICAgICAgICAgICAgIDk5LFxyXG4gICAgICAgICAgICAgICAgICAxMTEsXHJcbiAgICAgICAgICAgICAgICAgIDEwMCxcclxuICAgICAgICAgICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgICAgICAgICAxMTIsXHJcbiAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgMTEwLFxyXG4gICAgICAgICAgICAgICAgICA0NixcclxuICAgICAgICAgICAgICAgICAgMTAwLFxyXG4gICAgICAgICAgICAgICAgICAxMDEsXHJcbiAgICAgICAgICAgICAgICAgIDExOFxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoXHJcbiAgICAgICAgICAgICAgICAgIDk5LFxyXG4gICAgICAgICAgICAgICAgICAxMTEsXHJcbiAgICAgICAgICAgICAgICAgIDEwMCxcclxuICAgICAgICAgICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgICAgICAgICAxMTIsXHJcbiAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgMTEwLFxyXG4gICAgICAgICAgICAgICAgICA0NixcclxuICAgICAgICAgICAgICAgICAgOTcsXHJcbiAgICAgICAgICAgICAgICAgIDExMixcclxuICAgICAgICAgICAgICAgICAgMTEyXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZShcclxuICAgICAgICAgICAgICAgICAgMTEyLFxyXG4gICAgICAgICAgICAgICAgICAxMDEsXHJcbiAgICAgICAgICAgICAgICAgIDExMCxcclxuICAgICAgICAgICAgICAgICAgMTE1LFxyXG4gICAgICAgICAgICAgICAgICA0NixcclxuICAgICAgICAgICAgICAgICAgOTksXHJcbiAgICAgICAgICAgICAgICAgIDEwOCxcclxuICAgICAgICAgICAgICAgICAgMTExLFxyXG4gICAgICAgICAgICAgICAgICAxMTcsXHJcbiAgICAgICAgICAgICAgICAgIDEwMFxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoMTEyLCAxMDEsIDExMCwgMTE1LCA0NiwgMTA1LCAxMTEpLFxyXG4gICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZShcclxuICAgICAgICAgICAgICAgICAgMTA5LFxyXG4gICAgICAgICAgICAgICAgICAxMTEsXHJcbiAgICAgICAgICAgICAgICAgIDExNixcclxuICAgICAgICAgICAgICAgICAgMTA1LFxyXG4gICAgICAgICAgICAgICAgICAxMTEsXHJcbiAgICAgICAgICAgICAgICAgIDExMCxcclxuICAgICAgICAgICAgICAgICAgMTE2LFxyXG4gICAgICAgICAgICAgICAgICAxMTQsXHJcbiAgICAgICAgICAgICAgICAgIDEwNSxcclxuICAgICAgICAgICAgICAgICAgOTksXHJcbiAgICAgICAgICAgICAgICAgIDEwNyxcclxuICAgICAgICAgICAgICAgICAgMTE1LFxyXG4gICAgICAgICAgICAgICAgICA0NixcclxuICAgICAgICAgICAgICAgICAgOTksXHJcbiAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgMTA5XHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZShcclxuICAgICAgICAgICAgICAgICAgOTksXHJcbiAgICAgICAgICAgICAgICAgIDExNSxcclxuICAgICAgICAgICAgICAgICAgMTE1LFxyXG4gICAgICAgICAgICAgICAgICA0NSxcclxuICAgICAgICAgICAgICAgICAgMTE2LFxyXG4gICAgICAgICAgICAgICAgICAxMTQsXHJcbiAgICAgICAgICAgICAgICAgIDEwNSxcclxuICAgICAgICAgICAgICAgICAgOTksXHJcbiAgICAgICAgICAgICAgICAgIDEwNyxcclxuICAgICAgICAgICAgICAgICAgMTE1LFxyXG4gICAgICAgICAgICAgICAgICA0NixcclxuICAgICAgICAgICAgICAgICAgOTksXHJcbiAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgMTA5XHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZSg5OSwgMTAwLCAxMTIsIDExMCwgNDYsIDEwNSwgMTExKSxcclxuICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoMTAzLCA5NywgMTEwLCAxMTAsIDExMSwgMTEwLCA0NiwgMTE2LCAxMTgpLFxyXG4gICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZShcclxuICAgICAgICAgICAgICAgICAgOTksXHJcbiAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgMTAwLFxyXG4gICAgICAgICAgICAgICAgICAxMDEsXHJcbiAgICAgICAgICAgICAgICAgIDk5LFxyXG4gICAgICAgICAgICAgICAgICA5NyxcclxuICAgICAgICAgICAgICAgICAgMTEwLFxyXG4gICAgICAgICAgICAgICAgICAxMjEsXHJcbiAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgMTEwLFxyXG4gICAgICAgICAgICAgICAgICA0NixcclxuICAgICAgICAgICAgICAgICAgMTEwLFxyXG4gICAgICAgICAgICAgICAgICAxMDEsXHJcbiAgICAgICAgICAgICAgICAgIDExNlxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoXHJcbiAgICAgICAgICAgICAgICAgIDExNixcclxuICAgICAgICAgICAgICAgICAgMTA0LFxyXG4gICAgICAgICAgICAgICAgICAxMDEsXHJcbiAgICAgICAgICAgICAgICAgIDEwOSxcclxuICAgICAgICAgICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgICAgICAgICAxMDIsXHJcbiAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgMTE0LFxyXG4gICAgICAgICAgICAgICAgICAxMDEsXHJcbiAgICAgICAgICAgICAgICAgIDExNSxcclxuICAgICAgICAgICAgICAgICAgMTE2LFxyXG4gICAgICAgICAgICAgICAgICA0NixcclxuICAgICAgICAgICAgICAgICAgMTEwLFxyXG4gICAgICAgICAgICAgICAgICAxMDEsXHJcbiAgICAgICAgICAgICAgICAgIDExNlxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoXHJcbiAgICAgICAgICAgICAgICAgIDk5LFxyXG4gICAgICAgICAgICAgICAgICAxMDEsXHJcbiAgICAgICAgICAgICAgICAgIDExNCxcclxuICAgICAgICAgICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgICAgICAgICA5OCxcclxuICAgICAgICAgICAgICAgICAgMTE0LFxyXG4gICAgICAgICAgICAgICAgICA5NyxcclxuICAgICAgICAgICAgICAgICAgMTIwLFxyXG4gICAgICAgICAgICAgICAgICA0NixcclxuICAgICAgICAgICAgICAgICAgOTksXHJcbiAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgNDYsXHJcbiAgICAgICAgICAgICAgICAgIDExNyxcclxuICAgICAgICAgICAgICAgICAgMTA3XHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZShcclxuICAgICAgICAgICAgICAgICAgMTE2LFxyXG4gICAgICAgICAgICAgICAgICAxMjEsXHJcbiAgICAgICAgICAgICAgICAgIDEwOSxcclxuICAgICAgICAgICAgICAgICAgMTEyLFxyXG4gICAgICAgICAgICAgICAgICA5NyxcclxuICAgICAgICAgICAgICAgICAgMTEwLFxyXG4gICAgICAgICAgICAgICAgICAxMTcsXHJcbiAgICAgICAgICAgICAgICAgIDExNSxcclxuICAgICAgICAgICAgICAgICAgNDYsXHJcbiAgICAgICAgICAgICAgICAgIDExMCxcclxuICAgICAgICAgICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgICAgICAgICAxMTZcclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKFxyXG4gICAgICAgICAgICAgICAgICAxMTYsXHJcbiAgICAgICAgICAgICAgICAgIDExOSxcclxuICAgICAgICAgICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgICAgICAgICAxMDEsXHJcbiAgICAgICAgICAgICAgICAgIDExMCxcclxuICAgICAgICAgICAgICAgICAgMTA5LFxyXG4gICAgICAgICAgICAgICAgICA5NyxcclxuICAgICAgICAgICAgICAgICAgMTIwLFxyXG4gICAgICAgICAgICAgICAgICA0NixcclxuICAgICAgICAgICAgICAgICAgOTksXHJcbiAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgMTA5XHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZShcclxuICAgICAgICAgICAgICAgICAgMTE2LFxyXG4gICAgICAgICAgICAgICAgICAxMTksXHJcbiAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgICAgICAgICAxMTAsXHJcbiAgICAgICAgICAgICAgICAgIDEwOCxcclxuICAgICAgICAgICAgICAgICAgMTA1LFxyXG4gICAgICAgICAgICAgICAgICAxMTYsXHJcbiAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgNDYsXHJcbiAgICAgICAgICAgICAgICAgIDk5LFxyXG4gICAgICAgICAgICAgICAgICAxMTEsXHJcbiAgICAgICAgICAgICAgICAgIDEwOVxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoMTEyLCAxMDgsIDExMCwgMTA3LCAxMTQsIDQ2LCA5OSwgMTExKSxcclxuICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoXHJcbiAgICAgICAgICAgICAgICAgIDEwNCxcclxuICAgICAgICAgICAgICAgICAgMTExLFxyXG4gICAgICAgICAgICAgICAgICAxMTYsXHJcbiAgICAgICAgICAgICAgICAgIDEwNixcclxuICAgICAgICAgICAgICAgICAgOTcsXHJcbiAgICAgICAgICAgICAgICAgIDExNCxcclxuICAgICAgICAgICAgICAgICAgNDYsXHJcbiAgICAgICAgICAgICAgICAgIDk5LFxyXG4gICAgICAgICAgICAgICAgICAxMTEsXHJcbiAgICAgICAgICAgICAgICAgIDEwOVxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoXHJcbiAgICAgICAgICAgICAgICAgIDExOSxcclxuICAgICAgICAgICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgICAgICAgICA5OCxcclxuICAgICAgICAgICAgICAgICAgMTEyLFxyXG4gICAgICAgICAgICAgICAgICA5NyxcclxuICAgICAgICAgICAgICAgICAgOTksXHJcbiAgICAgICAgICAgICAgICAgIDEwNyxcclxuICAgICAgICAgICAgICAgICAgOTgsXHJcbiAgICAgICAgICAgICAgICAgIDEwNSxcclxuICAgICAgICAgICAgICAgICAgMTEwLFxyXG4gICAgICAgICAgICAgICAgICA0NixcclxuICAgICAgICAgICAgICAgICAgOTksXHJcbiAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgMTA5XHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZShcclxuICAgICAgICAgICAgICAgICAgOTcsXHJcbiAgICAgICAgICAgICAgICAgIDExNCxcclxuICAgICAgICAgICAgICAgICAgOTksXHJcbiAgICAgICAgICAgICAgICAgIDEwNCxcclxuICAgICAgICAgICAgICAgICAgMTA1LFxyXG4gICAgICAgICAgICAgICAgICAxMTgsXHJcbiAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgNDYsXHJcbiAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgMTE0LFxyXG4gICAgICAgICAgICAgICAgICAxMDNcclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKFxyXG4gICAgICAgICAgICAgICAgICA5OSxcclxuICAgICAgICAgICAgICAgICAgMTExLFxyXG4gICAgICAgICAgICAgICAgICAxMDAsXHJcbiAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgMTE1LFxyXG4gICAgICAgICAgICAgICAgICA5NyxcclxuICAgICAgICAgICAgICAgICAgMTEwLFxyXG4gICAgICAgICAgICAgICAgICAxMDAsXHJcbiAgICAgICAgICAgICAgICAgIDk4LFxyXG4gICAgICAgICAgICAgICAgICAxMTEsXHJcbiAgICAgICAgICAgICAgICAgIDEyMCxcclxuICAgICAgICAgICAgICAgICAgNDYsXHJcbiAgICAgICAgICAgICAgICAgIDEwNSxcclxuICAgICAgICAgICAgICAgICAgMTExXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZShcclxuICAgICAgICAgICAgICAgICAgMTE1LFxyXG4gICAgICAgICAgICAgICAgICAxMTYsXHJcbiAgICAgICAgICAgICAgICAgIDk3LFxyXG4gICAgICAgICAgICAgICAgICA5OSxcclxuICAgICAgICAgICAgICAgICAgMTA3LFxyXG4gICAgICAgICAgICAgICAgICA5OCxcclxuICAgICAgICAgICAgICAgICAgMTA4LFxyXG4gICAgICAgICAgICAgICAgICAxMDUsXHJcbiAgICAgICAgICAgICAgICAgIDExNixcclxuICAgICAgICAgICAgICAgICAgMTIyLFxyXG4gICAgICAgICAgICAgICAgICA0NixcclxuICAgICAgICAgICAgICAgICAgOTksXHJcbiAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgMTA5XHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZSg5OSwgMTExLCAxMDAsIDEwNSwgMTAxLCAxMTQsIDQ2LCAxMDUsIDExMSksXHJcbiAgICAgICAgICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKFxyXG4gICAgICAgICAgICAgICAgICAxMDYsXHJcbiAgICAgICAgICAgICAgICAgIDExNSxcclxuICAgICAgICAgICAgICAgICAgMTAyLFxyXG4gICAgICAgICAgICAgICAgICAxMDUsXHJcbiAgICAgICAgICAgICAgICAgIDEwMCxcclxuICAgICAgICAgICAgICAgICAgMTAwLFxyXG4gICAgICAgICAgICAgICAgICAxMDgsXHJcbiAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgNDYsXHJcbiAgICAgICAgICAgICAgICAgIDExMCxcclxuICAgICAgICAgICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgICAgICAgICAxMTZcclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICBvID0gci5sZW5ndGg7XHJcbiAgICAgICAgICAgIC0xIDwgLS1vO1xyXG5cclxuICAgICAgICAgIClcclxuICAgICAgICAgICAgaWYgKC0xICE9PSBlLmluZGV4T2YocltvXSkpIHJldHVybiAhMDtcclxuICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIHQgJiZcclxuICAgICAgICAgICAgICB3aW5kb3cgJiZcclxuICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZSAmJlxyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZShcclxuICAgICAgICAgICAgICAgICAgODcsXHJcbiAgICAgICAgICAgICAgICAgIDY1LFxyXG4gICAgICAgICAgICAgICAgICA4MixcclxuICAgICAgICAgICAgICAgICAgNzgsXHJcbiAgICAgICAgICAgICAgICAgIDczLFxyXG4gICAgICAgICAgICAgICAgICA3OCxcclxuICAgICAgICAgICAgICAgICAgNzEsXHJcbiAgICAgICAgICAgICAgICAgIDU4LFxyXG4gICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgOTcsXHJcbiAgICAgICAgICAgICAgICAgIDMyLFxyXG4gICAgICAgICAgICAgICAgICAxMTUsXHJcbiAgICAgICAgICAgICAgICAgIDExMixcclxuICAgICAgICAgICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgICAgICAgICA5OSxcclxuICAgICAgICAgICAgICAgICAgMTA1LFxyXG4gICAgICAgICAgICAgICAgICA5NyxcclxuICAgICAgICAgICAgICAgICAgMTA4LFxyXG4gICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgMTE4LFxyXG4gICAgICAgICAgICAgICAgICAxMDEsXHJcbiAgICAgICAgICAgICAgICAgIDExNCxcclxuICAgICAgICAgICAgICAgICAgMTE1LFxyXG4gICAgICAgICAgICAgICAgICAxMDUsXHJcbiAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgMTEwLFxyXG4gICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgMTExLFxyXG4gICAgICAgICAgICAgICAgICAxMDIsXHJcbiAgICAgICAgICAgICAgICAgIDMyXHJcbiAgICAgICAgICAgICAgICApICtcclxuICAgICAgICAgICAgICAgICAgeCArXHJcbiAgICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgMTA1LFxyXG4gICAgICAgICAgICAgICAgICAgIDExNSxcclxuICAgICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgICAxMTQsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE3LFxyXG4gICAgICAgICAgICAgICAgICAgIDExMCxcclxuICAgICAgICAgICAgICAgICAgICAxMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgMTA1LFxyXG4gICAgICAgICAgICAgICAgICAgIDExMCxcclxuICAgICAgICAgICAgICAgICAgICAxMDMsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgMTA4LFxyXG4gICAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgICA5OSxcclxuICAgICAgICAgICAgICAgICAgICA5NyxcclxuICAgICAgICAgICAgICAgICAgICAxMDgsXHJcbiAgICAgICAgICAgICAgICAgICAgMTA4LFxyXG4gICAgICAgICAgICAgICAgICAgIDEyMSxcclxuICAgICAgICAgICAgICAgICAgICA0NCxcclxuICAgICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgICA5OCxcclxuICAgICAgICAgICAgICAgICAgICAxMTcsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE2LFxyXG4gICAgICAgICAgICAgICAgICAgIDMyLFxyXG4gICAgICAgICAgICAgICAgICAgIDEwNSxcclxuICAgICAgICAgICAgICAgICAgICAxMTYsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE5LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwNSxcclxuICAgICAgICAgICAgICAgICAgICAxMDgsXHJcbiAgICAgICAgICAgICAgICAgICAgMTA4LFxyXG4gICAgICAgICAgICAgICAgICAgIDMyLFxyXG4gICAgICAgICAgICAgICAgICAgIDExMCxcclxuICAgICAgICAgICAgICAgICAgICAxMTEsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE2LFxyXG4gICAgICAgICAgICAgICAgICAgIDMyLFxyXG4gICAgICAgICAgICAgICAgICAgIDExOSxcclxuICAgICAgICAgICAgICAgICAgICAxMTEsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE0LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwNyxcclxuICAgICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgICAxMTEsXHJcbiAgICAgICAgICAgICAgICAgICAgMTEwLFxyXG4gICAgICAgICAgICAgICAgICAgIDMyLFxyXG4gICAgICAgICAgICAgICAgICAgIDk3LFxyXG4gICAgICAgICAgICAgICAgICAgIDMyLFxyXG4gICAgICAgICAgICAgICAgICAgIDEwOCxcclxuICAgICAgICAgICAgICAgICAgICAxMDUsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE4LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgICAxMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgMTExLFxyXG4gICAgICAgICAgICAgICAgICAgIDEwOSxcclxuICAgICAgICAgICAgICAgICAgICA5NyxcclxuICAgICAgICAgICAgICAgICAgICAxMDUsXHJcbiAgICAgICAgICAgICAgICAgICAgMTEwLFxyXG4gICAgICAgICAgICAgICAgICAgIDMyLFxyXG4gICAgICAgICAgICAgICAgICAgIDk4LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgICA5OSxcclxuICAgICAgICAgICAgICAgICAgICA5NyxcclxuICAgICAgICAgICAgICAgICAgICAxMTcsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE1LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgICAxMDUsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE2LFxyXG4gICAgICAgICAgICAgICAgICAgIDMyLFxyXG4gICAgICAgICAgICAgICAgICAgIDEwNSxcclxuICAgICAgICAgICAgICAgICAgICAxMTUsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgOTcsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgMTA5LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgICAxMDksXHJcbiAgICAgICAgICAgICAgICAgICAgOTgsXHJcbiAgICAgICAgICAgICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgICAgICAgICAgIDExNCxcclxuICAgICAgICAgICAgICAgICAgICAxMTUsXHJcbiAgICAgICAgICAgICAgICAgICAgMTA0LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwNSxcclxuICAgICAgICAgICAgICAgICAgICAxMTIsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgOTgsXHJcbiAgICAgICAgICAgICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgICAgICAgICAgIDExMCxcclxuICAgICAgICAgICAgICAgICAgICAxMDEsXHJcbiAgICAgICAgICAgICAgICAgICAgMTAyLFxyXG4gICAgICAgICAgICAgICAgICAgIDEwNSxcclxuICAgICAgICAgICAgICAgICAgICAxMTYsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgMTExLFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMixcclxuICAgICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgICA2NyxcclxuICAgICAgICAgICAgICAgICAgICAxMDgsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE3LFxyXG4gICAgICAgICAgICAgICAgICAgIDk4LFxyXG4gICAgICAgICAgICAgICAgICAgIDMyLFxyXG4gICAgICAgICAgICAgICAgICAgIDcxLFxyXG4gICAgICAgICAgICAgICAgICAgIDExNCxcclxuICAgICAgICAgICAgICAgICAgICAxMDEsXHJcbiAgICAgICAgICAgICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgICAgICAgICAgIDExMCxcclxuICAgICAgICAgICAgICAgICAgICA4MyxcclxuICAgICAgICAgICAgICAgICAgICAxMTEsXHJcbiAgICAgICAgICAgICAgICAgICAgOTksXHJcbiAgICAgICAgICAgICAgICAgICAgMTA3LFxyXG4gICAgICAgICAgICAgICAgICAgIDQ2LFxyXG4gICAgICAgICAgICAgICAgICAgIDMyLFxyXG4gICAgICAgICAgICAgICAgICAgIDgwLFxyXG4gICAgICAgICAgICAgICAgICAgIDEwOCxcclxuICAgICAgICAgICAgICAgICAgICAxMDEsXHJcbiAgICAgICAgICAgICAgICAgICAgOTcsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE1LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgICAxMTUsXHJcbiAgICAgICAgICAgICAgICAgICAgMTA1LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMyxcclxuICAgICAgICAgICAgICAgICAgICAxMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE3LFxyXG4gICAgICAgICAgICAgICAgICAgIDExMixcclxuICAgICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgICA5NyxcclxuICAgICAgICAgICAgICAgICAgICAxMTYsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgMTA0LFxyXG4gICAgICAgICAgICAgICAgICAgIDExNixcclxuICAgICAgICAgICAgICAgICAgICAxMTYsXHJcbiAgICAgICAgICAgICAgICAgICAgMTEyLFxyXG4gICAgICAgICAgICAgICAgICAgIDU4LFxyXG4gICAgICAgICAgICAgICAgICAgIDQ3LFxyXG4gICAgICAgICAgICAgICAgICAgIDQ3LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMyxcclxuICAgICAgICAgICAgICAgICAgICAxMTQsXHJcbiAgICAgICAgICAgICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgICAxMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE1LFxyXG4gICAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgICA5OSxcclxuICAgICAgICAgICAgICAgICAgICAxMDcsXHJcbiAgICAgICAgICAgICAgICAgICAgNDYsXHJcbiAgICAgICAgICAgICAgICAgICAgOTksXHJcbiAgICAgICAgICAgICAgICAgICAgMTExLFxyXG4gICAgICAgICAgICAgICAgICAgIDEwOSxcclxuICAgICAgICAgICAgICAgICAgICA0NyxcclxuICAgICAgICAgICAgICAgICAgICA5OSxcclxuICAgICAgICAgICAgICAgICAgICAxMDgsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE3LFxyXG4gICAgICAgICAgICAgICAgICAgIDk4LFxyXG4gICAgICAgICAgICAgICAgICAgIDQ3LFxyXG4gICAgICAgICAgICAgICAgICAgIDMyLFxyXG4gICAgICAgICAgICAgICAgICAgIDk3LFxyXG4gICAgICAgICAgICAgICAgICAgIDExMCxcclxuICAgICAgICAgICAgICAgICAgICAxMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE2LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwNCxcclxuICAgICAgICAgICAgICAgICAgICAxMDEsXHJcbiAgICAgICAgICAgICAgICAgICAgMTEwLFxyXG4gICAgICAgICAgICAgICAgICAgIDMyLFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMCxcclxuICAgICAgICAgICAgICAgICAgICAxMTEsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE5LFxyXG4gICAgICAgICAgICAgICAgICAgIDExMCxcclxuICAgICAgICAgICAgICAgICAgICAxMDgsXHJcbiAgICAgICAgICAgICAgICAgICAgMTExLFxyXG4gICAgICAgICAgICAgICAgICAgIDk3LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMCxcclxuICAgICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgICAxMTYsXHJcbiAgICAgICAgICAgICAgICAgICAgMTA0LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgICAzOSxcclxuICAgICAgICAgICAgICAgICAgICAxMTQsXHJcbiAgICAgICAgICAgICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgICAgICAgICAgIDk3LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwOCxcclxuICAgICAgICAgICAgICAgICAgICAzOSxcclxuICAgICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgICAxMTgsXHJcbiAgICAgICAgICAgICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgICAgICAgICAgIDExNCxcclxuICAgICAgICAgICAgICAgICAgICAxMTUsXHJcbiAgICAgICAgICAgICAgICAgICAgMTA1LFxyXG4gICAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgICAxMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgMTAyLFxyXG4gICAgICAgICAgICAgICAgICAgIDExNCxcclxuICAgICAgICAgICAgICAgICAgICAxMTEsXHJcbiAgICAgICAgICAgICAgICAgICAgMTA5LFxyXG4gICAgICAgICAgICAgICAgICAgIDMyLFxyXG4gICAgICAgICAgICAgICAgICAgIDEyMSxcclxuICAgICAgICAgICAgICAgICAgICAxMTEsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE3LFxyXG4gICAgICAgICAgICAgICAgICAgIDExNCxcclxuICAgICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgICA3MSxcclxuICAgICAgICAgICAgICAgICAgICAxMTQsXHJcbiAgICAgICAgICAgICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgICAxMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgODMsXHJcbiAgICAgICAgICAgICAgICAgICAgMTExLFxyXG4gICAgICAgICAgICAgICAgICAgIDk5LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwNyxcclxuICAgICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgICA5NyxcclxuICAgICAgICAgICAgICAgICAgICA5OSxcclxuICAgICAgICAgICAgICAgICAgICA5OSxcclxuICAgICAgICAgICAgICAgICAgICAxMTEsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE3LFxyXG4gICAgICAgICAgICAgICAgICAgIDExMCxcclxuICAgICAgICAgICAgICAgICAgICAxMTYsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE5LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwNCxcclxuICAgICAgICAgICAgICAgICAgICAxMDUsXHJcbiAgICAgICAgICAgICAgICAgICAgOTksXHJcbiAgICAgICAgICAgICAgICAgICAgMTA0LFxyXG4gICAgICAgICAgICAgICAgICAgIDMyLFxyXG4gICAgICAgICAgICAgICAgICAgIDEwNCxcclxuICAgICAgICAgICAgICAgICAgICA5NyxcclxuICAgICAgICAgICAgICAgICAgICAxMTUsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgMTEwLFxyXG4gICAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgICAxMTUsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE3LFxyXG4gICAgICAgICAgICAgICAgICAgIDk5LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwNCxcclxuICAgICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgICAxMDgsXHJcbiAgICAgICAgICAgICAgICAgICAgMTA1LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwOSxcclxuICAgICAgICAgICAgICAgICAgICAxMDUsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE2LFxyXG4gICAgICAgICAgICAgICAgICAgIDk3LFxyXG4gICAgICAgICAgICAgICAgICAgIDExNixcclxuICAgICAgICAgICAgICAgICAgICAxMDUsXHJcbiAgICAgICAgICAgICAgICAgICAgMTExLFxyXG4gICAgICAgICAgICAgICAgICAgIDExMCxcclxuICAgICAgICAgICAgICAgICAgICAxMTUsXHJcbiAgICAgICAgICAgICAgICAgICAgNDYsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgODQsXHJcbiAgICAgICAgICAgICAgICAgICAgMTA0LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgICAxMDIsXHJcbiAgICAgICAgICAgICAgICAgICAgMTA1LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwOCxcclxuICAgICAgICAgICAgICAgICAgICAxMDEsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgMTIxLFxyXG4gICAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgICAxMTcsXHJcbiAgICAgICAgICAgICAgICAgICAgMzksXHJcbiAgICAgICAgICAgICAgICAgICAgMTE0LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgICAxMTcsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE1LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwNSxcclxuICAgICAgICAgICAgICAgICAgICAxMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgMTAzLFxyXG4gICAgICAgICAgICAgICAgICAgIDMyLFxyXG4gICAgICAgICAgICAgICAgICAgIDExOSxcclxuICAgICAgICAgICAgICAgICAgICA5NyxcclxuICAgICAgICAgICAgICAgICAgICAxMTUsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgMTA4LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwNSxcclxuICAgICAgICAgICAgICAgICAgICAxMDcsXHJcbiAgICAgICAgICAgICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgICAgICAgICAgIDEwOCxcclxuICAgICAgICAgICAgICAgICAgICAxMjEsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgMTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgICAxMTksXHJcbiAgICAgICAgICAgICAgICAgICAgMTEwLFxyXG4gICAgICAgICAgICAgICAgICAgIDEwOCxcclxuICAgICAgICAgICAgICAgICAgICAxMTEsXHJcbiAgICAgICAgICAgICAgICAgICAgOTcsXHJcbiAgICAgICAgICAgICAgICAgICAgMTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgICAxMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgMTAyLFxyXG4gICAgICAgICAgICAgICAgICAgIDExNCxcclxuICAgICAgICAgICAgICAgICAgICAxMTEsXHJcbiAgICAgICAgICAgICAgICAgICAgMTA5LFxyXG4gICAgICAgICAgICAgICAgICAgIDMyLFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgICAxMDgsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE1LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgICAxMTksXHJcbiAgICAgICAgICAgICAgICAgICAgMTA0LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgICAxMTQsXHJcbiAgICAgICAgICAgICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgICAgICAgICAgIDMyLFxyXG4gICAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgICAxMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE2LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwNCxcclxuICAgICAgICAgICAgICAgICAgICAxMDEsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE5LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgICA5OCxcclxuICAgICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgICA5NyxcclxuICAgICAgICAgICAgICAgICAgICAxMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgMTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIDMyLFxyXG4gICAgICAgICAgICAgICAgICAgIDEwNSxcclxuICAgICAgICAgICAgICAgICAgICAxMTUsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE0LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgICAxMTUsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE2LFxyXG4gICAgICAgICAgICAgICAgICAgIDExNCxcclxuICAgICAgICAgICAgICAgICAgICAxMDUsXHJcbiAgICAgICAgICAgICAgICAgICAgOTksXHJcbiAgICAgICAgICAgICAgICAgICAgMTE2LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgICAxMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE2LFxyXG4gICAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgICAxMDgsXHJcbiAgICAgICAgICAgICAgICAgICAgMTExLFxyXG4gICAgICAgICAgICAgICAgICAgIDk5LFxyXG4gICAgICAgICAgICAgICAgICAgIDk3LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwOCxcclxuICAgICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgICAxMTcsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE1LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgICAxMTEsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE0LFxyXG4gICAgICAgICAgICAgICAgICAgIDMyLFxyXG4gICAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgICAxMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgMTE1LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwNSxcclxuICAgICAgICAgICAgICAgICAgICAxMTYsXHJcbiAgICAgICAgICAgICAgICAgICAgMTAxLFxyXG4gICAgICAgICAgICAgICAgICAgIDExNSxcclxuICAgICAgICAgICAgICAgICAgICAzMixcclxuICAgICAgICAgICAgICAgICAgICAxMDgsXHJcbiAgICAgICAgICAgICAgICAgICAgMTA1LFxyXG4gICAgICAgICAgICAgICAgICAgIDEwNyxcclxuICAgICAgICAgICAgICAgICAgICAxMDEsXHJcbiAgICAgICAgICAgICAgICAgICAgMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgOTksXHJcbiAgICAgICAgICAgICAgICAgICAgMTExLFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMCxcclxuICAgICAgICAgICAgICAgICAgICAxMDEsXHJcbiAgICAgICAgICAgICAgICAgICAgMTEyLFxyXG4gICAgICAgICAgICAgICAgICAgIDEwMSxcclxuICAgICAgICAgICAgICAgICAgICAxMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgNDYsXHJcbiAgICAgICAgICAgICAgICAgICAgMTA1LFxyXG4gICAgICAgICAgICAgICAgICAgIDExMSxcclxuICAgICAgICAgICAgICAgICAgICA0NlxyXG4gICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgdFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9KSh3aW5kb3cgPyB3aW5kb3cubG9jYXRpb24uaG9zdCA6IFwiXCIpLFxyXG4gICAgICAgIEQgPSAoTi5jYWxjdWxhdGVDaGFuZ2UgPSBmdW5jdGlvbiAoZSwgdCwgciwgbykge1xyXG4gICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgbnVsbCA9PSBvICYmIChvID0gMC4wNSksXHJcbiAgICAgICAgICAgIChyICogbyAqIGUpIC9cclxuICAgICAgICAgICAgICAodCBpbnN0YW5jZW9mIGIgPyB0IDogdCA/IG5ldyBiKHQpIDogUy5kZWZhdWx0RWFzZSkuZ2V0UmF0aW8obylcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgRSA9IChOLmNhbGN1bGF0ZUR1cmF0aW9uID0gZnVuY3Rpb24gKGUsIHQsIHIsIG8sIG4pIHtcclxuICAgICAgICAgIG4gPSBuIHx8IDAuMDU7XHJcbiAgICAgICAgICB2YXIgaSA9IG8gaW5zdGFuY2VvZiBiID8gbyA6IG8gPyBuZXcgYihvKSA6IFMuZGVmYXVsdEVhc2U7XHJcbiAgICAgICAgICByZXR1cm4gTWF0aC5hYnMoKCh0IC0gZSkgKiBpLmdldFJhdGlvKG4pKSAvIHIgLyBuKTtcclxuICAgICAgICB9KSxcclxuICAgICAgICBzID0gKE4uY2FsY3VsYXRlVHdlZW5EdXJhdGlvbiA9IGZ1bmN0aW9uIChlLCB0LCByLCBvLCBuLCBpKSB7XHJcbiAgICAgICAgICBpZiAoKFwic3RyaW5nXCIgPT0gdHlwZW9mIGUgJiYgKGUgPSBTLnNlbGVjdG9yKGUpKSwgIWUpKSByZXR1cm4gMDtcclxuICAgICAgICAgIG51bGwgPT0gciAmJiAociA9IDEwKSxcclxuICAgICAgICAgICAgbnVsbCA9PSBvICYmIChvID0gMC4yKSxcclxuICAgICAgICAgICAgbnVsbCA9PSBuICYmIChuID0gMSksXHJcbiAgICAgICAgICAgIGUubGVuZ3RoICYmIChlID0gZVswXSB8fCBlKTtcclxuICAgICAgICAgIHZhciBzLFxyXG4gICAgICAgICAgICBhLFxyXG4gICAgICAgICAgICBjLFxyXG4gICAgICAgICAgICB1LFxyXG4gICAgICAgICAgICBmLFxyXG4gICAgICAgICAgICBwLFxyXG4gICAgICAgICAgICBsLFxyXG4gICAgICAgICAgICBnLFxyXG4gICAgICAgICAgICBkLFxyXG4gICAgICAgICAgICBoLFxyXG4gICAgICAgICAgICB2LFxyXG4gICAgICAgICAgICBtLFxyXG4gICAgICAgICAgICB5LFxyXG4gICAgICAgICAgICBfID0gMCxcclxuICAgICAgICAgICAgdyA9IDk5OTk5OTk5OTksXHJcbiAgICAgICAgICAgIEMgPSB0LnRocm93UHJvcHMgfHwgdCxcclxuICAgICAgICAgICAgUCA9XHJcbiAgICAgICAgICAgICAgdC5lYXNlIGluc3RhbmNlb2YgYlxyXG4gICAgICAgICAgICAgICAgPyB0LmVhc2VcclxuICAgICAgICAgICAgICAgIDogdC5lYXNlXHJcbiAgICAgICAgICAgICAgICA/IG5ldyBiKHQuZWFzZSlcclxuICAgICAgICAgICAgICAgIDogUy5kZWZhdWx0RWFzZSxcclxuICAgICAgICAgICAgayA9IGlzTmFOKEMuY2hlY2twb2ludCkgPyAwLjA1IDogTnVtYmVyKEMuY2hlY2twb2ludCksXHJcbiAgICAgICAgICAgIHggPSBpc05hTihDLnJlc2lzdGFuY2UpXHJcbiAgICAgICAgICAgICAgPyBOLmRlZmF1bHRSZXNpc3RhbmNlXHJcbiAgICAgICAgICAgICAgOiBOdW1iZXIoQy5yZXNpc3RhbmNlKTtcclxuICAgICAgICAgIGlmIChDLmxpbmtlZFByb3BzKVxyXG4gICAgICAgICAgICBmb3IgKG0gPSBDLmxpbmtlZFByb3BzLnNwbGl0KFwiLFwiKSwgdiA9IHt9LCB5ID0gMDsgeSA8IG0ubGVuZ3RoOyB5KyspXHJcbiAgICAgICAgICAgICAgKGEgPSBDWyhzID0gbVt5XSldKSAmJlxyXG4gICAgICAgICAgICAgICAgKChjID1cclxuICAgICAgICAgICAgICAgICAgMCA8XHJcbiAgICAgICAgICAgICAgICAgICh1ID1cclxuICAgICAgICAgICAgICAgICAgICB2b2lkIDAgIT09IGEudmVsb2NpdHkgJiYgXCJudW1iZXJcIiA9PSB0eXBlb2YgYS52ZWxvY2l0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgPyBOdW1iZXIoYS52ZWxvY2l0eSkgfHwgMFxyXG4gICAgICAgICAgICAgICAgICAgICAgOiAoZCA9IGQgfHwgVC5nZXRCeVRhcmdldChlKSkgJiYgZC5pc1RyYWNraW5nUHJvcChzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgPyBkLmdldFZlbG9jaXR5KHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICA6IDApICpcclxuICAgICAgICAgICAgICAgICAgICAoZiA9IGlzTmFOKGEucmVzaXN0YW5jZSkgPyB4IDogTnVtYmVyKGEucmVzaXN0YW5jZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgPyB1IC8gZlxyXG4gICAgICAgICAgICAgICAgICAgIDogdSAvIC1mKSxcclxuICAgICAgICAgICAgICAgIChwID1cclxuICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09IHR5cGVvZiBlW3NdXHJcbiAgICAgICAgICAgICAgICAgICAgPyBlW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzLmluZGV4T2YoXCJzZXRcIikgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9IHR5cGVvZiBlW1wiZ2V0XCIgKyBzLnN1YnN0cigzKV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiZ2V0XCIgKyBzLnN1YnN0cigzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgXSgpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBlW3NdIHx8IDApLFxyXG4gICAgICAgICAgICAgICAgKHZbc10gPSBwICsgRCh1LCBQLCBjLCBrKSkpO1xyXG4gICAgICAgICAgZm9yIChzIGluIEMpXHJcbiAgICAgICAgICAgIFwicmVzaXN0YW5jZVwiICE9PSBzICYmXHJcbiAgICAgICAgICAgICAgXCJjaGVja3BvaW50XCIgIT09IHMgJiZcclxuICAgICAgICAgICAgICBcInByZXZlbnRPdmVyc2hvb3RcIiAhPT0gcyAmJlxyXG4gICAgICAgICAgICAgIFwibGlua2VkUHJvcHNcIiAhPT0gcyAmJlxyXG4gICAgICAgICAgICAgIFwicmFkaXVzXCIgIT09IHMgJiZcclxuICAgICAgICAgICAgICAoXCJvYmplY3RcIiAhPSB0eXBlb2YgKGEgPSBDW3NdKSAmJlxyXG4gICAgICAgICAgICAgICAgKChkID0gZCB8fCBULmdldEJ5VGFyZ2V0KGUpKSAmJiBkLmlzVHJhY2tpbmdQcm9wKHMpXHJcbiAgICAgICAgICAgICAgICAgID8gKGEgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJudW1iZXJcIiA9PSB0eXBlb2YgYVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHsgdmVsb2NpdHk6IGEgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHsgdmVsb2NpdHk6IGQuZ2V0VmVsb2NpdHkocykgfSlcclxuICAgICAgICAgICAgICAgICAgOiAoYyA9IDAgPCAodSA9IE51bWJlcihhKSB8fCAwKSAqIHggPyB1IC8geCA6IHUgLyAteCkpLFxyXG4gICAgICAgICAgICAgIFwib2JqZWN0XCIgPT0gdHlwZW9mIGEgJiZcclxuICAgICAgICAgICAgICAgICgoYyA9XHJcbiAgICAgICAgICAgICAgICAgIDAgPFxyXG4gICAgICAgICAgICAgICAgICAodSA9XHJcbiAgICAgICAgICAgICAgICAgICAgdm9pZCAwICE9PSBhLnZlbG9jaXR5ICYmIFwibnVtYmVyXCIgPT0gdHlwZW9mIGEudmVsb2NpdHlcclxuICAgICAgICAgICAgICAgICAgICAgID8gTnVtYmVyKGEudmVsb2NpdHkpIHx8IDBcclxuICAgICAgICAgICAgICAgICAgICAgIDogKGQgPSBkIHx8IFQuZ2V0QnlUYXJnZXQoZSkpICYmIGQuaXNUcmFja2luZ1Byb3AocylcclxuICAgICAgICAgICAgICAgICAgICAgID8gZC5nZXRWZWxvY2l0eShzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgOiAwKSAqXHJcbiAgICAgICAgICAgICAgICAgICAgKGYgPSBpc05hTihhLnJlc2lzdGFuY2UpID8geCA6IE51bWJlcihhLnJlc2lzdGFuY2UpKVxyXG4gICAgICAgICAgICAgICAgICAgID8gdSAvIGZcclxuICAgICAgICAgICAgICAgICAgICA6IHUgLyAtZiksXHJcbiAgICAgICAgICAgICAgICAobCA9XHJcbiAgICAgICAgICAgICAgICAgIChwID1cclxuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGVbc11cclxuICAgICAgICAgICAgICAgICAgICAgID8gZVtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzLmluZGV4T2YoXCJzZXRcIikgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGVbXCJnZXRcIiArIHMuc3Vic3RyKDMpXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiZ2V0XCIgKyBzLnN1YnN0cigzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdKClcclxuICAgICAgICAgICAgICAgICAgICAgIDogZVtzXSB8fCAwKSArIEQodSwgUCwgYywgaykpLFxyXG4gICAgICAgICAgICAgICAgdm9pZCAwICE9PSBhLmVuZCAmJlxyXG4gICAgICAgICAgICAgICAgICAoKGEgPSBWKGEsIHYgJiYgcyBpbiB2ID8gdiA6IGwsIGEubWF4LCBhLm1pbiwgcywgQy5yYWRpdXMpKSxcclxuICAgICAgICAgICAgICAgICAgKGkgfHwgUikgJiYgKENbc10gPSBPKGEsIENbc10sIFwiZW5kXCIpKSksXHJcbiAgICAgICAgICAgICAgICB2b2lkIDAgIT09IGEubWF4ICYmIGwgPiBOdW1iZXIoYS5tYXgpICsgMWUtMTBcclxuICAgICAgICAgICAgICAgICAgPyAoKGggPSBhLnVuaXRGYWN0b3IgfHwgTi5kZWZhdWx0VW5pdEZhY3RvcnNbc10gfHwgMSksXHJcbiAgICAgICAgICAgICAgICAgICAgKGcgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgKHAgPiBhLm1heCAmJiBhLm1pbiAhPT0gYS5tYXgpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAoLTE1IDwgdSAqIGggJiYgdSAqIGggPCA0NSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBvICsgMC4xICogKHIgLSBvKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IEUocCwgYS5tYXgsIHUsIFAsIGspKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICBuIDxcclxuICAgICAgICAgICAgICAgICAgICAgIHcgJiYgKHcgPSBnICsgbikpXHJcbiAgICAgICAgICAgICAgICAgIDogdm9pZCAwICE9PSBhLm1pbiAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGwgPCBOdW1iZXIoYS5taW4pIC0gMWUtMTAgJiZcclxuICAgICAgICAgICAgICAgICAgICAoKGggPSBhLnVuaXRGYWN0b3IgfHwgTi5kZWZhdWx0VW5pdEZhY3RvcnNbc10gfHwgMSksXHJcbiAgICAgICAgICAgICAgICAgICAgKGcgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgKHAgPCBhLm1pbiAmJiBhLm1pbiAhPT0gYS5tYXgpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAoLTQ1IDwgdSAqIGggJiYgdSAqIGggPCAxNSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBvICsgMC4xICogKHIgLSBvKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IEUocCwgYS5taW4sIHUsIFAsIGspKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICBuIDxcclxuICAgICAgICAgICAgICAgICAgICAgIHcgJiYgKHcgPSBnICsgbikpLFxyXG4gICAgICAgICAgICAgICAgXyA8IGcgJiYgKF8gPSBnKSksXHJcbiAgICAgICAgICAgICAgXyA8IGMgJiYgKF8gPSBjKSk7XHJcbiAgICAgICAgICByZXR1cm4gdyA8IF8gJiYgKF8gPSB3KSwgciA8IF8gPyByIDogXyA8IG8gPyBvIDogXztcclxuICAgICAgICB9KSxcclxuICAgICAgICBlID0gKE4ucHJvdG90eXBlID0gbmV3IHIoXCJ0aHJvd1Byb3BzXCIpKTtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICAoKGUuY29uc3RydWN0b3IgPSBOKS52ZXJzaW9uID0gXCIwLjExLjBcIiksXHJcbiAgICAgICAgKE4uQVBJID0gMiksXHJcbiAgICAgICAgKE4uX2F1dG9DU1MgPSAhMCksXHJcbiAgICAgICAgKE4uZGVmYXVsdFJlc2lzdGFuY2UgPSAxMDApLFxyXG4gICAgICAgIChOLmRlZmF1bHRVbml0RmFjdG9ycyA9IHsgdGltZTogMWUzLCB0b3RhbFRpbWU6IDFlMyB9KSxcclxuICAgICAgICAoTi50cmFjayA9IGZ1bmN0aW9uIChlLCB0LCByKSB7XHJcbiAgICAgICAgICByZXR1cm4gVC50cmFjayhlLCB0LCByKTtcclxuICAgICAgICB9KSxcclxuICAgICAgICAoTi51bnRyYWNrID0gZnVuY3Rpb24gKGUsIHQpIHtcclxuICAgICAgICAgIFQudW50cmFjayhlLCB0KTtcclxuICAgICAgICB9KSxcclxuICAgICAgICAoTi5pc1RyYWNraW5nID0gZnVuY3Rpb24gKGUsIHQpIHtcclxuICAgICAgICAgIHJldHVybiBULmlzVHJhY2tpbmcoZSwgdCk7XHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgKE4uZ2V0VmVsb2NpdHkgPSBmdW5jdGlvbiAoZSwgdCkge1xyXG4gICAgICAgICAgdmFyIHIgPSBULmdldEJ5VGFyZ2V0KGUpO1xyXG4gICAgICAgICAgcmV0dXJuIHIgPyByLmdldFZlbG9jaXR5KHQpIDogTmFOO1xyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIChOLl9jc3NSZWdpc3RlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHZhciBlLFxyXG4gICAgICAgICAgICB2LFxyXG4gICAgICAgICAgICBtLFxyXG4gICAgICAgICAgICB5LFxyXG4gICAgICAgICAgICB0ID0gby5jb20uZ3JlZW5zb2NrLnBsdWdpbnMuQ1NTUGx1Z2luO1xyXG4gICAgICAgICAgdCAmJlxyXG4gICAgICAgICAgICAoKGUgPSB0Ll9pbnRlcm5hbHMpLFxyXG4gICAgICAgICAgICAodiA9IGUuX3BhcnNlVG9Qcm94eSksXHJcbiAgICAgICAgICAgIChtID0gZS5fc2V0UGx1Z2luUmF0aW8pLFxyXG4gICAgICAgICAgICAoeSA9IGUuQ1NTUHJvcFR3ZWVuKSxcclxuICAgICAgICAgICAgZS5fcmVnaXN0ZXJDb21wbGV4U3BlY2lhbFByb3AoXCJ0aHJvd1Byb3BzXCIsIHtcclxuICAgICAgICAgICAgICBwYXJzZXI6IGZ1bmN0aW9uIChlLCB0LCByLCBvLCBuLCBpKSB7XHJcbiAgICAgICAgICAgICAgICBpID0gbmV3IE4oKTtcclxuICAgICAgICAgICAgICAgIHZhciBzLFxyXG4gICAgICAgICAgICAgICAgICBhLFxyXG4gICAgICAgICAgICAgICAgICBjLFxyXG4gICAgICAgICAgICAgICAgICB1LFxyXG4gICAgICAgICAgICAgICAgICBmID0ge30sXHJcbiAgICAgICAgICAgICAgICAgIHAgPSB7fSxcclxuICAgICAgICAgICAgICAgICAgbCA9IHt9LFxyXG4gICAgICAgICAgICAgICAgICBnID0ge30sXHJcbiAgICAgICAgICAgICAgICAgIGQgPSB7fSxcclxuICAgICAgICAgICAgICAgICAgaCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgZm9yIChhIGluICgodyA9IHt9KSwgdCkpXHJcbiAgICAgICAgICAgICAgICAgIFwicmVzaXN0YW5jZVwiICE9PSBhICYmXHJcbiAgICAgICAgICAgICAgICAgICAgXCJwcmV2ZW50T3ZlcnNob290XCIgIT09IGEgJiZcclxuICAgICAgICAgICAgICAgICAgICBcImxpbmtlZFByb3BzXCIgIT09IGEgJiZcclxuICAgICAgICAgICAgICAgICAgICBcInJhZGl1c1wiICE9PSBhICYmXHJcbiAgICAgICAgICAgICAgICAgICAgKFwib2JqZWN0XCIgPT0gdHlwZW9mIChzID0gdFthXSlcclxuICAgICAgICAgICAgICAgICAgICAgID8gKHZvaWQgMCAhPT0gcy52ZWxvY2l0eSAmJiBcIm51bWJlclwiID09IHR5cGVvZiBzLnZlbG9jaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoZlthXSA9IE51bWJlcihzLnZlbG9jaXR5KSB8fCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogKCh1ID0gdSB8fCBULmdldEJ5VGFyZ2V0KGUpKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmW2FdID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdSAmJiB1LmlzVHJhY2tpbmdQcm9wKGEpID8gdS5nZXRWZWxvY2l0eShhKSA6IDApKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCAwICE9PSBzLmVuZCAmJiAoZ1thXSA9IHMuZW5kKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCAwICE9PSBzLm1pbiAmJiAocFthXSA9IHMubWluKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCAwICE9PSBzLm1heCAmJiAobFthXSA9IHMubWF4KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcy5wcmV2ZW50T3ZlcnNob290ICYmIChoW2FdID0gITApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2b2lkIDAgIT09IHMucmVzaXN0YW5jZSAmJiAoZFthXSA9IHMucmVzaXN0YW5jZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICA6IFwibnVtYmVyXCIgPT0gdHlwZW9mIHNcclxuICAgICAgICAgICAgICAgICAgICAgID8gKGZbYV0gPSBzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgOiAodSA9IHUgfHwgVC5nZXRCeVRhcmdldChlKSkgJiYgdS5pc1RyYWNraW5nUHJvcChhKVxyXG4gICAgICAgICAgICAgICAgICAgICAgPyAoZlthXSA9IHUuZ2V0VmVsb2NpdHkoYSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICA6IChmW2FdID0gcyB8fCAwKSxcclxuICAgICAgICAgICAgICAgICAgICBrW2FdICYmIG8uX2VuYWJsZVRyYW5zZm9ybXMoMiA9PT0ga1thXSkpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChhIGluICgoYyA9IHYoZSwgZiwgbywgbiwgaSkpLFxyXG4gICAgICAgICAgICAgICAgKF8gPSBjLnByb3h5KSxcclxuICAgICAgICAgICAgICAgIChmID0gYy5lbmQpLFxyXG4gICAgICAgICAgICAgICAgXykpXHJcbiAgICAgICAgICAgICAgICAgIHdbYV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmVsb2NpdHk6IGZbYV0sXHJcbiAgICAgICAgICAgICAgICAgICAgbWluOiBwW2FdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1heDogbFthXSxcclxuICAgICAgICAgICAgICAgICAgICBlbmQ6IGdbYV0sXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzaXN0YW5jZTogZFthXSxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2ZW50T3ZlcnNob290OiBoW2FdLFxyXG4gICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgbnVsbCAhPSB0LnJlc2lzdGFuY2UgJiYgKHcucmVzaXN0YW5jZSA9IHQucmVzaXN0YW5jZSksXHJcbiAgICAgICAgICAgICAgICAgIG51bGwgIT0gdC5saW5rZWRQcm9wcyAmJiAody5saW5rZWRQcm9wcyA9IHQubGlua2VkUHJvcHMpLFxyXG4gICAgICAgICAgICAgICAgICBudWxsICE9IHQucmFkaXVzICYmICh3LnJhZGl1cyA9IHQucmFkaXVzKSxcclxuICAgICAgICAgICAgICAgICAgdC5wcmV2ZW50T3ZlcnNob290ICYmICh3LnByZXZlbnRPdmVyc2hvb3QgPSAhMCksXHJcbiAgICAgICAgICAgICAgICAgIChuID0gbmV3IHkoZSwgXCJ0aHJvd1Byb3BzXCIsIDAsIDAsIGMucHQsIDIpKSxcclxuICAgICAgICAgICAgICAgICAgby5fb3ZlcndyaXRlUHJvcHMucG9wKCksXHJcbiAgICAgICAgICAgICAgICAgIChuLnBsdWdpbiA9IGkpLFxyXG4gICAgICAgICAgICAgICAgICAobi5zZXRSYXRpbyA9IG0pLFxyXG4gICAgICAgICAgICAgICAgICAobi5kYXRhID0gYyksXHJcbiAgICAgICAgICAgICAgICAgIGkuX29uSW5pdFR3ZWVuKF8sIHcsIG8uX3R3ZWVuKSxcclxuICAgICAgICAgICAgICAgICAgblxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgKE4udG8gPSBmdW5jdGlvbiAoZSwgdCwgciwgbywgbikge1xyXG4gICAgICAgICAgdC50aHJvd1Byb3BzIHx8ICh0ID0geyB0aHJvd1Byb3BzOiB0IH0pLFxyXG4gICAgICAgICAgICAwID09PSBuICYmICh0LnRocm93UHJvcHMucHJldmVudE92ZXJzaG9vdCA9ICEwKSxcclxuICAgICAgICAgICAgKFIgPSAhMCk7XHJcbiAgICAgICAgICB2YXIgaSA9IG5ldyBTKGUsIG8gfHwgMSwgdCk7XHJcbiAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICBpLnJlbmRlcigwLCAhMCwgITApLFxyXG4gICAgICAgICAgICAoUiA9XHJcbiAgICAgICAgICAgICAgKGkudmFycy5jc3NcclxuICAgICAgICAgICAgICAgID8gKGkuZHVyYXRpb24ocyhfLCB7IHRocm93UHJvcHM6IHcsIGVhc2U6IHQuZWFzZSB9LCByLCBvLCBuKSksXHJcbiAgICAgICAgICAgICAgICAgIGkuX2RlbGF5ICYmICFpLnZhcnMuaW1tZWRpYXRlUmVuZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgPyBpLmludmFsaWRhdGUoKVxyXG4gICAgICAgICAgICAgICAgICAgIDogQy5fb25Jbml0VHdlZW4oXywgUCwgaSkpXHJcbiAgICAgICAgICAgICAgICA6IChpLmtpbGwoKSwgKGkgPSBuZXcgUyhlLCBzKGUsIHQsIHIsIG8sIG4pLCB0KSkpLFxyXG4gICAgICAgICAgICAgICExKSksXHJcbiAgICAgICAgICAgIGlcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgKGUuX29uSW5pdFR3ZWVuID0gZnVuY3Rpb24gKGUsIHQsIHIsIG8pIHtcclxuICAgICAgICAgICh0aGlzLnRhcmdldCA9IGUpLCAodGhpcy5fcHJvcHMgPSBbXSksIChDID0gdGhpcyksIChQID0gdCk7XHJcbiAgICAgICAgICB2YXIgbixcclxuICAgICAgICAgICAgaSxcclxuICAgICAgICAgICAgcyxcclxuICAgICAgICAgICAgYSxcclxuICAgICAgICAgICAgYyxcclxuICAgICAgICAgICAgdSxcclxuICAgICAgICAgICAgZixcclxuICAgICAgICAgICAgcCxcclxuICAgICAgICAgICAgbCxcclxuICAgICAgICAgICAgZyxcclxuICAgICAgICAgICAgZCxcclxuICAgICAgICAgICAgaCxcclxuICAgICAgICAgICAgdiA9IHIuX2Vhc2UsXHJcbiAgICAgICAgICAgIG0gPSBpc05hTih0LmNoZWNrcG9pbnQpID8gMC4wNSA6IE51bWJlcih0LmNoZWNrcG9pbnQpLFxyXG4gICAgICAgICAgICB5ID0gci5fZHVyYXRpb24sXHJcbiAgICAgICAgICAgIF8gPSB0LnByZXZlbnRPdmVyc2hvb3QsXHJcbiAgICAgICAgICAgIHcgPSAwO1xyXG4gICAgICAgICAgaWYgKCFGKVxyXG4gICAgICAgICAgICAvLyByZXR1cm4gKFxyXG4gICAgICAgICAgICAvLyAgICh3aW5kb3cubG9jYXRpb24uaHJlZiA9XHJcbiAgICAgICAgICAgIC8vICAgICBcImh0dHA6Ly9cIiArIEIgKyBqICsgXCI/cGx1Z2luPVwiICsgeCArIFwiJnNvdXJjZT1jb2RlcGVuXCIpLFxyXG4gICAgICAgICAgICAvLyAgICExXHJcbiAgICAgICAgICAgIC8vICk7XHJcbiAgICAgICAgICBpZiAodC5saW5rZWRQcm9wcylcclxuICAgICAgICAgICAgZm9yIChkID0gdC5saW5rZWRQcm9wcy5zcGxpdChcIixcIiksIGcgPSB7fSwgaCA9IDA7IGggPCBkLmxlbmd0aDsgaCsrKVxyXG4gICAgICAgICAgICAgIChpID0gdFsobiA9IGRbaF0pXSkgJiZcclxuICAgICAgICAgICAgICAgICgoYyA9XHJcbiAgICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gaS52ZWxvY2l0eSAmJiBcIm51bWJlclwiID09IHR5cGVvZiBpLnZlbG9jaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgPyBOdW1iZXIoaS52ZWxvY2l0eSkgfHwgMFxyXG4gICAgICAgICAgICAgICAgICAgIDogKGwgPSBsIHx8IFQuZ2V0QnlUYXJnZXQoZSkpICYmIGwuaXNUcmFja2luZ1Byb3AobilcclxuICAgICAgICAgICAgICAgICAgICA/IGwuZ2V0VmVsb2NpdHkobilcclxuICAgICAgICAgICAgICAgICAgICA6IDApLFxyXG4gICAgICAgICAgICAgICAgKHMgPVxyXG4gICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGVbbl1cclxuICAgICAgICAgICAgICAgICAgICA/IGVbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG4uaW5kZXhPZihcInNldFwiKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGVbXCJnZXRcIiArIG4uc3Vic3RyKDMpXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJnZXRcIiArIG4uc3Vic3RyKDMpXHJcbiAgICAgICAgICAgICAgICAgICAgICBdKClcclxuICAgICAgICAgICAgICAgICAgICA6IGVbbl0gfHwgMCksXHJcbiAgICAgICAgICAgICAgICAoZ1tuXSA9IHMgKyBEKGMsIHYsIHksIG0pKSk7XHJcbiAgICAgICAgICBmb3IgKG4gaW4gdClcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgIFwicmVzaXN0YW5jZVwiICE9PSBuICYmXHJcbiAgICAgICAgICAgICAgXCJjaGVja3BvaW50XCIgIT09IG4gJiZcclxuICAgICAgICAgICAgICBcInByZXZlbnRPdmVyc2hvb3RcIiAhPT0gbiAmJlxyXG4gICAgICAgICAgICAgIFwibGlua2VkUHJvcHNcIiAhPT0gbiAmJlxyXG4gICAgICAgICAgICAgIFwicmFkaXVzXCIgIT09IG5cclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgKGkgPSB0W25dKSAmJiAoaSA9IGkobywgZSkpLFxyXG4gICAgICAgICAgICAgICAgXCJudW1iZXJcIiA9PSB0eXBlb2YgaSlcclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICBjID0gTnVtYmVyKGkpIHx8IDA7XHJcbiAgICAgICAgICAgICAgZWxzZSBpZiAoXCJvYmplY3RcIiAhPSB0eXBlb2YgaSB8fCBpc05hTihpLnZlbG9jaXR5KSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEobCA9IGwgfHwgVC5nZXRCeVRhcmdldChlKSkgfHwgIWwuaXNUcmFja2luZ1Byb3AobikpXHJcbiAgICAgICAgICAgICAgICAgIHRocm93IChcclxuICAgICAgICAgICAgICAgICAgICBcIkVSUk9SOiBObyB2ZWxvY2l0eSB3YXMgZGVmaW5lZCBpbiB0aGUgdGhyb3dQcm9wcyB0d2VlbiBvZiBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgZSArXHJcbiAgICAgICAgICAgICAgICAgICAgXCIgcHJvcGVydHk6IFwiICtcclxuICAgICAgICAgICAgICAgICAgICBuXHJcbiAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBjID0gbC5nZXRWZWxvY2l0eShuKTtcclxuICAgICAgICAgICAgICB9IGVsc2UgYyA9IE51bWJlcihpLnZlbG9jaXR5KTtcclxuICAgICAgICAgICAgICAodSA9IEQoYywgdiwgeSwgbSkpLFxyXG4gICAgICAgICAgICAgICAgKHAgPSAwKSxcclxuICAgICAgICAgICAgICAgIChzID0gKGEgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGVbbl0pXHJcbiAgICAgICAgICAgICAgICAgID8gZVtcclxuICAgICAgICAgICAgICAgICAgICAgIG4uaW5kZXhPZihcInNldFwiKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9IHR5cGVvZiBlW1wiZ2V0XCIgKyBuLnN1YnN0cigzKV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCJnZXRcIiArIG4uc3Vic3RyKDMpXHJcbiAgICAgICAgICAgICAgICAgICAgXSgpXHJcbiAgICAgICAgICAgICAgICAgIDogZVtuXSksXHJcbiAgICAgICAgICAgICAgICBcIm9iamVjdFwiID09IHR5cGVvZiBpICYmXHJcbiAgICAgICAgICAgICAgICAgICgoZiA9IHMgKyB1KSxcclxuICAgICAgICAgICAgICAgICAgdm9pZCAwICE9PSBpLmVuZCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICgoaSA9IFYoaSwgZyAmJiBuIGluIGcgPyBnIDogZiwgaS5tYXgsIGkubWluLCBuLCB0LnJhZGl1cykpLFxyXG4gICAgICAgICAgICAgICAgICAgIFIgJiYgKHRbbl0gPSBPKGksIHRbbl0sIFwiZW5kXCIpKSksXHJcbiAgICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gaS5tYXggJiYgTnVtYmVyKGkubWF4KSA8IGZcclxuICAgICAgICAgICAgICAgICAgICA/IF8gfHwgaS5wcmV2ZW50T3ZlcnNob290XHJcbiAgICAgICAgICAgICAgICAgICAgICA/ICh1ID0gaS5tYXggLSBzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgOiAocCA9IGkubWF4IC0gcyAtIHUpXHJcbiAgICAgICAgICAgICAgICAgICAgOiB2b2lkIDAgIT09IGkubWluICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIoaS5taW4pID4gZiAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgKF8gfHwgaS5wcmV2ZW50T3ZlcnNob290XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKHUgPSBpLm1pbiAtIHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogKHAgPSBpLm1pbiAtIHMgLSB1KSkpLFxyXG4gICAgICAgICAgICAgICAgKHRoaXMuX292ZXJ3cml0ZVByb3BzW3ddID0gbiksXHJcbiAgICAgICAgICAgICAgICAodGhpcy5fcHJvcHNbdysrXSA9IHsgcDogbiwgczogcywgYzE6IHUsIGMyOiBwLCBmOiBhLCByOiAhMSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIEY7XHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgKGUuX2tpbGwgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgZm9yICh2YXIgdCA9IHRoaXMuX3Byb3BzLmxlbmd0aDsgLTEgPCAtLXQ7IClcclxuICAgICAgICAgICAgbnVsbCAhPSBlW3RoaXMuX3Byb3BzW3RdLnBdICYmIHRoaXMuX3Byb3BzLnNwbGljZSh0LCAxKTtcclxuICAgICAgICAgIHJldHVybiByLnByb3RvdHlwZS5fa2lsbC5jYWxsKHRoaXMsIGUpO1xyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIChlLl9tb2QgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgZm9yICh2YXIgdCwgciA9IHRoaXMuX3Byb3BzLCBvID0gci5sZW5ndGg7IC0xIDwgLS1vOyApXHJcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgKHQgPSBlW3Jbb10ucF0gfHwgZS50aHJvd1Byb3BzKSAmJlxyXG4gICAgICAgICAgICAgIChyW29dLm0gPSB0KTtcclxuICAgICAgICB9KSxcclxuICAgICAgICAoZS5zZXRSYXRpbyA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICBmb3IgKHZhciB0LCByLCBvID0gdGhpcy5fcHJvcHMubGVuZ3RoOyAtMSA8IC0tbzsgKVxyXG4gICAgICAgICAgICAociA9ICh0ID0gdGhpcy5fcHJvcHNbb10pLnMgKyB0LmMxICogZSArIHQuYzIgKiBlICogZSksXHJcbiAgICAgICAgICAgICAgdC5tXHJcbiAgICAgICAgICAgICAgICA/IChyID0gdC5tKHIsIHRoaXMudGFyZ2V0KSlcclxuICAgICAgICAgICAgICAgIDogMSA9PT0gZSAmJiAociA9ICgoMWU0ICogciArIChyIDwgMCA/IC0wLjUgOiAwLjUpKSB8IDApIC8gMWU0KSxcclxuICAgICAgICAgICAgICB0LmYgPyB0aGlzLnRhcmdldFt0LnBdKHIpIDogKHRoaXMudGFyZ2V0W3QucF0gPSByKTtcclxuICAgICAgICB9KSxcclxuICAgICAgICByLmFjdGl2YXRlKFtOXSksXHJcbiAgICAgICAgTlxyXG4gICAgICApO1xyXG4gICAgfSxcclxuICAgICEwXHJcbiAgKSxcclxuICAgIF9nc1Njb3BlLl9nc0RlZmluZShcclxuICAgICAgXCJ1dGlscy5WZWxvY2l0eVRyYWNrZXJcIixcclxuICAgICAgW1wiVHdlZW5MaXRlXCJdLFxyXG4gICAgICBmdW5jdGlvbiAocykge1xyXG4gICAgICAgIGZ1bmN0aW9uIGEoZSwgdCwgcikge1xyXG4gICAgICAgICAgdmFyIG8gPSAoZS5fZ3NUcmFuc2Zvcm0gfHwgcClbdF07XHJcbiAgICAgICAgICByZXR1cm4gbyB8fCAwID09PSBvXHJcbiAgICAgICAgICAgID8gb1xyXG4gICAgICAgICAgICA6IChlLnN0eWxlW3RdXHJcbiAgICAgICAgICAgICAgICA/IChvID0gZS5zdHlsZVt0XSlcclxuICAgICAgICAgICAgICAgIDogKHIgPSByIHx8IGcoZSwgbnVsbCkpXHJcbiAgICAgICAgICAgICAgICA/IChvID1cclxuICAgICAgICAgICAgICAgICAgICByW3RdIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgci5nZXRQcm9wZXJ0eVZhbHVlKHQpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgci5nZXRQcm9wZXJ0eVZhbHVlKHQucmVwbGFjZShmLCBcIi0kMVwiKS50b0xvd2VyQ2FzZSgpKSlcclxuICAgICAgICAgICAgICAgIDogZS5jdXJyZW50U3R5bGUgJiYgKG8gPSBlLmN1cnJlbnRTdHlsZVt0XSksXHJcbiAgICAgICAgICAgICAgcGFyc2VGbG9hdChvKSB8fCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gYyhlLCB0LCByKSB7XHJcbiAgICAgICAgICAodGhpcy5wID0gZSksXHJcbiAgICAgICAgICAgICh0aGlzLmYgPSB0KSxcclxuICAgICAgICAgICAgKHRoaXMudjEgPSB0aGlzLnYyID0gMCksXHJcbiAgICAgICAgICAgICh0aGlzLnQxID0gdGhpcy50MiA9IGQudGltZSksXHJcbiAgICAgICAgICAgICh0aGlzLmNzcyA9ICExKSxcclxuICAgICAgICAgICAgKHRoaXMudHlwZSA9IFwiXCIpLFxyXG4gICAgICAgICAgICAodGhpcy5fcHJldiA9IG51bGwpLFxyXG4gICAgICAgICAgICByICYmICgodGhpcy5fbmV4dCA9IHIpLl9wcmV2ID0gdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHQoKSB7XHJcbiAgICAgICAgICB2YXIgZSxcclxuICAgICAgICAgICAgdCxcclxuICAgICAgICAgICAgciA9IGksXHJcbiAgICAgICAgICAgIG8gPSBkLnRpbWU7XHJcbiAgICAgICAgICBpZiAoMC4wMyA8PSBvIC0gbilcclxuICAgICAgICAgICAgZm9yIChuID0gbzsgcjsgKSB7XHJcbiAgICAgICAgICAgICAgZm9yICh0ID0gci5fZmlyc3RWUDsgdDsgKVxyXG4gICAgICAgICAgICAgICAgKChlID0gdC5jc3NcclxuICAgICAgICAgICAgICAgICAgPyBhKHIudGFyZ2V0LCB0LnApXHJcbiAgICAgICAgICAgICAgICAgIDogdC5mXHJcbiAgICAgICAgICAgICAgICAgID8gci50YXJnZXRbdC5wXSgpXHJcbiAgICAgICAgICAgICAgICAgIDogci50YXJnZXRbdC5wXSkgIT09IHQudjEgfHxcclxuICAgICAgICAgICAgICAgICAgMC4xNSA8IG8gLSB0LnQxKSAmJlxyXG4gICAgICAgICAgICAgICAgICAoKHQudjIgPSB0LnYxKSwgKHQudjEgPSBlKSwgKHQudDIgPSB0LnQxKSwgKHQudDEgPSBvKSksXHJcbiAgICAgICAgICAgICAgICAgICh0ID0gdC5fbmV4dCk7XHJcbiAgICAgICAgICAgICAgciA9IHIuX25leHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gdShlKSB7XHJcbiAgICAgICAgICAodGhpcy5fbG9va3VwID0ge30pLFxyXG4gICAgICAgICAgICAodGhpcy50YXJnZXQgPSBlKSxcclxuICAgICAgICAgICAgKHRoaXMuZWxlbSA9ICEoIWUuc3R5bGUgfHwgIWUubm9kZVR5cGUpKSxcclxuICAgICAgICAgICAgciB8fFxyXG4gICAgICAgICAgICAgIChkLmFkZEV2ZW50TGlzdGVuZXIoXCJ0aWNrXCIsIHQsIG51bGwsICExLCAtMTAwKSxcclxuICAgICAgICAgICAgICAobiA9IGQudGltZSksXHJcbiAgICAgICAgICAgICAgKHIgPSAhMCkpLFxyXG4gICAgICAgICAgICBpICYmICgodGhpcy5fbmV4dCA9IGkpLl9wcmV2ID0gdGhpcyksXHJcbiAgICAgICAgICAgIChpID0gdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpLFxyXG4gICAgICAgICAgcixcclxuICAgICAgICAgIG4sXHJcbiAgICAgICAgICBmID0gLyhbQS1aXSkvZyxcclxuICAgICAgICAgIHAgPSB7fSxcclxuICAgICAgICAgIGwgPSB7XHJcbiAgICAgICAgICAgIHg6IDEsXHJcbiAgICAgICAgICAgIHk6IDEsXHJcbiAgICAgICAgICAgIHo6IDIsXHJcbiAgICAgICAgICAgIHNjYWxlOiAxLFxyXG4gICAgICAgICAgICBzY2FsZVg6IDEsXHJcbiAgICAgICAgICAgIHNjYWxlWTogMSxcclxuICAgICAgICAgICAgcm90YXRpb246IDEsXHJcbiAgICAgICAgICAgIHJvdGF0aW9uWjogMSxcclxuICAgICAgICAgICAgcm90YXRpb25YOiAyLFxyXG4gICAgICAgICAgICByb3RhdGlvblk6IDIsXHJcbiAgICAgICAgICAgIHNrZXdYOiAxLFxyXG4gICAgICAgICAgICBza2V3WTogMSxcclxuICAgICAgICAgICAgeFBlcmNlbnQ6IDEsXHJcbiAgICAgICAgICAgIHlQZXJjZW50OiAxLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGcgPSBkb2N1bWVudC5kZWZhdWx0Vmlld1xyXG4gICAgICAgICAgICA/IGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGVcclxuICAgICAgICAgICAgOiBmdW5jdGlvbiAoKSB7fSxcclxuICAgICAgICAgIGQgPSBzLnRpY2tlcixcclxuICAgICAgICAgIGggPSAodS5nZXRCeVRhcmdldCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHQgPSBpOyB0OyApIHtcclxuICAgICAgICAgICAgICBpZiAodC50YXJnZXQgPT09IGUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICAgIHQgPSB0Ll9uZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KSxcclxuICAgICAgICAgIGUgPSB1LnByb3RvdHlwZTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgKGUuYWRkUHJvcCA9IGZ1bmN0aW9uIChlLCB0KSB7XHJcbiAgICAgICAgICAgIHZhciByLCBvLCBuLCBpO1xyXG4gICAgICAgICAgICB0aGlzLl9sb29rdXBbZV0gfHxcclxuICAgICAgICAgICAgICAoKG4gPSAobyA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgKHIgPSB0aGlzLnRhcmdldClbZV0pXHJcbiAgICAgICAgICAgICAgICA/IHRoaXMuX2FsdFByb3AoZSlcclxuICAgICAgICAgICAgICAgIDogZSksXHJcbiAgICAgICAgICAgICAgKGkgPSB0aGlzLl9maXJzdFZQKSxcclxuICAgICAgICAgICAgICAodGhpcy5fZmlyc3RWUCA9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sb29rdXBbZV0gPVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9va3VwW25dID1cclxuICAgICAgICAgICAgICAgIGkgPVxyXG4gICAgICAgICAgICAgICAgICBuZXcgYyhuICE9PSBlICYmIDAgPT09IGUuaW5kZXhPZihcInNldFwiKSA/IG4gOiBlLCBvLCBpKSksXHJcbiAgICAgICAgICAgICAgKGkuY3NzID1cclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbSAmJiAodm9pZCAwICE9PSB0aGlzLnRhcmdldC5zdHlsZVtpLnBdIHx8IGxbaS5wXSkpLFxyXG4gICAgICAgICAgICAgIGkuY3NzICYmXHJcbiAgICAgICAgICAgICAgICBsW2kucF0gJiZcclxuICAgICAgICAgICAgICAgICFyLl9nc1RyYW5zZm9ybSAmJlxyXG4gICAgICAgICAgICAgICAgcy5zZXQociwgeyB4OiBcIis9MFwiLCBvdmVyd3JpdGU6ICExIH0pLFxyXG4gICAgICAgICAgICAgIChpLnR5cGUgPVxyXG4gICAgICAgICAgICAgICAgdCB8fCAoaS5jc3MgJiYgMCA9PT0gZS5pbmRleE9mKFwicm90YXRpb25cIikpID8gXCJkZWdcIiA6IFwiXCIpLFxyXG4gICAgICAgICAgICAgIChpLnYxID0gaS52MiA9IGkuY3NzID8gYShyLCBpLnApIDogbyA/IHJbaS5wXSgpIDogcltpLnBdKSk7XHJcbiAgICAgICAgICB9KSxcclxuICAgICAgICAgIChlLnJlbW92ZVByb3AgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB2YXIgdCA9IHRoaXMuX2xvb2t1cFtlXTtcclxuICAgICAgICAgICAgdCAmJlxyXG4gICAgICAgICAgICAgICh0Ll9wcmV2XHJcbiAgICAgICAgICAgICAgICA/ICh0Ll9wcmV2Ll9uZXh0ID0gdC5fbmV4dClcclxuICAgICAgICAgICAgICAgIDogdCA9PT0gdGhpcy5fZmlyc3RWUCAmJiAodGhpcy5fZmlyc3RWUCA9IHQuX25leHQpLFxyXG4gICAgICAgICAgICAgIHQuX25leHQgJiYgKHQuX25leHQuX3ByZXYgPSB0Ll9wcmV2KSxcclxuICAgICAgICAgICAgICAodGhpcy5fbG9va3VwW2VdID0gMCksXHJcbiAgICAgICAgICAgICAgdC5mICYmICh0aGlzLl9sb29rdXBbdGhpcy5fYWx0UHJvcChlKV0gPSAwKSk7XHJcbiAgICAgICAgICB9KSxcclxuICAgICAgICAgIChlLmlzVHJhY2tpbmdQcm9wID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvb2t1cFtlXSBpbnN0YW5jZW9mIGM7XHJcbiAgICAgICAgICB9KSxcclxuICAgICAgICAgIChlLmdldFZlbG9jaXR5ID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdmFyIHQsXHJcbiAgICAgICAgICAgICAgcixcclxuICAgICAgICAgICAgICBvID0gdGhpcy5fbG9va3VwW2VdLFxyXG4gICAgICAgICAgICAgIG4gPSB0aGlzLnRhcmdldDtcclxuICAgICAgICAgICAgaWYgKCFvKSB0aHJvdyBcIlRoZSB2ZWxvY2l0eSBvZiBcIiArIGUgKyBcIiBpcyBub3QgYmVpbmcgdHJhY2tlZC5cIjtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAodCA9IChvLmNzcyA/IGEobiwgby5wKSA6IG8uZiA/IG5bby5wXSgpIDogbltvLnBdKSAtIG8udjIpLFxyXG4gICAgICAgICAgICAgIChcInJhZFwiICE9PSBvLnR5cGUgJiYgXCJkZWdcIiAhPT0gby50eXBlKSB8fFxyXG4gICAgICAgICAgICAgICAgKCh0ICU9IHIgPSBcInJhZFwiID09PSBvLnR5cGUgPyAyICogTWF0aC5QSSA6IDM2MCkgIT09XHJcbiAgICAgICAgICAgICAgICAgIHQgJSAociAvIDIpICYmXHJcbiAgICAgICAgICAgICAgICAgICh0ID0gdCA8IDAgPyB0ICsgciA6IHQgLSByKSksXHJcbiAgICAgICAgICAgICAgdCAvIChkLnRpbWUgLSBvLnQyKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfSksXHJcbiAgICAgICAgICAoZS5fYWx0UHJvcCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciB0ID0gZS5zdWJzdHIoMCwgMyksXHJcbiAgICAgICAgICAgICAgciA9IChcImdldFwiID09PSB0ID8gXCJzZXRcIiA6IFwic2V0XCIgPT09IHQgPyBcImdldFwiIDogdCkgKyBlLnN1YnN0cigzKTtcclxuICAgICAgICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdGhpcy50YXJnZXRbcl0gPyByIDogZTtcclxuICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgKHUuZ2V0QnlUYXJnZXQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB2YXIgdCA9IGk7XHJcbiAgICAgICAgICAgIGZvciAoXHJcbiAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSAmJiAoZSA9IHMuc2VsZWN0b3IoZSkpLFxyXG4gICAgICAgICAgICAgICAgZS5sZW5ndGggJiZcclxuICAgICAgICAgICAgICAgICAgZSAhPT0gd2luZG93ICYmXHJcbiAgICAgICAgICAgICAgICAgIGVbMF0gJiZcclxuICAgICAgICAgICAgICAgICAgZVswXS5zdHlsZSAmJlxyXG4gICAgICAgICAgICAgICAgICAhZS5ub2RlVHlwZSAmJlxyXG4gICAgICAgICAgICAgICAgICAoZSA9IGVbMF0pO1xyXG4gICAgICAgICAgICAgIHQ7XHJcblxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICBpZiAodC50YXJnZXQgPT09IGUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICAgIHQgPSB0Ll9uZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KSxcclxuICAgICAgICAgICh1LnRyYWNrID0gZnVuY3Rpb24gKGUsIHQsIHIpIHtcclxuICAgICAgICAgICAgdmFyIG8gPSBoKGUpLFxyXG4gICAgICAgICAgICAgIG4gPSB0LnNwbGl0KFwiLFwiKSxcclxuICAgICAgICAgICAgICBpID0gbi5sZW5ndGg7XHJcbiAgICAgICAgICAgIGZvciAociA9IChyIHx8IFwiXCIpLnNwbGl0KFwiLFwiKSwgbyA9IG8gfHwgbmV3IHUoZSk7IC0xIDwgLS1pOyApXHJcbiAgICAgICAgICAgICAgby5hZGRQcm9wKG5baV0sIHJbaV0gfHwgclswXSk7XHJcbiAgICAgICAgICAgIHJldHVybiBvO1xyXG4gICAgICAgICAgfSksXHJcbiAgICAgICAgICAodS51bnRyYWNrID0gZnVuY3Rpb24gKGUsIHQpIHtcclxuICAgICAgICAgICAgdmFyIHIgPSBoKGUpLFxyXG4gICAgICAgICAgICAgIG8gPSAodCB8fCBcIlwiKS5zcGxpdChcIixcIiksXHJcbiAgICAgICAgICAgICAgbiA9IG8ubGVuZ3RoO1xyXG4gICAgICAgICAgICBpZiAocikge1xyXG4gICAgICAgICAgICAgIGZvciAoOyAtMSA8IC0tbjsgKSByLnJlbW92ZVByb3Aob1tuXSk7XHJcbiAgICAgICAgICAgICAgKHIuX2ZpcnN0VlAgJiYgdCkgfHxcclxuICAgICAgICAgICAgICAgIChyLl9wcmV2ID8gKHIuX3ByZXYuX25leHQgPSByLl9uZXh0KSA6IHIgPT09IGkgJiYgKGkgPSByLl9uZXh0KSxcclxuICAgICAgICAgICAgICAgIHIuX25leHQgJiYgKHIuX25leHQuX3ByZXYgPSByLl9wcmV2KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgKHUuaXNUcmFja2luZyA9IGZ1bmN0aW9uIChlLCB0KSB7XHJcbiAgICAgICAgICAgIHZhciByID0gaChlKTtcclxuICAgICAgICAgICAgcmV0dXJuICEhciAmJiAoISh0IHx8ICFyLl9maXJzdFZQKSB8fCByLmlzVHJhY2tpbmdQcm9wKHQpKTtcclxuICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgdVxyXG4gICAgICAgICk7XHJcbiAgICAgIH0sXHJcbiAgICAgICEwXHJcbiAgICApO1xyXG59KSxcclxuICBfZ3NTY29wZS5fZ3NEZWZpbmUgJiYgX2dzU2NvcGUuX2dzUXVldWUucG9wKCkoKSxcclxuICAoZnVuY3Rpb24gKCkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICBmdW5jdGlvbiBlKCkge1xyXG4gICAgICByZXR1cm4gKF9nc1Njb3BlLkdyZWVuU29ja0dsb2JhbHMgfHwgX2dzU2NvcGUpLlRocm93UHJvcHNQbHVnaW47XHJcbiAgICB9XHJcbiAgICBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kXHJcbiAgICAgID8gZGVmaW5lKFtcIlR3ZWVuTGl0ZVwiXSwgZSlcclxuICAgICAgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBtb2R1bGUgJiZcclxuICAgICAgICBtb2R1bGUuZXhwb3J0cyAmJlxyXG4gICAgICAgIChyZXF1aXJlKFwiLi4vVHdlZW5MaXRlLmpzXCIpLCAobW9kdWxlLmV4cG9ydHMgPSBlKCkpKTtcclxuICB9KSgpO1xyXG4iLCIvKiEgalF1ZXJ5IHYzLjMuMSB8IChjKSBKUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi9cclxuIWZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7XCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWUuZG9jdW1lbnQ/dChlLCEwKTpmdW5jdGlvbihlKXtpZighZS5kb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoXCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50XCIpO3JldHVybiB0KGUpfTp0KGUpfShcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49W10scj1lLmRvY3VtZW50LGk9T2JqZWN0LmdldFByb3RvdHlwZU9mLG89bi5zbGljZSxhPW4uY29uY2F0LHM9bi5wdXNoLHU9bi5pbmRleE9mLGw9e30sYz1sLnRvU3RyaW5nLGY9bC5oYXNPd25Qcm9wZXJ0eSxwPWYudG9TdHJpbmcsZD1wLmNhbGwoT2JqZWN0KSxoPXt9LGc9ZnVuY3Rpb24gZSh0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZcIm51bWJlclwiIT10eXBlb2YgdC5ub2RlVHlwZX0seT1mdW5jdGlvbiBlKHQpe3JldHVybiBudWxsIT10JiZ0PT09dC53aW5kb3d9LHY9e3R5cGU6ITAsc3JjOiEwLG5vTW9kdWxlOiEwfTtmdW5jdGlvbiBtKGUsdCxuKXt2YXIgaSxvPSh0PXR8fHIpLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7aWYoby50ZXh0PWUsbilmb3IoaSBpbiB2KW5baV0mJihvW2ldPW5baV0pO3QuaGVhZC5hcHBlbmRDaGlsZChvKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8pfWZ1bmN0aW9uIHgoZSl7cmV0dXJuIG51bGw9PWU/ZStcIlwiOlwib2JqZWN0XCI9PXR5cGVvZiBlfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2xbYy5jYWxsKGUpXXx8XCJvYmplY3RcIjp0eXBlb2YgZX12YXIgYj1cIjMuMy4xXCIsdz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgdy5mbi5pbml0KGUsdCl9LFQ9L15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nO3cuZm49dy5wcm90b3R5cGU9e2pxdWVyeTpcIjMuMy4xXCIsY29uc3RydWN0b3I6dyxsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIG8uY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP28uY2FsbCh0aGlzKTplPDA/dGhpc1tlK3RoaXMubGVuZ3RoXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9dy5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZSk7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHR9LGVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHcuZWFjaCh0aGlzLGUpfSxtYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHcubWFwKHRoaXMsZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5jYWxsKHQsbix0KX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soby5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxlcTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmxlbmd0aCxuPStlKyhlPDA/dDowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobj49MCYmbjx0P1t0aGlzW25dXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IoKX0scHVzaDpzLHNvcnQ6bi5zb3J0LHNwbGljZTpuLnNwbGljZX0sdy5leHRlbmQ9dy5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgZSx0LG4scixpLG8sYT1hcmd1bWVudHNbMF18fHt9LHM9MSx1PWFyZ3VtZW50cy5sZW5ndGgsbD0hMTtmb3IoXCJib29sZWFuXCI9PXR5cGVvZiBhJiYobD1hLGE9YXJndW1lbnRzW3NdfHx7fSxzKyspLFwib2JqZWN0XCI9PXR5cGVvZiBhfHxnKGEpfHwoYT17fSkscz09PXUmJihhPXRoaXMscy0tKTtzPHU7cysrKWlmKG51bGwhPShlPWFyZ3VtZW50c1tzXSkpZm9yKHQgaW4gZSluPWFbdF0sYSE9PShyPWVbdF0pJiYobCYmciYmKHcuaXNQbGFpbk9iamVjdChyKXx8KGk9QXJyYXkuaXNBcnJheShyKSkpPyhpPyhpPSExLG89biYmQXJyYXkuaXNBcnJheShuKT9uOltdKTpvPW4mJncuaXNQbGFpbk9iamVjdChuKT9uOnt9LGFbdF09dy5leHRlbmQobCxvLHIpKTp2b2lkIDAhPT1yJiYoYVt0XT1yKSk7cmV0dXJuIGF9LHcuZXh0ZW5kKHtleHBhbmRvOlwialF1ZXJ5XCIrKFwiMy4zLjFcIitNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cXEQvZyxcIlwiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlKX0sbm9vcDpmdW5jdGlvbigpe30saXNQbGFpbk9iamVjdDpmdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiEoIWV8fFwiW29iamVjdCBPYmplY3RdXCIhPT1jLmNhbGwoZSkpJiYoISh0PWkoZSkpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZihuPWYuY2FsbCh0LFwiY29uc3RydWN0b3JcIikmJnQuY29uc3RydWN0b3IpJiZwLmNhbGwobik9PT1kKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKXJldHVybiExO3JldHVybiEwfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGUpe20oZSl9LGVhY2g6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTA7aWYoQyhlKSl7Zm9yKG49ZS5sZW5ndGg7cjxuO3IrKylpZighMT09PXQuY2FsbChlW3JdLHIsZVtyXSkpYnJlYWt9ZWxzZSBmb3IociBpbiBlKWlmKCExPT09dC5jYWxsKGVbcl0scixlW3JdKSlicmVhaztyZXR1cm4gZX0sdHJpbTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9cIlwiOihlK1wiXCIpLnJlcGxhY2UoVCxcIlwiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKGUsdCl7dmFyIG49dHx8W107cmV0dXJuIG51bGwhPWUmJihDKE9iamVjdChlKSk/dy5tZXJnZShuLFwic3RyaW5nXCI9PXR5cGVvZiBlP1tlXTplKTpzLmNhbGwobixlKSksbn0saW5BcnJheTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG51bGw9PXQ/LTE6dS5jYWxsKHQsZSxuKX0sbWVyZ2U6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49K3QubGVuZ3RoLHI9MCxpPWUubGVuZ3RoO3I8bjtyKyspZVtpKytdPXRbcl07cmV0dXJuIGUubGVuZ3RoPWksZX0sZ3JlcDpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByLGk9W10sbz0wLGE9ZS5sZW5ndGgscz0hbjtvPGE7bysrKShyPSF0KGVbb10sbykpIT09cyYmaS5wdXNoKGVbb10pO3JldHVybiBpfSxtYXA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz0wLHM9W107aWYoQyhlKSlmb3Iocj1lLmxlbmd0aDtvPHI7bysrKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmcy5wdXNoKGkpO2Vsc2UgZm9yKG8gaW4gZSludWxsIT0oaT10KGVbb10sbyxuKSkmJnMucHVzaChpKTtyZXR1cm4gYS5hcHBseShbXSxzKX0sZ3VpZDoxLHN1cHBvcnQ6aH0pLFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKHcuZm5bU3ltYm9sLml0ZXJhdG9yXT1uW1N5bWJvbC5pdGVyYXRvcl0pLHcuZWFjaChcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGUsdCl7bFtcIltvYmplY3QgXCIrdCtcIl1cIl09dC50b0xvd2VyQ2FzZSgpfSk7ZnVuY3Rpb24gQyhlKXt2YXIgdD0hIWUmJlwibGVuZ3RoXCJpbiBlJiZlLmxlbmd0aCxuPXgoZSk7cmV0dXJuIWcoZSkmJiF5KGUpJiYoXCJhcnJheVwiPT09bnx8MD09PXR8fFwibnVtYmVyXCI9PXR5cGVvZiB0JiZ0PjAmJnQtMSBpbiBlKX12YXIgRT1mdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscyx1LGwsYyxmLHAsZCxoLGcseSx2LG0seCxiPVwic2l6emxlXCIrMSpuZXcgRGF0ZSx3PWUuZG9jdW1lbnQsVD0wLEM9MCxFPWFlKCksaz1hZSgpLFM9YWUoKSxEPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10JiYoZj0hMCksMH0sTj17fS5oYXNPd25Qcm9wZXJ0eSxBPVtdLGo9QS5wb3AscT1BLnB1c2gsTD1BLnB1c2gsSD1BLnNsaWNlLE89ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspaWYoZVtuXT09PXQpcmV0dXJuIG47cmV0dXJuLTF9LFA9XCJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZFwiLE09XCJbXFxcXHgyMFxcXFx0XFxcXHJcXFxcblxcXFxmXVwiLFI9XCIoPzpcXFxcXFxcXC58W1xcXFx3LV18W15cXDAtXFxcXHhhMF0pK1wiLEk9XCJcXFxcW1wiK00rXCIqKFwiK1IrXCIpKD86XCIrTStcIiooWypeJHwhfl0/PSlcIitNK1wiKig/OicoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcInwoXCIrUitcIikpfClcIitNK1wiKlxcXFxdXCIsVz1cIjooXCIrUitcIikoPzpcXFxcKCgoJygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwiKXwoKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKVtcXFxcXV18XCIrSStcIikqKXwuKilcXFxcKXwpXCIsJD1uZXcgUmVnRXhwKE0rXCIrXCIsXCJnXCIpLEI9bmV3IFJlZ0V4cChcIl5cIitNK1wiK3woKD86XnxbXlxcXFxcXFxcXSkoPzpcXFxcXFxcXC4pKilcIitNK1wiKyRcIixcImdcIiksRj1uZXcgUmVnRXhwKFwiXlwiK00rXCIqLFwiK00rXCIqXCIpLF89bmV3IFJlZ0V4cChcIl5cIitNK1wiKihbPit+XXxcIitNK1wiKVwiK00rXCIqXCIpLHo9bmV3IFJlZ0V4cChcIj1cIitNK1wiKihbXlxcXFxdJ1xcXCJdKj8pXCIrTStcIipcXFxcXVwiLFwiZ1wiKSxYPW5ldyBSZWdFeHAoVyksVT1uZXcgUmVnRXhwKFwiXlwiK1IrXCIkXCIpLFY9e0lEOm5ldyBSZWdFeHAoXCJeIyhcIitSK1wiKVwiKSxDTEFTUzpuZXcgUmVnRXhwKFwiXlxcXFwuKFwiK1IrXCIpXCIpLFRBRzpuZXcgUmVnRXhwKFwiXihcIitSK1wifFsqXSlcIiksQVRUUjpuZXcgUmVnRXhwKFwiXlwiK0kpLFBTRVVETzpuZXcgUmVnRXhwKFwiXlwiK1cpLENISUxEOm5ldyBSZWdFeHAoXCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXFxcKFwiK00rXCIqKGV2ZW58b2RkfCgoWystXXwpKFxcXFxkKilufClcIitNK1wiKig/OihbKy1dfClcIitNK1wiKihcXFxcZCspfCkpXCIrTStcIipcXFxcKXwpXCIsXCJpXCIpLGJvb2w6bmV3IFJlZ0V4cChcIl4oPzpcIitQK1wiKSRcIixcImlcIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoXCJeXCIrTStcIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcXFwoXCIrTStcIiooKD86LVxcXFxkKT9cXFxcZCopXCIrTStcIipcXFxcKXwpKD89W14tXXwkKVwiLFwiaVwiKX0sRz0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFk9L15oXFxkJC9pLFE9L15bXntdK1xce1xccypcXFtuYXRpdmUgXFx3LyxKPS9eKD86IyhbXFx3LV0rKXwoXFx3Kyl8XFwuKFtcXHctXSspKSQvLEs9L1srfl0vLFo9bmV3IFJlZ0V4cChcIlxcXFxcXFxcKFtcXFxcZGEtZl17MSw2fVwiK00rXCI/fChcIitNK1wiKXwuKVwiLFwiaWdcIiksZWU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVwiMHhcIit0LTY1NTM2O3JldHVybiByIT09cnx8bj90OnI8MD9TdHJpbmcuZnJvbUNoYXJDb2RlKHIrNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUocj4+MTB8NTUyOTYsMTAyMyZyfDU2MzIwKX0sdGU9LyhbXFwwLVxceDFmXFx4N2ZdfF4tP1xcZCl8Xi0kfFteXFwwLVxceDFmXFx4N2YtXFx1RkZGRlxcdy1dL2csbmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9cIlxcMFwiPT09ZT9cIlxcdWZmZmRcIjplLnNsaWNlKDAsLTEpK1wiXFxcXFwiK2UuY2hhckNvZGVBdChlLmxlbmd0aC0xKS50b1N0cmluZygxNikrXCIgXCI6XCJcXFxcXCIrZX0scmU9ZnVuY3Rpb24oKXtwKCl9LGllPW1lKGZ1bmN0aW9uKGUpe3JldHVybiEwPT09ZS5kaXNhYmxlZCYmKFwiZm9ybVwiaW4gZXx8XCJsYWJlbFwiaW4gZSl9LHtkaXI6XCJwYXJlbnROb2RlXCIsbmV4dDpcImxlZ2VuZFwifSk7dHJ5e0wuYXBwbHkoQT1ILmNhbGwody5jaGlsZE5vZGVzKSx3LmNoaWxkTm9kZXMpLEFbdy5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZSl7TD17YXBwbHk6QS5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtxLmFwcGx5KGUsSC5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7d2hpbGUoZVtuKytdPXRbcisrXSk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gb2UoZSx0LHIsaSl7dmFyIG8scyxsLGMsZixoLHYsbT10JiZ0Lm93bmVyRG9jdW1lbnQsVD10P3Qubm9kZVR5cGU6OTtpZihyPXJ8fFtdLFwic3RyaW5nXCIhPXR5cGVvZiBlfHwhZXx8MSE9PVQmJjkhPT1UJiYxMSE9PVQpcmV0dXJuIHI7aWYoIWkmJigodD90Lm93bmVyRG9jdW1lbnR8fHQ6dykhPT1kJiZwKHQpLHQ9dHx8ZCxnKSl7aWYoMTEhPT1UJiYoZj1KLmV4ZWMoZSkpKWlmKG89ZlsxXSl7aWYoOT09PVQpe2lmKCEobD10LmdldEVsZW1lbnRCeUlkKG8pKSlyZXR1cm4gcjtpZihsLmlkPT09bylyZXR1cm4gci5wdXNoKGwpLHJ9ZWxzZSBpZihtJiYobD1tLmdldEVsZW1lbnRCeUlkKG8pKSYmeCh0LGwpJiZsLmlkPT09bylyZXR1cm4gci5wdXNoKGwpLHJ9ZWxzZXtpZihmWzJdKXJldHVybiBMLmFwcGx5KHIsdC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKSkscjtpZigobz1mWzNdKSYmbi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZ0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIEwuYXBwbHkocix0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobykpLHJ9aWYobi5xc2EmJiFTW2UrXCIgXCJdJiYoIXl8fCF5LnRlc3QoZSkpKXtpZigxIT09VCltPXQsdj1lO2Vsc2UgaWYoXCJvYmplY3RcIiE9PXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7KGM9dC5nZXRBdHRyaWJ1dGUoXCJpZFwiKSk/Yz1jLnJlcGxhY2UodGUsbmUpOnQuc2V0QXR0cmlidXRlKFwiaWRcIixjPWIpLHM9KGg9YShlKSkubGVuZ3RoO3doaWxlKHMtLSloW3NdPVwiI1wiK2MrXCIgXCIrdmUoaFtzXSk7dj1oLmpvaW4oXCIsXCIpLG09Sy50ZXN0KGUpJiZnZSh0LnBhcmVudE5vZGUpfHx0fWlmKHYpdHJ5e3JldHVybiBMLmFwcGx5KHIsbS5xdWVyeVNlbGVjdG9yQWxsKHYpKSxyfWNhdGNoKGUpe31maW5hbGx5e2M9PT1iJiZ0LnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpfX19cmV0dXJuIHUoZS5yZXBsYWNlKEIsXCIkMVwiKSx0LHIsaSl9ZnVuY3Rpb24gYWUoKXt2YXIgZT1bXTtmdW5jdGlvbiB0KG4saSl7cmV0dXJuIGUucHVzaChuK1wiIFwiKT5yLmNhY2hlTGVuZ3RoJiZkZWxldGUgdFtlLnNoaWZ0KCldLHRbbitcIiBcIl09aX1yZXR1cm4gdH1mdW5jdGlvbiBzZShlKXtyZXR1cm4gZVtiXT0hMCxlfWZ1bmN0aW9uIHVlKGUpe3ZhciB0PWQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2goZSl7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIGxlKGUsdCl7dmFyIG49ZS5zcGxpdChcInxcIiksaT1uLmxlbmd0aDt3aGlsZShpLS0pci5hdHRySGFuZGxlW25baV1dPXR9ZnVuY3Rpb24gY2UoZSx0KXt2YXIgbj10JiZlLHI9biYmMT09PWUubm9kZVR5cGUmJjE9PT10Lm5vZGVUeXBlJiZlLnNvdXJjZUluZGV4LXQuc291cmNlSW5kZXg7aWYocilyZXR1cm4gcjtpZihuKXdoaWxlKG49bi5uZXh0U2libGluZylpZihuPT09dClyZXR1cm4tMTtyZXR1cm4gZT8xOi0xfWZ1bmN0aW9uIGZlKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm5cImlucHV0XCI9PT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJnQudHlwZT09PWV9fWZ1bmN0aW9uIHBlKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKFwiaW5wdXRcIj09PW58fFwiYnV0dG9uXCI9PT1uKSYmdC50eXBlPT09ZX19ZnVuY3Rpb24gZGUoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVyblwiZm9ybVwiaW4gdD90LnBhcmVudE5vZGUmJiExPT09dC5kaXNhYmxlZD9cImxhYmVsXCJpbiB0P1wibGFiZWxcImluIHQucGFyZW50Tm9kZT90LnBhcmVudE5vZGUuZGlzYWJsZWQ9PT1lOnQuZGlzYWJsZWQ9PT1lOnQuaXNEaXNhYmxlZD09PWV8fHQuaXNEaXNhYmxlZCE9PSFlJiZpZSh0KT09PWU6dC5kaXNhYmxlZD09PWU6XCJsYWJlbFwiaW4gdCYmdC5kaXNhYmxlZD09PWV9fWZ1bmN0aW9uIGhlKGUpe3JldHVybiBzZShmdW5jdGlvbih0KXtyZXR1cm4gdD0rdCxzZShmdW5jdGlvbihuLHIpe3ZhciBpLG89ZShbXSxuLmxlbmd0aCx0KSxhPW8ubGVuZ3RoO3doaWxlKGEtLSluW2k9b1thXV0mJihuW2ldPSEocltpXT1uW2ldKSl9KX0pfWZ1bmN0aW9uIGdlKGUpe3JldHVybiBlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmZX1uPW9lLnN1cHBvcnQ9e30sbz1vZS5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiYoZS5vd25lckRvY3VtZW50fHxlKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuISF0JiZcIkhUTUxcIiE9PXQubm9kZU5hbWV9LHA9b2Uuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQsaSxhPWU/ZS5vd25lckRvY3VtZW50fHxlOnc7cmV0dXJuIGEhPT1kJiY5PT09YS5ub2RlVHlwZSYmYS5kb2N1bWVudEVsZW1lbnQ/KGQ9YSxoPWQuZG9jdW1lbnRFbGVtZW50LGc9IW8oZCksdyE9PWQmJihpPWQuZGVmYXVsdFZpZXcpJiZpLnRvcCE9PWkmJihpLmFkZEV2ZW50TGlzdGVuZXI/aS5hZGRFdmVudExpc3RlbmVyKFwidW5sb2FkXCIscmUsITEpOmkuYXR0YWNoRXZlbnQmJmkuYXR0YWNoRXZlbnQoXCJvbnVubG9hZFwiLHJlKSksbi5hdHRyaWJ1dGVzPXVlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNsYXNzTmFtZT1cImlcIiwhZS5nZXRBdHRyaWJ1dGUoXCJjbGFzc05hbWVcIil9KSxuLmdldEVsZW1lbnRzQnlUYWdOYW1lPXVlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFwcGVuZENoaWxkKGQuY3JlYXRlQ29tbWVudChcIlwiKSksIWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLmxlbmd0aH0pLG4uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1RLnRlc3QoZC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxuLmdldEJ5SWQ9dWUoZnVuY3Rpb24oZSl7cmV0dXJuIGguYXBwZW5kQ2hpbGQoZSkuaWQ9YiwhZC5nZXRFbGVtZW50c0J5TmFtZXx8IWQuZ2V0RWxlbWVudHNCeU5hbWUoYikubGVuZ3RofSksbi5nZXRCeUlkPyhyLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UoWixlZSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF0dHJpYnV0ZShcImlkXCIpPT09dH19LHIuZmluZC5JRD1mdW5jdGlvbihlLHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZnKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuP1tuXTpbXX19KTooci5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKFosZWUpO3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgZS5nZXRBdHRyaWJ1dGVOb2RlJiZlLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKTtyZXR1cm4gbiYmbi52YWx1ZT09PXR9fSxyLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5nZXRFbGVtZW50QnlJZCYmZyl7dmFyIG4scixpLG89dC5nZXRFbGVtZW50QnlJZChlKTtpZihvKXtpZigobj1vLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKSkmJm4udmFsdWU9PT1lKXJldHVybltvXTtpPXQuZ2V0RWxlbWVudHNCeU5hbWUoZSkscj0wO3doaWxlKG89aVtyKytdKWlmKChuPW8uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dfXJldHVybltdfX0pLHIuZmluZC5UQUc9bi5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihlLHQpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlUYWdOYW1lP3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk6bi5xc2E/dC5xdWVyeVNlbGVjdG9yQWxsKGUpOnZvaWQgMH06ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdLGk9MCxvPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk7aWYoXCIqXCI9PT1lKXt3aGlsZShuPW9baSsrXSkxPT09bi5ub2RlVHlwZSYmci5wdXNoKG4pO3JldHVybiByfXJldHVybiBvfSxyLmZpbmQuQ0xBU1M9bi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihlLHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmcpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKX0sdj1bXSx5PVtdLChuLnFzYT1RLnRlc3QoZC5xdWVyeVNlbGVjdG9yQWxsKSkmJih1ZShmdW5jdGlvbihlKXtoLmFwcGVuZENoaWxkKGUpLmlubmVySFRNTD1cIjxhIGlkPSdcIitiK1wiJz48L2E+PHNlbGVjdCBpZD0nXCIrYitcIi1cXHJcXFxcJyBtc2FsbG93Y2FwdHVyZT0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PlwiLGUucXVlcnlTZWxlY3RvckFsbChcIlttc2FsbG93Y2FwdHVyZV49JyddXCIpLmxlbmd0aCYmeS5wdXNoKFwiWypeJF09XCIrTStcIiooPzonJ3xcXFwiXFxcIilcIiksZS5xdWVyeVNlbGVjdG9yQWxsKFwiW3NlbGVjdGVkXVwiKS5sZW5ndGh8fHkucHVzaChcIlxcXFxbXCIrTStcIiooPzp2YWx1ZXxcIitQK1wiKVwiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbaWR+PVwiK2IrXCItXVwiKS5sZW5ndGh8fHkucHVzaChcIn49XCIpLGUucXVlcnlTZWxlY3RvckFsbChcIjpjaGVja2VkXCIpLmxlbmd0aHx8eS5wdXNoKFwiOmNoZWNrZWRcIiksZS5xdWVyeVNlbGVjdG9yQWxsKFwiYSNcIitiK1wiKypcIikubGVuZ3RofHx5LnB1c2goXCIuIy4rWyt+XVwiKX0pLHVlKGZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPVwiPGEgaHJlZj0nJyBkaXNhYmxlZD0nZGlzYWJsZWQnPjwvYT48c2VsZWN0IGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbi8+PC9zZWxlY3Q+XCI7dmFyIHQ9ZC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7dC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJoaWRkZW5cIiksZS5hcHBlbmRDaGlsZCh0KS5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJEXCIpLGUucXVlcnlTZWxlY3RvckFsbChcIltuYW1lPWRdXCIpLmxlbmd0aCYmeS5wdXNoKFwibmFtZVwiK00rXCIqWypeJHwhfl0/PVwiKSwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKFwiOmVuYWJsZWRcIikubGVuZ3RoJiZ5LnB1c2goXCI6ZW5hYmxlZFwiLFwiOmRpc2FibGVkXCIpLGguYXBwZW5kQ2hpbGQoZSkuZGlzYWJsZWQ9ITAsMiE9PWUucXVlcnlTZWxlY3RvckFsbChcIjpkaXNhYmxlZFwiKS5sZW5ndGgmJnkucHVzaChcIjplbmFibGVkXCIsXCI6ZGlzYWJsZWRcIiksZS5xdWVyeVNlbGVjdG9yQWxsKFwiKiw6eFwiKSx5LnB1c2goXCIsLio6XCIpfSkpLChuLm1hdGNoZXNTZWxlY3Rvcj1RLnRlc3QobT1oLm1hdGNoZXN8fGgud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxoLm1vek1hdGNoZXNTZWxlY3Rvcnx8aC5vTWF0Y2hlc1NlbGVjdG9yfHxoLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJnVlKGZ1bmN0aW9uKGUpe24uZGlzY29ubmVjdGVkTWF0Y2g9bS5jYWxsKGUsXCIqXCIpLG0uY2FsbChlLFwiW3MhPScnXTp4XCIpLHYucHVzaChcIiE9XCIsVyl9KSx5PXkubGVuZ3RoJiZuZXcgUmVnRXhwKHkuam9pbihcInxcIikpLHY9di5sZW5ndGgmJm5ldyBSZWdFeHAodi5qb2luKFwifFwiKSksdD1RLnRlc3QoaC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbikseD10fHxRLnRlc3QoaC5jb250YWlucyk/ZnVuY3Rpb24oZSx0KXt2YXIgbj05PT09ZS5ub2RlVHlwZT9lLmRvY3VtZW50RWxlbWVudDplLHI9dCYmdC5wYXJlbnROb2RlO3JldHVybiBlPT09cnx8ISghcnx8MSE9PXIubm9kZVR5cGV8fCEobi5jb250YWlucz9uLmNvbnRhaW5zKHIpOmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24ocikpKX06ZnVuY3Rpb24oZSx0KXtpZih0KXdoaWxlKHQ9dC5wYXJlbnROb2RlKWlmKHQ9PT1lKXJldHVybiEwO3JldHVybiExfSxEPXQ/ZnVuY3Rpb24oZSx0KXtpZihlPT09dClyZXR1cm4gZj0hMCwwO3ZhciByPSFlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSF0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiByfHwoMSYocj0oZS5vd25lckRvY3VtZW50fHxlKT09PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFuLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PXI/ZT09PWR8fGUub3duZXJEb2N1bWVudD09PXcmJngodyxlKT8tMTp0PT09ZHx8dC5vd25lckRvY3VtZW50PT09dyYmeCh3LHQpPzE6Yz9PKGMsZSktTyhjLHQpOjA6NCZyPy0xOjEpfTpmdW5jdGlvbihlLHQpe2lmKGU9PT10KXJldHVybiBmPSEwLDA7dmFyIG4scj0wLGk9ZS5wYXJlbnROb2RlLG89dC5wYXJlbnROb2RlLGE9W2VdLHM9W3RdO2lmKCFpfHwhbylyZXR1cm4gZT09PWQ/LTE6dD09PWQ/MTppPy0xOm8/MTpjP08oYyxlKS1PKGMsdCk6MDtpZihpPT09bylyZXR1cm4gY2UoZSx0KTtuPWU7d2hpbGUobj1uLnBhcmVudE5vZGUpYS51bnNoaWZ0KG4pO249dDt3aGlsZShuPW4ucGFyZW50Tm9kZSlzLnVuc2hpZnQobik7d2hpbGUoYVtyXT09PXNbcl0pcisrO3JldHVybiByP2NlKGFbcl0sc1tyXSk6YVtyXT09PXc/LTE6c1tyXT09PXc/MTowfSxkKTpkfSxvZS5tYXRjaGVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG9lKGUsbnVsbCxudWxsLHQpfSxvZS5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oZSx0KXtpZigoZS5vd25lckRvY3VtZW50fHxlKSE9PWQmJnAoZSksdD10LnJlcGxhY2UoeixcIj0nJDEnXVwiKSxuLm1hdGNoZXNTZWxlY3RvciYmZyYmIVNbdCtcIiBcIl0mJighdnx8IXYudGVzdCh0KSkmJigheXx8IXkudGVzdCh0KSkpdHJ5e3ZhciByPW0uY2FsbChlLHQpO2lmKHJ8fG4uZGlzY29ubmVjdGVkTWF0Y2h8fGUuZG9jdW1lbnQmJjExIT09ZS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gcn1jYXRjaChlKXt9cmV0dXJuIG9lKHQsZCxudWxsLFtlXSkubGVuZ3RoPjB9LG9lLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUub3duZXJEb2N1bWVudHx8ZSkhPT1kJiZwKGUpLHgoZSx0KX0sb2UuYXR0cj1mdW5jdGlvbihlLHQpeyhlLm93bmVyRG9jdW1lbnR8fGUpIT09ZCYmcChlKTt2YXIgaT1yLmF0dHJIYW5kbGVbdC50b0xvd2VyQ2FzZSgpXSxvPWkmJk4uY2FsbChyLmF0dHJIYW5kbGUsdC50b0xvd2VyQ2FzZSgpKT9pKGUsdCwhZyk6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1vP286bi5hdHRyaWJ1dGVzfHwhZz9lLmdldEF0dHJpYnV0ZSh0KToobz1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZvLnNwZWNpZmllZD9vLnZhbHVlOm51bGx9LG9lLmVzY2FwZT1mdW5jdGlvbihlKXtyZXR1cm4oZStcIlwiKS5yZXBsYWNlKHRlLG5lKX0sb2UuZXJyb3I9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogXCIrZSl9LG9lLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQscj1bXSxpPTAsbz0wO2lmKGY9IW4uZGV0ZWN0RHVwbGljYXRlcyxjPSFuLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KEQpLGYpe3doaWxlKHQ9ZVtvKytdKXQ9PT1lW29dJiYoaT1yLnB1c2gobykpO3doaWxlKGktLSllLnNwbGljZShyW2ldLDEpfXJldHVybiBjPW51bGwsZX0saT1vZS5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49XCJcIixyPTAsbz1lLm5vZGVUeXBlO2lmKG8pe2lmKDE9PT1vfHw5PT09b3x8MTE9PT1vKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZS50ZXh0Q29udGVudClyZXR1cm4gZS50ZXh0Q29udGVudDtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpbis9aShlKX1lbHNlIGlmKDM9PT1vfHw0PT09bylyZXR1cm4gZS5ub2RlVmFsdWV9ZWxzZSB3aGlsZSh0PWVbcisrXSluKz1pKHQpO3JldHVybiBufSwocj1vZS5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzpzZSxtYXRjaDpWLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7XCI+XCI6e2RpcjpcInBhcmVudE5vZGVcIixmaXJzdDohMH0sXCIgXCI6e2RpcjpcInBhcmVudE5vZGVcIn0sXCIrXCI6e2RpcjpcInByZXZpb3VzU2libGluZ1wiLGZpcnN0OiEwfSxcIn5cIjp7ZGlyOlwicHJldmlvdXNTaWJsaW5nXCJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS5yZXBsYWNlKFosZWUpLGVbM109KGVbM118fGVbNF18fGVbNV18fFwiXCIpLnJlcGxhY2UoWixlZSksXCJ+PVwiPT09ZVsyXSYmKGVbM109XCIgXCIrZVszXStcIiBcIiksZS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihlKXtyZXR1cm4gZVsxXT1lWzFdLnRvTG93ZXJDYXNlKCksXCJudGhcIj09PWVbMV0uc2xpY2UoMCwzKT8oZVszXXx8b2UuZXJyb3IoZVswXSksZVs0XT0rKGVbNF0/ZVs1XSsoZVs2XXx8MSk6MiooXCJldmVuXCI9PT1lWzNdfHxcIm9kZFwiPT09ZVszXSkpLGVbNV09KyhlWzddK2VbOF18fFwib2RkXCI9PT1lWzNdKSk6ZVszXSYmb2UuZXJyb3IoZVswXSksZX0sUFNFVURPOmZ1bmN0aW9uKGUpe3ZhciB0LG49IWVbNl0mJmVbMl07cmV0dXJuIFYuQ0hJTEQudGVzdChlWzBdKT9udWxsOihlWzNdP2VbMl09ZVs0XXx8ZVs1XXx8XCJcIjpuJiZYLnRlc3QobikmJih0PWEobiwhMCkpJiYodD1uLmluZGV4T2YoXCIpXCIsbi5sZW5ndGgtdCktbi5sZW5ndGgpJiYoZVswXT1lWzBdLnNsaWNlKDAsdCksZVsyXT1uLnNsaWNlKDAsdCkpLGUuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UoWixlZSkudG9Mb3dlckNhc2UoKTtyZXR1cm5cIipcIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1FW2UrXCIgXCJdO3JldHVybiB0fHwodD1uZXcgUmVnRXhwKFwiKF58XCIrTStcIilcIitlK1wiKFwiK00rXCJ8JClcIikpJiZFKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHQudGVzdChcInN0cmluZ1wiPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIpfSl9LEFUVFI6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmdW5jdGlvbihyKXt2YXIgaT1vZS5hdHRyKHIsZSk7cmV0dXJuIG51bGw9PWk/XCIhPVwiPT09dDohdHx8KGkrPVwiXCIsXCI9XCI9PT10P2k9PT1uOlwiIT1cIj09PXQ/aSE9PW46XCJePVwiPT09dD9uJiYwPT09aS5pbmRleE9mKG4pOlwiKj1cIj09PXQ/biYmaS5pbmRleE9mKG4pPi0xOlwiJD1cIj09PXQ/biYmaS5zbGljZSgtbi5sZW5ndGgpPT09bjpcIn49XCI9PT10PyhcIiBcIitpLnJlcGxhY2UoJCxcIiBcIikrXCIgXCIpLmluZGV4T2Yobik+LTE6XCJ8PVwiPT09dCYmKGk9PT1ufHxpLnNsaWNlKDAsbi5sZW5ndGgrMSk9PT1uK1wiLVwiKSl9fSxDSElMRDpmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvPVwibnRoXCIhPT1lLnNsaWNlKDAsMyksYT1cImxhc3RcIiE9PWUuc2xpY2UoLTQpLHM9XCJvZi10eXBlXCI9PT10O3JldHVybiAxPT09ciYmMD09PWk/ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmVudE5vZGV9OmZ1bmN0aW9uKHQsbix1KXt2YXIgbCxjLGYscCxkLGgsZz1vIT09YT9cIm5leHRTaWJsaW5nXCI6XCJwcmV2aW91c1NpYmxpbmdcIix5PXQucGFyZW50Tm9kZSx2PXMmJnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxtPSF1JiYhcyx4PSExO2lmKHkpe2lmKG8pe3doaWxlKGcpe3A9dDt3aGlsZShwPXBbZ10paWYocz9wLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT12OjE9PT1wLm5vZGVUeXBlKXJldHVybiExO2g9Zz1cIm9ubHlcIj09PWUmJiFoJiZcIm5leHRTaWJsaW5nXCJ9cmV0dXJuITB9aWYoaD1bYT95LmZpcnN0Q2hpbGQ6eS5sYXN0Q2hpbGRdLGEmJm0pe3g9KGQ9KGw9KGM9KGY9KHA9eSlbYl18fChwW2JdPXt9KSlbcC51bmlxdWVJRF18fChmW3AudW5pcXVlSURdPXt9KSlbZV18fFtdKVswXT09PVQmJmxbMV0pJiZsWzJdLHA9ZCYmeS5jaGlsZE5vZGVzW2RdO3doaWxlKHA9KytkJiZwJiZwW2ddfHwoeD1kPTApfHxoLnBvcCgpKWlmKDE9PT1wLm5vZGVUeXBlJiYrK3gmJnA9PT10KXtjW2VdPVtULGQseF07YnJlYWt9fWVsc2UgaWYobSYmKHg9ZD0obD0oYz0oZj0ocD10KVtiXXx8KHBbYl09e30pKVtwLnVuaXF1ZUlEXXx8KGZbcC51bmlxdWVJRF09e30pKVtlXXx8W10pWzBdPT09VCYmbFsxXSksITE9PT14KXdoaWxlKHA9KytkJiZwJiZwW2ddfHwoeD1kPTApfHxoLnBvcCgpKWlmKChzP3Aubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXY6MT09PXAubm9kZVR5cGUpJiYrK3gmJihtJiYoKGM9KGY9cFtiXXx8KHBbYl09e30pKVtwLnVuaXF1ZUlEXXx8KGZbcC51bmlxdWVJRF09e30pKVtlXT1bVCx4XSkscD09PXQpKWJyZWFrO3JldHVybih4LT1pKT09PXJ8fHglcj09MCYmeC9yPj0wfX19LFBTRVVETzpmdW5jdGlvbihlLHQpe3ZhciBuLGk9ci5wc2V1ZG9zW2VdfHxyLnNldEZpbHRlcnNbZS50b0xvd2VyQ2FzZSgpXXx8b2UuZXJyb3IoXCJ1bnN1cHBvcnRlZCBwc2V1ZG86IFwiK2UpO3JldHVybiBpW2JdP2kodCk6aS5sZW5ndGg+MT8obj1bZSxlLFwiXCIsdF0sci5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KGUudG9Mb3dlckNhc2UoKSk/c2UoZnVuY3Rpb24oZSxuKXt2YXIgcixvPWkoZSx0KSxhPW8ubGVuZ3RoO3doaWxlKGEtLSllW3I9TyhlLG9bYV0pXT0hKG5bcl09b1thXSl9KTpmdW5jdGlvbihlKXtyZXR1cm4gaShlLDAsbil9KTppfX0scHNldWRvczp7bm90OnNlKGZ1bmN0aW9uKGUpe3ZhciB0PVtdLG49W10scj1zKGUucmVwbGFjZShCLFwiJDFcIikpO3JldHVybiByW2JdP3NlKGZ1bmN0aW9uKGUsdCxuLGkpe3ZhciBvLGE9cihlLG51bGwsaSxbXSkscz1lLmxlbmd0aDt3aGlsZShzLS0pKG89YVtzXSkmJihlW3NdPSEodFtzXT1vKSl9KTpmdW5jdGlvbihlLGksbyl7cmV0dXJuIHRbMF09ZSxyKHQsbnVsbCxvLG4pLHRbMF09bnVsbCwhbi5wb3AoKX19KSxoYXM6c2UoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBvZShlLHQpLmxlbmd0aD4wfX0pLGNvbnRhaW5zOnNlKGZ1bmN0aW9uKGUpe3JldHVybiBlPWUucmVwbGFjZShaLGVlKSxmdW5jdGlvbih0KXtyZXR1cm4odC50ZXh0Q29udGVudHx8dC5pbm5lclRleHR8fGkodCkpLmluZGV4T2YoZSk+LTF9fSksbGFuZzpzZShmdW5jdGlvbihlKXtyZXR1cm4gVS50ZXN0KGV8fFwiXCIpfHxvZS5lcnJvcihcInVuc3VwcG9ydGVkIGxhbmc6IFwiK2UpLGU9ZS5yZXBsYWNlKFosZWUpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24odCl7dmFyIG47ZG97aWYobj1nP3QubGFuZzp0LmdldEF0dHJpYnV0ZShcInhtbDpsYW5nXCIpfHx0LmdldEF0dHJpYnV0ZShcImxhbmdcIikpcmV0dXJuKG49bi50b0xvd2VyQ2FzZSgpKT09PWV8fDA9PT1uLmluZGV4T2YoZStcIi1cIil9d2hpbGUoKHQ9dC5wYXJlbnROb2RlKSYmMT09PXQubm9kZVR5cGUpO3JldHVybiExfX0pLHRhcmdldDpmdW5jdGlvbih0KXt2YXIgbj1lLmxvY2F0aW9uJiZlLmxvY2F0aW9uLmhhc2g7cmV0dXJuIG4mJm4uc2xpY2UoMSk9PT10LmlkfSxyb290OmZ1bmN0aW9uKGUpe3JldHVybiBlPT09aH0sZm9jdXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1kLmFjdGl2ZUVsZW1lbnQmJighZC5oYXNGb2N1c3x8ZC5oYXNGb2N1cygpKSYmISEoZS50eXBlfHxlLmhyZWZ8fH5lLnRhYkluZGV4KX0sZW5hYmxlZDpkZSghMSksZGlzYWJsZWQ6ZGUoITApLGNoZWNrZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PXQmJiEhZS5jaGVja2VkfHxcIm9wdGlvblwiPT09dCYmISFlLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCwhMD09PWUuc2VsZWN0ZWR9LGVtcHR5OmZ1bmN0aW9uKGUpe2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZylpZihlLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihlKXtyZXR1cm4hci5wc2V1ZG9zLmVtcHR5KGUpfSxoZWFkZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIFkudGVzdChlLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIEcudGVzdChlLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImlucHV0XCI9PT10JiZcImJ1dHRvblwiPT09ZS50eXBlfHxcImJ1dHRvblwiPT09dH0sdGV4dDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm5cImlucHV0XCI9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJlwidGV4dFwiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKXx8XCJ0ZXh0XCI9PT10LnRvTG93ZXJDYXNlKCkpfSxmaXJzdDpoZShmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6aGUoZnVuY3Rpb24oZSx0KXtyZXR1cm5bdC0xXX0pLGVxOmhlKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5bbjwwP24rdDpuXX0pLGV2ZW46aGUoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPHQ7bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxvZGQ6aGUoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MTtuPHQ7bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxsdDpoZShmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPW48MD9uK3Q6bjstLXI+PTA7KWUucHVzaChyKTtyZXR1cm4gZX0pLGd0OmhlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDpuOysrcjx0OyllLnB1c2gocik7cmV0dXJuIGV9KX19KS5wc2V1ZG9zLm50aD1yLnBzZXVkb3MuZXE7Zm9yKHQgaW57cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pci5wc2V1ZG9zW3RdPWZlKHQpO2Zvcih0IGlue3N1Ym1pdDohMCxyZXNldDohMH0pci5wc2V1ZG9zW3RdPXBlKHQpO2Z1bmN0aW9uIHllKCl7fXllLnByb3RvdHlwZT1yLmZpbHRlcnM9ci5wc2V1ZG9zLHIuc2V0RmlsdGVycz1uZXcgeWUsYT1vZS50b2tlbml6ZT1mdW5jdGlvbihlLHQpe3ZhciBuLGksbyxhLHMsdSxsLGM9a1tlK1wiIFwiXTtpZihjKXJldHVybiB0PzA6Yy5zbGljZSgwKTtzPWUsdT1bXSxsPXIucHJlRmlsdGVyO3doaWxlKHMpe24mJiEoaT1GLmV4ZWMocykpfHwoaSYmKHM9cy5zbGljZShpWzBdLmxlbmd0aCl8fHMpLHUucHVzaChvPVtdKSksbj0hMSwoaT1fLmV4ZWMocykpJiYobj1pLnNoaWZ0KCksby5wdXNoKHt2YWx1ZTpuLHR5cGU6aVswXS5yZXBsYWNlKEIsXCIgXCIpfSkscz1zLnNsaWNlKG4ubGVuZ3RoKSk7Zm9yKGEgaW4gci5maWx0ZXIpIShpPVZbYV0uZXhlYyhzKSl8fGxbYV0mJiEoaT1sW2FdKGkpKXx8KG49aS5zaGlmdCgpLG8ucHVzaCh7dmFsdWU6bix0eXBlOmEsbWF0Y2hlczppfSkscz1zLnNsaWNlKG4ubGVuZ3RoKSk7aWYoIW4pYnJlYWt9cmV0dXJuIHQ/cy5sZW5ndGg6cz9vZS5lcnJvcihlKTprKGUsdSkuc2xpY2UoMCl9O2Z1bmN0aW9uIHZlKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj1cIlwiO3Q8bjt0Kyspcis9ZVt0XS52YWx1ZTtyZXR1cm4gcn1mdW5jdGlvbiBtZShlLHQsbil7dmFyIHI9dC5kaXIsaT10Lm5leHQsbz1pfHxyLGE9biYmXCJwYXJlbnROb2RlXCI9PT1vLHM9QysrO3JldHVybiB0LmZpcnN0P2Z1bmN0aW9uKHQsbixpKXt3aGlsZSh0PXRbcl0paWYoMT09PXQubm9kZVR5cGV8fGEpcmV0dXJuIGUodCxuLGkpO3JldHVybiExfTpmdW5jdGlvbih0LG4sdSl7dmFyIGwsYyxmLHA9W1Qsc107aWYodSl7d2hpbGUodD10W3JdKWlmKCgxPT09dC5ub2RlVHlwZXx8YSkmJmUodCxuLHUpKXJldHVybiEwfWVsc2Ugd2hpbGUodD10W3JdKWlmKDE9PT10Lm5vZGVUeXBlfHxhKWlmKGY9dFtiXXx8KHRbYl09e30pLGM9Zlt0LnVuaXF1ZUlEXXx8KGZbdC51bmlxdWVJRF09e30pLGkmJmk9PT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpdD10W3JdfHx0O2Vsc2V7aWYoKGw9Y1tvXSkmJmxbMF09PT1UJiZsWzFdPT09cylyZXR1cm4gcFsyXT1sWzJdO2lmKGNbb109cCxwWzJdPWUodCxuLHUpKXJldHVybiEwfXJldHVybiExfX1mdW5jdGlvbiB4ZShlKXtyZXR1cm4gZS5sZW5ndGg+MT9mdW5jdGlvbih0LG4scil7dmFyIGk9ZS5sZW5ndGg7d2hpbGUoaS0tKWlmKCFlW2ldKHQsbixyKSlyZXR1cm4hMTtyZXR1cm4hMH06ZVswXX1mdW5jdGlvbiBiZShlLHQsbil7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7cisrKW9lKGUsdFtyXSxuKTtyZXR1cm4gbn1mdW5jdGlvbiB3ZShlLHQsbixyLGkpe2Zvcih2YXIgbyxhPVtdLHM9MCx1PWUubGVuZ3RoLGw9bnVsbCE9dDtzPHU7cysrKShvPWVbc10pJiYobiYmIW4obyxyLGkpfHwoYS5wdXNoKG8pLGwmJnQucHVzaChzKSkpO3JldHVybiBhfWZ1bmN0aW9uIFRlKGUsdCxuLHIsaSxvKXtyZXR1cm4gciYmIXJbYl0mJihyPVRlKHIpKSxpJiYhaVtiXSYmKGk9VGUoaSxvKSksc2UoZnVuY3Rpb24obyxhLHMsdSl7dmFyIGwsYyxmLHA9W10sZD1bXSxoPWEubGVuZ3RoLGc9b3x8YmUodHx8XCIqXCIscy5ub2RlVHlwZT9bc106cyxbXSkseT0hZXx8IW8mJnQ/Zzp3ZShnLHAsZSxzLHUpLHY9bj9pfHwobz9lOmh8fHIpP1tdOmE6eTtpZihuJiZuKHksdixzLHUpLHIpe2w9d2UodixkKSxyKGwsW10scyx1KSxjPWwubGVuZ3RoO3doaWxlKGMtLSkoZj1sW2NdKSYmKHZbZFtjXV09ISh5W2RbY11dPWYpKX1pZihvKXtpZihpfHxlKXtpZihpKXtsPVtdLGM9di5sZW5ndGg7d2hpbGUoYy0tKShmPXZbY10pJiZsLnB1c2goeVtjXT1mKTtpKG51bGwsdj1bXSxsLHUpfWM9di5sZW5ndGg7d2hpbGUoYy0tKShmPXZbY10pJiYobD1pP08obyxmKTpwW2NdKT4tMSYmKG9bbF09IShhW2xdPWYpKX19ZWxzZSB2PXdlKHY9PT1hP3Yuc3BsaWNlKGgsdi5sZW5ndGgpOnYpLGk/aShudWxsLGEsdix1KTpMLmFwcGx5KGEsdil9KX1mdW5jdGlvbiBDZShlKXtmb3IodmFyIHQsbixpLG89ZS5sZW5ndGgsYT1yLnJlbGF0aXZlW2VbMF0udHlwZV0scz1hfHxyLnJlbGF0aXZlW1wiIFwiXSx1PWE/MTowLGM9bWUoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSxzLCEwKSxmPW1lKGZ1bmN0aW9uKGUpe3JldHVybiBPKHQsZSk+LTF9LHMsITApLHA9W2Z1bmN0aW9uKGUsbixyKXt2YXIgaT0hYSYmKHJ8fG4hPT1sKXx8KCh0PW4pLm5vZGVUeXBlP2MoZSxuLHIpOmYoZSxuLHIpKTtyZXR1cm4gdD1udWxsLGl9XTt1PG87dSsrKWlmKG49ci5yZWxhdGl2ZVtlW3VdLnR5cGVdKXA9W21lKHhlKHApLG4pXTtlbHNle2lmKChuPXIuZmlsdGVyW2VbdV0udHlwZV0uYXBwbHkobnVsbCxlW3VdLm1hdGNoZXMpKVtiXSl7Zm9yKGk9Kyt1O2k8bztpKyspaWYoci5yZWxhdGl2ZVtlW2ldLnR5cGVdKWJyZWFrO3JldHVybiBUZSh1PjEmJnhlKHApLHU+MSYmdmUoZS5zbGljZSgwLHUtMSkuY29uY2F0KHt2YWx1ZTpcIiBcIj09PWVbdS0yXS50eXBlP1wiKlwiOlwiXCJ9KSkucmVwbGFjZShCLFwiJDFcIiksbix1PGkmJkNlKGUuc2xpY2UodSxpKSksaTxvJiZDZShlPWUuc2xpY2UoaSkpLGk8byYmdmUoZSkpfXAucHVzaChuKX1yZXR1cm4geGUocCl9ZnVuY3Rpb24gRWUoZSx0KXt2YXIgbj10Lmxlbmd0aD4wLGk9ZS5sZW5ndGg+MCxvPWZ1bmN0aW9uKG8sYSxzLHUsYyl7dmFyIGYsaCx5LHY9MCxtPVwiMFwiLHg9byYmW10sYj1bXSx3PWwsQz1vfHxpJiZyLmZpbmQuVEFHKFwiKlwiLGMpLEU9VCs9bnVsbD09dz8xOk1hdGgucmFuZG9tKCl8fC4xLGs9Qy5sZW5ndGg7Zm9yKGMmJihsPWE9PT1kfHxhfHxjKTttIT09ayYmbnVsbCE9KGY9Q1ttXSk7bSsrKXtpZihpJiZmKXtoPTAsYXx8Zi5vd25lckRvY3VtZW50PT09ZHx8KHAoZikscz0hZyk7d2hpbGUoeT1lW2grK10paWYoeShmLGF8fGQscykpe3UucHVzaChmKTticmVha31jJiYoVD1FKX1uJiYoKGY9IXkmJmYpJiZ2LS0sbyYmeC5wdXNoKGYpKX1pZih2Kz1tLG4mJm0hPT12KXtoPTA7d2hpbGUoeT10W2grK10peSh4LGIsYSxzKTtpZihvKXtpZih2PjApd2hpbGUobS0tKXhbbV18fGJbbV18fChiW21dPWouY2FsbCh1KSk7Yj13ZShiKX1MLmFwcGx5KHUsYiksYyYmIW8mJmIubGVuZ3RoPjAmJnYrdC5sZW5ndGg+MSYmb2UudW5pcXVlU29ydCh1KX1yZXR1cm4gYyYmKFQ9RSxsPXcpLHh9O3JldHVybiBuP3NlKG8pOm99cmV0dXJuIHM9b2UuY29tcGlsZT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9W10saT1bXSxvPVNbZStcIiBcIl07aWYoIW8pe3R8fCh0PWEoZSkpLG49dC5sZW5ndGg7d2hpbGUobi0tKShvPUNlKHRbbl0pKVtiXT9yLnB1c2gobyk6aS5wdXNoKG8pOyhvPVMoZSxFZShpLHIpKSkuc2VsZWN0b3I9ZX1yZXR1cm4gb30sdT1vZS5zZWxlY3Q9ZnVuY3Rpb24oZSx0LG4saSl7dmFyIG8sdSxsLGMsZixwPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUsZD0haSYmYShlPXAuc2VsZWN0b3J8fGUpO2lmKG49bnx8W10sMT09PWQubGVuZ3RoKXtpZigodT1kWzBdPWRbMF0uc2xpY2UoMCkpLmxlbmd0aD4yJiZcIklEXCI9PT0obD11WzBdKS50eXBlJiY5PT09dC5ub2RlVHlwZSYmZyYmci5yZWxhdGl2ZVt1WzFdLnR5cGVdKXtpZighKHQ9KHIuZmluZC5JRChsLm1hdGNoZXNbMF0ucmVwbGFjZShaLGVlKSx0KXx8W10pWzBdKSlyZXR1cm4gbjtwJiYodD10LnBhcmVudE5vZGUpLGU9ZS5zbGljZSh1LnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1vPVYubmVlZHNDb250ZXh0LnRlc3QoZSk/MDp1Lmxlbmd0aDt3aGlsZShvLS0pe2lmKGw9dVtvXSxyLnJlbGF0aXZlW2M9bC50eXBlXSlicmVhaztpZigoZj1yLmZpbmRbY10pJiYoaT1mKGwubWF0Y2hlc1swXS5yZXBsYWNlKFosZWUpLEsudGVzdCh1WzBdLnR5cGUpJiZnZSh0LnBhcmVudE5vZGUpfHx0KSkpe2lmKHUuc3BsaWNlKG8sMSksIShlPWkubGVuZ3RoJiZ2ZSh1KSkpcmV0dXJuIEwuYXBwbHkobixpKSxuO2JyZWFrfX19cmV0dXJuKHB8fHMoZSxkKSkoaSx0LCFnLG4sIXR8fEsudGVzdChlKSYmZ2UodC5wYXJlbnROb2RlKXx8dCksbn0sbi5zb3J0U3RhYmxlPWIuc3BsaXQoXCJcIikuc29ydChEKS5qb2luKFwiXCIpPT09YixuLmRldGVjdER1cGxpY2F0ZXM9ISFmLHAoKSxuLnNvcnREZXRhY2hlZD11ZShmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpKX0pLHVlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVySFRNTD1cIjxhIGhyZWY9JyMnPjwvYT5cIixcIiNcIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpfSl8fGxlKFwidHlwZXxocmVmfGhlaWdodHx3aWR0aFwiLGZ1bmN0aW9uKGUsdCxuKXtpZighbilyZXR1cm4gZS5nZXRBdHRyaWJ1dGUodCxcInR5cGVcIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSksbi5hdHRyaWJ1dGVzJiZ1ZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9XCI8aW5wdXQvPlwiLGUuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLFwiXCIpLFwiXCI9PT1lLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwidmFsdWVcIil9KXx8bGUoXCJ2YWx1ZVwiLGZ1bmN0aW9uKGUsdCxuKXtpZighbiYmXCJpbnB1dFwiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiBlLmRlZmF1bHRWYWx1ZX0pLHVlKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpfSl8fGxlKFAsZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKCFuKXJldHVybiEwPT09ZVt0XT90LnRvTG93ZXJDYXNlKCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSksb2V9KGUpO3cuZmluZD1FLHcuZXhwcj1FLnNlbGVjdG9ycyx3LmV4cHJbXCI6XCJdPXcuZXhwci5wc2V1ZG9zLHcudW5pcXVlU29ydD13LnVuaXF1ZT1FLnVuaXF1ZVNvcnQsdy50ZXh0PUUuZ2V0VGV4dCx3LmlzWE1MRG9jPUUuaXNYTUwsdy5jb250YWlucz1FLmNvbnRhaW5zLHcuZXNjYXBlU2VsZWN0b3I9RS5lc2NhcGU7dmFyIGs9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdLGk9dm9pZCAwIT09bjt3aGlsZSgoZT1lW3RdKSYmOSE9PWUubm9kZVR5cGUpaWYoMT09PWUubm9kZVR5cGUpe2lmKGkmJncoZSkuaXMobikpYnJlYWs7ci5wdXNoKGUpfXJldHVybiByfSxTPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdO2U7ZT1lLm5leHRTaWJsaW5nKTE9PT1lLm5vZGVUeXBlJiZlIT09dCYmbi5wdXNoKGUpO3JldHVybiBufSxEPXcuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7ZnVuY3Rpb24gTihlLHQpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9dmFyIEE9L148KFthLXpdW15cXC9cXDA+OlxceDIwXFx0XFxyXFxuXFxmXSopW1xceDIwXFx0XFxyXFxuXFxmXSpcXC8/Pig/OjxcXC9cXDE+fCkkL2k7ZnVuY3Rpb24gaihlLHQsbil7cmV0dXJuIGcodCk/dy5ncmVwKGUsZnVuY3Rpb24oZSxyKXtyZXR1cm4hIXQuY2FsbChlLHIsZSkhPT1ufSk6dC5ub2RlVHlwZT93LmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PXQhPT1ufSk6XCJzdHJpbmdcIiE9dHlwZW9mIHQ/dy5ncmVwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHUuY2FsbCh0LGUpPi0xIT09bn0pOncuZmlsdGVyKHQsZSxuKX13LmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9XCI6bm90KFwiK2UrXCIpXCIpLDE9PT10Lmxlbmd0aCYmMT09PXIubm9kZVR5cGU/dy5maW5kLm1hdGNoZXNTZWxlY3RvcihyLGUpP1tyXTpbXTp3LmZpbmQubWF0Y2hlcyhlLHcuZ3JlcCh0LGZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZX0pKX0sdy5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyPXRoaXMubGVuZ3RoLGk9dGhpcztpZihcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5wdXNoU3RhY2sodyhlKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8cjt0KyspaWYody5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihuPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDxyO3QrKyl3LmZpbmQoZSxpW3RdLG4pO3JldHVybiByPjE/dy51bmlxdWVTb3J0KG4pOm59LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhaih0aGlzLFwic3RyaW5nXCI9PXR5cGVvZiBlJiZELnRlc3QoZSk/dyhlKTplfHxbXSwhMSkubGVuZ3RofX0pO3ZhciBxLEw9L14oPzpcXHMqKDxbXFx3XFxXXSs+KVtePl0qfCMoW1xcdy1dKykpJC87KHcuZm4uaW5pdD1mdW5jdGlvbihlLHQsbil7dmFyIGksbztpZighZSlyZXR1cm4gdGhpcztpZihuPW58fHEsXCJzdHJpbmdcIj09dHlwZW9mIGUpe2lmKCEoaT1cIjxcIj09PWVbMF0mJlwiPlwiPT09ZVtlLmxlbmd0aC0xXSYmZS5sZW5ndGg+PTM/W251bGwsZSxudWxsXTpMLmV4ZWMoZSkpfHwhaVsxXSYmdClyZXR1cm4hdHx8dC5qcXVlcnk/KHR8fG4pLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpO2lmKGlbMV0pe2lmKHQ9dCBpbnN0YW5jZW9mIHc/dFswXTp0LHcubWVyZ2UodGhpcyx3LnBhcnNlSFRNTChpWzFdLHQmJnQubm9kZVR5cGU/dC5vd25lckRvY3VtZW50fHx0OnIsITApKSxBLnRlc3QoaVsxXSkmJncuaXNQbGFpbk9iamVjdCh0KSlmb3IoaSBpbiB0KWcodGhpc1tpXSk/dGhpc1tpXSh0W2ldKTp0aGlzLmF0dHIoaSx0W2ldKTtyZXR1cm4gdGhpc31yZXR1cm4obz1yLmdldEVsZW1lbnRCeUlkKGlbMl0pKSYmKHRoaXNbMF09byx0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzWzBdPWUsdGhpcy5sZW5ndGg9MSx0aGlzKTpnKGUpP3ZvaWQgMCE9PW4ucmVhZHk/bi5yZWFkeShlKTplKHcpOncubWFrZUFycmF5KGUsdGhpcyl9KS5wcm90b3R5cGU9dy5mbixxPXcocik7dmFyIEg9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sTz17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTt3LmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGUpe3ZhciB0PXcoZSx0aGlzKSxuPXQubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8bjtlKyspaWYody5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLGE9XCJzdHJpbmdcIiE9dHlwZW9mIGUmJncoZSk7aWYoIUQudGVzdChlKSlmb3IoO3I8aTtyKyspZm9yKG49dGhpc1tyXTtuJiZuIT09dDtuPW4ucGFyZW50Tm9kZSlpZihuLm5vZGVUeXBlPDExJiYoYT9hLmluZGV4KG4pPi0xOjE9PT1uLm5vZGVUeXBlJiZ3LmZpbmQubWF0Y2hlc1NlbGVjdG9yKG4sZSkpKXtvLnB1c2gobik7YnJlYWt9cmV0dXJuIHRoaXMucHVzaFN0YWNrKG8ubGVuZ3RoPjE/dy51bmlxdWVTb3J0KG8pOm8pfSxpbmRleDpmdW5jdGlvbihlKXtyZXR1cm4gZT9cInN0cmluZ1wiPT10eXBlb2YgZT91LmNhbGwodyhlKSx0aGlzWzBdKTp1LmNhbGwodGhpcyxlLmpxdWVyeT9lWzBdOmUpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHcudW5pcXVlU29ydCh3Lm1lcmdlKHRoaXMuZ2V0KCksdyhlLHQpKSkpfSxhZGRCYWNrOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFkZChudWxsPT1lP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGUpKX19KTtmdW5jdGlvbiBQKGUsdCl7d2hpbGUoKGU9ZVt0XSkmJjEhPT1lLm5vZGVUeXBlKTtyZXR1cm4gZX13LmVhY2goe3BhcmVudDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuIHQmJjExIT09dC5ub2RlVHlwZT90Om51bGx9LHBhcmVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGsoZSxcInBhcmVudE5vZGVcIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGsoZSxcInBhcmVudE5vZGVcIixuKX0sbmV4dDpmdW5jdGlvbihlKXtyZXR1cm4gUChlLFwibmV4dFNpYmxpbmdcIil9LHByZXY6ZnVuY3Rpb24oZSl7cmV0dXJuIFAoZSxcInByZXZpb3VzU2libGluZ1wiKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4gayhlLFwibmV4dFNpYmxpbmdcIil9LHByZXZBbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIGsoZSxcInByZXZpb3VzU2libGluZ1wiKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gayhlLFwibmV4dFNpYmxpbmdcIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gayhlLFwicHJldmlvdXNTaWJsaW5nXCIsbil9LHNpYmxpbmdzOmZ1bmN0aW9uKGUpe3JldHVybiBTKChlLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLGUpfSxjaGlsZHJlbjpmdW5jdGlvbihlKXtyZXR1cm4gUyhlLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihlKXtyZXR1cm4gTihlLFwiaWZyYW1lXCIpP2UuY29udGVudERvY3VtZW50OihOKGUsXCJ0ZW1wbGF0ZVwiKSYmKGU9ZS5jb250ZW50fHxlKSx3Lm1lcmdlKFtdLGUuY2hpbGROb2RlcykpfX0sZnVuY3Rpb24oZSx0KXt3LmZuW2VdPWZ1bmN0aW9uKG4scil7dmFyIGk9dy5tYXAodGhpcyx0LG4pO3JldHVyblwiVW50aWxcIiE9PWUuc2xpY2UoLTUpJiYocj1uKSxyJiZcInN0cmluZ1wiPT10eXBlb2YgciYmKGk9dy5maWx0ZXIocixpKSksdGhpcy5sZW5ndGg+MSYmKE9bZV18fHcudW5pcXVlU29ydChpKSxILnRlc3QoZSkmJmkucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhpKX19KTt2YXIgTT0vW15cXHgyMFxcdFxcclxcblxcZl0rL2c7ZnVuY3Rpb24gUihlKXt2YXIgdD17fTtyZXR1cm4gdy5lYWNoKGUubWF0Y2goTSl8fFtdLGZ1bmN0aW9uKGUsbil7dFtuXT0hMH0pLHR9dy5DYWxsYmFja3M9ZnVuY3Rpb24oZSl7ZT1cInN0cmluZ1wiPT10eXBlb2YgZT9SKGUpOncuZXh0ZW5kKHt9LGUpO3ZhciB0LG4scixpLG89W10sYT1bXSxzPS0xLHU9ZnVuY3Rpb24oKXtmb3IoaT1pfHxlLm9uY2Uscj10PSEwO2EubGVuZ3RoO3M9LTEpe249YS5zaGlmdCgpO3doaWxlKCsrczxvLmxlbmd0aCkhMT09PW9bc10uYXBwbHkoblswXSxuWzFdKSYmZS5zdG9wT25GYWxzZSYmKHM9by5sZW5ndGgsbj0hMSl9ZS5tZW1vcnl8fChuPSExKSx0PSExLGkmJihvPW4/W106XCJcIil9LGw9e2FkZDpmdW5jdGlvbigpe3JldHVybiBvJiYobiYmIXQmJihzPW8ubGVuZ3RoLTEsYS5wdXNoKG4pKSxmdW5jdGlvbiB0KG4pe3cuZWFjaChuLGZ1bmN0aW9uKG4scil7ZyhyKT9lLnVuaXF1ZSYmbC5oYXMocil8fG8ucHVzaChyKTpyJiZyLmxlbmd0aCYmXCJzdHJpbmdcIiE9PXgocikmJnQocil9KX0oYXJndW1lbnRzKSxuJiYhdCYmdSgpKSx0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdy5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihlLHQpe3ZhciBuO3doaWxlKChuPXcuaW5BcnJheSh0LG8sbikpPi0xKW8uc3BsaWNlKG4sMSksbjw9cyYmcy0tfSksdGhpc30saGFzOmZ1bmN0aW9uKGUpe3JldHVybiBlP3cuaW5BcnJheShlLG8pPi0xOm8ubGVuZ3RoPjB9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIG8mJihvPVtdKSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGk9YT1bXSxvPW49XCJcIix0aGlzfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiFvfSxsb2NrOmZ1bmN0aW9uKCl7cmV0dXJuIGk9YT1bXSxufHx0fHwobz1uPVwiXCIpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiEhaX0sZmlyZVdpdGg6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gaXx8KG49W2UsKG49bnx8W10pLnNsaWNlP24uc2xpY2UoKTpuXSxhLnB1c2gobiksdHx8dSgpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGwuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFyfX07cmV0dXJuIGx9O2Z1bmN0aW9uIEkoZSl7cmV0dXJuIGV9ZnVuY3Rpb24gVyhlKXt0aHJvdyBlfWZ1bmN0aW9uICQoZSx0LG4scil7dmFyIGk7dHJ5e2UmJmcoaT1lLnByb21pc2UpP2kuY2FsbChlKS5kb25lKHQpLmZhaWwobik6ZSYmZyhpPWUudGhlbik/aS5jYWxsKGUsdCxuKTp0LmFwcGx5KHZvaWQgMCxbZV0uc2xpY2UocikpfWNhdGNoKGUpe24uYXBwbHkodm9pZCAwLFtlXSl9fXcuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbih0KXt2YXIgbj1bW1wibm90aWZ5XCIsXCJwcm9ncmVzc1wiLHcuQ2FsbGJhY2tzKFwibWVtb3J5XCIpLHcuQ2FsbGJhY2tzKFwibWVtb3J5XCIpLDJdLFtcInJlc29sdmVcIixcImRvbmVcIix3LkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLHcuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksMCxcInJlc29sdmVkXCJdLFtcInJlamVjdFwiLFwiZmFpbFwiLHcuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksdy5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSwxLFwicmVqZWN0ZWRcIl1dLHI9XCJwZW5kaW5nXCIsaT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gcn0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIG8uZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSxcImNhdGNoXCI6ZnVuY3Rpb24oZSl7cmV0dXJuIGkudGhlbihudWxsLGUpfSxwaXBlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzO3JldHVybiB3LkRlZmVycmVkKGZ1bmN0aW9uKHQpe3cuZWFjaChuLGZ1bmN0aW9uKG4scil7dmFyIGk9ZyhlW3JbNF1dKSYmZVtyWzRdXTtvW3JbMV1dKGZ1bmN0aW9uKCl7dmFyIGU9aSYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZSYmZyhlLnByb21pc2UpP2UucHJvbWlzZSgpLnByb2dyZXNzKHQubm90aWZ5KS5kb25lKHQucmVzb2x2ZSkuZmFpbCh0LnJlamVjdCk6dFtyWzBdK1wiV2l0aFwiXSh0aGlzLGk/W2VdOmFyZ3VtZW50cyl9KX0pLGU9bnVsbH0pLnByb21pc2UoKX0sdGhlbjpmdW5jdGlvbih0LHIsaSl7dmFyIG89MDtmdW5jdGlvbiBhKHQsbixyLGkpe3JldHVybiBmdW5jdGlvbigpe3ZhciBzPXRoaXMsdT1hcmd1bWVudHMsbD1mdW5jdGlvbigpe3ZhciBlLGw7aWYoISh0PG8pKXtpZigoZT1yLmFwcGx5KHMsdSkpPT09bi5wcm9taXNlKCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZW5hYmxlIHNlbGYtcmVzb2x1dGlvblwiKTtsPWUmJihcIm9iamVjdFwiPT10eXBlb2YgZXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkmJmUudGhlbixnKGwpP2k/bC5jYWxsKGUsYShvLG4sSSxpKSxhKG8sbixXLGkpKToobysrLGwuY2FsbChlLGEobyxuLEksaSksYShvLG4sVyxpKSxhKG8sbixJLG4ubm90aWZ5V2l0aCkpKToociE9PUkmJihzPXZvaWQgMCx1PVtlXSksKGl8fG4ucmVzb2x2ZVdpdGgpKHMsdSkpfX0sYz1pP2w6ZnVuY3Rpb24oKXt0cnl7bCgpfWNhdGNoKGUpe3cuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayYmdy5EZWZlcnJlZC5leGNlcHRpb25Ib29rKGUsYy5zdGFja1RyYWNlKSx0KzE+PW8mJihyIT09VyYmKHM9dm9pZCAwLHU9W2VdKSxuLnJlamVjdFdpdGgocyx1KSl9fTt0P2MoKToody5EZWZlcnJlZC5nZXRTdGFja0hvb2smJihjLnN0YWNrVHJhY2U9dy5EZWZlcnJlZC5nZXRTdGFja0hvb2soKSksZS5zZXRUaW1lb3V0KGMpKX19cmV0dXJuIHcuRGVmZXJyZWQoZnVuY3Rpb24oZSl7blswXVszXS5hZGQoYSgwLGUsZyhpKT9pOkksZS5ub3RpZnlXaXRoKSksblsxXVszXS5hZGQoYSgwLGUsZyh0KT90OkkpKSxuWzJdWzNdLmFkZChhKDAsZSxnKHIpP3I6VykpfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lP3cuZXh0ZW5kKGUsaSk6aX19LG89e307cmV0dXJuIHcuZWFjaChuLGZ1bmN0aW9uKGUsdCl7dmFyIGE9dFsyXSxzPXRbNV07aVt0WzFdXT1hLmFkZCxzJiZhLmFkZChmdW5jdGlvbigpe3I9c30sblszLWVdWzJdLmRpc2FibGUsblszLWVdWzNdLmRpc2FibGUsblswXVsyXS5sb2NrLG5bMF1bM10ubG9jayksYS5hZGQodFszXS5maXJlKSxvW3RbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIG9bdFswXStcIldpdGhcIl0odGhpcz09PW8/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxvW3RbMF0rXCJXaXRoXCJdPWEuZmlyZVdpdGh9KSxpLnByb21pc2UobyksdCYmdC5jYWxsKG8sbyksb30sd2hlbjpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoLG49dCxyPUFycmF5KG4pLGk9by5jYWxsKGFyZ3VtZW50cyksYT13LkRlZmVycmVkKCkscz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24obil7cltlXT10aGlzLGlbZV09YXJndW1lbnRzLmxlbmd0aD4xP28uY2FsbChhcmd1bWVudHMpOm4sLS10fHxhLnJlc29sdmVXaXRoKHIsaSl9fTtpZih0PD0xJiYoJChlLGEuZG9uZShzKG4pKS5yZXNvbHZlLGEucmVqZWN0LCF0KSxcInBlbmRpbmdcIj09PWEuc3RhdGUoKXx8ZyhpW25dJiZpW25dLnRoZW4pKSlyZXR1cm4gYS50aGVuKCk7d2hpbGUobi0tKSQoaVtuXSxzKG4pLGEucmVqZWN0KTtyZXR1cm4gYS5wcm9taXNlKCl9fSk7dmFyIEI9L14oRXZhbHxJbnRlcm5hbHxSYW5nZXxSZWZlcmVuY2V8U3ludGF4fFR5cGV8VVJJKUVycm9yJC87dy5EZWZlcnJlZC5leGNlcHRpb25Ib29rPWZ1bmN0aW9uKHQsbil7ZS5jb25zb2xlJiZlLmNvbnNvbGUud2FybiYmdCYmQi50ZXN0KHQubmFtZSkmJmUuY29uc29sZS53YXJuKFwialF1ZXJ5LkRlZmVycmVkIGV4Y2VwdGlvbjogXCIrdC5tZXNzYWdlLHQuc3RhY2ssbil9LHcucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24odCl7ZS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgdH0pfTt2YXIgRj13LkRlZmVycmVkKCk7dy5mbi5yZWFkeT1mdW5jdGlvbihlKXtyZXR1cm4gRi50aGVuKGUpW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZSl7dy5yZWFkeUV4Y2VwdGlvbihlKX0pLHRoaXN9LHcuZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLHJlYWR5OmZ1bmN0aW9uKGUpeyghMD09PWU/LS13LnJlYWR5V2FpdDp3LmlzUmVhZHkpfHwody5pc1JlYWR5PSEwLCEwIT09ZSYmLS13LnJlYWR5V2FpdD4wfHxGLnJlc29sdmVXaXRoKHIsW3ddKSl9fSksdy5yZWFkeS50aGVuPUYudGhlbjtmdW5jdGlvbiBfKCl7ci5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLF8pLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIixfKSx3LnJlYWR5KCl9XCJjb21wbGV0ZVwiPT09ci5yZWFkeVN0YXRlfHxcImxvYWRpbmdcIiE9PXIucmVhZHlTdGF0ZSYmIXIuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsP2Uuc2V0VGltZW91dCh3LnJlYWR5KTooci5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLF8pLGUuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixfKSk7dmFyIHo9ZnVuY3Rpb24oZSx0LG4scixpLG8sYSl7dmFyIHM9MCx1PWUubGVuZ3RoLGw9bnVsbD09bjtpZihcIm9iamVjdFwiPT09eChuKSl7aT0hMDtmb3IocyBpbiBuKXooZSx0LHMsbltzXSwhMCxvLGEpfWVsc2UgaWYodm9pZCAwIT09ciYmKGk9ITAsZyhyKXx8KGE9ITApLGwmJihhPyh0LmNhbGwoZSxyKSx0PW51bGwpOihsPXQsdD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGwuY2FsbCh3KGUpLG4pfSkpLHQpKWZvcig7czx1O3MrKyl0KGVbc10sbixhP3I6ci5jYWxsKGVbc10scyx0KGVbc10sbikpKTtyZXR1cm4gaT9lOmw/dC5jYWxsKGUpOnU/dChlWzBdLG4pOm99LFg9L14tbXMtLyxVPS8tKFthLXpdKS9nO2Z1bmN0aW9uIFYoZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfWZ1bmN0aW9uIEcoZSl7cmV0dXJuIGUucmVwbGFjZShYLFwibXMtXCIpLnJlcGxhY2UoVSxWKX12YXIgWT1mdW5jdGlvbihlKXtyZXR1cm4gMT09PWUubm9kZVR5cGV8fDk9PT1lLm5vZGVUeXBlfHwhK2Uubm9kZVR5cGV9O2Z1bmN0aW9uIFEoKXt0aGlzLmV4cGFuZG89dy5leHBhbmRvK1EudWlkKyt9US51aWQ9MSxRLnByb3RvdHlwZT17Y2FjaGU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZVt0aGlzLmV4cGFuZG9dO3JldHVybiB0fHwodD17fSxZKGUpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dDpPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0aGlzLmV4cGFuZG8se3ZhbHVlOnQsY29uZmlndXJhYmxlOiEwfSkpKSx0fSxzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk9dGhpcy5jYWNoZShlKTtpZihcInN0cmluZ1wiPT10eXBlb2YgdClpW0codCldPW47ZWxzZSBmb3IociBpbiB0KWlbRyhyKV09dFtyXTtyZXR1cm4gaX0sZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShlKTplW3RoaXMuZXhwYW5kb10mJmVbdGhpcy5leHBhbmRvXVtHKHQpXX0sYWNjZXNzOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmXCJzdHJpbmdcIj09dHlwZW9mIHQmJnZvaWQgMD09PW4/dGhpcy5nZXQoZSx0KToodGhpcy5zZXQoZSx0LG4pLHZvaWQgMCE9PW4/bjp0KX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1lW3RoaXMuZXhwYW5kb107aWYodm9pZCAwIT09cil7aWYodm9pZCAwIT09dCl7bj0odD1BcnJheS5pc0FycmF5KHQpP3QubWFwKEcpOih0PUcodCkpaW4gcj9bdF06dC5tYXRjaChNKXx8W10pLmxlbmd0aDt3aGlsZShuLS0pZGVsZXRlIHJbdFtuXV19KHZvaWQgMD09PXR8fHcuaXNFbXB0eU9iamVjdChyKSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT12b2lkIDA6ZGVsZXRlIGVbdGhpcy5leHBhbmRvXSl9fSxoYXNEYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PWVbdGhpcy5leHBhbmRvXTtyZXR1cm4gdm9pZCAwIT09dCYmIXcuaXNFbXB0eU9iamVjdCh0KX19O3ZhciBKPW5ldyBRLEs9bmV3IFEsWj0vXig/Olxce1tcXHdcXFddKlxcfXxcXFtbXFx3XFxXXSpcXF0pJC8sZWU9L1tBLVpdL2c7ZnVuY3Rpb24gdGUoZSl7cmV0dXJuXCJ0cnVlXCI9PT1lfHxcImZhbHNlXCIhPT1lJiYoXCJudWxsXCI9PT1lP251bGw6ZT09PStlK1wiXCI/K2U6Wi50ZXN0KGUpP0pTT04ucGFyc2UoZSk6ZSl9ZnVuY3Rpb24gbmUoZSx0LG4pe3ZhciByO2lmKHZvaWQgMD09PW4mJjE9PT1lLm5vZGVUeXBlKWlmKHI9XCJkYXRhLVwiK3QucmVwbGFjZShlZSxcIi0kJlwiKS50b0xvd2VyQ2FzZSgpLFwic3RyaW5nXCI9PXR5cGVvZihuPWUuZ2V0QXR0cmlidXRlKHIpKSl7dHJ5e249dGUobil9Y2F0Y2goZSl7fUsuc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufXcuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBLLmhhc0RhdGEoZSl8fEouaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIEsuYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe0sucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gSi5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe0oucmVtb3ZlKGUsdCl9fSksdy5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbz10aGlzWzBdLGE9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PWUpe2lmKHRoaXMubGVuZ3RoJiYoaT1LLmdldChvKSwxPT09by5ub2RlVHlwZSYmIUouZ2V0KG8sXCJoYXNEYXRhQXR0cnNcIikpKXtuPWEubGVuZ3RoO3doaWxlKG4tLSlhW25dJiYwPT09KHI9YVtuXS5uYW1lKS5pbmRleE9mKFwiZGF0YS1cIikmJihyPUcoci5zbGljZSg1KSksbmUobyxyLGlbcl0pKTtKLnNldChvLFwiaGFzRGF0YUF0dHJzXCIsITApfXJldHVybiBpfXJldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlP3RoaXMuZWFjaChmdW5jdGlvbigpe0suc2V0KHRoaXMsZSl9KTp6KHRoaXMsZnVuY3Rpb24odCl7dmFyIG47aWYobyYmdm9pZCAwPT09dCl7aWYodm9pZCAwIT09KG49Sy5nZXQobyxlKSkpcmV0dXJuIG47aWYodm9pZCAwIT09KG49bmUobyxlKSkpcmV0dXJuIG59ZWxzZSB0aGlzLmVhY2goZnVuY3Rpb24oKXtLLnNldCh0aGlzLGUsdCl9KX0sbnVsbCx0LGFyZ3VtZW50cy5sZW5ndGg+MSxudWxsLCEwKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Sy5yZW1vdmUodGhpcyxlKX0pfX0pLHcuZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoZSlyZXR1cm4gdD0odHx8XCJmeFwiKStcInF1ZXVlXCIscj1KLmdldChlLHQpLG4mJighcnx8QXJyYXkuaXNBcnJheShuKT9yPUouYWNjZXNzKGUsdCx3Lm1ha2VBcnJheShuKSk6ci5wdXNoKG4pKSxyfHxbXX0sZGVxdWV1ZTpmdW5jdGlvbihlLHQpe3Q9dHx8XCJmeFwiO3ZhciBuPXcucXVldWUoZSx0KSxyPW4ubGVuZ3RoLGk9bi5zaGlmdCgpLG89dy5fcXVldWVIb29rcyhlLHQpLGE9ZnVuY3Rpb24oKXt3LmRlcXVldWUoZSx0KX07XCJpbnByb2dyZXNzXCI9PT1pJiYoaT1uLnNoaWZ0KCksci0tKSxpJiYoXCJmeFwiPT09dCYmbi51bnNoaWZ0KFwiaW5wcm9ncmVzc1wiKSxkZWxldGUgby5zdG9wLGkuY2FsbChlLGEsbykpLCFyJiZvJiZvLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oZSx0KXt2YXIgbj10K1wicXVldWVIb29rc1wiO3JldHVybiBKLmdldChlLG4pfHxKLmFjY2VzcyhlLG4se2VtcHR5OncuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIikuYWRkKGZ1bmN0aW9uKCl7Si5yZW1vdmUoZSxbdCtcInF1ZXVlXCIsbl0pfSl9KX19KSx3LmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj0yO3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBlJiYodD1lLGU9XCJmeFwiLG4tLSksYXJndW1lbnRzLmxlbmd0aDxuP3cucXVldWUodGhpc1swXSxlKTp2b2lkIDA9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49dy5xdWV1ZSh0aGlzLGUsdCk7dy5fcXVldWVIb29rcyh0aGlzLGUpLFwiZnhcIj09PWUmJlwiaW5wcm9ncmVzc1wiIT09blswXSYmdy5kZXF1ZXVlKHRoaXMsZSl9KX0sZGVxdWV1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dy5kZXF1ZXVlKHRoaXMsZSl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5xdWV1ZShlfHxcImZ4XCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0xLGk9dy5EZWZlcnJlZCgpLG89dGhpcyxhPXRoaXMubGVuZ3RoLHM9ZnVuY3Rpb24oKXstLXJ8fGkucmVzb2x2ZVdpdGgobyxbb10pfTtcInN0cmluZ1wiIT10eXBlb2YgZSYmKHQ9ZSxlPXZvaWQgMCksZT1lfHxcImZ4XCI7d2hpbGUoYS0tKShuPUouZ2V0KG9bYV0sZStcInF1ZXVlSG9va3NcIikpJiZuLmVtcHR5JiYocisrLG4uZW1wdHkuYWRkKHMpKTtyZXR1cm4gcygpLGkucHJvbWlzZSh0KX19KTt2YXIgcmU9L1srLV0/KD86XFxkKlxcLnwpXFxkKyg/OltlRV1bKy1dP1xcZCt8KS8uc291cmNlLGllPW5ldyBSZWdFeHAoXCJeKD86KFsrLV0pPXwpKFwiK3JlK1wiKShbYS16JV0qKSRcIixcImlcIiksb2U9W1wiVG9wXCIsXCJSaWdodFwiLFwiQm90dG9tXCIsXCJMZWZ0XCJdLGFlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJub25lXCI9PT0oZT10fHxlKS5zdHlsZS5kaXNwbGF5fHxcIlwiPT09ZS5zdHlsZS5kaXNwbGF5JiZ3LmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKSYmXCJub25lXCI9PT13LmNzcyhlLFwiZGlzcGxheVwiKX0sc2U9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhPXt9O2ZvcihvIGluIHQpYVtvXT1lLnN0eWxlW29dLGUuc3R5bGVbb109dFtvXTtpPW4uYXBwbHkoZSxyfHxbXSk7Zm9yKG8gaW4gdCllLnN0eWxlW29dPWFbb107cmV0dXJuIGl9O2Z1bmN0aW9uIHVlKGUsdCxuLHIpe3ZhciBpLG8sYT0yMCxzPXI/ZnVuY3Rpb24oKXtyZXR1cm4gci5jdXIoKX06ZnVuY3Rpb24oKXtyZXR1cm4gdy5jc3MoZSx0LFwiXCIpfSx1PXMoKSxsPW4mJm5bM118fCh3LmNzc051bWJlclt0XT9cIlwiOlwicHhcIiksYz0ody5jc3NOdW1iZXJbdF18fFwicHhcIiE9PWwmJit1KSYmaWUuZXhlYyh3LmNzcyhlLHQpKTtpZihjJiZjWzNdIT09bCl7dS89MixsPWx8fGNbM10sYz0rdXx8MTt3aGlsZShhLS0pdy5zdHlsZShlLHQsYytsKSwoMS1vKSooMS0obz1zKCkvdXx8LjUpKTw9MCYmKGE9MCksYy89bztjKj0yLHcuc3R5bGUoZSx0LGMrbCksbj1ufHxbXX1yZXR1cm4gbiYmKGM9K2N8fCt1fHwwLGk9blsxXT9jKyhuWzFdKzEpKm5bMl06K25bMl0sciYmKHIudW5pdD1sLHIuc3RhcnQ9YyxyLmVuZD1pKSksaX12YXIgbGU9e307ZnVuY3Rpb24gY2UoZSl7dmFyIHQsbj1lLm93bmVyRG9jdW1lbnQscj1lLm5vZGVOYW1lLGk9bGVbcl07cmV0dXJuIGl8fCh0PW4uYm9keS5hcHBlbmRDaGlsZChuLmNyZWF0ZUVsZW1lbnQocikpLGk9dy5jc3ModCxcImRpc3BsYXlcIiksdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpLFwibm9uZVwiPT09aSYmKGk9XCJibG9ja1wiKSxsZVtyXT1pLGkpfWZ1bmN0aW9uIGZlKGUsdCl7Zm9yKHZhciBuLHIsaT1bXSxvPTAsYT1lLmxlbmd0aDtvPGE7bysrKShyPWVbb10pLnN0eWxlJiYobj1yLnN0eWxlLmRpc3BsYXksdD8oXCJub25lXCI9PT1uJiYoaVtvXT1KLmdldChyLFwiZGlzcGxheVwiKXx8bnVsbCxpW29dfHwoci5zdHlsZS5kaXNwbGF5PVwiXCIpKSxcIlwiPT09ci5zdHlsZS5kaXNwbGF5JiZhZShyKSYmKGlbb109Y2UocikpKTpcIm5vbmVcIiE9PW4mJihpW29dPVwibm9uZVwiLEouc2V0KHIsXCJkaXNwbGF5XCIsbikpKTtmb3Iobz0wO288YTtvKyspbnVsbCE9aVtvXSYmKGVbb10uc3R5bGUuZGlzcGxheT1pW29dKTtyZXR1cm4gZX13LmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiBmZSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBmZSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgZT9lP3RoaXMuc2hvdygpOnRoaXMuaGlkZSgpOnRoaXMuZWFjaChmdW5jdGlvbigpe2FlKHRoaXMpP3codGhpcykuc2hvdygpOncodGhpcykuaGlkZSgpfSl9fSk7dmFyIHBlPS9eKD86Y2hlY2tib3h8cmFkaW8pJC9pLGRlPS88KFthLXpdW15cXC9cXDA+XFx4MjBcXHRcXHJcXG5cXGZdKykvaSxoZT0vXiR8Xm1vZHVsZSR8XFwvKD86amF2YXxlY21hKXNjcmlwdC9pLGdlPXtvcHRpb246WzEsXCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+XCIsXCI8L3NlbGVjdD5cIl0sdGhlYWQ6WzEsXCI8dGFibGU+XCIsXCI8L3RhYmxlPlwiXSxjb2w6WzIsXCI8dGFibGU+PGNvbGdyb3VwPlwiLFwiPC9jb2xncm91cD48L3RhYmxlPlwiXSx0cjpbMixcIjx0YWJsZT48dGJvZHk+XCIsXCI8L3Rib2R5PjwvdGFibGU+XCJdLHRkOlszLFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIl0sX2RlZmF1bHQ6WzAsXCJcIixcIlwiXX07Z2Uub3B0Z3JvdXA9Z2Uub3B0aW9uLGdlLnRib2R5PWdlLnRmb290PWdlLmNvbGdyb3VwPWdlLmNhcHRpb249Z2UudGhlYWQsZ2UudGg9Z2UudGQ7ZnVuY3Rpb24geWUoZSx0KXt2YXIgbjtyZXR1cm4gbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHR8fFwiKlwiKTpcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5xdWVyeVNlbGVjdG9yQWxsP2UucXVlcnlTZWxlY3RvckFsbCh0fHxcIipcIik6W10sdm9pZCAwPT09dHx8dCYmTihlLHQpP3cubWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24gdmUoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspSi5zZXQoZVtuXSxcImdsb2JhbEV2YWxcIiwhdHx8Si5nZXQodFtuXSxcImdsb2JhbEV2YWxcIikpfXZhciBtZT0vPHwmIz9cXHcrOy87ZnVuY3Rpb24geGUoZSx0LG4scixpKXtmb3IodmFyIG8sYSxzLHUsbCxjLGY9dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscD1bXSxkPTAsaD1lLmxlbmd0aDtkPGg7ZCsrKWlmKChvPWVbZF0pfHwwPT09bylpZihcIm9iamVjdFwiPT09eChvKSl3Lm1lcmdlKHAsby5ub2RlVHlwZT9bb106byk7ZWxzZSBpZihtZS50ZXN0KG8pKXthPWF8fGYuYXBwZW5kQ2hpbGQodC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSxzPShkZS5leGVjKG8pfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKSx1PWdlW3NdfHxnZS5fZGVmYXVsdCxhLmlubmVySFRNTD11WzFdK3cuaHRtbFByZWZpbHRlcihvKSt1WzJdLGM9dVswXTt3aGlsZShjLS0pYT1hLmxhc3RDaGlsZDt3Lm1lcmdlKHAsYS5jaGlsZE5vZGVzKSwoYT1mLmZpcnN0Q2hpbGQpLnRleHRDb250ZW50PVwiXCJ9ZWxzZSBwLnB1c2godC5jcmVhdGVUZXh0Tm9kZShvKSk7Zi50ZXh0Q29udGVudD1cIlwiLGQ9MDt3aGlsZShvPXBbZCsrXSlpZihyJiZ3LmluQXJyYXkobyxyKT4tMSlpJiZpLnB1c2gobyk7ZWxzZSBpZihsPXcuY29udGFpbnMoby5vd25lckRvY3VtZW50LG8pLGE9eWUoZi5hcHBlbmRDaGlsZChvKSxcInNjcmlwdFwiKSxsJiZ2ZShhKSxuKXtjPTA7d2hpbGUobz1hW2MrK10paGUudGVzdChvLnR5cGV8fFwiXCIpJiZuLnB1c2gobyl9cmV0dXJuIGZ9IWZ1bmN0aW9uKCl7dmFyIGU9ci5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkuYXBwZW5kQ2hpbGQoci5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSx0PXIuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO3Quc2V0QXR0cmlidXRlKFwidHlwZVwiLFwicmFkaW9cIiksdC5zZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIsXCJjaGVja2VkXCIpLHQuc2V0QXR0cmlidXRlKFwibmFtZVwiLFwidFwiKSxlLmFwcGVuZENoaWxkKHQpLGguY2hlY2tDbG9uZT1lLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCxlLmlubmVySFRNTD1cIjx0ZXh0YXJlYT54PC90ZXh0YXJlYT5cIixoLm5vQ2xvbmVDaGVja2VkPSEhZS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWV9KCk7dmFyIGJlPXIuZG9jdW1lbnRFbGVtZW50LHdlPS9ea2V5LyxUZT0vXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnV8ZHJhZ3xkcm9wKXxjbGljay8sQ2U9L14oW14uXSopKD86XFwuKC4rKXwpLztmdW5jdGlvbiBFZSgpe3JldHVybiEwfWZ1bmN0aW9uIGtlKCl7cmV0dXJuITF9ZnVuY3Rpb24gU2UoKXt0cnl7cmV0dXJuIHIuYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fWZ1bmN0aW9uIERlKGUsdCxuLHIsaSxvKXt2YXIgYSxzO2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0KXtcInN0cmluZ1wiIT10eXBlb2YgbiYmKHI9cnx8bixuPXZvaWQgMCk7Zm9yKHMgaW4gdClEZShlLHMsbixyLHRbc10sbyk7cmV0dXJuIGV9aWYobnVsbD09ciYmbnVsbD09aT8oaT1uLHI9bj12b2lkIDApOm51bGw9PWkmJihcInN0cmluZ1wiPT10eXBlb2Ygbj8oaT1yLHI9dm9pZCAwKTooaT1yLHI9bixuPXZvaWQgMCkpLCExPT09aSlpPWtlO2Vsc2UgaWYoIWkpcmV0dXJuIGU7cmV0dXJuIDE9PT1vJiYoYT1pLChpPWZ1bmN0aW9uKGUpe3JldHVybiB3KCkub2ZmKGUpLGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSkuZ3VpZD1hLmd1aWR8fChhLmd1aWQ9dy5ndWlkKyspKSxlLmVhY2goZnVuY3Rpb24oKXt3LmV2ZW50LmFkZCh0aGlzLHQsaSxyLG4pfSl9dy5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvLGEscyx1LGwsYyxmLHAsZCxoLGcseT1KLmdldChlKTtpZih5KXtuLmhhbmRsZXImJihuPShvPW4pLmhhbmRsZXIsaT1vLnNlbGVjdG9yKSxpJiZ3LmZpbmQubWF0Y2hlc1NlbGVjdG9yKGJlLGkpLG4uZ3VpZHx8KG4uZ3VpZD13Lmd1aWQrKyksKHU9eS5ldmVudHMpfHwodT15LmV2ZW50cz17fSksKGE9eS5oYW5kbGUpfHwoYT15LmhhbmRsZT1mdW5jdGlvbih0KXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgdyYmdy5ldmVudC50cmlnZ2VyZWQhPT10LnR5cGU/dy5ldmVudC5kaXNwYXRjaC5hcHBseShlLGFyZ3VtZW50cyk6dm9pZCAwfSksbD0odD0odHx8XCJcIikubWF0Y2goTSl8fFtcIlwiXSkubGVuZ3RoO3doaWxlKGwtLSlkPWc9KHM9Q2UuZXhlYyh0W2xdKXx8W10pWzFdLGg9KHNbMl18fFwiXCIpLnNwbGl0KFwiLlwiKS5zb3J0KCksZCYmKGY9dy5ldmVudC5zcGVjaWFsW2RdfHx7fSxkPShpP2YuZGVsZWdhdGVUeXBlOmYuYmluZFR5cGUpfHxkLGY9dy5ldmVudC5zcGVjaWFsW2RdfHx7fSxjPXcuZXh0ZW5kKHt0eXBlOmQsb3JpZ1R5cGU6ZyxkYXRhOnIsaGFuZGxlcjpuLGd1aWQ6bi5ndWlkLHNlbGVjdG9yOmksbmVlZHNDb250ZXh0OmkmJncuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChpKSxuYW1lc3BhY2U6aC5qb2luKFwiLlwiKX0sbyksKHA9dVtkXSl8fCgocD11W2RdPVtdKS5kZWxlZ2F0ZUNvdW50PTAsZi5zZXR1cCYmITEhPT1mLnNldHVwLmNhbGwoZSxyLGgsYSl8fGUuYWRkRXZlbnRMaXN0ZW5lciYmZS5hZGRFdmVudExpc3RlbmVyKGQsYSkpLGYuYWRkJiYoZi5hZGQuY2FsbChlLGMpLGMuaGFuZGxlci5ndWlkfHwoYy5oYW5kbGVyLmd1aWQ9bi5ndWlkKSksaT9wLnNwbGljZShwLmRlbGVnYXRlQ291bnQrKywwLGMpOnAucHVzaChjKSx3LmV2ZW50Lmdsb2JhbFtkXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHk9Si5oYXNEYXRhKGUpJiZKLmdldChlKTtpZih5JiYodT15LmV2ZW50cykpe2w9KHQ9KHR8fFwiXCIpLm1hdGNoKE0pfHxbXCJcIl0pLmxlbmd0aDt3aGlsZShsLS0paWYocz1DZS5leGVjKHRbbF0pfHxbXSxkPWc9c1sxXSxoPShzWzJdfHxcIlwiKS5zcGxpdChcIi5cIikuc29ydCgpLGQpe2Y9dy5ldmVudC5zcGVjaWFsW2RdfHx7fSxwPXVbZD0ocj9mLmRlbGVnYXRlVHlwZTpmLmJpbmRUeXBlKXx8ZF18fFtdLHM9c1syXSYmbmV3IFJlZ0V4cChcIihefFxcXFwuKVwiK2guam9pbihcIlxcXFwuKD86LipcXFxcLnwpXCIpK1wiKFxcXFwufCQpXCIpLGE9bz1wLmxlbmd0aDt3aGlsZShvLS0pYz1wW29dLCFpJiZnIT09Yy5vcmlnVHlwZXx8biYmbi5ndWlkIT09Yy5ndWlkfHxzJiYhcy50ZXN0KGMubmFtZXNwYWNlKXx8ciYmciE9PWMuc2VsZWN0b3ImJihcIioqXCIhPT1yfHwhYy5zZWxlY3Rvcil8fChwLnNwbGljZShvLDEpLGMuc2VsZWN0b3ImJnAuZGVsZWdhdGVDb3VudC0tLGYucmVtb3ZlJiZmLnJlbW92ZS5jYWxsKGUsYykpO2EmJiFwLmxlbmd0aCYmKGYudGVhcmRvd24mJiExIT09Zi50ZWFyZG93bi5jYWxsKGUsaCx5LmhhbmRsZSl8fHcucmVtb3ZlRXZlbnQoZSxkLHkuaGFuZGxlKSxkZWxldGUgdVtkXSl9ZWxzZSBmb3IoZCBpbiB1KXcuZXZlbnQucmVtb3ZlKGUsZCt0W2xdLG4sciwhMCk7dy5pc0VtcHR5T2JqZWN0KHUpJiZKLnJlbW92ZShlLFwiaGFuZGxlIGV2ZW50c1wiKX19LGRpc3BhdGNoOmZ1bmN0aW9uKGUpe3ZhciB0PXcuZXZlbnQuZml4KGUpLG4scixpLG8sYSxzLHU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLGw9KEouZ2V0KHRoaXMsXCJldmVudHNcIil8fHt9KVt0LnR5cGVdfHxbXSxjPXcuZXZlbnQuc3BlY2lhbFt0LnR5cGVdfHx7fTtmb3IodVswXT10LG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXVbbl09YXJndW1lbnRzW25dO2lmKHQuZGVsZWdhdGVUYXJnZXQ9dGhpcywhYy5wcmVEaXNwYXRjaHx8ITEhPT1jLnByZURpc3BhdGNoLmNhbGwodGhpcyx0KSl7cz13LmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyx0LGwpLG49MDt3aGlsZSgobz1zW24rK10pJiYhdC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXt0LmN1cnJlbnRUYXJnZXQ9by5lbGVtLHI9MDt3aGlsZSgoYT1vLmhhbmRsZXJzW3IrK10pJiYhdC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKXQucm5hbWVzcGFjZSYmIXQucm5hbWVzcGFjZS50ZXN0KGEubmFtZXNwYWNlKXx8KHQuaGFuZGxlT2JqPWEsdC5kYXRhPWEuZGF0YSx2b2lkIDAhPT0oaT0oKHcuZXZlbnQuc3BlY2lhbFthLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8YS5oYW5kbGVyKS5hcHBseShvLmVsZW0sdSkpJiYhMT09PSh0LnJlc3VsdD1pKSYmKHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpKSl9cmV0dXJuIGMucG9zdERpc3BhdGNoJiZjLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsdCksdC5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxvLGEscz1bXSx1PXQuZGVsZWdhdGVDb3VudCxsPWUudGFyZ2V0O2lmKHUmJmwubm9kZVR5cGUmJiEoXCJjbGlja1wiPT09ZS50eXBlJiZlLmJ1dHRvbj49MSkpZm9yKDtsIT09dGhpcztsPWwucGFyZW50Tm9kZXx8dGhpcylpZigxPT09bC5ub2RlVHlwZSYmKFwiY2xpY2tcIiE9PWUudHlwZXx8ITAhPT1sLmRpc2FibGVkKSl7Zm9yKG89W10sYT17fSxuPTA7bjx1O24rKyl2b2lkIDA9PT1hW2k9KHI9dFtuXSkuc2VsZWN0b3IrXCIgXCJdJiYoYVtpXT1yLm5lZWRzQ29udGV4dD93KGksdGhpcykuaW5kZXgobCk+LTE6dy5maW5kKGksdGhpcyxudWxsLFtsXSkubGVuZ3RoKSxhW2ldJiZvLnB1c2gocik7by5sZW5ndGgmJnMucHVzaCh7ZWxlbTpsLGhhbmRsZXJzOm99KX1yZXR1cm4gbD10aGlzLHU8dC5sZW5ndGgmJnMucHVzaCh7ZWxlbTpsLGhhbmRsZXJzOnQuc2xpY2UodSl9KSxzfSxhZGRQcm9wOmZ1bmN0aW9uKGUsdCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHcuRXZlbnQucHJvdG90eXBlLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpnKHQpP2Z1bmN0aW9uKCl7aWYodGhpcy5vcmlnaW5hbEV2ZW50KXJldHVybiB0KHRoaXMub3JpZ2luYWxFdmVudCl9OmZ1bmN0aW9uKCl7aWYodGhpcy5vcmlnaW5hbEV2ZW50KXJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnRbZV19LHNldDpmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSl9fSl9LGZpeDpmdW5jdGlvbihlKXtyZXR1cm4gZVt3LmV4cGFuZG9dP2U6bmV3IHcuRXZlbnQoZSl9LHNwZWNpYWw6e2xvYWQ6e25vQnViYmxlOiEwfSxmb2N1czp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKHRoaXMhPT1TZSgpJiZ0aGlzLmZvY3VzKXJldHVybiB0aGlzLmZvY3VzKCksITF9LGRlbGVnYXRlVHlwZTpcImZvY3VzaW5cIn0sYmx1cjp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKHRoaXM9PT1TZSgpJiZ0aGlzLmJsdXIpcmV0dXJuIHRoaXMuYmx1cigpLCExfSxkZWxlZ2F0ZVR5cGU6XCJmb2N1c291dFwifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKFwiY2hlY2tib3hcIj09PXRoaXMudHlwZSYmdGhpcy5jbGljayYmTih0aGlzLFwiaW5wdXRcIikpcmV0dXJuIHRoaXMuY2xpY2soKSwhMX0sX2RlZmF1bHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE4oZS50YXJnZXQsXCJhXCIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5yZXN1bHQmJmUub3JpZ2luYWxFdmVudCYmKGUub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1lLnJlc3VsdCl9fX19LHcucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9LHcuRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiB3LkV2ZW50KSlyZXR1cm4gbmV3IHcuRXZlbnQoZSx0KTtlJiZlLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1lLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09ZS5yZXR1cm5WYWx1ZT9FZTprZSx0aGlzLnRhcmdldD1lLnRhcmdldCYmMz09PWUudGFyZ2V0Lm5vZGVUeXBlP2UudGFyZ2V0LnBhcmVudE5vZGU6ZS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWUuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9ZS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9ZSx0JiZ3LmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHxEYXRlLm5vdygpLHRoaXNbdy5leHBhbmRvXT0hMH0sdy5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOncuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOmtlLGlzUHJvcGFnYXRpb25TdG9wcGVkOmtlLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmtlLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPUVlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPUVlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1FZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sdy5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLFwiY2hhclwiOiEwLGNoYXJDb2RlOiEwLGtleTohMCxrZXlDb2RlOiEwLGJ1dHRvbjohMCxidXR0b25zOiEwLGNsaWVudFg6ITAsY2xpZW50WTohMCxvZmZzZXRYOiEwLG9mZnNldFk6ITAscG9pbnRlcklkOiEwLHBvaW50ZXJUeXBlOiEwLHNjcmVlblg6ITAsc2NyZWVuWTohMCx0YXJnZXRUb3VjaGVzOiEwLHRvRWxlbWVudDohMCx0b3VjaGVzOiEwLHdoaWNoOmZ1bmN0aW9uKGUpe3ZhciB0PWUuYnV0dG9uO3JldHVybiBudWxsPT1lLndoaWNoJiZ3ZS50ZXN0KGUudHlwZSk/bnVsbCE9ZS5jaGFyQ29kZT9lLmNoYXJDb2RlOmUua2V5Q29kZTohZS53aGljaCYmdm9pZCAwIT09dCYmVGUudGVzdChlLnR5cGUpPzEmdD8xOjImdD8zOjQmdD8yOjA6ZS53aGljaH19LHcuZXZlbnQuYWRkUHJvcCksdy5lYWNoKHttb3VzZWVudGVyOlwibW91c2VvdmVyXCIsbW91c2VsZWF2ZTpcIm1vdXNlb3V0XCIscG9pbnRlcmVudGVyOlwicG9pbnRlcm92ZXJcIixwb2ludGVybGVhdmU6XCJwb2ludGVyb3V0XCJ9LGZ1bmN0aW9uKGUsdCl7dy5ldmVudC5zcGVjaWFsW2VdPXtkZWxlZ2F0ZVR5cGU6dCxiaW5kVHlwZTp0LGhhbmRsZTpmdW5jdGlvbihlKXt2YXIgbixyPXRoaXMsaT1lLnJlbGF0ZWRUYXJnZXQsbz1lLmhhbmRsZU9iajtyZXR1cm4gaSYmKGk9PT1yfHx3LmNvbnRhaW5zKHIsaSkpfHwoZS50eXBlPW8ub3JpZ1R5cGUsbj1vLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT10KSxufX19KSx3LmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIERlKHRoaXMsZSx0LG4scil9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gRGUodGhpcyxlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmosdyhlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZStcIi5cIityLm5hbWVzcGFjZTpyLm9yaWdUeXBlLHIuc2VsZWN0b3Isci5oYW5kbGVyKSx0aGlzO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlKXtmb3IoaSBpbiBlKXRoaXMub2ZmKGksdCxlW2ldKTtyZXR1cm4gdGhpc31yZXR1cm4hMSE9PXQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHR8fChuPXQsdD12b2lkIDApLCExPT09biYmKG49a2UpLHRoaXMuZWFjaChmdW5jdGlvbigpe3cuZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9fSk7dmFyIE5lPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFthLXpdW15cXC9cXDA+XFx4MjBcXHRcXHJcXG5cXGZdKilbXj5dKilcXC8+L2dpLEFlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLGplPS9jaGVja2VkXFxzKig/OltePV18PVxccyouY2hlY2tlZC4pL2kscWU9L15cXHMqPCEoPzpcXFtDREFUQVxcW3wtLSl8KD86XFxdXFxdfC0tKT5cXHMqJC9nO2Z1bmN0aW9uIExlKGUsdCl7cmV0dXJuIE4oZSxcInRhYmxlXCIpJiZOKDExIT09dC5ub2RlVHlwZT90OnQuZmlyc3RDaGlsZCxcInRyXCIpP3coZSkuY2hpbGRyZW4oXCJ0Ym9keVwiKVswXXx8ZTplfWZ1bmN0aW9uIEhlKGUpe3JldHVybiBlLnR5cGU9KG51bGwhPT1lLmdldEF0dHJpYnV0ZShcInR5cGVcIikpK1wiL1wiK2UudHlwZSxlfWZ1bmN0aW9uIE9lKGUpe3JldHVyblwidHJ1ZS9cIj09PShlLnR5cGV8fFwiXCIpLnNsaWNlKDAsNSk/ZS50eXBlPWUudHlwZS5zbGljZSg1KTplLnJlbW92ZUF0dHJpYnV0ZShcInR5cGVcIiksZX1mdW5jdGlvbiBQZShlLHQpe3ZhciBuLHIsaSxvLGEscyx1LGw7aWYoMT09PXQubm9kZVR5cGUpe2lmKEouaGFzRGF0YShlKSYmKG89Si5hY2Nlc3MoZSksYT1KLnNldCh0LG8pLGw9by5ldmVudHMpKXtkZWxldGUgYS5oYW5kbGUsYS5ldmVudHM9e307Zm9yKGkgaW4gbClmb3Iobj0wLHI9bFtpXS5sZW5ndGg7bjxyO24rKyl3LmV2ZW50LmFkZCh0LGksbFtpXVtuXSl9Sy5oYXNEYXRhKGUpJiYocz1LLmFjY2VzcyhlKSx1PXcuZXh0ZW5kKHt9LHMpLEsuc2V0KHQsdSkpfX1mdW5jdGlvbiBNZShlLHQpe3ZhciBuPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcImlucHV0XCI9PT1uJiZwZS50ZXN0KGUudHlwZSk/dC5jaGVja2VkPWUuY2hlY2tlZDpcImlucHV0XCIhPT1uJiZcInRleHRhcmVhXCIhPT1ufHwodC5kZWZhdWx0VmFsdWU9ZS5kZWZhdWx0VmFsdWUpfWZ1bmN0aW9uIFJlKGUsdCxuLHIpe3Q9YS5hcHBseShbXSx0KTt2YXIgaSxvLHMsdSxsLGMsZj0wLHA9ZS5sZW5ndGgsZD1wLTEseT10WzBdLHY9Zyh5KTtpZih2fHxwPjEmJlwic3RyaW5nXCI9PXR5cGVvZiB5JiYhaC5jaGVja0Nsb25lJiZqZS50ZXN0KHkpKXJldHVybiBlLmVhY2goZnVuY3Rpb24oaSl7dmFyIG89ZS5lcShpKTt2JiYodFswXT15LmNhbGwodGhpcyxpLG8uaHRtbCgpKSksUmUobyx0LG4scil9KTtpZihwJiYoaT14ZSh0LGVbMF0ub3duZXJEb2N1bWVudCwhMSxlLHIpLG89aS5maXJzdENoaWxkLDE9PT1pLmNoaWxkTm9kZXMubGVuZ3RoJiYoaT1vKSxvfHxyKSl7Zm9yKHU9KHM9dy5tYXAoeWUoaSxcInNjcmlwdFwiKSxIZSkpLmxlbmd0aDtmPHA7ZisrKWw9aSxmIT09ZCYmKGw9dy5jbG9uZShsLCEwLCEwKSx1JiZ3Lm1lcmdlKHMseWUobCxcInNjcmlwdFwiKSkpLG4uY2FsbChlW2ZdLGwsZik7aWYodSlmb3IoYz1zW3MubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsdy5tYXAocyxPZSksZj0wO2Y8dTtmKyspbD1zW2ZdLGhlLnRlc3QobC50eXBlfHxcIlwiKSYmIUouYWNjZXNzKGwsXCJnbG9iYWxFdmFsXCIpJiZ3LmNvbnRhaW5zKGMsbCkmJihsLnNyYyYmXCJtb2R1bGVcIiE9PShsLnR5cGV8fFwiXCIpLnRvTG93ZXJDYXNlKCk/dy5fZXZhbFVybCYmdy5fZXZhbFVybChsLnNyYyk6bShsLnRleHRDb250ZW50LnJlcGxhY2UocWUsXCJcIiksYyxsKSl9cmV0dXJuIGV9ZnVuY3Rpb24gSWUoZSx0LG4pe2Zvcih2YXIgcixpPXQ/dy5maWx0ZXIodCxlKTplLG89MDtudWxsIT0ocj1pW29dKTtvKyspbnx8MSE9PXIubm9kZVR5cGV8fHcuY2xlYW5EYXRhKHllKHIpKSxyLnBhcmVudE5vZGUmJihuJiZ3LmNvbnRhaW5zKHIub3duZXJEb2N1bWVudCxyKSYmdmUoeWUocixcInNjcmlwdFwiKSksci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHIpKTtyZXR1cm4gZX13LmV4dGVuZCh7aHRtbFByZWZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKE5lLFwiPCQxPjwvJDI+XCIpfSxjbG9uZTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscz1lLmNsb25lTm9kZSghMCksdT13LmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKTtpZighKGgubm9DbG9uZUNoZWNrZWR8fDEhPT1lLm5vZGVUeXBlJiYxMSE9PWUubm9kZVR5cGV8fHcuaXNYTUxEb2MoZSkpKWZvcihhPXllKHMpLHI9MCxpPShvPXllKGUpKS5sZW5ndGg7cjxpO3IrKylNZShvW3JdLGFbcl0pO2lmKHQpaWYobilmb3Iobz1vfHx5ZShlKSxhPWF8fHllKHMpLHI9MCxpPW8ubGVuZ3RoO3I8aTtyKyspUGUob1tyXSxhW3JdKTtlbHNlIFBlKGUscyk7cmV0dXJuKGE9eWUocyxcInNjcmlwdFwiKSkubGVuZ3RoPjAmJnZlKGEsIXUmJnllKGUsXCJzY3JpcHRcIikpLHN9LGNsZWFuRGF0YTpmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyLGk9dy5ldmVudC5zcGVjaWFsLG89MDt2b2lkIDAhPT0obj1lW29dKTtvKyspaWYoWShuKSl7aWYodD1uW0ouZXhwYW5kb10pe2lmKHQuZXZlbnRzKWZvcihyIGluIHQuZXZlbnRzKWlbcl0/dy5ldmVudC5yZW1vdmUobixyKTp3LnJlbW92ZUV2ZW50KG4scix0LmhhbmRsZSk7bltKLmV4cGFuZG9dPXZvaWQgMH1uW0suZXhwYW5kb10mJihuW0suZXhwYW5kb109dm9pZCAwKX19fSksdy5mbi5leHRlbmQoe2RldGFjaDpmdW5jdGlvbihlKXtyZXR1cm4gSWUodGhpcyxlLCEwKX0scmVtb3ZlOmZ1bmN0aW9uKGUpe3JldHVybiBJZSh0aGlzLGUpfSx0ZXh0OmZ1bmN0aW9uKGUpe3JldHVybiB6KHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/dy50ZXh0KHRoaXMpOnRoaXMuZW1wdHkoKS5lYWNoKGZ1bmN0aW9uKCl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fCh0aGlzLnRleHRDb250ZW50PWUpfSl9LG51bGwsZSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIFJlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpezEhPT10aGlzLm5vZGVUeXBlJiYxMSE9PXRoaXMubm9kZVR5cGUmJjkhPT10aGlzLm5vZGVUeXBlfHxMZSh0aGlzLGUpLmFwcGVuZENoaWxkKGUpfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gUmUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciB0PUxlKHRoaXMsZSk7dC5pbnNlcnRCZWZvcmUoZSx0LmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gUmUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gUmUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcy5uZXh0U2libGluZyl9KX0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD0wO251bGwhPShlPXRoaXNbdF0pO3QrKykxPT09ZS5ub2RlVHlwZSYmKHcuY2xlYW5EYXRhKHllKGUsITEpKSxlLnRleHRDb250ZW50PVwiXCIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPW51bGwhPWUmJmUsdD1udWxsPT10P2U6dCx0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiB3LmNsb25lKHRoaXMsZSx0KX0pfSxodG1sOmZ1bmN0aW9uKGUpe3JldHVybiB6KHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc1swXXx8e30sbj0wLHI9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09ZSYmMT09PXQubm9kZVR5cGUpcmV0dXJuIHQuaW5uZXJIVE1MO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYhQWUudGVzdChlKSYmIWdlWyhkZS5leGVjKGUpfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2U9dy5odG1sUHJlZmlsdGVyKGUpO3RyeXtmb3IoO248cjtuKyspMT09PSh0PXRoaXNbbl18fHt9KS5ub2RlVHlwZSYmKHcuY2xlYW5EYXRhKHllKHQsITEpKSx0LmlubmVySFRNTD1lKTt0PTB9Y2F0Y2goZSl7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGUpfSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIFJlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMucGFyZW50Tm9kZTt3LmluQXJyYXkodGhpcyxlKTwwJiYody5jbGVhbkRhdGEoeWUodGhpcykpLG4mJm4ucmVwbGFjZUNoaWxkKHQsdGhpcykpfSxlKX19KSx3LmVhY2goe2FwcGVuZFRvOlwiYXBwZW5kXCIscHJlcGVuZFRvOlwicHJlcGVuZFwiLGluc2VydEJlZm9yZTpcImJlZm9yZVwiLGluc2VydEFmdGVyOlwiYWZ0ZXJcIixyZXBsYWNlQWxsOlwicmVwbGFjZVdpdGhcIn0sZnVuY3Rpb24oZSx0KXt3LmZuW2VdPWZ1bmN0aW9uKGUpe2Zvcih2YXIgbixyPVtdLGk9dyhlKSxvPWkubGVuZ3RoLTEsYT0wO2E8PW87YSsrKW49YT09PW8/dGhpczp0aGlzLmNsb25lKCEwKSx3KGlbYV0pW3RdKG4pLHMuYXBwbHkocixuLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2socil9fSk7dmFyIFdlPW5ldyBSZWdFeHAoXCJeKFwiK3JlK1wiKSg/IXB4KVthLXolXSskXCIsXCJpXCIpLCRlPWZ1bmN0aW9uKHQpe3ZhciBuPXQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztyZXR1cm4gbiYmbi5vcGVuZXJ8fChuPWUpLG4uZ2V0Q29tcHV0ZWRTdHlsZSh0KX0sQmU9bmV3IFJlZ0V4cChvZS5qb2luKFwifFwiKSxcImlcIik7IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2lmKGMpe2wuc3R5bGUuY3NzVGV4dD1cInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjBcIixjLnN0eWxlLmNzc1RleHQ9XCJwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO2JveC1zaXppbmc6Ym9yZGVyLWJveDtvdmVyZmxvdzpzY3JvbGw7bWFyZ2luOmF1dG87Ym9yZGVyOjFweDtwYWRkaW5nOjFweDt3aWR0aDo2MCU7dG9wOjElXCIsYmUuYXBwZW5kQ2hpbGQobCkuYXBwZW5kQ2hpbGQoYyk7dmFyIHQ9ZS5nZXRDb21wdXRlZFN0eWxlKGMpO2k9XCIxJVwiIT09dC50b3AsdT0xMj09PW4odC5tYXJnaW5MZWZ0KSxjLnN0eWxlLnJpZ2h0PVwiNjAlXCIscz0zNj09PW4odC5yaWdodCksbz0zNj09PW4odC53aWR0aCksYy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsYT0zNj09PWMub2Zmc2V0V2lkdGh8fFwiYWJzb2x1dGVcIixiZS5yZW1vdmVDaGlsZChsKSxjPW51bGx9fWZ1bmN0aW9uIG4oZSl7cmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChlKSl9dmFyIGksbyxhLHMsdSxsPXIuY3JlYXRlRWxlbWVudChcImRpdlwiKSxjPXIuY3JlYXRlRWxlbWVudChcImRpdlwiKTtjLnN0eWxlJiYoYy5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD1cImNvbnRlbnQtYm94XCIsYy5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPVwiXCIsaC5jbGVhckNsb25lU3R5bGU9XCJjb250ZW50LWJveFwiPT09Yy5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCx3LmV4dGVuZChoLHtib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiB0KCksb30scGl4ZWxCb3hTdHlsZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdCgpLHN9LHBpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdCgpLGl9LHJlbGlhYmxlTWFyZ2luTGVmdDpmdW5jdGlvbigpe3JldHVybiB0KCksdX0sc2Nyb2xsYm94U2l6ZTpmdW5jdGlvbigpe3JldHVybiB0KCksYX19KSl9KCk7ZnVuY3Rpb24gRmUoZSx0LG4pe3ZhciByLGksbyxhLHM9ZS5zdHlsZTtyZXR1cm4obj1ufHwkZShlKSkmJihcIlwiIT09KGE9bi5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxuW3RdKXx8dy5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSl8fChhPXcuc3R5bGUoZSx0KSksIWgucGl4ZWxCb3hTdHlsZXMoKSYmV2UudGVzdChhKSYmQmUudGVzdCh0KSYmKHI9cy53aWR0aCxpPXMubWluV2lkdGgsbz1zLm1heFdpZHRoLHMubWluV2lkdGg9cy5tYXhXaWR0aD1zLndpZHRoPWEsYT1uLndpZHRoLHMud2lkdGg9cixzLm1pbldpZHRoPWkscy5tYXhXaWR0aD1vKSksdm9pZCAwIT09YT9hK1wiXCI6YX1mdW5jdGlvbiBfZShlLHQpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtpZighZSgpKXJldHVybih0aGlzLmdldD10KS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZGVsZXRlIHRoaXMuZ2V0fX19dmFyIHplPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxYZT0vXi0tLyxVZT17cG9zaXRpb246XCJhYnNvbHV0ZVwiLHZpc2liaWxpdHk6XCJoaWRkZW5cIixkaXNwbGF5OlwiYmxvY2tcIn0sVmU9e2xldHRlclNwYWNpbmc6XCIwXCIsZm9udFdlaWdodDpcIjQwMFwifSxHZT1bXCJXZWJraXRcIixcIk1velwiLFwibXNcIl0sWWU9ci5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLnN0eWxlO2Z1bmN0aW9uIFFlKGUpe2lmKGUgaW4gWWUpcmV0dXJuIGU7dmFyIHQ9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksbj1HZS5sZW5ndGg7d2hpbGUobi0tKWlmKChlPUdlW25dK3QpaW4gWWUpcmV0dXJuIGV9ZnVuY3Rpb24gSmUoZSl7dmFyIHQ9dy5jc3NQcm9wc1tlXTtyZXR1cm4gdHx8KHQ9dy5jc3NQcm9wc1tlXT1RZShlKXx8ZSksdH1mdW5jdGlvbiBLZShlLHQsbil7dmFyIHI9aWUuZXhlYyh0KTtyZXR1cm4gcj9NYXRoLm1heCgwLHJbMl0tKG58fDApKSsoclszXXx8XCJweFwiKTp0fWZ1bmN0aW9uIFplKGUsdCxuLHIsaSxvKXt2YXIgYT1cIndpZHRoXCI9PT10PzE6MCxzPTAsdT0wO2lmKG49PT0ocj9cImJvcmRlclwiOlwiY29udGVudFwiKSlyZXR1cm4gMDtmb3IoO2E8NDthKz0yKVwibWFyZ2luXCI9PT1uJiYodSs9dy5jc3MoZSxuK29lW2FdLCEwLGkpKSxyPyhcImNvbnRlbnRcIj09PW4mJih1LT13LmNzcyhlLFwicGFkZGluZ1wiK29lW2FdLCEwLGkpKSxcIm1hcmdpblwiIT09biYmKHUtPXcuY3NzKGUsXCJib3JkZXJcIitvZVthXStcIldpZHRoXCIsITAsaSkpKToodSs9dy5jc3MoZSxcInBhZGRpbmdcIitvZVthXSwhMCxpKSxcInBhZGRpbmdcIiE9PW4/dSs9dy5jc3MoZSxcImJvcmRlclwiK29lW2FdK1wiV2lkdGhcIiwhMCxpKTpzKz13LmNzcyhlLFwiYm9yZGVyXCIrb2VbYV0rXCJXaWR0aFwiLCEwLGkpKTtyZXR1cm4hciYmbz49MCYmKHUrPU1hdGgubWF4KDAsTWF0aC5jZWlsKGVbXCJvZmZzZXRcIit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKV0tby11LXMtLjUpKSksdX1mdW5jdGlvbiBldChlLHQsbil7dmFyIHI9JGUoZSksaT1GZShlLHQsciksbz1cImJvcmRlci1ib3hcIj09PXcuY3NzKGUsXCJib3hTaXppbmdcIiwhMSxyKSxhPW87aWYoV2UudGVzdChpKSl7aWYoIW4pcmV0dXJuIGk7aT1cImF1dG9cIn1yZXR1cm4gYT1hJiYoaC5ib3hTaXppbmdSZWxpYWJsZSgpfHxpPT09ZS5zdHlsZVt0XSksKFwiYXV0b1wiPT09aXx8IXBhcnNlRmxvYXQoaSkmJlwiaW5saW5lXCI9PT13LmNzcyhlLFwiZGlzcGxheVwiLCExLHIpKSYmKGk9ZVtcIm9mZnNldFwiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXSxhPSEwKSwoaT1wYXJzZUZsb2F0KGkpfHwwKStaZShlLHQsbnx8KG8/XCJib3JkZXJcIjpcImNvbnRlbnRcIiksYSxyLGkpK1wicHhcIn13LmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPUZlKGUsXCJvcGFjaXR5XCIpO3JldHVyblwiXCI9PT1uP1wiMVwiOm59fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6e30sc3R5bGU6ZnVuY3Rpb24oZSx0LG4scil7aWYoZSYmMyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlJiZlLnN0eWxlKXt2YXIgaSxvLGEscz1HKHQpLHU9WGUudGVzdCh0KSxsPWUuc3R5bGU7aWYodXx8KHQ9SmUocykpLGE9dy5jc3NIb29rc1t0XXx8dy5jc3NIb29rc1tzXSx2b2lkIDA9PT1uKXJldHVybiBhJiZcImdldFwiaW4gYSYmdm9pZCAwIT09KGk9YS5nZXQoZSwhMSxyKSk/aTpsW3RdO1wic3RyaW5nXCI9PShvPXR5cGVvZiBuKSYmKGk9aWUuZXhlYyhuKSkmJmlbMV0mJihuPXVlKGUsdCxpKSxvPVwibnVtYmVyXCIpLG51bGwhPW4mJm49PT1uJiYoXCJudW1iZXJcIj09PW8mJihuKz1pJiZpWzNdfHwody5jc3NOdW1iZXJbc10/XCJcIjpcInB4XCIpKSxoLmNsZWFyQ2xvbmVTdHlsZXx8XCJcIiE9PW58fDAhPT10LmluZGV4T2YoXCJiYWNrZ3JvdW5kXCIpfHwobFt0XT1cImluaGVyaXRcIiksYSYmXCJzZXRcImluIGEmJnZvaWQgMD09PShuPWEuc2V0KGUsbixyKSl8fCh1P2wuc2V0UHJvcGVydHkodCxuKTpsW3RdPW4pKX19LGNzczpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscz1HKHQpO3JldHVybiBYZS50ZXN0KHQpfHwodD1KZShzKSksKGE9dy5jc3NIb29rc1t0XXx8dy5jc3NIb29rc1tzXSkmJlwiZ2V0XCJpbiBhJiYoaT1hLmdldChlLCEwLG4pKSx2b2lkIDA9PT1pJiYoaT1GZShlLHQscikpLFwibm9ybWFsXCI9PT1pJiZ0IGluIFZlJiYoaT1WZVt0XSksXCJcIj09PW58fG4/KG89cGFyc2VGbG9hdChpKSwhMD09PW58fGlzRmluaXRlKG8pP298fDA6aSk6aX19KSx3LmVhY2goW1wiaGVpZ2h0XCIsXCJ3aWR0aFwiXSxmdW5jdGlvbihlLHQpe3cuY3NzSG9va3NbdF09e2dldDpmdW5jdGlvbihlLG4scil7aWYobilyZXR1cm4hemUudGVzdCh3LmNzcyhlLFwiZGlzcGxheVwiKSl8fGUuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgmJmUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg/ZXQoZSx0LHIpOnNlKGUsVWUsZnVuY3Rpb24oKXtyZXR1cm4gZXQoZSx0LHIpfSl9LHNldDpmdW5jdGlvbihlLG4scil7dmFyIGksbz0kZShlKSxhPVwiYm9yZGVyLWJveFwiPT09dy5jc3MoZSxcImJveFNpemluZ1wiLCExLG8pLHM9ciYmWmUoZSx0LHIsYSxvKTtyZXR1cm4gYSYmaC5zY3JvbGxib3hTaXplKCk9PT1vLnBvc2l0aW9uJiYocy09TWF0aC5jZWlsKGVbXCJvZmZzZXRcIit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKV0tcGFyc2VGbG9hdChvW3RdKS1aZShlLHQsXCJib3JkZXJcIiwhMSxvKS0uNSkpLHMmJihpPWllLmV4ZWMobikpJiZcInB4XCIhPT0oaVszXXx8XCJweFwiKSYmKGUuc3R5bGVbdF09bixuPXcuY3NzKGUsdCkpLEtlKGUsbixzKX19fSksdy5jc3NIb29rcy5tYXJnaW5MZWZ0PV9lKGgucmVsaWFibGVNYXJnaW5MZWZ0LGZ1bmN0aW9uKGUsdCl7aWYodClyZXR1cm4ocGFyc2VGbG9hdChGZShlLFwibWFyZ2luTGVmdFwiKSl8fGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdC1zZShlLHttYXJnaW5MZWZ0OjB9LGZ1bmN0aW9uKCl7cmV0dXJuIGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdH0pKStcInB4XCJ9KSx3LmVhY2goe21hcmdpbjpcIlwiLHBhZGRpbmc6XCJcIixib3JkZXI6XCJXaWR0aFwifSxmdW5jdGlvbihlLHQpe3cuY3NzSG9va3NbZSt0XT17ZXhwYW5kOmZ1bmN0aW9uKG4pe2Zvcih2YXIgcj0wLGk9e30sbz1cInN0cmluZ1wiPT10eXBlb2Ygbj9uLnNwbGl0KFwiIFwiKTpbbl07cjw0O3IrKylpW2Urb2Vbcl0rdF09b1tyXXx8b1tyLTJdfHxvWzBdO3JldHVybiBpfX0sXCJtYXJnaW5cIiE9PWUmJih3LmNzc0hvb2tzW2UrdF0uc2V0PUtlKX0pLHcuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4geih0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89e30sYT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihyPSRlKGUpLGk9dC5sZW5ndGg7YTxpO2ErKylvW3RbYV1dPXcuY3NzKGUsdFthXSwhMSxyKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09bj93LnN0eWxlKGUsdCxuKTp3LmNzcyhlLHQpfSxlLHQsYXJndW1lbnRzLmxlbmd0aD4xKX19KTtmdW5jdGlvbiB0dChlLHQsbixyLGkpe3JldHVybiBuZXcgdHQucHJvdG90eXBlLmluaXQoZSx0LG4scixpKX13LlR3ZWVuPXR0LHR0LnByb3RvdHlwZT17Y29uc3RydWN0b3I6dHQsaW5pdDpmdW5jdGlvbihlLHQsbixyLGksbyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8dy5lYXNpbmcuX2RlZmF1bHQsdGhpcy5vcHRpb25zPXQsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPXIsdGhpcy51bml0PW98fCh3LmNzc051bWJlcltuXT9cIlwiOlwicHhcIil9LGN1cjpmdW5jdGlvbigpe3ZhciBlPXR0LnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBlJiZlLmdldD9lLmdldCh0aGlzKTp0dC5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oZSl7dmFyIHQsbj10dC5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5vcHRpb25zLmR1cmF0aW9uP3RoaXMucG9zPXQ9dy5lYXNpbmdbdGhpcy5lYXNpbmddKGUsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmUsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6dGhpcy5wb3M9dD1lLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSp0K3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLG4mJm4uc2V0P24uc2V0KHRoaXMpOnR0LnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319LHR0LnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT10dC5wcm90b3R5cGUsdHQucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiAxIT09ZS5lbGVtLm5vZGVUeXBlfHxudWxsIT1lLmVsZW1bZS5wcm9wXSYmbnVsbD09ZS5lbGVtLnN0eWxlW2UucHJvcF0/ZS5lbGVtW2UucHJvcF06KHQ9dy5jc3MoZS5lbGVtLGUucHJvcCxcIlwiKSkmJlwiYXV0b1wiIT09dD90OjB9LHNldDpmdW5jdGlvbihlKXt3LmZ4LnN0ZXBbZS5wcm9wXT93LmZ4LnN0ZXBbZS5wcm9wXShlKToxIT09ZS5lbGVtLm5vZGVUeXBlfHxudWxsPT1lLmVsZW0uc3R5bGVbdy5jc3NQcm9wc1tlLnByb3BdXSYmIXcuY3NzSG9va3NbZS5wcm9wXT9lLmVsZW1bZS5wcm9wXT1lLm5vdzp3LnN0eWxlKGUuZWxlbSxlLnByb3AsZS5ub3crZS51bml0KX19fSx0dC5wcm9wSG9va3Muc2Nyb2xsVG9wPXR0LnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oZSl7ZS5lbGVtLm5vZGVUeXBlJiZlLmVsZW0ucGFyZW50Tm9kZSYmKGUuZWxlbVtlLnByb3BdPWUubm93KX19LHcuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn0sX2RlZmF1bHQ6XCJzd2luZ1wifSx3LmZ4PXR0LnByb3RvdHlwZS5pbml0LHcuZnguc3RlcD17fTt2YXIgbnQscnQsaXQ9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLG90PS9xdWV1ZUhvb2tzJC87ZnVuY3Rpb24gYXQoKXtydCYmKCExPT09ci5oaWRkZW4mJmUucmVxdWVzdEFuaW1hdGlvbkZyYW1lP2UucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGF0KTplLnNldFRpbWVvdXQoYXQsdy5meC5pbnRlcnZhbCksdy5meC50aWNrKCkpfWZ1bmN0aW9uIHN0KCl7cmV0dXJuIGUuc2V0VGltZW91dChmdW5jdGlvbigpe250PXZvaWQgMH0pLG50PURhdGUubm93KCl9ZnVuY3Rpb24gdXQoZSx0KXt2YXIgbixyPTAsaT17aGVpZ2h0OmV9O2Zvcih0PXQ/MTowO3I8NDtyKz0yLXQpaVtcIm1hcmdpblwiKyhuPW9lW3JdKV09aVtcInBhZGRpbmdcIituXT1lO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9ZSksaX1mdW5jdGlvbiBsdChlLHQsbil7Zm9yKHZhciByLGk9KHB0LnR3ZWVuZXJzW3RdfHxbXSkuY29uY2F0KHB0LnR3ZWVuZXJzW1wiKlwiXSksbz0wLGE9aS5sZW5ndGg7bzxhO28rKylpZihyPWlbb10uY2FsbChuLHQsZSkpcmV0dXJuIHJ9ZnVuY3Rpb24gY3QoZSx0LG4pe3ZhciByLGksbyxhLHMsdSxsLGMsZj1cIndpZHRoXCJpbiB0fHxcImhlaWdodFwiaW4gdCxwPXRoaXMsZD17fSxoPWUuc3R5bGUsZz1lLm5vZGVUeXBlJiZhZShlKSx5PUouZ2V0KGUsXCJmeHNob3dcIik7bi5xdWV1ZXx8KG51bGw9PShhPXcuX3F1ZXVlSG9va3MoZSxcImZ4XCIpKS51bnF1ZXVlZCYmKGEudW5xdWV1ZWQ9MCxzPWEuZW1wdHkuZmlyZSxhLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXthLnVucXVldWVkfHxzKCl9KSxhLnVucXVldWVkKysscC5hbHdheXMoZnVuY3Rpb24oKXtwLmFsd2F5cyhmdW5jdGlvbigpe2EudW5xdWV1ZWQtLSx3LnF1ZXVlKGUsXCJmeFwiKS5sZW5ndGh8fGEuZW1wdHkuZmlyZSgpfSl9KSk7Zm9yKHIgaW4gdClpZihpPXRbcl0saXQudGVzdChpKSl7aWYoZGVsZXRlIHRbcl0sbz1vfHxcInRvZ2dsZVwiPT09aSxpPT09KGc/XCJoaWRlXCI6XCJzaG93XCIpKXtpZihcInNob3dcIiE9PWl8fCF5fHx2b2lkIDA9PT15W3JdKWNvbnRpbnVlO2c9ITB9ZFtyXT15JiZ5W3JdfHx3LnN0eWxlKGUscil9aWYoKHU9IXcuaXNFbXB0eU9iamVjdCh0KSl8fCF3LmlzRW1wdHlPYmplY3QoZCkpe2YmJjE9PT1lLm5vZGVUeXBlJiYobi5vdmVyZmxvdz1baC5vdmVyZmxvdyxoLm92ZXJmbG93WCxoLm92ZXJmbG93WV0sbnVsbD09KGw9eSYmeS5kaXNwbGF5KSYmKGw9Si5nZXQoZSxcImRpc3BsYXlcIikpLFwibm9uZVwiPT09KGM9dy5jc3MoZSxcImRpc3BsYXlcIikpJiYobD9jPWw6KGZlKFtlXSwhMCksbD1lLnN0eWxlLmRpc3BsYXl8fGwsYz13LmNzcyhlLFwiZGlzcGxheVwiKSxmZShbZV0pKSksKFwiaW5saW5lXCI9PT1jfHxcImlubGluZS1ibG9ja1wiPT09YyYmbnVsbCE9bCkmJlwibm9uZVwiPT09dy5jc3MoZSxcImZsb2F0XCIpJiYodXx8KHAuZG9uZShmdW5jdGlvbigpe2guZGlzcGxheT1sfSksbnVsbD09bCYmKGM9aC5kaXNwbGF5LGw9XCJub25lXCI9PT1jP1wiXCI6YykpLGguZGlzcGxheT1cImlubGluZS1ibG9ja1wiKSksbi5vdmVyZmxvdyYmKGgub3ZlcmZsb3c9XCJoaWRkZW5cIixwLmFsd2F5cyhmdW5jdGlvbigpe2gub3ZlcmZsb3c9bi5vdmVyZmxvd1swXSxoLm92ZXJmbG93WD1uLm92ZXJmbG93WzFdLGgub3ZlcmZsb3dZPW4ub3ZlcmZsb3dbMl19KSksdT0hMTtmb3IociBpbiBkKXV8fCh5P1wiaGlkZGVuXCJpbiB5JiYoZz15LmhpZGRlbik6eT1KLmFjY2VzcyhlLFwiZnhzaG93XCIse2Rpc3BsYXk6bH0pLG8mJih5LmhpZGRlbj0hZyksZyYmZmUoW2VdLCEwKSxwLmRvbmUoZnVuY3Rpb24oKXtnfHxmZShbZV0pLEoucmVtb3ZlKGUsXCJmeHNob3dcIik7Zm9yKHIgaW4gZCl3LnN0eWxlKGUscixkW3JdKX0pKSx1PWx0KGc/eVtyXTowLHIscCksciBpbiB5fHwoeVtyXT11LnN0YXJ0LGcmJih1LmVuZD11LnN0YXJ0LHUuc3RhcnQ9MCkpfX1mdW5jdGlvbiBmdChlLHQpe3ZhciBuLHIsaSxvLGE7Zm9yKG4gaW4gZSlpZihyPUcobiksaT10W3JdLG89ZVtuXSxBcnJheS5pc0FycmF5KG8pJiYoaT1vWzFdLG89ZVtuXT1vWzBdKSxuIT09ciYmKGVbcl09byxkZWxldGUgZVtuXSksKGE9dy5jc3NIb29rc1tyXSkmJlwiZXhwYW5kXCJpbiBhKXtvPWEuZXhwYW5kKG8pLGRlbGV0ZSBlW3JdO2ZvcihuIGluIG8pbiBpbiBlfHwoZVtuXT1vW25dLHRbbl09aSl9ZWxzZSB0W3JdPWl9ZnVuY3Rpb24gcHQoZSx0LG4pe3ZhciByLGksbz0wLGE9cHQucHJlZmlsdGVycy5sZW5ndGgscz13LkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCl7ZGVsZXRlIHUuZWxlbX0pLHU9ZnVuY3Rpb24oKXtpZihpKXJldHVybiExO2Zvcih2YXIgdD1udHx8c3QoKSxuPU1hdGgubWF4KDAsbC5zdGFydFRpbWUrbC5kdXJhdGlvbi10KSxyPTEtKG4vbC5kdXJhdGlvbnx8MCksbz0wLGE9bC50d2VlbnMubGVuZ3RoO288YTtvKyspbC50d2VlbnNbb10ucnVuKHIpO3JldHVybiBzLm5vdGlmeVdpdGgoZSxbbCxyLG5dKSxyPDEmJmE/bjooYXx8cy5ub3RpZnlXaXRoKGUsW2wsMSwwXSkscy5yZXNvbHZlV2l0aChlLFtsXSksITEpfSxsPXMucHJvbWlzZSh7ZWxlbTplLHByb3BzOncuZXh0ZW5kKHt9LHQpLG9wdHM6dy5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e30sZWFzaW5nOncuZWFzaW5nLl9kZWZhdWx0fSxuKSxvcmlnaW5hbFByb3BlcnRpZXM6dCxvcmlnaW5hbE9wdGlvbnM6bixzdGFydFRpbWU6bnR8fHN0KCksZHVyYXRpb246bi5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24odCxuKXt2YXIgcj13LlR3ZWVuKGUsbC5vcHRzLHQsbixsLm9wdHMuc3BlY2lhbEVhc2luZ1t0XXx8bC5vcHRzLmVhc2luZyk7cmV0dXJuIGwudHdlZW5zLnB1c2gocikscn0sc3RvcDpmdW5jdGlvbih0KXt2YXIgbj0wLHI9dD9sLnR3ZWVucy5sZW5ndGg6MDtpZihpKXJldHVybiB0aGlzO2ZvcihpPSEwO248cjtuKyspbC50d2VlbnNbbl0ucnVuKDEpO3JldHVybiB0PyhzLm5vdGlmeVdpdGgoZSxbbCwxLDBdKSxzLnJlc29sdmVXaXRoKGUsW2wsdF0pKTpzLnJlamVjdFdpdGgoZSxbbCx0XSksdGhpc319KSxjPWwucHJvcHM7Zm9yKGZ0KGMsbC5vcHRzLnNwZWNpYWxFYXNpbmcpO288YTtvKyspaWYocj1wdC5wcmVmaWx0ZXJzW29dLmNhbGwobCxlLGMsbC5vcHRzKSlyZXR1cm4gZyhyLnN0b3ApJiYody5fcXVldWVIb29rcyhsLmVsZW0sbC5vcHRzLnF1ZXVlKS5zdG9wPXIuc3RvcC5iaW5kKHIpKSxyO3JldHVybiB3Lm1hcChjLGx0LGwpLGcobC5vcHRzLnN0YXJ0KSYmbC5vcHRzLnN0YXJ0LmNhbGwoZSxsKSxsLnByb2dyZXNzKGwub3B0cy5wcm9ncmVzcykuZG9uZShsLm9wdHMuZG9uZSxsLm9wdHMuY29tcGxldGUpLmZhaWwobC5vcHRzLmZhaWwpLmFsd2F5cyhsLm9wdHMuYWx3YXlzKSx3LmZ4LnRpbWVyKHcuZXh0ZW5kKHUse2VsZW06ZSxhbmltOmwscXVldWU6bC5vcHRzLnF1ZXVlfSkpLGx9dy5BbmltYXRpb249dy5leHRlbmQocHQse3R3ZWVuZXJzOntcIipcIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCk7cmV0dXJuIHVlKG4uZWxlbSxlLGllLmV4ZWModCksbiksbn1dfSx0d2VlbmVyOmZ1bmN0aW9uKGUsdCl7ZyhlKT8odD1lLGU9W1wiKlwiXSk6ZT1lLm1hdGNoKE0pO2Zvcih2YXIgbixyPTAsaT1lLmxlbmd0aDtyPGk7cisrKW49ZVtyXSxwdC50d2VlbmVyc1tuXT1wdC50d2VlbmVyc1tuXXx8W10scHQudHdlZW5lcnNbbl0udW5zaGlmdCh0KX0scHJlZmlsdGVyczpbY3RdLHByZWZpbHRlcjpmdW5jdGlvbihlLHQpe3Q/cHQucHJlZmlsdGVycy51bnNoaWZ0KGUpOnB0LnByZWZpbHRlcnMucHVzaChlKX19KSx3LnNwZWVkPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lJiZcIm9iamVjdFwiPT10eXBlb2YgZT93LmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fGcoZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIWcodCkmJnR9O3JldHVybiB3LmZ4Lm9mZj9yLmR1cmF0aW9uPTA6XCJudW1iZXJcIiE9dHlwZW9mIHIuZHVyYXRpb24mJihyLmR1cmF0aW9uIGluIHcuZnguc3BlZWRzP3IuZHVyYXRpb249dy5meC5zcGVlZHNbci5kdXJhdGlvbl06ci5kdXJhdGlvbj13LmZ4LnNwZWVkcy5fZGVmYXVsdCksbnVsbCE9ci5xdWV1ZSYmITAhPT1yLnF1ZXVlfHwoci5xdWV1ZT1cImZ4XCIpLHIub2xkPXIuY29tcGxldGUsci5jb21wbGV0ZT1mdW5jdGlvbigpe2coci5vbGQpJiZyLm9sZC5jYWxsKHRoaXMpLHIucXVldWUmJncuZGVxdWV1ZSh0aGlzLHIucXVldWUpfSxyfSx3LmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLmZpbHRlcihhZSkuY3NzKFwib3BhY2l0eVwiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT13LmlzRW1wdHlPYmplY3QoZSksbz13LnNwZWVkKHQsbixyKSxhPWZ1bmN0aW9uKCl7dmFyIHQ9cHQodGhpcyx3LmV4dGVuZCh7fSxlKSxvKTsoaXx8Si5nZXQodGhpcyxcImZpbmlzaFwiKSkmJnQuc3RvcCghMCl9O3JldHVybiBhLmZpbmlzaD1hLGl8fCExPT09by5xdWV1ZT90aGlzLmVhY2goYSk6dGhpcy5xdWV1ZShvLnF1ZXVlLGEpfSxzdG9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgdD1lLnN0b3A7ZGVsZXRlIGUuc3RvcCx0KG4pfTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgZSYmKG49dCx0PWUsZT12b2lkIDApLHQmJiExIT09ZSYmdGhpcy5xdWV1ZShlfHxcImZ4XCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PSEwLGk9bnVsbCE9ZSYmZStcInF1ZXVlSG9va3NcIixvPXcudGltZXJzLGE9Si5nZXQodGhpcyk7aWYoaSlhW2ldJiZhW2ldLnN0b3AmJnIoYVtpXSk7ZWxzZSBmb3IoaSBpbiBhKWFbaV0mJmFbaV0uc3RvcCYmb3QudGVzdChpKSYmcihhW2ldKTtmb3IoaT1vLmxlbmd0aDtpLS07KW9baV0uZWxlbSE9PXRoaXN8fG51bGwhPWUmJm9baV0ucXVldWUhPT1lfHwob1tpXS5hbmltLnN0b3AobiksdD0hMSxvLnNwbGljZShpLDEpKTshdCYmbnx8dy5kZXF1ZXVlKHRoaXMsZSl9KX0sZmluaXNoOmZ1bmN0aW9uKGUpe3JldHVybiExIT09ZSYmKGU9ZXx8XCJmeFwiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxuPUouZ2V0KHRoaXMpLHI9bltlK1wicXVldWVcIl0saT1uW2UrXCJxdWV1ZUhvb2tzXCJdLG89dy50aW1lcnMsYT1yP3IubGVuZ3RoOjA7Zm9yKG4uZmluaXNoPSEwLHcucXVldWUodGhpcyxlLFtdKSxpJiZpLnN0b3AmJmkuc3RvcC5jYWxsKHRoaXMsITApLHQ9by5sZW5ndGg7dC0tOylvW3RdLmVsZW09PT10aGlzJiZvW3RdLnF1ZXVlPT09ZSYmKG9bdF0uYW5pbS5zdG9wKCEwKSxvLnNwbGljZSh0LDEpKTtmb3IodD0wO3Q8YTt0Kyspclt0XSYmclt0XS5maW5pc2gmJnJbdF0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIG4uZmluaXNofSl9fSksdy5lYWNoKFtcInRvZ2dsZVwiLFwic2hvd1wiLFwiaGlkZVwiXSxmdW5jdGlvbihlLHQpe3ZhciBuPXcuZm5bdF07dy5mblt0XT1mdW5jdGlvbihlLHIsaSl7cmV0dXJuIG51bGw9PWV8fFwiYm9vbGVhblwiPT10eXBlb2YgZT9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUodXQodCwhMCksZSxyLGkpfX0pLHcuZWFjaCh7c2xpZGVEb3duOnV0KFwic2hvd1wiKSxzbGlkZVVwOnV0KFwiaGlkZVwiKSxzbGlkZVRvZ2dsZTp1dChcInRvZ2dsZVwiKSxmYWRlSW46e29wYWNpdHk6XCJzaG93XCJ9LGZhZGVPdXQ6e29wYWNpdHk6XCJoaWRlXCJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6XCJ0b2dnbGVcIn19LGZ1bmN0aW9uKGUsdCl7dy5mbltlXT1mdW5jdGlvbihlLG4scil7cmV0dXJuIHRoaXMuYW5pbWF0ZSh0LGUsbixyKX19KSx3LnRpbWVycz1bXSx3LmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgZSx0PTAsbj13LnRpbWVycztmb3IobnQ9RGF0ZS5ub3coKTt0PG4ubGVuZ3RoO3QrKykoZT1uW3RdKSgpfHxuW3RdIT09ZXx8bi5zcGxpY2UodC0tLDEpO24ubGVuZ3RofHx3LmZ4LnN0b3AoKSxudD12b2lkIDB9LHcuZngudGltZXI9ZnVuY3Rpb24oZSl7dy50aW1lcnMucHVzaChlKSx3LmZ4LnN0YXJ0KCl9LHcuZnguaW50ZXJ2YWw9MTMsdy5meC5zdGFydD1mdW5jdGlvbigpe3J0fHwocnQ9ITAsYXQoKSl9LHcuZnguc3RvcD1mdW5jdGlvbigpe3J0PW51bGx9LHcuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LHcuZm4uZGVsYXk9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdD13LmZ4P3cuZnguc3BlZWRzW3RdfHx0OnQsbj1ufHxcImZ4XCIsdGhpcy5xdWV1ZShuLGZ1bmN0aW9uKG4scil7dmFyIGk9ZS5zZXRUaW1lb3V0KG4sdCk7ci5zdG9wPWZ1bmN0aW9uKCl7ZS5jbGVhclRpbWVvdXQoaSl9fSl9LGZ1bmN0aW9uKCl7dmFyIGU9ci5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksdD1yLmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIikuYXBwZW5kQ2hpbGQoci5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpKTtlLnR5cGU9XCJjaGVja2JveFwiLGguY2hlY2tPbj1cIlwiIT09ZS52YWx1ZSxoLm9wdFNlbGVjdGVkPXQuc2VsZWN0ZWQsKGU9ci5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIikpLnZhbHVlPVwidFwiLGUudHlwZT1cInJhZGlvXCIsaC5yYWRpb1ZhbHVlPVwidFwiPT09ZS52YWx1ZX0oKTt2YXIgZHQsaHQ9dy5leHByLmF0dHJIYW5kbGU7dy5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4geih0aGlzLHcuYXR0cixlLHQsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dy5yZW1vdmVBdHRyKHRoaXMsZSl9KX19KSx3LmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPWUubm9kZVR5cGU7aWYoMyE9PW8mJjghPT1vJiYyIT09bylyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgZS5nZXRBdHRyaWJ1dGU/dy5wcm9wKGUsdCxuKTooMT09PW8mJncuaXNYTUxEb2MoZSl8fChpPXcuYXR0ckhvb2tzW3QudG9Mb3dlckNhc2UoKV18fCh3LmV4cHIubWF0Y2guYm9vbC50ZXN0KHQpP2R0OnZvaWQgMCkpLHZvaWQgMCE9PW4/bnVsbD09PW4/dm9pZCB3LnJlbW92ZUF0dHIoZSx0KTppJiZcInNldFwiaW4gaSYmdm9pZCAwIT09KHI9aS5zZXQoZSxuLHQpKT9yOihlLnNldEF0dHJpYnV0ZSh0LG4rXCJcIiksbik6aSYmXCJnZXRcImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOm51bGw9PShyPXcuZmluZC5hdHRyKGUsdCkpP3ZvaWQgMDpyKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oZSx0KXtpZighaC5yYWRpb1ZhbHVlJiZcInJhZGlvXCI9PT10JiZOKGUsXCJpbnB1dFwiKSl7dmFyIG49ZS52YWx1ZTtyZXR1cm4gZS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsdCksbiYmKGUudmFsdWU9biksdH19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXQmJnQubWF0Y2goTSk7aWYoaSYmMT09PWUubm9kZVR5cGUpd2hpbGUobj1pW3IrK10pZS5yZW1vdmVBdHRyaWJ1dGUobil9fSksZHQ9e3NldDpmdW5jdGlvbihlLHQsbil7cmV0dXJuITE9PT10P3cucmVtb3ZlQXR0cihlLG4pOmUuc2V0QXR0cmlidXRlKG4sbiksbn19LHcuZWFjaCh3LmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1xcdysvZyksZnVuY3Rpb24oZSx0KXt2YXIgbj1odFt0XXx8dy5maW5kLmF0dHI7aHRbdF09ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG8sYT10LnRvTG93ZXJDYXNlKCk7cmV0dXJuIHJ8fChvPWh0W2FdLGh0W2FdPWksaT1udWxsIT1uKGUsdCxyKT9hOm51bGwsaHRbYV09byksaX19KTt2YXIgZ3Q9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSx5dD0vXig/OmF8YXJlYSkkL2k7dy5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4geih0aGlzLHcucHJvcCxlLHQsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbdy5wcm9wRml4W2VdfHxlXX0pfX0pLHcuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiAxPT09byYmdy5pc1hNTERvYyhlKXx8KHQ9dy5wcm9wRml4W3RdfHx0LGk9dy5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PW4/aSYmXCJzZXRcImluIGkmJnZvaWQgMCE9PShyPWkuc2V0KGUsbix0KSk/cjplW3RdPW46aSYmXCJnZXRcImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOmVbdF19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihlKXt2YXIgdD13LmZpbmQuYXR0cihlLFwidGFiaW5kZXhcIik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6Z3QudGVzdChlLm5vZGVOYW1lKXx8eXQudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7XCJmb3JcIjpcImh0bWxGb3JcIixcImNsYXNzXCI6XCJjbGFzc05hbWVcIn19KSxoLm9wdFNlbGVjdGVkfHwody5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuIHQmJnQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsbnVsbH0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTt0JiYodC5zZWxlY3RlZEluZGV4LHQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgpfX0pLHcuZWFjaChbXCJ0YWJJbmRleFwiLFwicmVhZE9ubHlcIixcIm1heExlbmd0aFwiLFwiY2VsbFNwYWNpbmdcIixcImNlbGxQYWRkaW5nXCIsXCJyb3dTcGFuXCIsXCJjb2xTcGFuXCIsXCJ1c2VNYXBcIixcImZyYW1lQm9yZGVyXCIsXCJjb250ZW50RWRpdGFibGVcIl0sZnVuY3Rpb24oKXt3LnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSk7ZnVuY3Rpb24gdnQoZSl7cmV0dXJuKGUubWF0Y2goTSl8fFtdKS5qb2luKFwiIFwiKX1mdW5jdGlvbiBtdChlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCJ9ZnVuY3Rpb24geHQoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZTpcInN0cmluZ1wiPT10eXBlb2YgZT9lLm1hdGNoKE0pfHxbXTpbXX13LmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGksbyxhLHMsdT0wO2lmKGcoZSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXt3KHRoaXMpLmFkZENsYXNzKGUuY2FsbCh0aGlzLHQsbXQodGhpcykpKX0pO2lmKCh0PXh0KGUpKS5sZW5ndGgpd2hpbGUobj10aGlzW3UrK10paWYoaT1tdChuKSxyPTE9PT1uLm5vZGVUeXBlJiZcIiBcIit2dChpKStcIiBcIil7YT0wO3doaWxlKG89dFthKytdKXIuaW5kZXhPZihcIiBcIitvK1wiIFwiKTwwJiYocis9bytcIiBcIik7aSE9PShzPXZ0KHIpKSYmbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLHMpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscyx1PTA7aWYoZyhlKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3codGhpcykucmVtb3ZlQ2xhc3MoZS5jYWxsKHRoaXMsdCxtdCh0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cihcImNsYXNzXCIsXCJcIik7aWYoKHQ9eHQoZSkpLmxlbmd0aCl3aGlsZShuPXRoaXNbdSsrXSlpZihpPW10KG4pLHI9MT09PW4ubm9kZVR5cGUmJlwiIFwiK3Z0KGkpK1wiIFwiKXthPTA7d2hpbGUobz10W2ErK10pd2hpbGUoci5pbmRleE9mKFwiIFwiK28rXCIgXCIpPi0xKXI9ci5yZXBsYWNlKFwiIFwiK28rXCIgXCIsXCIgXCIpO2khPT0ocz12dChyKSkmJm4uc2V0QXR0cmlidXRlKFwiY2xhc3NcIixzKX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oZSx0KXt2YXIgbj10eXBlb2YgZSxyPVwic3RyaW5nXCI9PT1ufHxBcnJheS5pc0FycmF5KGUpO3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgdCYmcj90P3RoaXMuYWRkQ2xhc3MoZSk6dGhpcy5yZW1vdmVDbGFzcyhlKTpnKGUpP3RoaXMuZWFjaChmdW5jdGlvbihuKXt3KHRoaXMpLnRvZ2dsZUNsYXNzKGUuY2FsbCh0aGlzLG4sbXQodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxpLG8sYTtpZihyKXtpPTAsbz13KHRoaXMpLGE9eHQoZSk7d2hpbGUodD1hW2krK10pby5oYXNDbGFzcyh0KT9vLnJlbW92ZUNsYXNzKHQpOm8uYWRkQ2xhc3ModCl9ZWxzZSB2b2lkIDAhPT1lJiZcImJvb2xlYW5cIiE9PW58fCgodD1tdCh0aGlzKSkmJkouc2V0KHRoaXMsXCJfX2NsYXNzTmFtZV9fXCIsdCksdGhpcy5zZXRBdHRyaWJ1dGUmJnRoaXMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIix0fHwhMT09PWU/XCJcIjpKLmdldCh0aGlzLFwiX19jbGFzc05hbWVfX1wiKXx8XCJcIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0wO3Q9XCIgXCIrZStcIiBcIjt3aGlsZShuPXRoaXNbcisrXSlpZigxPT09bi5ub2RlVHlwZSYmKFwiIFwiK3Z0KG10KG4pKStcIiBcIikuaW5kZXhPZih0KT4tMSlyZXR1cm4hMDtyZXR1cm4hMX19KTt2YXIgYnQ9L1xcci9nO3cuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9dGhpc1swXTt7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gcj1nKGUpLHRoaXMuZWFjaChmdW5jdGlvbihuKXt2YXIgaTsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PShpPXI/ZS5jYWxsKHRoaXMsbix3KHRoaXMpLnZhbCgpKTplKT9pPVwiXCI6XCJudW1iZXJcIj09dHlwZW9mIGk/aSs9XCJcIjpBcnJheS5pc0FycmF5KGkpJiYoaT13Lm1hcChpLGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP1wiXCI6ZStcIlwifSkpLCh0PXcudmFsSG9va3NbdGhpcy50eXBlXXx8dy52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSYmXCJzZXRcImluIHQmJnZvaWQgMCE9PXQuc2V0KHRoaXMsaSxcInZhbHVlXCIpfHwodGhpcy52YWx1ZT1pKSl9KTtpZihpKXJldHVybih0PXcudmFsSG9va3NbaS50eXBlXXx8dy52YWxIb29rc1tpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSYmXCJnZXRcImluIHQmJnZvaWQgMCE9PShuPXQuZ2V0KGksXCJ2YWx1ZVwiKSk/bjpcInN0cmluZ1wiPT10eXBlb2Yobj1pLnZhbHVlKT9uLnJlcGxhY2UoYnQsXCJcIik6bnVsbD09bj9cIlwiOm59fX0pLHcuZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dy5maW5kLmF0dHIoZSxcInZhbHVlXCIpO3JldHVybiBudWxsIT10P3Q6dnQody50ZXh0KGUpKX19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0LG4scixpPWUub3B0aW9ucyxvPWUuc2VsZWN0ZWRJbmRleCxhPVwic2VsZWN0LW9uZVwiPT09ZS50eXBlLHM9YT9udWxsOltdLHU9YT9vKzE6aS5sZW5ndGg7Zm9yKHI9bzwwP3U6YT9vOjA7cjx1O3IrKylpZigoKG49aVtyXSkuc2VsZWN0ZWR8fHI9PT1vKSYmIW4uZGlzYWJsZWQmJighbi5wYXJlbnROb2RlLmRpc2FibGVkfHwhTihuLnBhcmVudE5vZGUsXCJvcHRncm91cFwiKSkpe2lmKHQ9dyhuKS52YWwoKSxhKXJldHVybiB0O3MucHVzaCh0KX1yZXR1cm4gc30sc2V0OmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpPWUub3B0aW9ucyxvPXcubWFrZUFycmF5KHQpLGE9aS5sZW5ndGg7d2hpbGUoYS0tKSgocj1pW2FdKS5zZWxlY3RlZD13LmluQXJyYXkody52YWxIb29rcy5vcHRpb24uZ2V0KHIpLG8pPi0xKSYmKG49ITApO3JldHVybiBufHwoZS5zZWxlY3RlZEluZGV4PS0xKSxvfX19fSksdy5lYWNoKFtcInJhZGlvXCIsXCJjaGVja2JveFwiXSxmdW5jdGlvbigpe3cudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGUuY2hlY2tlZD13LmluQXJyYXkodyhlKS52YWwoKSx0KT4tMX19LGguY2hlY2tPbnx8KHcudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKT9cIm9uXCI6ZS52YWx1ZX0pfSksaC5mb2N1c2luPVwib25mb2N1c2luXCJpbiBlO3ZhciB3dD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sVHQ9ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX07dy5leHRlbmQody5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbih0LG4saSxvKXt2YXIgYSxzLHUsbCxjLHAsZCxoLHY9W2l8fHJdLG09Zi5jYWxsKHQsXCJ0eXBlXCIpP3QudHlwZTp0LHg9Zi5jYWxsKHQsXCJuYW1lc3BhY2VcIik/dC5uYW1lc3BhY2Uuc3BsaXQoXCIuXCIpOltdO2lmKHM9aD11PWk9aXx8ciwzIT09aS5ub2RlVHlwZSYmOCE9PWkubm9kZVR5cGUmJiF3dC50ZXN0KG0rdy5ldmVudC50cmlnZ2VyZWQpJiYobS5pbmRleE9mKFwiLlwiKT4tMSYmKG09KHg9bS5zcGxpdChcIi5cIikpLnNoaWZ0KCkseC5zb3J0KCkpLGM9bS5pbmRleE9mKFwiOlwiKTwwJiZcIm9uXCIrbSx0PXRbdy5leHBhbmRvXT90Om5ldyB3LkV2ZW50KG0sXCJvYmplY3RcIj09dHlwZW9mIHQmJnQpLHQuaXNUcmlnZ2VyPW8/MjozLHQubmFtZXNwYWNlPXguam9pbihcIi5cIiksdC5ybmFtZXNwYWNlPXQubmFtZXNwYWNlP25ldyBSZWdFeHAoXCIoXnxcXFxcLilcIit4LmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKStcIihcXFxcLnwkKVwiKTpudWxsLHQucmVzdWx0PXZvaWQgMCx0LnRhcmdldHx8KHQudGFyZ2V0PWkpLG49bnVsbD09bj9bdF06dy5tYWtlQXJyYXkobixbdF0pLGQ9dy5ldmVudC5zcGVjaWFsW21dfHx7fSxvfHwhZC50cmlnZ2VyfHwhMSE9PWQudHJpZ2dlci5hcHBseShpLG4pKSl7aWYoIW8mJiFkLm5vQnViYmxlJiYheShpKSl7Zm9yKGw9ZC5kZWxlZ2F0ZVR5cGV8fG0sd3QudGVzdChsK20pfHwocz1zLnBhcmVudE5vZGUpO3M7cz1zLnBhcmVudE5vZGUpdi5wdXNoKHMpLHU9czt1PT09KGkub3duZXJEb2N1bWVudHx8cikmJnYucHVzaCh1LmRlZmF1bHRWaWV3fHx1LnBhcmVudFdpbmRvd3x8ZSl9YT0wO3doaWxlKChzPXZbYSsrXSkmJiF0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpaD1zLHQudHlwZT1hPjE/bDpkLmJpbmRUeXBlfHxtLChwPShKLmdldChzLFwiZXZlbnRzXCIpfHx7fSlbdC50eXBlXSYmSi5nZXQocyxcImhhbmRsZVwiKSkmJnAuYXBwbHkocyxuKSwocD1jJiZzW2NdKSYmcC5hcHBseSYmWShzKSYmKHQucmVzdWx0PXAuYXBwbHkocyxuKSwhMT09PXQucmVzdWx0JiZ0LnByZXZlbnREZWZhdWx0KCkpO3JldHVybiB0LnR5cGU9bSxvfHx0LmlzRGVmYXVsdFByZXZlbnRlZCgpfHxkLl9kZWZhdWx0JiYhMSE9PWQuX2RlZmF1bHQuYXBwbHkodi5wb3AoKSxuKXx8IVkoaSl8fGMmJmcoaVttXSkmJiF5KGkpJiYoKHU9aVtjXSkmJihpW2NdPW51bGwpLHcuZXZlbnQudHJpZ2dlcmVkPW0sdC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZoLmFkZEV2ZW50TGlzdGVuZXIobSxUdCksaVttXSgpLHQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmaC5yZW1vdmVFdmVudExpc3RlbmVyKG0sVHQpLHcuZXZlbnQudHJpZ2dlcmVkPXZvaWQgMCx1JiYoaVtjXT11KSksdC5yZXN1bHR9fSxzaW11bGF0ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9dy5leHRlbmQobmV3IHcuRXZlbnQsbix7dHlwZTplLGlzU2ltdWxhdGVkOiEwfSk7dy5ldmVudC50cmlnZ2VyKHIsbnVsbCx0KX19KSx3LmZuLmV4dGVuZCh7dHJpZ2dlcjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt3LmV2ZW50LnRyaWdnZXIoZSx0LHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpc1swXTtpZihuKXJldHVybiB3LmV2ZW50LnRyaWdnZXIoZSx0LG4sITApfX0pLGguZm9jdXNpbnx8dy5lYWNoKHtmb2N1czpcImZvY3VzaW5cIixibHVyOlwiZm9jdXNvdXRcIn0sZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbihlKXt3LmV2ZW50LnNpbXVsYXRlKHQsZS50YXJnZXQsdy5ldmVudC5maXgoZSkpfTt3LmV2ZW50LnNwZWNpYWxbdF09e3NldHVwOmZ1bmN0aW9uKCl7dmFyIHI9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGk9Si5hY2Nlc3Mocix0KTtpfHxyLmFkZEV2ZW50TGlzdGVuZXIoZSxuLCEwKSxKLmFjY2VzcyhyLHQsKGl8fDApKzEpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciByPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxpPUouYWNjZXNzKHIsdCktMTtpP0ouYWNjZXNzKHIsdCxpKTooci5yZW1vdmVFdmVudExpc3RlbmVyKGUsbiwhMCksSi5yZW1vdmUocix0KSl9fX0pO3ZhciBDdD1lLmxvY2F0aW9uLEV0PURhdGUubm93KCksa3Q9L1xcPy87dy5wYXJzZVhNTD1mdW5jdGlvbih0KXt2YXIgbjtpZighdHx8XCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJuIG51bGw7dHJ5e249KG5ldyBlLkRPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKHQsXCJ0ZXh0L3htbFwiKX1jYXRjaChlKXtuPXZvaWQgMH1yZXR1cm4gbiYmIW4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwYXJzZXJlcnJvclwiKS5sZW5ndGh8fHcuZXJyb3IoXCJJbnZhbGlkIFhNTDogXCIrdCksbn07dmFyIFN0PS9cXFtcXF0kLyxEdD0vXFxyP1xcbi9nLE50PS9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxBdD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7ZnVuY3Rpb24ganQoZSx0LG4scil7dmFyIGk7aWYoQXJyYXkuaXNBcnJheSh0KSl3LmVhY2godCxmdW5jdGlvbih0LGkpe258fFN0LnRlc3QoZSk/cihlLGkpOmp0KGUrXCJbXCIrKFwib2JqZWN0XCI9PXR5cGVvZiBpJiZudWxsIT1pP3Q6XCJcIikrXCJdXCIsaSxuLHIpfSk7ZWxzZSBpZihufHxcIm9iamVjdFwiIT09eCh0KSlyKGUsdCk7ZWxzZSBmb3IoaSBpbiB0KWp0KGUrXCJbXCIraStcIl1cIix0W2ldLG4scil9dy5wYXJhbT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9W10saT1mdW5jdGlvbihlLHQpe3ZhciBuPWcodCk/dCgpOnQ7cltyLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGUpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChudWxsPT1uP1wiXCI6bil9O2lmKEFycmF5LmlzQXJyYXkoZSl8fGUuanF1ZXJ5JiYhdy5pc1BsYWluT2JqZWN0KGUpKXcuZWFjaChlLGZ1bmN0aW9uKCl7aSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihuIGluIGUpanQobixlW25dLHQsaSk7cmV0dXJuIHIuam9pbihcIiZcIil9LHcuZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdy5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBlPXcucHJvcCh0aGlzLFwiZWxlbWVudHNcIik7cmV0dXJuIGU/dy5tYWtlQXJyYXkoZSk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3ZhciBlPXRoaXMudHlwZTtyZXR1cm4gdGhpcy5uYW1lJiYhdyh0aGlzKS5pcyhcIjpkaXNhYmxlZFwiKSYmQXQudGVzdCh0aGlzLm5vZGVOYW1lKSYmIU50LnRlc3QoZSkmJih0aGlzLmNoZWNrZWR8fCFwZS50ZXN0KGUpKX0pLm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPXcodGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDpBcnJheS5pc0FycmF5KG4pP3cubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShEdCxcIlxcclxcblwiKX19KTp7bmFtZTp0Lm5hbWUsdmFsdWU6bi5yZXBsYWNlKER0LFwiXFxyXFxuXCIpfX0pLmdldCgpfX0pO3ZhciBxdD0vJTIwL2csTHQ9LyMuKiQvLEh0PS8oWz8mXSlfPVteJl0qLyxPdD0vXiguKj8pOlsgXFx0XSooW15cXHJcXG5dKikkL2dtLFB0PS9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLE10PS9eKD86R0VUfEhFQUQpJC8sUnQ9L15cXC9cXC8vLEl0PXt9LFd0PXt9LCR0PVwiKi9cIi5jb25jYXQoXCIqXCIpLEJ0PXIuY3JlYXRlRWxlbWVudChcImFcIik7QnQuaHJlZj1DdC5ocmVmO2Z1bmN0aW9uIEZ0KGUpe3JldHVybiBmdW5jdGlvbih0LG4pe1wic3RyaW5nXCIhPXR5cGVvZiB0JiYobj10LHQ9XCIqXCIpO3ZhciByLGk9MCxvPXQudG9Mb3dlckNhc2UoKS5tYXRjaChNKXx8W107aWYoZyhuKSl3aGlsZShyPW9baSsrXSlcIitcIj09PXJbMF0/KHI9ci5zbGljZSgxKXx8XCIqXCIsKGVbcl09ZVtyXXx8W10pLnVuc2hpZnQobikpOihlW3JdPWVbcl18fFtdKS5wdXNoKG4pfX1mdW5jdGlvbiBfdChlLHQsbixyKXt2YXIgaT17fSxvPWU9PT1XdDtmdW5jdGlvbiBhKHMpe3ZhciB1O3JldHVybiBpW3NdPSEwLHcuZWFjaChlW3NdfHxbXSxmdW5jdGlvbihlLHMpe3ZhciBsPXModCxuLHIpO3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBsfHxvfHxpW2xdP28/ISh1PWwpOnZvaWQgMDoodC5kYXRhVHlwZXMudW5zaGlmdChsKSxhKGwpLCExKX0pLHV9cmV0dXJuIGEodC5kYXRhVHlwZXNbMF0pfHwhaVtcIipcIl0mJmEoXCIqXCIpfWZ1bmN0aW9uIHp0KGUsdCl7dmFyIG4scixpPXcuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3IobiBpbiB0KXZvaWQgMCE9PXRbbl0mJigoaVtuXT9lOnJ8fChyPXt9KSlbbl09dFtuXSk7cmV0dXJuIHImJncuZXh0ZW5kKCEwLGUsciksZX1mdW5jdGlvbiBYdChlLHQsbil7dmFyIHIsaSxvLGEscz1lLmNvbnRlbnRzLHU9ZS5kYXRhVHlwZXM7d2hpbGUoXCIqXCI9PT11WzBdKXUuc2hpZnQoKSx2b2lkIDA9PT1yJiYocj1lLm1pbWVUeXBlfHx0LmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1UeXBlXCIpKTtpZihyKWZvcihpIGluIHMpaWYoc1tpXSYmc1tpXS50ZXN0KHIpKXt1LnVuc2hpZnQoaSk7YnJlYWt9aWYodVswXWluIG4pbz11WzBdO2Vsc2V7Zm9yKGkgaW4gbil7aWYoIXVbMF18fGUuY29udmVydGVyc1tpK1wiIFwiK3VbMF1dKXtvPWk7YnJlYWt9YXx8KGE9aSl9bz1vfHxhfWlmKG8pcmV0dXJuIG8hPT11WzBdJiZ1LnVuc2hpZnQobyksbltvXX1mdW5jdGlvbiBVdChlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWxbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKFwiKlwiPT09bylvPXU7ZWxzZSBpZihcIipcIiE9PXUmJnUhPT1vKXtpZighKGE9bFt1K1wiIFwiK29dfHxsW1wiKiBcIitvXSkpZm9yKGkgaW4gbClpZigocz1pLnNwbGl0KFwiIFwiKSlbMV09PT1vJiYoYT1sW3UrXCIgXCIrc1swXV18fGxbXCIqIFwiK3NbMF1dKSl7ITA9PT1hP2E9bFtpXTohMCE9PWxbaV0mJihvPXNbMF0sYy51bnNoaWZ0KHNbMV0pKTticmVha31pZighMCE9PWEpaWYoYSYmZVtcInRocm93c1wiXSl0PWEodCk7ZWxzZSB0cnl7dD1hKHQpfWNhdGNoKGUpe3JldHVybntzdGF0ZTpcInBhcnNlcmVycm9yXCIsZXJyb3I6YT9lOlwiTm8gY29udmVyc2lvbiBmcm9tIFwiK3UrXCIgdG8gXCIrb319fXJldHVybntzdGF0ZTpcInN1Y2Nlc3NcIixkYXRhOnR9fXcuZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxhamF4U2V0dGluZ3M6e3VybDpDdC5ocmVmLHR5cGU6XCJHRVRcIixpc0xvY2FsOlB0LnRlc3QoQ3QucHJvdG9jb2wpLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOFwiLGFjY2VwdHM6e1wiKlwiOiR0LHRleHQ6XCJ0ZXh0L3BsYWluXCIsaHRtbDpcInRleHQvaHRtbFwiLHhtbDpcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixqc29uOlwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0XCJ9LGNvbnRlbnRzOnt4bWw6L1xcYnhtbFxcYi8saHRtbDovXFxiaHRtbC8sanNvbjovXFxianNvblxcYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6XCJyZXNwb25zZVhNTFwiLHRleHQ6XCJyZXNwb25zZVRleHRcIixqc29uOlwicmVzcG9uc2VKU09OXCJ9LGNvbnZlcnRlcnM6e1wiKiB0ZXh0XCI6U3RyaW5nLFwidGV4dCBodG1sXCI6ITAsXCJ0ZXh0IGpzb25cIjpKU09OLnBhcnNlLFwidGV4dCB4bWxcIjp3LnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD96dCh6dChlLHcuYWpheFNldHRpbmdzKSx0KTp6dCh3LmFqYXhTZXR0aW5ncyxlKX0sYWpheFByZWZpbHRlcjpGdChJdCksYWpheFRyYW5zcG9ydDpGdChXdCksYWpheDpmdW5jdGlvbih0LG4pe1wib2JqZWN0XCI9PXR5cGVvZiB0JiYobj10LHQ9dm9pZCAwKSxuPW58fHt9O3ZhciBpLG8sYSxzLHUsbCxjLGYscCxkLGg9dy5hamF4U2V0dXAoe30sbiksZz1oLmNvbnRleHR8fGgseT1oLmNvbnRleHQmJihnLm5vZGVUeXBlfHxnLmpxdWVyeSk/dyhnKTp3LmV2ZW50LHY9dy5EZWZlcnJlZCgpLG09dy5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSx4PWguc3RhdHVzQ29kZXx8e30sYj17fSxUPXt9LEM9XCJjYW5jZWxlZFwiLEU9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihlKXt2YXIgdDtpZihjKXtpZighcyl7cz17fTt3aGlsZSh0PU90LmV4ZWMoYSkpc1t0WzFdLnRvTG93ZXJDYXNlKCldPXRbMl19dD1zW2UudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGw9PXQ/bnVsbDp0fSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gYz9hOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09YyYmKGU9VFtlLnRvTG93ZXJDYXNlKCldPVRbZS50b0xvd2VyQ2FzZSgpXXx8ZSxiW2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWMmJihoLm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZihjKUUuYWx3YXlzKGVbRS5zdGF0dXNdKTtlbHNlIGZvcih0IGluIGUpeFt0XT1beFt0XSxlW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8QztyZXR1cm4gaSYmaS5hYm9ydCh0KSxrKDAsdCksdGhpc319O2lmKHYucHJvbWlzZShFKSxoLnVybD0oKHR8fGgudXJsfHxDdC5ocmVmKStcIlwiKS5yZXBsYWNlKFJ0LEN0LnByb3RvY29sK1wiLy9cIiksaC50eXBlPW4ubWV0aG9kfHxuLnR5cGV8fGgubWV0aG9kfHxoLnR5cGUsaC5kYXRhVHlwZXM9KGguZGF0YVR5cGV8fFwiKlwiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKE0pfHxbXCJcIl0sbnVsbD09aC5jcm9zc0RvbWFpbil7bD1yLmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3RyeXtsLmhyZWY9aC51cmwsbC5ocmVmPWwuaHJlZixoLmNyb3NzRG9tYWluPUJ0LnByb3RvY29sK1wiLy9cIitCdC5ob3N0IT1sLnByb3RvY29sK1wiLy9cIitsLmhvc3R9Y2F0Y2goZSl7aC5jcm9zc0RvbWFpbj0hMH19aWYoaC5kYXRhJiZoLnByb2Nlc3NEYXRhJiZcInN0cmluZ1wiIT10eXBlb2YgaC5kYXRhJiYoaC5kYXRhPXcucGFyYW0oaC5kYXRhLGgudHJhZGl0aW9uYWwpKSxfdChJdCxoLG4sRSksYylyZXR1cm4gRTsoZj13LmV2ZW50JiZoLmdsb2JhbCkmJjA9PXcuYWN0aXZlKysmJncuZXZlbnQudHJpZ2dlcihcImFqYXhTdGFydFwiKSxoLnR5cGU9aC50eXBlLnRvVXBwZXJDYXNlKCksaC5oYXNDb250ZW50PSFNdC50ZXN0KGgudHlwZSksbz1oLnVybC5yZXBsYWNlKEx0LFwiXCIpLGguaGFzQ29udGVudD9oLmRhdGEmJmgucHJvY2Vzc0RhdGEmJjA9PT0oaC5jb250ZW50VHlwZXx8XCJcIikuaW5kZXhPZihcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSYmKGguZGF0YT1oLmRhdGEucmVwbGFjZShxdCxcIitcIikpOihkPWgudXJsLnNsaWNlKG8ubGVuZ3RoKSxoLmRhdGEmJihoLnByb2Nlc3NEYXRhfHxcInN0cmluZ1wiPT10eXBlb2YgaC5kYXRhKSYmKG8rPShrdC50ZXN0KG8pP1wiJlwiOlwiP1wiKStoLmRhdGEsZGVsZXRlIGguZGF0YSksITE9PT1oLmNhY2hlJiYobz1vLnJlcGxhY2UoSHQsXCIkMVwiKSxkPShrdC50ZXN0KG8pP1wiJlwiOlwiP1wiKStcIl89XCIrRXQrKytkKSxoLnVybD1vK2QpLGguaWZNb2RpZmllZCYmKHcubGFzdE1vZGlmaWVkW29dJiZFLnNldFJlcXVlc3RIZWFkZXIoXCJJZi1Nb2RpZmllZC1TaW5jZVwiLHcubGFzdE1vZGlmaWVkW29dKSx3LmV0YWdbb10mJkUuc2V0UmVxdWVzdEhlYWRlcihcIklmLU5vbmUtTWF0Y2hcIix3LmV0YWdbb10pKSwoaC5kYXRhJiZoLmhhc0NvbnRlbnQmJiExIT09aC5jb250ZW50VHlwZXx8bi5jb250ZW50VHlwZSkmJkUuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLGguY29udGVudFR5cGUpLEUuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLGguZGF0YVR5cGVzWzBdJiZoLmFjY2VwdHNbaC5kYXRhVHlwZXNbMF1dP2guYWNjZXB0c1toLmRhdGFUeXBlc1swXV0rKFwiKlwiIT09aC5kYXRhVHlwZXNbMF0/XCIsIFwiKyR0K1wiOyBxPTAuMDFcIjpcIlwiKTpoLmFjY2VwdHNbXCIqXCJdKTtmb3IocCBpbiBoLmhlYWRlcnMpRS5zZXRSZXF1ZXN0SGVhZGVyKHAsaC5oZWFkZXJzW3BdKTtpZihoLmJlZm9yZVNlbmQmJighMT09PWguYmVmb3JlU2VuZC5jYWxsKGcsRSxoKXx8YykpcmV0dXJuIEUuYWJvcnQoKTtpZihDPVwiYWJvcnRcIixtLmFkZChoLmNvbXBsZXRlKSxFLmRvbmUoaC5zdWNjZXNzKSxFLmZhaWwoaC5lcnJvciksaT1fdChXdCxoLG4sRSkpe2lmKEUucmVhZHlTdGF0ZT0xLGYmJnkudHJpZ2dlcihcImFqYXhTZW5kXCIsW0UsaF0pLGMpcmV0dXJuIEU7aC5hc3luYyYmaC50aW1lb3V0PjAmJih1PWUuc2V0VGltZW91dChmdW5jdGlvbigpe0UuYWJvcnQoXCJ0aW1lb3V0XCIpfSxoLnRpbWVvdXQpKTt0cnl7Yz0hMSxpLnNlbmQoYixrKX1jYXRjaChlKXtpZihjKXRocm93IGU7aygtMSxlKX19ZWxzZSBrKC0xLFwiTm8gVHJhbnNwb3J0XCIpO2Z1bmN0aW9uIGsodCxuLHIscyl7dmFyIGwscCxkLGIsVCxDPW47Y3x8KGM9ITAsdSYmZS5jbGVhclRpbWVvdXQodSksaT12b2lkIDAsYT1zfHxcIlwiLEUucmVhZHlTdGF0ZT10PjA/NDowLGw9dD49MjAwJiZ0PDMwMHx8MzA0PT09dCxyJiYoYj1YdChoLEUscikpLGI9VXQoaCxiLEUsbCksbD8oaC5pZk1vZGlmaWVkJiYoKFQ9RS5nZXRSZXNwb25zZUhlYWRlcihcIkxhc3QtTW9kaWZpZWRcIikpJiYody5sYXN0TW9kaWZpZWRbb109VCksKFQ9RS5nZXRSZXNwb25zZUhlYWRlcihcImV0YWdcIikpJiYody5ldGFnW29dPVQpKSwyMDQ9PT10fHxcIkhFQURcIj09PWgudHlwZT9DPVwibm9jb250ZW50XCI6MzA0PT09dD9DPVwibm90bW9kaWZpZWRcIjooQz1iLnN0YXRlLHA9Yi5kYXRhLGw9IShkPWIuZXJyb3IpKSk6KGQ9QywhdCYmQ3x8KEM9XCJlcnJvclwiLHQ8MCYmKHQ9MCkpKSxFLnN0YXR1cz10LEUuc3RhdHVzVGV4dD0obnx8QykrXCJcIixsP3YucmVzb2x2ZVdpdGgoZyxbcCxDLEVdKTp2LnJlamVjdFdpdGgoZyxbRSxDLGRdKSxFLnN0YXR1c0NvZGUoeCkseD12b2lkIDAsZiYmeS50cmlnZ2VyKGw/XCJhamF4U3VjY2Vzc1wiOlwiYWpheEVycm9yXCIsW0UsaCxsP3A6ZF0pLG0uZmlyZVdpdGgoZyxbRSxDXSksZiYmKHkudHJpZ2dlcihcImFqYXhDb21wbGV0ZVwiLFtFLGhdKSwtLXcuYWN0aXZlfHx3LmV2ZW50LnRyaWdnZXIoXCJhamF4U3RvcFwiKSkpfXJldHVybiBFfSxnZXRKU09OOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdy5nZXQoZSx0LG4sXCJqc29uXCIpfSxnZXRTY3JpcHQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdy5nZXQoZSx2b2lkIDAsdCxcInNjcmlwdFwiKX19KSx3LmVhY2goW1wiZ2V0XCIsXCJwb3N0XCJdLGZ1bmN0aW9uKGUsdCl7d1t0XT1mdW5jdGlvbihlLG4scixpKXtyZXR1cm4gZyhuKSYmKGk9aXx8cixyPW4sbj12b2lkIDApLHcuYWpheCh3LmV4dGVuZCh7dXJsOmUsdHlwZTp0LGRhdGFUeXBlOmksZGF0YTpuLHN1Y2Nlc3M6cn0sdy5pc1BsYWluT2JqZWN0KGUpJiZlKSl9fSksdy5fZXZhbFVybD1mdW5jdGlvbihlKXtyZXR1cm4gdy5hamF4KHt1cmw6ZSx0eXBlOlwiR0VUXCIsZGF0YVR5cGU6XCJzY3JpcHRcIixjYWNoZTohMCxhc3luYzohMSxnbG9iYWw6ITEsXCJ0aHJvd3NcIjohMH0pfSx3LmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdGhpc1swXSYmKGcoZSkmJihlPWUuY2FsbCh0aGlzWzBdKSksdD13KGUsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCksdGhpc1swXS5wYXJlbnROb2RlJiZ0Lmluc2VydEJlZm9yZSh0aGlzWzBdKSx0Lm1hcChmdW5jdGlvbigpe3ZhciBlPXRoaXM7d2hpbGUoZS5maXJzdEVsZW1lbnRDaGlsZCllPWUuZmlyc3RFbGVtZW50Q2hpbGQ7cmV0dXJuIGV9KS5hcHBlbmQodGhpcykpLHRoaXN9LHdyYXBJbm5lcjpmdW5jdGlvbihlKXtyZXR1cm4gZyhlKT90aGlzLmVhY2goZnVuY3Rpb24odCl7dyh0aGlzKS53cmFwSW5uZXIoZS5jYWxsKHRoaXMsdCkpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9dyh0aGlzKSxuPXQuY29udGVudHMoKTtuLmxlbmd0aD9uLndyYXBBbGwoZSk6dC5hcHBlbmQoZSl9KX0sd3JhcDpmdW5jdGlvbihlKXt2YXIgdD1nKGUpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24obil7dyh0aGlzKS53cmFwQWxsKHQ/ZS5jYWxsKHRoaXMsbik6ZSl9KX0sdW53cmFwOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnBhcmVudChlKS5ub3QoXCJib2R5XCIpLmVhY2goZnVuY3Rpb24oKXt3KHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLHcuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4hdy5leHByLnBzZXVkb3MudmlzaWJsZShlKX0sdy5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIShlLm9mZnNldFdpZHRofHxlLm9mZnNldEhlaWdodHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LHcuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IGUuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIFZ0PXswOjIwMCwxMjIzOjIwNH0sR3Q9dy5hamF4U2V0dGluZ3MueGhyKCk7aC5jb3JzPSEhR3QmJlwid2l0aENyZWRlbnRpYWxzXCJpbiBHdCxoLmFqYXg9R3Q9ISFHdCx3LmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24odCl7dmFyIG4scjtpZihoLmNvcnN8fEd0JiYhdC5jcm9zc0RvbWFpbilyZXR1cm57c2VuZDpmdW5jdGlvbihpLG8pe3ZhciBhLHM9dC54aHIoKTtpZihzLm9wZW4odC50eXBlLHQudXJsLHQuYXN5bmMsdC51c2VybmFtZSx0LnBhc3N3b3JkKSx0LnhockZpZWxkcylmb3IoYSBpbiB0LnhockZpZWxkcylzW2FdPXQueGhyRmllbGRzW2FdO3QubWltZVR5cGUmJnMub3ZlcnJpZGVNaW1lVHlwZSYmcy5vdmVycmlkZU1pbWVUeXBlKHQubWltZVR5cGUpLHQuY3Jvc3NEb21haW58fGlbXCJYLVJlcXVlc3RlZC1XaXRoXCJdfHwoaVtcIlgtUmVxdWVzdGVkLVdpdGhcIl09XCJYTUxIdHRwUmVxdWVzdFwiKTtmb3IoYSBpbiBpKXMuc2V0UmVxdWVzdEhlYWRlcihhLGlbYV0pO249ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7biYmKG49cj1zLm9ubG9hZD1zLm9uZXJyb3I9cy5vbmFib3J0PXMub250aW1lb3V0PXMub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsXCJhYm9ydFwiPT09ZT9zLmFib3J0KCk6XCJlcnJvclwiPT09ZT9cIm51bWJlclwiIT10eXBlb2Ygcy5zdGF0dXM/bygwLFwiZXJyb3JcIik6byhzLnN0YXR1cyxzLnN0YXR1c1RleHQpOm8oVnRbcy5zdGF0dXNdfHxzLnN0YXR1cyxzLnN0YXR1c1RleHQsXCJ0ZXh0XCIhPT0ocy5yZXNwb25zZVR5cGV8fFwidGV4dFwiKXx8XCJzdHJpbmdcIiE9dHlwZW9mIHMucmVzcG9uc2VUZXh0P3tiaW5hcnk6cy5yZXNwb25zZX06e3RleHQ6cy5yZXNwb25zZVRleHR9LHMuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKX19LHMub25sb2FkPW4oKSxyPXMub25lcnJvcj1zLm9udGltZW91dD1uKFwiZXJyb3JcIiksdm9pZCAwIT09cy5vbmFib3J0P3Mub25hYm9ydD1yOnMub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXMucmVhZHlTdGF0ZSYmZS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7biYmcigpfSl9LG49bihcImFib3J0XCIpO3RyeXtzLnNlbmQodC5oYXNDb250ZW50JiZ0LmRhdGF8fG51bGwpfWNhdGNoKGUpe2lmKG4pdGhyb3cgZX19LGFib3J0OmZ1bmN0aW9uKCl7biYmbigpfX19KSx3LmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24oZSl7ZS5jcm9zc0RvbWFpbiYmKGUuY29udGVudHMuc2NyaXB0PSExKX0pLHcuYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6XCJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdFwifSxjb250ZW50czp7c2NyaXB0Oi9cXGIoPzpqYXZhfGVjbWEpc2NyaXB0XFxiL30sY29udmVydGVyczp7XCJ0ZXh0IHNjcmlwdFwiOmZ1bmN0aW9uKGUpe3JldHVybiB3Lmdsb2JhbEV2YWwoZSksZX19fSksdy5hamF4UHJlZmlsdGVyKFwic2NyaXB0XCIsZnVuY3Rpb24oZSl7dm9pZCAwPT09ZS5jYWNoZSYmKGUuY2FjaGU9ITEpLGUuY3Jvc3NEb21haW4mJihlLnR5cGU9XCJHRVRcIil9KSx3LmFqYXhUcmFuc3BvcnQoXCJzY3JpcHRcIixmdW5jdGlvbihlKXtpZihlLmNyb3NzRG9tYWluKXt2YXIgdCxuO3JldHVybntzZW5kOmZ1bmN0aW9uKGksbyl7dD13KFwiPHNjcmlwdD5cIikucHJvcCh7Y2hhcnNldDplLnNjcmlwdENoYXJzZXQsc3JjOmUudXJsfSkub24oXCJsb2FkIGVycm9yXCIsbj1mdW5jdGlvbihlKXt0LnJlbW92ZSgpLG49bnVsbCxlJiZvKFwiZXJyb3JcIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxyLmhlYWQuYXBwZW5kQ2hpbGQodFswXSl9LGFib3J0OmZ1bmN0aW9uKCl7biYmbigpfX19fSk7dmFyIFl0PVtdLFF0PS8oPSlcXD8oPz0mfCQpfFxcP1xcPy87dy5hamF4U2V0dXAoe2pzb25wOlwiY2FsbGJhY2tcIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9WXQucG9wKCl8fHcuZXhwYW5kbytcIl9cIitFdCsrO3JldHVybiB0aGlzW2VdPSEwLGV9fSksdy5hamF4UHJlZmlsdGVyKFwianNvbiBqc29ucFwiLGZ1bmN0aW9uKHQsbixyKXt2YXIgaSxvLGEscz0hMSE9PXQuanNvbnAmJihRdC50ZXN0KHQudXJsKT9cInVybFwiOlwic3RyaW5nXCI9PXR5cGVvZiB0LmRhdGEmJjA9PT0odC5jb250ZW50VHlwZXx8XCJcIikuaW5kZXhPZihcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSYmUXQudGVzdCh0LmRhdGEpJiZcImRhdGFcIik7aWYoc3x8XCJqc29ucFwiPT09dC5kYXRhVHlwZXNbMF0pcmV0dXJuIGk9dC5qc29ucENhbGxiYWNrPWcodC5qc29ucENhbGxiYWNrKT90Lmpzb25wQ2FsbGJhY2soKTp0Lmpzb25wQ2FsbGJhY2sscz90W3NdPXRbc10ucmVwbGFjZShRdCxcIiQxXCIraSk6ITEhPT10Lmpzb25wJiYodC51cmwrPShrdC50ZXN0KHQudXJsKT9cIiZcIjpcIj9cIikrdC5qc29ucCtcIj1cIitpKSx0LmNvbnZlcnRlcnNbXCJzY3JpcHQganNvblwiXT1mdW5jdGlvbigpe3JldHVybiBhfHx3LmVycm9yKGkrXCIgd2FzIG5vdCBjYWxsZWRcIiksYVswXX0sdC5kYXRhVHlwZXNbMF09XCJqc29uXCIsbz1lW2ldLGVbaV09ZnVuY3Rpb24oKXthPWFyZ3VtZW50c30sci5hbHdheXMoZnVuY3Rpb24oKXt2b2lkIDA9PT1vP3coZSkucmVtb3ZlUHJvcChpKTplW2ldPW8sdFtpXSYmKHQuanNvbnBDYWxsYmFjaz1uLmpzb25wQ2FsbGJhY2ssWXQucHVzaChpKSksYSYmZyhvKSYmbyhhWzBdKSxhPW89dm9pZCAwfSksXCJzY3JpcHRcIn0pLGguY3JlYXRlSFRNTERvY3VtZW50PWZ1bmN0aW9uKCl7dmFyIGU9ci5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoXCJcIikuYm9keTtyZXR1cm4gZS5pbm5lckhUTUw9XCI8Zm9ybT48L2Zvcm0+PGZvcm0+PC9mb3JtPlwiLDI9PT1lLmNoaWxkTm9kZXMubGVuZ3RofSgpLHcucGFyc2VIVE1MPWZ1bmN0aW9uKGUsdCxuKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm5bXTtcImJvb2xlYW5cIj09dHlwZW9mIHQmJihuPXQsdD0hMSk7dmFyIGksbyxhO3JldHVybiB0fHwoaC5jcmVhdGVIVE1MRG9jdW1lbnQ/KChpPSh0PXIuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiXCIpKS5jcmVhdGVFbGVtZW50KFwiYmFzZVwiKSkuaHJlZj1yLmxvY2F0aW9uLmhyZWYsdC5oZWFkLmFwcGVuZENoaWxkKGkpKTp0PXIpLG89QS5leGVjKGUpLGE9IW4mJltdLG8/W3QuY3JlYXRlRWxlbWVudChvWzFdKV06KG89eGUoW2VdLHQsYSksYSYmYS5sZW5ndGgmJncoYSkucmVtb3ZlKCksdy5tZXJnZShbXSxvLmNoaWxkTm9kZXMpKX0sdy5mbi5sb2FkPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT10aGlzLHM9ZS5pbmRleE9mKFwiIFwiKTtyZXR1cm4gcz4tMSYmKHI9dnQoZS5zbGljZShzKSksZT1lLnNsaWNlKDAscykpLGcodCk/KG49dCx0PXZvaWQgMCk6dCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJihpPVwiUE9TVFwiKSxhLmxlbmd0aD4wJiZ3LmFqYXgoe3VybDplLHR5cGU6aXx8XCJHRVRcIixkYXRhVHlwZTpcImh0bWxcIixkYXRhOnR9KS5kb25lKGZ1bmN0aW9uKGUpe289YXJndW1lbnRzLGEuaHRtbChyP3coXCI8ZGl2PlwiKS5hcHBlbmQody5wYXJzZUhUTUwoZSkpLmZpbmQocik6ZSl9KS5hbHdheXMobiYmZnVuY3Rpb24oZSx0KXthLmVhY2goZnVuY3Rpb24oKXtuLmFwcGx5KHRoaXMsb3x8W2UucmVzcG9uc2VUZXh0LHQsZV0pfSl9KSx0aGlzfSx3LmVhY2goW1wiYWpheFN0YXJ0XCIsXCJhamF4U3RvcFwiLFwiYWpheENvbXBsZXRlXCIsXCJhamF4RXJyb3JcIixcImFqYXhTdWNjZXNzXCIsXCJhamF4U2VuZFwiXSxmdW5jdGlvbihlLHQpe3cuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub24odCxlKX19KSx3LmV4cHIucHNldWRvcy5hbmltYXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gdy5ncmVwKHcudGltZXJzLGZ1bmN0aW9uKHQpe3JldHVybiBlPT09dC5lbGVtfSkubGVuZ3RofSx3Lm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjPXcuY3NzKGUsXCJwb3NpdGlvblwiKSxmPXcoZSkscD17fTtcInN0YXRpY1wiPT09YyYmKGUuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiKSxzPWYub2Zmc2V0KCksbz13LmNzcyhlLFwidG9wXCIpLHU9dy5jc3MoZSxcImxlZnRcIiksKGw9KFwiYWJzb2x1dGVcIj09PWN8fFwiZml4ZWRcIj09PWMpJiYobyt1KS5pbmRleE9mKFwiYXV0b1wiKT4tMSk/KGE9KHI9Zi5wb3NpdGlvbigpKS50b3AsaT1yLmxlZnQpOihhPXBhcnNlRmxvYXQobyl8fDAsaT1wYXJzZUZsb2F0KHUpfHwwKSxnKHQpJiYodD10LmNhbGwoZSxuLHcuZXh0ZW5kKHt9LHMpKSksbnVsbCE9dC50b3AmJihwLnRvcD10LnRvcC1zLnRvcCthKSxudWxsIT10LmxlZnQmJihwLmxlZnQ9dC5sZWZ0LXMubGVmdCtpKSxcInVzaW5nXCJpbiB0P3QudXNpbmcuY2FsbChlLHApOmYuY3NzKHApfX0sdy5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbihlKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT1lP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3cub2Zmc2V0LnNldE9mZnNldCh0aGlzLGUsdCl9KTt2YXIgdCxuLHI9dGhpc1swXTtpZihyKXJldHVybiByLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPyh0PXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1yLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcse3RvcDp0LnRvcCtuLnBhZ2VZT2Zmc2V0LGxlZnQ6dC5sZWZ0K24ucGFnZVhPZmZzZXR9KTp7dG9wOjAsbGVmdDowfX0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgZSx0LG4scj10aGlzWzBdLGk9e3RvcDowLGxlZnQ6MH07aWYoXCJmaXhlZFwiPT09dy5jc3MocixcInBvc2l0aW9uXCIpKXQ9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlbHNle3Q9dGhpcy5vZmZzZXQoKSxuPXIub3duZXJEb2N1bWVudCxlPXIub2Zmc2V0UGFyZW50fHxuLmRvY3VtZW50RWxlbWVudDt3aGlsZShlJiYoZT09PW4uYm9keXx8ZT09PW4uZG9jdW1lbnRFbGVtZW50KSYmXCJzdGF0aWNcIj09PXcuY3NzKGUsXCJwb3NpdGlvblwiKSllPWUucGFyZW50Tm9kZTtlJiZlIT09ciYmMT09PWUubm9kZVR5cGUmJigoaT13KGUpLm9mZnNldCgpKS50b3ArPXcuY3NzKGUsXCJib3JkZXJUb3BXaWR0aFwiLCEwKSxpLmxlZnQrPXcuY3NzKGUsXCJib3JkZXJMZWZ0V2lkdGhcIiwhMCkpfXJldHVybnt0b3A6dC50b3AtaS50b3Atdy5jc3MocixcIm1hcmdpblRvcFwiLCEwKSxsZWZ0OnQubGVmdC1pLmxlZnQtdy5jc3MocixcIm1hcmdpbkxlZnRcIiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vZmZzZXRQYXJlbnQ7d2hpbGUoZSYmXCJzdGF0aWNcIj09PXcuY3NzKGUsXCJwb3NpdGlvblwiKSllPWUub2Zmc2V0UGFyZW50O3JldHVybiBlfHxiZX0pfX0pLHcuZWFjaCh7c2Nyb2xsTGVmdDpcInBhZ2VYT2Zmc2V0XCIsc2Nyb2xsVG9wOlwicGFnZVlPZmZzZXRcIn0sZnVuY3Rpb24oZSx0KXt2YXIgbj1cInBhZ2VZT2Zmc2V0XCI9PT10O3cuZm5bZV09ZnVuY3Rpb24ocil7cmV0dXJuIHoodGhpcyxmdW5jdGlvbihlLHIsaSl7dmFyIG87aWYoeShlKT9vPWU6OT09PWUubm9kZVR5cGUmJihvPWUuZGVmYXVsdFZpZXcpLHZvaWQgMD09PWkpcmV0dXJuIG8/b1t0XTplW3JdO28/by5zY3JvbGxUbyhuP28ucGFnZVhPZmZzZXQ6aSxuP2k6by5wYWdlWU9mZnNldCk6ZVtyXT1pfSxlLHIsYXJndW1lbnRzLmxlbmd0aCl9fSksdy5lYWNoKFtcInRvcFwiLFwibGVmdFwiXSxmdW5jdGlvbihlLHQpe3cuY3NzSG9va3NbdF09X2UoaC5waXhlbFBvc2l0aW9uLGZ1bmN0aW9uKGUsbil7aWYobilyZXR1cm4gbj1GZShlLHQpLFdlLnRlc3Qobik/dyhlKS5wb3NpdGlvbigpW3RdK1wicHhcIjpufSl9KSx3LmVhY2goe0hlaWdodDpcImhlaWdodFwiLFdpZHRoOlwid2lkdGhcIn0sZnVuY3Rpb24oZSx0KXt3LmVhY2goe3BhZGRpbmc6XCJpbm5lclwiK2UsY29udGVudDp0LFwiXCI6XCJvdXRlclwiK2V9LGZ1bmN0aW9uKG4scil7dy5mbltyXT1mdW5jdGlvbihpLG8pe3ZhciBhPWFyZ3VtZW50cy5sZW5ndGgmJihufHxcImJvb2xlYW5cIiE9dHlwZW9mIGkpLHM9bnx8KCEwPT09aXx8ITA9PT1vP1wibWFyZ2luXCI6XCJib3JkZXJcIik7cmV0dXJuIHoodGhpcyxmdW5jdGlvbih0LG4saSl7dmFyIG87cmV0dXJuIHkodCk/MD09PXIuaW5kZXhPZihcIm91dGVyXCIpP3RbXCJpbm5lclwiK2VdOnQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50W1wiY2xpZW50XCIrZV06OT09PXQubm9kZVR5cGU/KG89dC5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgodC5ib2R5W1wic2Nyb2xsXCIrZV0sb1tcInNjcm9sbFwiK2VdLHQuYm9keVtcIm9mZnNldFwiK2VdLG9bXCJvZmZzZXRcIitlXSxvW1wiY2xpZW50XCIrZV0pKTp2b2lkIDA9PT1pP3cuY3NzKHQsbixzKTp3LnN0eWxlKHQsbixpLHMpfSx0LGE/aTp2b2lkIDAsYSl9fSl9KSx3LmVhY2goXCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51XCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGUsdCl7dy5mblt0XT1mdW5jdGlvbihlLG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5vbih0LG51bGwsZSxuKTp0aGlzLnRyaWdnZXIodCl9fSksdy5mbi5leHRlbmQoe2hvdmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihlKS5tb3VzZWxlYXZlKHR8fGUpfX0pLHcuZm4uZXh0ZW5kKHtiaW5kOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5vbihlLG51bGwsdCxuKX0sdW5iaW5kOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMub2ZmKGUsbnVsbCx0KX0sZGVsZWdhdGU6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMub24odCxlLG4scil9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLm9mZihlLFwiKipcIik6dGhpcy5vZmYodCxlfHxcIioqXCIsbil9fSksdy5wcm94eT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaTtpZihcInN0cmluZ1wiPT10eXBlb2YgdCYmKG49ZVt0XSx0PWUsZT1uKSxnKGUpKXJldHVybiByPW8uY2FsbChhcmd1bWVudHMsMiksaT1mdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHR8fHRoaXMsci5jb25jYXQoby5jYWxsKGFyZ3VtZW50cykpKX0saS5ndWlkPWUuZ3VpZD1lLmd1aWR8fHcuZ3VpZCsrLGl9LHcuaG9sZFJlYWR5PWZ1bmN0aW9uKGUpe2U/dy5yZWFkeVdhaXQrKzp3LnJlYWR5KCEwKX0sdy5pc0FycmF5PUFycmF5LmlzQXJyYXksdy5wYXJzZUpTT049SlNPTi5wYXJzZSx3Lm5vZGVOYW1lPU4sdy5pc0Z1bmN0aW9uPWcsdy5pc1dpbmRvdz15LHcuY2FtZWxDYXNlPUcsdy50eXBlPXgsdy5ub3c9RGF0ZS5ub3csdy5pc051bWVyaWM9ZnVuY3Rpb24oZSl7dmFyIHQ9dy50eXBlKGUpO3JldHVybihcIm51bWJlclwiPT09dHx8XCJzdHJpbmdcIj09PXQpJiYhaXNOYU4oZS1wYXJzZUZsb2F0KGUpKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoXCJqcXVlcnlcIixbXSxmdW5jdGlvbigpe3JldHVybiB3fSk7dmFyIEp0PWUualF1ZXJ5LEt0PWUuJDtyZXR1cm4gdy5ub0NvbmZsaWN0PWZ1bmN0aW9uKHQpe3JldHVybiBlLiQ9PT13JiYoZS4kPUt0KSx0JiZlLmpRdWVyeT09PXcmJihlLmpRdWVyeT1KdCksd30sdHx8KGUualF1ZXJ5PWUuJD13KSx3fSk7XHJcbiIsIi8qISBqUXVlcnkgVUkgLSB2MS4xMi4xIC0gMjAxOS0wNi0xNlxyXG4qIGh0dHA6Ly9qcXVlcnl1aS5jb21cclxuKiBJbmNsdWRlczogd2lkZ2V0LmpzLCBwb3NpdGlvbi5qcywgZGF0YS5qcywgZGlzYWJsZS1zZWxlY3Rpb24uanMsIGZvY3VzYWJsZS5qcywgZm9ybS1yZXNldC1taXhpbi5qcywganF1ZXJ5LTEtNy5qcywga2V5Y29kZS5qcywgbGFiZWxzLmpzLCBzY3JvbGwtcGFyZW50LmpzLCB0YWJiYWJsZS5qcywgdW5pcXVlLWlkLmpzLCB3aWRnZXRzL2RyYWdnYWJsZS5qcywgd2lkZ2V0cy9kcm9wcGFibGUuanMsIHdpZGdldHMvcmVzaXphYmxlLmpzLCB3aWRnZXRzL3NlbGVjdGFibGUuanMsIHdpZGdldHMvc29ydGFibGUuanMsIHdpZGdldHMvYWNjb3JkaW9uLmpzLCB3aWRnZXRzL2F1dG9jb21wbGV0ZS5qcywgd2lkZ2V0cy9idXR0b24uanMsIHdpZGdldHMvY2hlY2tib3hyYWRpby5qcywgd2lkZ2V0cy9jb250cm9sZ3JvdXAuanMsIHdpZGdldHMvZGF0ZXBpY2tlci5qcywgd2lkZ2V0cy9kaWFsb2cuanMsIHdpZGdldHMvbWVudS5qcywgd2lkZ2V0cy9tb3VzZS5qcywgd2lkZ2V0cy9wcm9ncmVzc2Jhci5qcywgd2lkZ2V0cy9zZWxlY3RtZW51LmpzLCB3aWRnZXRzL3NsaWRlci5qcywgd2lkZ2V0cy9zcGlubmVyLmpzLCB3aWRnZXRzL3RhYnMuanMsIHdpZGdldHMvdG9vbHRpcC5qcywgZWZmZWN0LmpzLCBlZmZlY3RzL2VmZmVjdC1ibGluZC5qcywgZWZmZWN0cy9lZmZlY3QtYm91bmNlLmpzLCBlZmZlY3RzL2VmZmVjdC1jbGlwLmpzLCBlZmZlY3RzL2VmZmVjdC1kcm9wLmpzLCBlZmZlY3RzL2VmZmVjdC1leHBsb2RlLmpzLCBlZmZlY3RzL2VmZmVjdC1mYWRlLmpzLCBlZmZlY3RzL2VmZmVjdC1mb2xkLmpzLCBlZmZlY3RzL2VmZmVjdC1oaWdobGlnaHQuanMsIGVmZmVjdHMvZWZmZWN0LXB1ZmYuanMsIGVmZmVjdHMvZWZmZWN0LXB1bHNhdGUuanMsIGVmZmVjdHMvZWZmZWN0LXNjYWxlLmpzLCBlZmZlY3RzL2VmZmVjdC1zaGFrZS5qcywgZWZmZWN0cy9lZmZlY3Qtc2l6ZS5qcywgZWZmZWN0cy9lZmZlY3Qtc2xpZGUuanMsIGVmZmVjdHMvZWZmZWN0LXRyYW5zZmVyLmpzXHJcbiogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnM7IExpY2Vuc2VkIE1JVCAqL1xyXG5cclxuKGZ1bmN0aW9uKHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wianF1ZXJ5XCJdLHQpOnQoalF1ZXJ5KX0pKGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7Zm9yKHZhciBlPXQuY3NzKFwidmlzaWJpbGl0eVwiKTtcImluaGVyaXRcIj09PWU7KXQ9dC5wYXJlbnQoKSxlPXQuY3NzKFwidmlzaWJpbGl0eVwiKTtyZXR1cm5cImhpZGRlblwiIT09ZX1mdW5jdGlvbiBpKHQpe2Zvcih2YXIgZSxpO3QubGVuZ3RoJiZ0WzBdIT09ZG9jdW1lbnQ7KXtpZihlPXQuY3NzKFwicG9zaXRpb25cIiksKFwiYWJzb2x1dGVcIj09PWV8fFwicmVsYXRpdmVcIj09PWV8fFwiZml4ZWRcIj09PWUpJiYoaT1wYXJzZUludCh0LmNzcyhcInpJbmRleFwiKSwxMCksIWlzTmFOKGkpJiYwIT09aSkpcmV0dXJuIGk7dD10LnBhcmVudCgpfXJldHVybiAwfWZ1bmN0aW9uIHMoKXt0aGlzLl9jdXJJbnN0PW51bGwsdGhpcy5fa2V5RXZlbnQ9ITEsdGhpcy5fZGlzYWJsZWRJbnB1dHM9W10sdGhpcy5fZGF0ZXBpY2tlclNob3dpbmc9ITEsdGhpcy5faW5EaWFsb2c9ITEsdGhpcy5fbWFpbkRpdklkPVwidWktZGF0ZXBpY2tlci1kaXZcIix0aGlzLl9pbmxpbmVDbGFzcz1cInVpLWRhdGVwaWNrZXItaW5saW5lXCIsdGhpcy5fYXBwZW5kQ2xhc3M9XCJ1aS1kYXRlcGlja2VyLWFwcGVuZFwiLHRoaXMuX3RyaWdnZXJDbGFzcz1cInVpLWRhdGVwaWNrZXItdHJpZ2dlclwiLHRoaXMuX2RpYWxvZ0NsYXNzPVwidWktZGF0ZXBpY2tlci1kaWFsb2dcIix0aGlzLl9kaXNhYmxlQ2xhc3M9XCJ1aS1kYXRlcGlja2VyLWRpc2FibGVkXCIsdGhpcy5fdW5zZWxlY3RhYmxlQ2xhc3M9XCJ1aS1kYXRlcGlja2VyLXVuc2VsZWN0YWJsZVwiLHRoaXMuX2N1cnJlbnRDbGFzcz1cInVpLWRhdGVwaWNrZXItY3VycmVudC1kYXlcIix0aGlzLl9kYXlPdmVyQ2xhc3M9XCJ1aS1kYXRlcGlja2VyLWRheXMtY2VsbC1vdmVyXCIsdGhpcy5yZWdpb25hbD1bXSx0aGlzLnJlZ2lvbmFsW1wiXCJdPXtjbG9zZVRleHQ6XCJEb25lXCIscHJldlRleHQ6XCJQcmV2XCIsbmV4dFRleHQ6XCJOZXh0XCIsY3VycmVudFRleHQ6XCJUb2RheVwiLG1vbnRoTmFtZXM6W1wiSmFudWFyeVwiLFwiRmVicnVhcnlcIixcIk1hcmNoXCIsXCJBcHJpbFwiLFwiTWF5XCIsXCJKdW5lXCIsXCJKdWx5XCIsXCJBdWd1c3RcIixcIlNlcHRlbWJlclwiLFwiT2N0b2JlclwiLFwiTm92ZW1iZXJcIixcIkRlY2VtYmVyXCJdLG1vbnRoTmFtZXNTaG9ydDpbXCJKYW5cIixcIkZlYlwiLFwiTWFyXCIsXCJBcHJcIixcIk1heVwiLFwiSnVuXCIsXCJKdWxcIixcIkF1Z1wiLFwiU2VwXCIsXCJPY3RcIixcIk5vdlwiLFwiRGVjXCJdLGRheU5hbWVzOltcIlN1bmRheVwiLFwiTW9uZGF5XCIsXCJUdWVzZGF5XCIsXCJXZWRuZXNkYXlcIixcIlRodXJzZGF5XCIsXCJGcmlkYXlcIixcIlNhdHVyZGF5XCJdLGRheU5hbWVzU2hvcnQ6W1wiU3VuXCIsXCJNb25cIixcIlR1ZVwiLFwiV2VkXCIsXCJUaHVcIixcIkZyaVwiLFwiU2F0XCJdLGRheU5hbWVzTWluOltcIlN1XCIsXCJNb1wiLFwiVHVcIixcIldlXCIsXCJUaFwiLFwiRnJcIixcIlNhXCJdLHdlZWtIZWFkZXI6XCJXa1wiLGRhdGVGb3JtYXQ6XCJtbS9kZC95eVwiLGZpcnN0RGF5OjAsaXNSVEw6ITEsc2hvd01vbnRoQWZ0ZXJZZWFyOiExLHllYXJTdWZmaXg6XCJcIn0sdGhpcy5fZGVmYXVsdHM9e3Nob3dPbjpcImZvY3VzXCIsc2hvd0FuaW06XCJmYWRlSW5cIixzaG93T3B0aW9uczp7fSxkZWZhdWx0RGF0ZTpudWxsLGFwcGVuZFRleHQ6XCJcIixidXR0b25UZXh0OlwiLi4uXCIsYnV0dG9uSW1hZ2U6XCJcIixidXR0b25JbWFnZU9ubHk6ITEsaGlkZUlmTm9QcmV2TmV4dDohMSxuYXZpZ2F0aW9uQXNEYXRlRm9ybWF0OiExLGdvdG9DdXJyZW50OiExLGNoYW5nZU1vbnRoOiExLGNoYW5nZVllYXI6ITEseWVhclJhbmdlOlwiYy0xMDpjKzEwXCIsc2hvd090aGVyTW9udGhzOiExLHNlbGVjdE90aGVyTW9udGhzOiExLHNob3dXZWVrOiExLGNhbGN1bGF0ZVdlZWs6dGhpcy5pc284NjAxV2VlayxzaG9ydFllYXJDdXRvZmY6XCIrMTBcIixtaW5EYXRlOm51bGwsbWF4RGF0ZTpudWxsLGR1cmF0aW9uOlwiZmFzdFwiLGJlZm9yZVNob3dEYXk6bnVsbCxiZWZvcmVTaG93Om51bGwsb25TZWxlY3Q6bnVsbCxvbkNoYW5nZU1vbnRoWWVhcjpudWxsLG9uQ2xvc2U6bnVsbCxudW1iZXJPZk1vbnRoczoxLHNob3dDdXJyZW50QXRQb3M6MCxzdGVwTW9udGhzOjEsc3RlcEJpZ01vbnRoczoxMixhbHRGaWVsZDpcIlwiLGFsdEZvcm1hdDpcIlwiLGNvbnN0cmFpbklucHV0OiEwLHNob3dCdXR0b25QYW5lbDohMSxhdXRvU2l6ZTohMSxkaXNhYmxlZDohMX0sdC5leHRlbmQodGhpcy5fZGVmYXVsdHMsdGhpcy5yZWdpb25hbFtcIlwiXSksdGhpcy5yZWdpb25hbC5lbj10LmV4dGVuZCghMCx7fSx0aGlzLnJlZ2lvbmFsW1wiXCJdKSx0aGlzLnJlZ2lvbmFsW1wiZW4tVVNcIl09dC5leHRlbmQoITAse30sdGhpcy5yZWdpb25hbC5lbiksdGhpcy5kcERpdj1uKHQoXCI8ZGl2IGlkPSdcIit0aGlzLl9tYWluRGl2SWQrXCInIGNsYXNzPSd1aS1kYXRlcGlja2VyIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1oZWxwZXItY2xlYXJmaXggdWktY29ybmVyLWFsbCc+PC9kaXY+XCIpKX1mdW5jdGlvbiBuKGUpe3ZhciBpPVwiYnV0dG9uLCAudWktZGF0ZXBpY2tlci1wcmV2LCAudWktZGF0ZXBpY2tlci1uZXh0LCAudWktZGF0ZXBpY2tlci1jYWxlbmRhciB0ZCBhXCI7cmV0dXJuIGUub24oXCJtb3VzZW91dFwiLGksZnVuY3Rpb24oKXt0KHRoaXMpLnJlbW92ZUNsYXNzKFwidWktc3RhdGUtaG92ZXJcIiksLTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKFwidWktZGF0ZXBpY2tlci1wcmV2XCIpJiZ0KHRoaXMpLnJlbW92ZUNsYXNzKFwidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyXCIpLC0xIT09dGhpcy5jbGFzc05hbWUuaW5kZXhPZihcInVpLWRhdGVwaWNrZXItbmV4dFwiKSYmdCh0aGlzKS5yZW1vdmVDbGFzcyhcInVpLWRhdGVwaWNrZXItbmV4dC1ob3ZlclwiKX0pLm9uKFwibW91c2VvdmVyXCIsaSxvKX1mdW5jdGlvbiBvKCl7dC5kYXRlcGlja2VyLl9pc0Rpc2FibGVkRGF0ZXBpY2tlcihwLmlubGluZT9wLmRwRGl2LnBhcmVudCgpWzBdOnAuaW5wdXRbMF0pfHwodCh0aGlzKS5wYXJlbnRzKFwiLnVpLWRhdGVwaWNrZXItY2FsZW5kYXJcIikuZmluZChcImFcIikucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1ob3ZlclwiKSx0KHRoaXMpLmFkZENsYXNzKFwidWktc3RhdGUtaG92ZXJcIiksLTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKFwidWktZGF0ZXBpY2tlci1wcmV2XCIpJiZ0KHRoaXMpLmFkZENsYXNzKFwidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyXCIpLC0xIT09dGhpcy5jbGFzc05hbWUuaW5kZXhPZihcInVpLWRhdGVwaWNrZXItbmV4dFwiKSYmdCh0aGlzKS5hZGRDbGFzcyhcInVpLWRhdGVwaWNrZXItbmV4dC1ob3ZlclwiKSl9ZnVuY3Rpb24gYShlLGkpe3QuZXh0ZW5kKGUsaSk7Zm9yKHZhciBzIGluIGkpbnVsbD09aVtzXSYmKGVbc109aVtzXSk7cmV0dXJuIGV9ZnVuY3Rpb24gcih0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnQudmFsKCk7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fcmVmcmVzaCgpLGUhPT10aGlzLmVsZW1lbnQudmFsKCkmJnRoaXMuX3RyaWdnZXIoXCJjaGFuZ2VcIil9fXQudWk9dC51aXx8e30sdC51aS52ZXJzaW9uPVwiMS4xMi4xXCI7dmFyIGg9MCxsPUFycmF5LnByb3RvdHlwZS5zbGljZTt0LmNsZWFuRGF0YT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oaSl7dmFyIHMsbixvO2ZvcihvPTA7bnVsbCE9KG49aVtvXSk7bysrKXRyeXtzPXQuX2RhdGEobixcImV2ZW50c1wiKSxzJiZzLnJlbW92ZSYmdChuKS50cmlnZ2VySGFuZGxlcihcInJlbW92ZVwiKX1jYXRjaChhKXt9ZShpKX19KHQuY2xlYW5EYXRhKSx0LndpZGdldD1mdW5jdGlvbihlLGkscyl7dmFyIG4sbyxhLHI9e30saD1lLnNwbGl0KFwiLlwiKVswXTtlPWUuc3BsaXQoXCIuXCIpWzFdO3ZhciBsPWgrXCItXCIrZTtyZXR1cm4gc3x8KHM9aSxpPXQuV2lkZ2V0KSx0LmlzQXJyYXkocykmJihzPXQuZXh0ZW5kLmFwcGx5KG51bGwsW3t9XS5jb25jYXQocykpKSx0LmV4cHJbXCI6XCJdW2wudG9Mb3dlckNhc2UoKV09ZnVuY3Rpb24oZSl7cmV0dXJuISF0LmRhdGEoZSxsKX0sdFtoXT10W2hdfHx7fSxuPXRbaF1bZV0sbz10W2hdW2VdPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2NyZWF0ZVdpZGdldD8oYXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KHQsZSksdm9pZCAwKTpuZXcgbyh0LGUpfSx0LmV4dGVuZChvLG4se3ZlcnNpb246cy52ZXJzaW9uLF9wcm90bzp0LmV4dGVuZCh7fSxzKSxfY2hpbGRDb25zdHJ1Y3RvcnM6W119KSxhPW5ldyBpLGEub3B0aW9ucz10LndpZGdldC5leHRlbmQoe30sYS5vcHRpb25zKSx0LmVhY2gocyxmdW5jdGlvbihlLHMpe3JldHVybiB0LmlzRnVuY3Rpb24ocyk/KHJbZV09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGkucHJvdG90eXBlW2VdLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBuKHQpe3JldHVybiBpLnByb3RvdHlwZVtlXS5hcHBseSh0aGlzLHQpfXJldHVybiBmdW5jdGlvbigpe3ZhciBlLGk9dGhpcy5fc3VwZXIsbz10aGlzLl9zdXBlckFwcGx5O3JldHVybiB0aGlzLl9zdXBlcj10LHRoaXMuX3N1cGVyQXBwbHk9bixlPXMuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3N1cGVyPWksdGhpcy5fc3VwZXJBcHBseT1vLGV9fSgpLHZvaWQgMCk6KHJbZV09cyx2b2lkIDApfSksby5wcm90b3R5cGU9dC53aWRnZXQuZXh0ZW5kKGEse3dpZGdldEV2ZW50UHJlZml4Om4/YS53aWRnZXRFdmVudFByZWZpeHx8ZTplfSxyLHtjb25zdHJ1Y3RvcjpvLG5hbWVzcGFjZTpoLHdpZGdldE5hbWU6ZSx3aWRnZXRGdWxsTmFtZTpsfSksbj8odC5lYWNoKG4uX2NoaWxkQ29uc3RydWN0b3JzLGZ1bmN0aW9uKGUsaSl7dmFyIHM9aS5wcm90b3R5cGU7dC53aWRnZXQocy5uYW1lc3BhY2UrXCIuXCIrcy53aWRnZXROYW1lLG8saS5fcHJvdG8pfSksZGVsZXRlIG4uX2NoaWxkQ29uc3RydWN0b3JzKTppLl9jaGlsZENvbnN0cnVjdG9ycy5wdXNoKG8pLHQud2lkZ2V0LmJyaWRnZShlLG8pLG99LHQud2lkZ2V0LmV4dGVuZD1mdW5jdGlvbihlKXtmb3IodmFyIGkscyxuPWwuY2FsbChhcmd1bWVudHMsMSksbz0wLGE9bi5sZW5ndGg7YT5vO28rKylmb3IoaSBpbiBuW29dKXM9bltvXVtpXSxuW29dLmhhc093blByb3BlcnR5KGkpJiZ2b2lkIDAhPT1zJiYoZVtpXT10LmlzUGxhaW5PYmplY3Qocyk/dC5pc1BsYWluT2JqZWN0KGVbaV0pP3Qud2lkZ2V0LmV4dGVuZCh7fSxlW2ldLHMpOnQud2lkZ2V0LmV4dGVuZCh7fSxzKTpzKTtyZXR1cm4gZX0sdC53aWRnZXQuYnJpZGdlPWZ1bmN0aW9uKGUsaSl7dmFyIHM9aS5wcm90b3R5cGUud2lkZ2V0RnVsbE5hbWV8fGU7dC5mbltlXT1mdW5jdGlvbihuKXt2YXIgbz1cInN0cmluZ1wiPT10eXBlb2YgbixhPWwuY2FsbChhcmd1bWVudHMsMSkscj10aGlzO3JldHVybiBvP3RoaXMubGVuZ3RofHxcImluc3RhbmNlXCIhPT1uP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpLG89dC5kYXRhKHRoaXMscyk7cmV0dXJuXCJpbnN0YW5jZVwiPT09bj8ocj1vLCExKTpvP3QuaXNGdW5jdGlvbihvW25dKSYmXCJfXCIhPT1uLmNoYXJBdCgwKT8oaT1vW25dLmFwcGx5KG8sYSksaSE9PW8mJnZvaWQgMCE9PWk/KHI9aSYmaS5qcXVlcnk/ci5wdXNoU3RhY2soaS5nZXQoKSk6aSwhMSk6dm9pZCAwKTp0LmVycm9yKFwibm8gc3VjaCBtZXRob2QgJ1wiK24rXCInIGZvciBcIitlK1wiIHdpZGdldCBpbnN0YW5jZVwiKTp0LmVycm9yKFwiY2Fubm90IGNhbGwgbWV0aG9kcyBvbiBcIitlK1wiIHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyBcIitcImF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnXCIrbitcIidcIil9KTpyPXZvaWQgMDooYS5sZW5ndGgmJihuPXQud2lkZ2V0LmV4dGVuZC5hcHBseShudWxsLFtuXS5jb25jYXQoYSkpKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT10LmRhdGEodGhpcyxzKTtlPyhlLm9wdGlvbihufHx7fSksZS5faW5pdCYmZS5faW5pdCgpKTp0LmRhdGEodGhpcyxzLG5ldyBpKG4sdGhpcykpfSkpLHJ9fSx0LldpZGdldD1mdW5jdGlvbigpe30sdC5XaWRnZXQuX2NoaWxkQ29uc3RydWN0b3JzPVtdLHQuV2lkZ2V0LnByb3RvdHlwZT17d2lkZ2V0TmFtZTpcIndpZGdldFwiLHdpZGdldEV2ZW50UHJlZml4OlwiXCIsZGVmYXVsdEVsZW1lbnQ6XCI8ZGl2PlwiLG9wdGlvbnM6e2NsYXNzZXM6e30sZGlzYWJsZWQ6ITEsY3JlYXRlOm51bGx9LF9jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oZSxpKXtpPXQoaXx8dGhpcy5kZWZhdWx0RWxlbWVudHx8dGhpcylbMF0sdGhpcy5lbGVtZW50PXQoaSksdGhpcy51dWlkPWgrKyx0aGlzLmV2ZW50TmFtZXNwYWNlPVwiLlwiK3RoaXMud2lkZ2V0TmFtZSt0aGlzLnV1aWQsdGhpcy5iaW5kaW5ncz10KCksdGhpcy5ob3ZlcmFibGU9dCgpLHRoaXMuZm9jdXNhYmxlPXQoKSx0aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwPXt9LGkhPT10aGlzJiYodC5kYXRhKGksdGhpcy53aWRnZXRGdWxsTmFtZSx0aGlzKSx0aGlzLl9vbighMCx0aGlzLmVsZW1lbnQse3JlbW92ZTpmdW5jdGlvbih0KXt0LnRhcmdldD09PWkmJnRoaXMuZGVzdHJveSgpfX0pLHRoaXMuZG9jdW1lbnQ9dChpLnN0eWxlP2kub3duZXJEb2N1bWVudDppLmRvY3VtZW50fHxpKSx0aGlzLndpbmRvdz10KHRoaXMuZG9jdW1lbnRbMF0uZGVmYXVsdFZpZXd8fHRoaXMuZG9jdW1lbnRbMF0ucGFyZW50V2luZG93KSksdGhpcy5vcHRpb25zPXQud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLGUpLHRoaXMuX2NyZWF0ZSgpLHRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5fc2V0T3B0aW9uRGlzYWJsZWQodGhpcy5vcHRpb25zLmRpc2FibGVkKSx0aGlzLl90cmlnZ2VyKFwiY3JlYXRlXCIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSksdGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3JldHVybnt9fSxfZ2V0Q3JlYXRlRXZlbnREYXRhOnQubm9vcCxfY3JlYXRlOnQubm9vcCxfaW5pdDp0Lm5vb3AsZGVzdHJveTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fZGVzdHJveSgpLHQuZWFjaCh0aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwLGZ1bmN0aW9uKHQsaSl7ZS5fcmVtb3ZlQ2xhc3MoaSx0KX0pLHRoaXMuZWxlbWVudC5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKSx0aGlzLndpZGdldCgpLm9mZih0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKFwiYXJpYS1kaXNhYmxlZFwiKSx0aGlzLmJpbmRpbmdzLm9mZih0aGlzLmV2ZW50TmFtZXNwYWNlKX0sX2Rlc3Ryb3k6dC5ub29wLHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnR9LG9wdGlvbjpmdW5jdGlvbihlLGkpe3ZhciBzLG4sbyxhPWU7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHQud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKWlmKGE9e30scz1lLnNwbGl0KFwiLlwiKSxlPXMuc2hpZnQoKSxzLmxlbmd0aCl7Zm9yKG49YVtlXT10LndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zW2VdKSxvPTA7cy5sZW5ndGgtMT5vO28rKyluW3Nbb11dPW5bc1tvXV18fHt9LG49bltzW29dXTtpZihlPXMucG9wKCksMT09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PW5bZV0/bnVsbDpuW2VdO25bZV09aX1lbHNle2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10aGlzLm9wdGlvbnNbZV0/bnVsbDp0aGlzLm9wdGlvbnNbZV07YVtlXT1pfXJldHVybiB0aGlzLl9zZXRPcHRpb25zKGEpLHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKHQpe3ZhciBlO2ZvcihlIGluIHQpdGhpcy5fc2V0T3B0aW9uKGUsdFtlXSk7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXtyZXR1cm5cImNsYXNzZXNcIj09PXQmJnRoaXMuX3NldE9wdGlvbkNsYXNzZXMoZSksdGhpcy5vcHRpb25zW3RdPWUsXCJkaXNhYmxlZFwiPT09dCYmdGhpcy5fc2V0T3B0aW9uRGlzYWJsZWQoZSksdGhpc30sX3NldE9wdGlvbkNsYXNzZXM6ZnVuY3Rpb24oZSl7dmFyIGkscyxuO2ZvcihpIGluIGUpbj10aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwW2ldLGVbaV0hPT10aGlzLm9wdGlvbnMuY2xhc3Nlc1tpXSYmbiYmbi5sZW5ndGgmJihzPXQobi5nZXQoKSksdGhpcy5fcmVtb3ZlQ2xhc3MobixpKSxzLmFkZENsYXNzKHRoaXMuX2NsYXNzZXMoe2VsZW1lbnQ6cyxrZXlzOmksY2xhc3NlczplLGFkZDohMH0pKSl9LF9zZXRPcHRpb25EaXNhYmxlZDpmdW5jdGlvbih0KXt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLndpZGdldCgpLHRoaXMud2lkZ2V0RnVsbE5hbWUrXCItZGlzYWJsZWRcIixudWxsLCEhdCksdCYmKHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaG92ZXJhYmxlLG51bGwsXCJ1aS1zdGF0ZS1ob3ZlclwiKSx0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmZvY3VzYWJsZSxudWxsLFwidWktc3RhdGUtZm9jdXNcIikpfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITF9KX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMH0pfSxfY2xhc3NlczpmdW5jdGlvbihlKXtmdW5jdGlvbiBpKGksbyl7dmFyIGEscjtmb3Iocj0wO2kubGVuZ3RoPnI7cisrKWE9bi5jbGFzc2VzRWxlbWVudExvb2t1cFtpW3JdXXx8dCgpLGE9ZS5hZGQ/dCh0LnVuaXF1ZShhLmdldCgpLmNvbmNhdChlLmVsZW1lbnQuZ2V0KCkpKSk6dChhLm5vdChlLmVsZW1lbnQpLmdldCgpKSxuLmNsYXNzZXNFbGVtZW50TG9va3VwW2lbcl1dPWEscy5wdXNoKGlbcl0pLG8mJmUuY2xhc3Nlc1tpW3JdXSYmcy5wdXNoKGUuY2xhc3Nlc1tpW3JdXSl9dmFyIHM9W10sbj10aGlzO3JldHVybiBlPXQuZXh0ZW5kKHtlbGVtZW50OnRoaXMuZWxlbWVudCxjbGFzc2VzOnRoaXMub3B0aW9ucy5jbGFzc2VzfHx7fX0sZSksdGhpcy5fb24oZS5lbGVtZW50LHtyZW1vdmU6XCJfdW50cmFja0NsYXNzZXNFbGVtZW50XCJ9KSxlLmtleXMmJmkoZS5rZXlzLm1hdGNoKC9cXFMrL2cpfHxbXSwhMCksZS5leHRyYSYmaShlLmV4dHJhLm1hdGNoKC9cXFMrL2cpfHxbXSkscy5qb2luKFwiIFwiKX0sX3VudHJhY2tDbGFzc2VzRWxlbWVudDpmdW5jdGlvbihlKXt2YXIgaT10aGlzO3QuZWFjaChpLmNsYXNzZXNFbGVtZW50TG9va3VwLGZ1bmN0aW9uKHMsbil7LTEhPT10LmluQXJyYXkoZS50YXJnZXQsbikmJihpLmNsYXNzZXNFbGVtZW50TG9va3VwW3NdPXQobi5ub3QoZS50YXJnZXQpLmdldCgpKSl9KX0sX3JlbW92ZUNsYXNzOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5fdG9nZ2xlQ2xhc3ModCxlLGksITEpfSxfYWRkQ2xhc3M6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLl90b2dnbGVDbGFzcyh0LGUsaSwhMCl9LF90b2dnbGVDbGFzczpmdW5jdGlvbih0LGUsaSxzKXtzPVwiYm9vbGVhblwiPT10eXBlb2Ygcz9zOmk7dmFyIG49XCJzdHJpbmdcIj09dHlwZW9mIHR8fG51bGw9PT10LG89e2V4dHJhOm4/ZTppLGtleXM6bj90OmUsZWxlbWVudDpuP3RoaXMuZWxlbWVudDp0LGFkZDpzfTtyZXR1cm4gby5lbGVtZW50LnRvZ2dsZUNsYXNzKHRoaXMuX2NsYXNzZXMobykscyksdGhpc30sX29uOmZ1bmN0aW9uKGUsaSxzKXt2YXIgbixvPXRoaXM7XCJib29sZWFuXCIhPXR5cGVvZiBlJiYocz1pLGk9ZSxlPSExKSxzPyhpPW49dChpKSx0aGlzLmJpbmRpbmdzPXRoaXMuYmluZGluZ3MuYWRkKGkpKToocz1pLGk9dGhpcy5lbGVtZW50LG49dGhpcy53aWRnZXQoKSksdC5lYWNoKHMsZnVuY3Rpb24ocyxhKXtmdW5jdGlvbiByKCl7cmV0dXJuIGV8fG8ub3B0aW9ucy5kaXNhYmxlZCE9PSEwJiYhdCh0aGlzKS5oYXNDbGFzcyhcInVpLXN0YXRlLWRpc2FibGVkXCIpPyhcInN0cmluZ1wiPT10eXBlb2YgYT9vW2FdOmEpLmFwcGx5KG8sYXJndW1lbnRzKTp2b2lkIDB9XCJzdHJpbmdcIiE9dHlwZW9mIGEmJihyLmd1aWQ9YS5ndWlkPWEuZ3VpZHx8ci5ndWlkfHx0Lmd1aWQrKyk7dmFyIGg9cy5tYXRjaCgvXihbXFx3Oi1dKilcXHMqKC4qKSQvKSxsPWhbMV0rby5ldmVudE5hbWVzcGFjZSxjPWhbMl07Yz9uLm9uKGwsYyxyKTppLm9uKGwscil9KX0sX29mZjpmdW5jdGlvbihlLGkpe2k9KGl8fFwiXCIpLnNwbGl0KFwiIFwiKS5qb2luKHRoaXMuZXZlbnROYW1lc3BhY2UrXCIgXCIpK3RoaXMuZXZlbnROYW1lc3BhY2UsZS5vZmYoaSkub2ZmKGkpLHRoaXMuYmluZGluZ3M9dCh0aGlzLmJpbmRpbmdzLm5vdChlKS5nZXQoKSksdGhpcy5mb2N1c2FibGU9dCh0aGlzLmZvY3VzYWJsZS5ub3QoZSkuZ2V0KCkpLHRoaXMuaG92ZXJhYmxlPXQodGhpcy5ob3ZlcmFibGUubm90KGUpLmdldCgpKX0sX2RlbGF5OmZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSgpe3JldHVybihcInN0cmluZ1wiPT10eXBlb2YgdD9zW3RdOnQpLmFwcGx5KHMsYXJndW1lbnRzKX12YXIgcz10aGlzO3JldHVybiBzZXRUaW1lb3V0KGksZXx8MCl9LF9ob3ZlcmFibGU6ZnVuY3Rpb24oZSl7dGhpcy5ob3ZlcmFibGU9dGhpcy5ob3ZlcmFibGUuYWRkKGUpLHRoaXMuX29uKGUse21vdXNlZW50ZXI6ZnVuY3Rpb24oZSl7dGhpcy5fYWRkQ2xhc3ModChlLmN1cnJlbnRUYXJnZXQpLG51bGwsXCJ1aS1zdGF0ZS1ob3ZlclwiKX0sbW91c2VsZWF2ZTpmdW5jdGlvbihlKXt0aGlzLl9yZW1vdmVDbGFzcyh0KGUuY3VycmVudFRhcmdldCksbnVsbCxcInVpLXN0YXRlLWhvdmVyXCIpfX0pfSxfZm9jdXNhYmxlOmZ1bmN0aW9uKGUpe3RoaXMuZm9jdXNhYmxlPXRoaXMuZm9jdXNhYmxlLmFkZChlKSx0aGlzLl9vbihlLHtmb2N1c2luOmZ1bmN0aW9uKGUpe3RoaXMuX2FkZENsYXNzKHQoZS5jdXJyZW50VGFyZ2V0KSxudWxsLFwidWktc3RhdGUtZm9jdXNcIil9LGZvY3Vzb3V0OmZ1bmN0aW9uKGUpe3RoaXMuX3JlbW92ZUNsYXNzKHQoZS5jdXJyZW50VGFyZ2V0KSxudWxsLFwidWktc3RhdGUtZm9jdXNcIil9fSl9LF90cmlnZ2VyOmZ1bmN0aW9uKGUsaSxzKXt2YXIgbixvLGE9dGhpcy5vcHRpb25zW2VdO2lmKHM9c3x8e30saT10LkV2ZW50KGkpLGkudHlwZT0oZT09PXRoaXMud2lkZ2V0RXZlbnRQcmVmaXg/ZTp0aGlzLndpZGdldEV2ZW50UHJlZml4K2UpLnRvTG93ZXJDYXNlKCksaS50YXJnZXQ9dGhpcy5lbGVtZW50WzBdLG89aS5vcmlnaW5hbEV2ZW50KWZvcihuIGluIG8pbiBpbiBpfHwoaVtuXT1vW25dKTtyZXR1cm4gdGhpcy5lbGVtZW50LnRyaWdnZXIoaSxzKSwhKHQuaXNGdW5jdGlvbihhKSYmYS5hcHBseSh0aGlzLmVsZW1lbnRbMF0sW2ldLmNvbmNhdChzKSk9PT0hMXx8aS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl9fSx0LmVhY2goe3Nob3c6XCJmYWRlSW5cIixoaWRlOlwiZmFkZU91dFwifSxmdW5jdGlvbihlLGkpe3QuV2lkZ2V0LnByb3RvdHlwZVtcIl9cIitlXT1mdW5jdGlvbihzLG4sbyl7XCJzdHJpbmdcIj09dHlwZW9mIG4mJihuPXtlZmZlY3Q6bn0pO3ZhciBhLHI9bj9uPT09ITB8fFwibnVtYmVyXCI9PXR5cGVvZiBuP2k6bi5lZmZlY3R8fGk6ZTtuPW58fHt9LFwibnVtYmVyXCI9PXR5cGVvZiBuJiYobj17ZHVyYXRpb246bn0pLGE9IXQuaXNFbXB0eU9iamVjdChuKSxuLmNvbXBsZXRlPW8sbi5kZWxheSYmcy5kZWxheShuLmRlbGF5KSxhJiZ0LmVmZmVjdHMmJnQuZWZmZWN0cy5lZmZlY3Rbcl0/c1tlXShuKTpyIT09ZSYmc1tyXT9zW3JdKG4uZHVyYXRpb24sbi5lYXNpbmcsbyk6cy5xdWV1ZShmdW5jdGlvbihpKXt0KHRoaXMpW2VdKCksbyYmby5jYWxsKHNbMF0pLGkoKX0pfX0pLHQud2lkZ2V0LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LGUsaSl7cmV0dXJuW3BhcnNlRmxvYXQodFswXSkqKHUudGVzdCh0WzBdKT9lLzEwMDoxKSxwYXJzZUZsb2F0KHRbMV0pKih1LnRlc3QodFsxXSk/aS8xMDA6MSldfWZ1bmN0aW9uIGkoZSxpKXtyZXR1cm4gcGFyc2VJbnQodC5jc3MoZSxpKSwxMCl8fDB9ZnVuY3Rpb24gcyhlKXt2YXIgaT1lWzBdO3JldHVybiA5PT09aS5ub2RlVHlwZT97d2lkdGg6ZS53aWR0aCgpLGhlaWdodDplLmhlaWdodCgpLG9mZnNldDp7dG9wOjAsbGVmdDowfX06dC5pc1dpbmRvdyhpKT97d2lkdGg6ZS53aWR0aCgpLGhlaWdodDplLmhlaWdodCgpLG9mZnNldDp7dG9wOmUuc2Nyb2xsVG9wKCksbGVmdDplLnNjcm9sbExlZnQoKX19OmkucHJldmVudERlZmF1bHQ/e3dpZHRoOjAsaGVpZ2h0OjAsb2Zmc2V0Ont0b3A6aS5wYWdlWSxsZWZ0OmkucGFnZVh9fTp7d2lkdGg6ZS5vdXRlcldpZHRoKCksaGVpZ2h0OmUub3V0ZXJIZWlnaHQoKSxvZmZzZXQ6ZS5vZmZzZXQoKX19dmFyIG4sbz1NYXRoLm1heCxhPU1hdGguYWJzLHI9L2xlZnR8Y2VudGVyfHJpZ2h0LyxoPS90b3B8Y2VudGVyfGJvdHRvbS8sbD0vW1xcK1xcLV1cXGQrKFxcLltcXGRdKyk/JT8vLGM9L15cXHcrLyx1PS8lJC8sZD10LmZuLnBvc2l0aW9uO3QucG9zaXRpb249e3Njcm9sbGJhcldpZHRoOmZ1bmN0aW9uKCl7aWYodm9pZCAwIT09bilyZXR1cm4gbjt2YXIgZSxpLHM9dChcIjxkaXYgc3R5bGU9J2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6NTBweDtoZWlnaHQ6NTBweDtvdmVyZmxvdzpoaWRkZW47Jz48ZGl2IHN0eWxlPSdoZWlnaHQ6MTAwcHg7d2lkdGg6YXV0bzsnPjwvZGl2PjwvZGl2PlwiKSxvPXMuY2hpbGRyZW4oKVswXTtyZXR1cm4gdChcImJvZHlcIikuYXBwZW5kKHMpLGU9by5vZmZzZXRXaWR0aCxzLmNzcyhcIm92ZXJmbG93XCIsXCJzY3JvbGxcIiksaT1vLm9mZnNldFdpZHRoLGU9PT1pJiYoaT1zWzBdLmNsaWVudFdpZHRoKSxzLnJlbW92ZSgpLG49ZS1pfSxnZXRTY3JvbGxJbmZvOmZ1bmN0aW9uKGUpe3ZhciBpPWUuaXNXaW5kb3d8fGUuaXNEb2N1bWVudD9cIlwiOmUuZWxlbWVudC5jc3MoXCJvdmVyZmxvdy14XCIpLHM9ZS5pc1dpbmRvd3x8ZS5pc0RvY3VtZW50P1wiXCI6ZS5lbGVtZW50LmNzcyhcIm92ZXJmbG93LXlcIiksbj1cInNjcm9sbFwiPT09aXx8XCJhdXRvXCI9PT1pJiZlLndpZHRoPGUuZWxlbWVudFswXS5zY3JvbGxXaWR0aCxvPVwic2Nyb2xsXCI9PT1zfHxcImF1dG9cIj09PXMmJmUuaGVpZ2h0PGUuZWxlbWVudFswXS5zY3JvbGxIZWlnaHQ7cmV0dXJue3dpZHRoOm8/dC5wb3NpdGlvbi5zY3JvbGxiYXJXaWR0aCgpOjAsaGVpZ2h0Om4/dC5wb3NpdGlvbi5zY3JvbGxiYXJXaWR0aCgpOjB9fSxnZXRXaXRoaW5JbmZvOmZ1bmN0aW9uKGUpe3ZhciBpPXQoZXx8d2luZG93KSxzPXQuaXNXaW5kb3coaVswXSksbj0hIWlbMF0mJjk9PT1pWzBdLm5vZGVUeXBlLG89IXMmJiFuO3JldHVybntlbGVtZW50OmksaXNXaW5kb3c6cyxpc0RvY3VtZW50Om4sb2Zmc2V0Om8/dChlKS5vZmZzZXQoKTp7bGVmdDowLHRvcDowfSxzY3JvbGxMZWZ0Omkuc2Nyb2xsTGVmdCgpLHNjcm9sbFRvcDppLnNjcm9sbFRvcCgpLHdpZHRoOmkub3V0ZXJXaWR0aCgpLGhlaWdodDppLm91dGVySGVpZ2h0KCl9fX0sdC5mbi5wb3NpdGlvbj1mdW5jdGlvbihuKXtpZighbnx8IW4ub2YpcmV0dXJuIGQuYXBwbHkodGhpcyxhcmd1bWVudHMpO249dC5leHRlbmQoe30sbik7dmFyIHUscCxmLGcsbSxfLHY9dChuLm9mKSxiPXQucG9zaXRpb24uZ2V0V2l0aGluSW5mbyhuLndpdGhpbikseT10LnBvc2l0aW9uLmdldFNjcm9sbEluZm8oYiksdz0obi5jb2xsaXNpb258fFwiZmxpcFwiKS5zcGxpdChcIiBcIiksaz17fTtyZXR1cm4gXz1zKHYpLHZbMF0ucHJldmVudERlZmF1bHQmJihuLmF0PVwibGVmdCB0b3BcIikscD1fLndpZHRoLGY9Xy5oZWlnaHQsZz1fLm9mZnNldCxtPXQuZXh0ZW5kKHt9LGcpLHQuZWFjaChbXCJteVwiLFwiYXRcIl0sZnVuY3Rpb24oKXt2YXIgdCxlLGk9KG5bdGhpc118fFwiXCIpLnNwbGl0KFwiIFwiKTsxPT09aS5sZW5ndGgmJihpPXIudGVzdChpWzBdKT9pLmNvbmNhdChbXCJjZW50ZXJcIl0pOmgudGVzdChpWzBdKT9bXCJjZW50ZXJcIl0uY29uY2F0KGkpOltcImNlbnRlclwiLFwiY2VudGVyXCJdKSxpWzBdPXIudGVzdChpWzBdKT9pWzBdOlwiY2VudGVyXCIsaVsxXT1oLnRlc3QoaVsxXSk/aVsxXTpcImNlbnRlclwiLHQ9bC5leGVjKGlbMF0pLGU9bC5leGVjKGlbMV0pLGtbdGhpc109W3Q/dFswXTowLGU/ZVswXTowXSxuW3RoaXNdPVtjLmV4ZWMoaVswXSlbMF0sYy5leGVjKGlbMV0pWzBdXX0pLDE9PT13Lmxlbmd0aCYmKHdbMV09d1swXSksXCJyaWdodFwiPT09bi5hdFswXT9tLmxlZnQrPXA6XCJjZW50ZXJcIj09PW4uYXRbMF0mJihtLmxlZnQrPXAvMiksXCJib3R0b21cIj09PW4uYXRbMV0/bS50b3ArPWY6XCJjZW50ZXJcIj09PW4uYXRbMV0mJihtLnRvcCs9Zi8yKSx1PWUoay5hdCxwLGYpLG0ubGVmdCs9dVswXSxtLnRvcCs9dVsxXSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgcyxyLGg9dCh0aGlzKSxsPWgub3V0ZXJXaWR0aCgpLGM9aC5vdXRlckhlaWdodCgpLGQ9aSh0aGlzLFwibWFyZ2luTGVmdFwiKSxfPWkodGhpcyxcIm1hcmdpblRvcFwiKSx4PWwrZCtpKHRoaXMsXCJtYXJnaW5SaWdodFwiKSt5LndpZHRoLEM9YytfK2kodGhpcyxcIm1hcmdpbkJvdHRvbVwiKSt5LmhlaWdodCxEPXQuZXh0ZW5kKHt9LG0pLEk9ZShrLm15LGgub3V0ZXJXaWR0aCgpLGgub3V0ZXJIZWlnaHQoKSk7XCJyaWdodFwiPT09bi5teVswXT9ELmxlZnQtPWw6XCJjZW50ZXJcIj09PW4ubXlbMF0mJihELmxlZnQtPWwvMiksXCJib3R0b21cIj09PW4ubXlbMV0/RC50b3AtPWM6XCJjZW50ZXJcIj09PW4ubXlbMV0mJihELnRvcC09Yy8yKSxELmxlZnQrPUlbMF0sRC50b3ArPUlbMV0scz17bWFyZ2luTGVmdDpkLG1hcmdpblRvcDpffSx0LmVhY2goW1wibGVmdFwiLFwidG9wXCJdLGZ1bmN0aW9uKGUsaSl7dC51aS5wb3NpdGlvblt3W2VdXSYmdC51aS5wb3NpdGlvblt3W2VdXVtpXShELHt0YXJnZXRXaWR0aDpwLHRhcmdldEhlaWdodDpmLGVsZW1XaWR0aDpsLGVsZW1IZWlnaHQ6Yyxjb2xsaXNpb25Qb3NpdGlvbjpzLGNvbGxpc2lvbldpZHRoOngsY29sbGlzaW9uSGVpZ2h0OkMsb2Zmc2V0Olt1WzBdK0lbMF0sdVsxXStJWzFdXSxteTpuLm15LGF0Om4uYXQsd2l0aGluOmIsZWxlbTpofSl9KSxuLnVzaW5nJiYocj1mdW5jdGlvbih0KXt2YXIgZT1nLmxlZnQtRC5sZWZ0LGk9ZStwLWwscz1nLnRvcC1ELnRvcCxyPXMrZi1jLHU9e3RhcmdldDp7ZWxlbWVudDp2LGxlZnQ6Zy5sZWZ0LHRvcDpnLnRvcCx3aWR0aDpwLGhlaWdodDpmfSxlbGVtZW50OntlbGVtZW50OmgsbGVmdDpELmxlZnQsdG9wOkQudG9wLHdpZHRoOmwsaGVpZ2h0OmN9LGhvcml6b250YWw6MD5pP1wibGVmdFwiOmU+MD9cInJpZ2h0XCI6XCJjZW50ZXJcIix2ZXJ0aWNhbDowPnI/XCJ0b3BcIjpzPjA/XCJib3R0b21cIjpcIm1pZGRsZVwifTtsPnAmJnA+YShlK2kpJiYodS5ob3Jpem9udGFsPVwiY2VudGVyXCIpLGM+ZiYmZj5hKHMrcikmJih1LnZlcnRpY2FsPVwibWlkZGxlXCIpLHUuaW1wb3J0YW50PW8oYShlKSxhKGkpKT5vKGEocyksYShyKSk/XCJob3Jpem9udGFsXCI6XCJ2ZXJ0aWNhbFwiLG4udXNpbmcuY2FsbCh0aGlzLHQsdSl9KSxoLm9mZnNldCh0LmV4dGVuZChELHt1c2luZzpyfSkpfSl9LHQudWkucG9zaXRpb249e2ZpdDp7bGVmdDpmdW5jdGlvbih0LGUpe3ZhciBpLHM9ZS53aXRoaW4sbj1zLmlzV2luZG93P3Muc2Nyb2xsTGVmdDpzLm9mZnNldC5sZWZ0LGE9cy53aWR0aCxyPXQubGVmdC1lLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQsaD1uLXIsbD1yK2UuY29sbGlzaW9uV2lkdGgtYS1uO2UuY29sbGlzaW9uV2lkdGg+YT9oPjAmJjA+PWw/KGk9dC5sZWZ0K2grZS5jb2xsaXNpb25XaWR0aC1hLW4sdC5sZWZ0Kz1oLWkpOnQubGVmdD1sPjAmJjA+PWg/bjpoPmw/bithLWUuY29sbGlzaW9uV2lkdGg6bjpoPjA/dC5sZWZ0Kz1oOmw+MD90LmxlZnQtPWw6dC5sZWZ0PW8odC5sZWZ0LXIsdC5sZWZ0KX0sdG9wOmZ1bmN0aW9uKHQsZSl7dmFyIGkscz1lLndpdGhpbixuPXMuaXNXaW5kb3c/cy5zY3JvbGxUb3A6cy5vZmZzZXQudG9wLGE9ZS53aXRoaW4uaGVpZ2h0LHI9dC50b3AtZS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5Ub3AsaD1uLXIsbD1yK2UuY29sbGlzaW9uSGVpZ2h0LWEtbjtlLmNvbGxpc2lvbkhlaWdodD5hP2g+MCYmMD49bD8oaT10LnRvcCtoK2UuY29sbGlzaW9uSGVpZ2h0LWEtbix0LnRvcCs9aC1pKTp0LnRvcD1sPjAmJjA+PWg/bjpoPmw/bithLWUuY29sbGlzaW9uSGVpZ2h0Om46aD4wP3QudG9wKz1oOmw+MD90LnRvcC09bDp0LnRvcD1vKHQudG9wLXIsdC50b3ApfX0sZmxpcDp7bGVmdDpmdW5jdGlvbih0LGUpe3ZhciBpLHMsbj1lLndpdGhpbixvPW4ub2Zmc2V0LmxlZnQrbi5zY3JvbGxMZWZ0LHI9bi53aWR0aCxoPW4uaXNXaW5kb3c/bi5zY3JvbGxMZWZ0Om4ub2Zmc2V0LmxlZnQsbD10LmxlZnQtZS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5MZWZ0LGM9bC1oLHU9bCtlLmNvbGxpc2lvbldpZHRoLXItaCxkPVwibGVmdFwiPT09ZS5teVswXT8tZS5lbGVtV2lkdGg6XCJyaWdodFwiPT09ZS5teVswXT9lLmVsZW1XaWR0aDowLHA9XCJsZWZ0XCI9PT1lLmF0WzBdP2UudGFyZ2V0V2lkdGg6XCJyaWdodFwiPT09ZS5hdFswXT8tZS50YXJnZXRXaWR0aDowLGY9LTIqZS5vZmZzZXRbMF07MD5jPyhpPXQubGVmdCtkK3ArZitlLmNvbGxpc2lvbldpZHRoLXItbywoMD5pfHxhKGMpPmkpJiYodC5sZWZ0Kz1kK3ArZikpOnU+MCYmKHM9dC5sZWZ0LWUuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luTGVmdCtkK3ArZi1oLChzPjB8fHU+YShzKSkmJih0LmxlZnQrPWQrcCtmKSl9LHRvcDpmdW5jdGlvbih0LGUpe3ZhciBpLHMsbj1lLndpdGhpbixvPW4ub2Zmc2V0LnRvcCtuLnNjcm9sbFRvcCxyPW4uaGVpZ2h0LGg9bi5pc1dpbmRvdz9uLnNjcm9sbFRvcDpuLm9mZnNldC50b3AsbD10LnRvcC1lLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpblRvcCxjPWwtaCx1PWwrZS5jb2xsaXNpb25IZWlnaHQtci1oLGQ9XCJ0b3BcIj09PWUubXlbMV0scD1kPy1lLmVsZW1IZWlnaHQ6XCJib3R0b21cIj09PWUubXlbMV0/ZS5lbGVtSGVpZ2h0OjAsZj1cInRvcFwiPT09ZS5hdFsxXT9lLnRhcmdldEhlaWdodDpcImJvdHRvbVwiPT09ZS5hdFsxXT8tZS50YXJnZXRIZWlnaHQ6MCxnPS0yKmUub2Zmc2V0WzFdOzA+Yz8ocz10LnRvcCtwK2YrZytlLmNvbGxpc2lvbkhlaWdodC1yLW8sKDA+c3x8YShjKT5zKSYmKHQudG9wKz1wK2YrZykpOnU+MCYmKGk9dC50b3AtZS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5Ub3ArcCtmK2ctaCwoaT4wfHx1PmEoaSkpJiYodC50b3ArPXArZitnKSl9fSxmbGlwZml0OntsZWZ0OmZ1bmN0aW9uKCl7dC51aS5wb3NpdGlvbi5mbGlwLmxlZnQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHQudWkucG9zaXRpb24uZml0LmxlZnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx0b3A6ZnVuY3Rpb24oKXt0LnVpLnBvc2l0aW9uLmZsaXAudG9wLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0LnVpLnBvc2l0aW9uLmZpdC50b3AuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19fSgpLHQudWkucG9zaXRpb24sdC5leHRlbmQodC5leHByW1wiOlwiXSx7ZGF0YTp0LmV4cHIuY3JlYXRlUHNldWRvP3QuZXhwci5jcmVhdGVQc2V1ZG8oZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiEhdC5kYXRhKGksZSl9fSk6ZnVuY3Rpb24oZSxpLHMpe3JldHVybiEhdC5kYXRhKGUsc1szXSl9fSksdC5mbi5leHRlbmQoe2Rpc2FibGVTZWxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgdD1cIm9uc2VsZWN0c3RhcnRcImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik/XCJzZWxlY3RzdGFydFwiOlwibW91c2Vkb3duXCI7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub24odCtcIi51aS1kaXNhYmxlU2VsZWN0aW9uXCIsZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpfSl9fSgpLGVuYWJsZVNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9mZihcIi51aS1kaXNhYmxlU2VsZWN0aW9uXCIpfX0pLHQudWkuZm9jdXNhYmxlPWZ1bmN0aW9uKGkscyl7dmFyIG4sbyxhLHIsaCxsPWkubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImFyZWFcIj09PWw/KG49aS5wYXJlbnROb2RlLG89bi5uYW1lLGkuaHJlZiYmbyYmXCJtYXBcIj09PW4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT8oYT10KFwiaW1nW3VzZW1hcD0nI1wiK28rXCInXVwiKSxhLmxlbmd0aD4wJiZhLmlzKFwiOnZpc2libGVcIikpOiExKTooL14oaW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxvYmplY3QpJC8udGVzdChsKT8ocj0haS5kaXNhYmxlZCxyJiYoaD10KGkpLmNsb3Nlc3QoXCJmaWVsZHNldFwiKVswXSxoJiYocj0haC5kaXNhYmxlZCkpKTpyPVwiYVwiPT09bD9pLmhyZWZ8fHM6cyxyJiZ0KGkpLmlzKFwiOnZpc2libGVcIikmJmUodChpKSkpfSx0LmV4dGVuZCh0LmV4cHJbXCI6XCJdLHtmb2N1c2FibGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHQudWkuZm9jdXNhYmxlKGUsbnVsbCE9dC5hdHRyKGUsXCJ0YWJpbmRleFwiKSl9fSksdC51aS5mb2N1c2FibGUsdC5mbi5mb3JtPWZ1bmN0aW9uKCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHRoaXNbMF0uZm9ybT90aGlzLmNsb3Nlc3QoXCJmb3JtXCIpOnQodGhpc1swXS5mb3JtKX0sdC51aS5mb3JtUmVzZXRNaXhpbj17X2Zvcm1SZXNldEhhbmRsZXI6ZnVuY3Rpb24oKXt2YXIgZT10KHRoaXMpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgaT1lLmRhdGEoXCJ1aS1mb3JtLXJlc2V0LWluc3RhbmNlc1wiKTt0LmVhY2goaSxmdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpfSl9KX0sX2JpbmRGb3JtUmVzZXRIYW5kbGVyOmZ1bmN0aW9uKCl7aWYodGhpcy5mb3JtPXRoaXMuZWxlbWVudC5mb3JtKCksdGhpcy5mb3JtLmxlbmd0aCl7dmFyIHQ9dGhpcy5mb3JtLmRhdGEoXCJ1aS1mb3JtLXJlc2V0LWluc3RhbmNlc1wiKXx8W107dC5sZW5ndGh8fHRoaXMuZm9ybS5vbihcInJlc2V0LnVpLWZvcm0tcmVzZXRcIix0aGlzLl9mb3JtUmVzZXRIYW5kbGVyKSx0LnB1c2godGhpcyksdGhpcy5mb3JtLmRhdGEoXCJ1aS1mb3JtLXJlc2V0LWluc3RhbmNlc1wiLHQpfX0sX3VuYmluZEZvcm1SZXNldEhhbmRsZXI6ZnVuY3Rpb24oKXtpZih0aGlzLmZvcm0ubGVuZ3RoKXt2YXIgZT10aGlzLmZvcm0uZGF0YShcInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzXCIpO2Uuc3BsaWNlKHQuaW5BcnJheSh0aGlzLGUpLDEpLGUubGVuZ3RoP3RoaXMuZm9ybS5kYXRhKFwidWktZm9ybS1yZXNldC1pbnN0YW5jZXNcIixlKTp0aGlzLmZvcm0ucmVtb3ZlRGF0YShcInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzXCIpLm9mZihcInJlc2V0LnVpLWZvcm0tcmVzZXRcIil9fX0sXCIxLjdcIj09PXQuZm4uanF1ZXJ5LnN1YnN0cmluZygwLDMpJiYodC5lYWNoKFtcIldpZHRoXCIsXCJIZWlnaHRcIl0sZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBzKGUsaSxzLG8pe3JldHVybiB0LmVhY2gobixmdW5jdGlvbigpe2ktPXBhcnNlRmxvYXQodC5jc3MoZSxcInBhZGRpbmdcIit0aGlzKSl8fDAscyYmKGktPXBhcnNlRmxvYXQodC5jc3MoZSxcImJvcmRlclwiK3RoaXMrXCJXaWR0aFwiKSl8fDApLG8mJihpLT1wYXJzZUZsb2F0KHQuY3NzKGUsXCJtYXJnaW5cIit0aGlzKSl8fDApfSksaX12YXIgbj1cIldpZHRoXCI9PT1pP1tcIkxlZnRcIixcIlJpZ2h0XCJdOltcIlRvcFwiLFwiQm90dG9tXCJdLG89aS50b0xvd2VyQ2FzZSgpLGE9e2lubmVyV2lkdGg6dC5mbi5pbm5lcldpZHRoLGlubmVySGVpZ2h0OnQuZm4uaW5uZXJIZWlnaHQsb3V0ZXJXaWR0aDp0LmZuLm91dGVyV2lkdGgsb3V0ZXJIZWlnaHQ6dC5mbi5vdXRlckhlaWdodH07dC5mbltcImlubmVyXCIraV09ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/YVtcImlubmVyXCIraV0uY2FsbCh0aGlzKTp0aGlzLmVhY2goZnVuY3Rpb24oKXt0KHRoaXMpLmNzcyhvLHModGhpcyxlKStcInB4XCIpfSl9LHQuZm5bXCJvdXRlclwiK2ldPWZ1bmN0aW9uKGUsbil7cmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIGU/YVtcIm91dGVyXCIraV0uY2FsbCh0aGlzLGUpOnRoaXMuZWFjaChmdW5jdGlvbigpe3QodGhpcykuY3NzKG8scyh0aGlzLGUsITAsbikrXCJweFwiKX0pfX0pLHQuZm4uYWRkQmFjaz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hZGQobnVsbD09dD90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcih0KSl9KSx0LnVpLmtleUNvZGU9e0JBQ0tTUEFDRTo4LENPTU1BOjE4OCxERUxFVEU6NDYsRE9XTjo0MCxFTkQ6MzUsRU5URVI6MTMsRVNDQVBFOjI3LEhPTUU6MzYsTEVGVDozNyxQQUdFX0RPV046MzQsUEFHRV9VUDozMyxQRVJJT0Q6MTkwLFJJR0hUOjM5LFNQQUNFOjMyLFRBQjo5LFVQOjM4fSx0LnVpLmVzY2FwZVNlbGVjdG9yPWZ1bmN0aW9uKCl7dmFyIHQ9LyhbIVwiIyQlJicoKSorLC4vOjs8PT4/QFtcXF1eYHt8fX5dKS9nO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKHQsXCJcXFxcJDFcIil9fSgpLHQuZm4ubGFiZWxzPWZ1bmN0aW9uKCl7dmFyIGUsaSxzLG4sbztyZXR1cm4gdGhpc1swXS5sYWJlbHMmJnRoaXNbMF0ubGFiZWxzLmxlbmd0aD90aGlzLnB1c2hTdGFjayh0aGlzWzBdLmxhYmVscyk6KG49dGhpcy5lcSgwKS5wYXJlbnRzKFwibGFiZWxcIikscz10aGlzLmF0dHIoXCJpZFwiKSxzJiYoZT10aGlzLmVxKDApLnBhcmVudHMoKS5sYXN0KCksbz1lLmFkZChlLmxlbmd0aD9lLnNpYmxpbmdzKCk6dGhpcy5zaWJsaW5ncygpKSxpPVwibGFiZWxbZm9yPSdcIit0LnVpLmVzY2FwZVNlbGVjdG9yKHMpK1wiJ11cIixuPW4uYWRkKG8uZmluZChpKS5hZGRCYWNrKGkpKSksdGhpcy5wdXNoU3RhY2sobikpfSx0LmZuLnNjcm9sbFBhcmVudD1mdW5jdGlvbihlKXt2YXIgaT10aGlzLmNzcyhcInBvc2l0aW9uXCIpLHM9XCJhYnNvbHV0ZVwiPT09aSxuPWU/LyhhdXRvfHNjcm9sbHxoaWRkZW4pLzovKGF1dG98c2Nyb2xsKS8sbz10aGlzLnBhcmVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgZT10KHRoaXMpO3JldHVybiBzJiZcInN0YXRpY1wiPT09ZS5jc3MoXCJwb3NpdGlvblwiKT8hMTpuLnRlc3QoZS5jc3MoXCJvdmVyZmxvd1wiKStlLmNzcyhcIm92ZXJmbG93LXlcIikrZS5jc3MoXCJvdmVyZmxvdy14XCIpKX0pLmVxKDApO3JldHVyblwiZml4ZWRcIiE9PWkmJm8ubGVuZ3RoP286dCh0aGlzWzBdLm93bmVyRG9jdW1lbnR8fGRvY3VtZW50KX0sdC5leHRlbmQodC5leHByW1wiOlwiXSx7dGFiYmFibGU6ZnVuY3Rpb24oZSl7dmFyIGk9dC5hdHRyKGUsXCJ0YWJpbmRleFwiKSxzPW51bGwhPWk7cmV0dXJuKCFzfHxpPj0wKSYmdC51aS5mb2N1c2FibGUoZSxzKX19KSx0LmZuLmV4dGVuZCh7dW5pcXVlSWQ6ZnVuY3Rpb24oKXt2YXIgdD0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLmlkfHwodGhpcy5pZD1cInVpLWlkLVwiKyArK3QpfSl9fSgpLHJlbW92ZVVuaXF1ZUlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpey9edWktaWQtXFxkKyQvLnRlc3QodGhpcy5pZCkmJnQodGhpcykucmVtb3ZlQXR0cihcImlkXCIpfSl9fSksdC51aS5pZT0hIS9tc2llIFtcXHcuXSsvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTt2YXIgYz0hMTt0KGRvY3VtZW50KS5vbihcIm1vdXNldXBcIixmdW5jdGlvbigpe2M9ITF9KSx0LndpZGdldChcInVpLm1vdXNlXCIse3ZlcnNpb246XCIxLjEyLjFcIixvcHRpb25zOntjYW5jZWw6XCJpbnB1dCwgdGV4dGFyZWEsIGJ1dHRvbiwgc2VsZWN0LCBvcHRpb25cIixkaXN0YW5jZToxLGRlbGF5OjB9LF9tb3VzZUluaXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZWxlbWVudC5vbihcIm1vdXNlZG93bi5cIit0aGlzLndpZGdldE5hbWUsZnVuY3Rpb24odCl7cmV0dXJuIGUuX21vdXNlRG93bih0KX0pLm9uKFwiY2xpY2suXCIrdGhpcy53aWRnZXROYW1lLGZ1bmN0aW9uKGkpe3JldHVybiEwPT09dC5kYXRhKGkudGFyZ2V0LGUud2lkZ2V0TmFtZStcIi5wcmV2ZW50Q2xpY2tFdmVudFwiKT8odC5yZW1vdmVEYXRhKGkudGFyZ2V0LGUud2lkZ2V0TmFtZStcIi5wcmV2ZW50Q2xpY2tFdmVudFwiKSxpLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCExKTp2b2lkIDB9KSx0aGlzLnN0YXJ0ZWQ9ITF9LF9tb3VzZURlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQub2ZmKFwiLlwiK3RoaXMud2lkZ2V0TmFtZSksdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUmJnRoaXMuZG9jdW1lbnQub2ZmKFwibW91c2Vtb3ZlLlwiK3RoaXMud2lkZ2V0TmFtZSx0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSkub2ZmKFwibW91c2V1cC5cIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VVcERlbGVnYXRlKX0sX21vdXNlRG93bjpmdW5jdGlvbihlKXtpZighYyl7dGhpcy5fbW91c2VNb3ZlZD0hMSx0aGlzLl9tb3VzZVN0YXJ0ZWQmJnRoaXMuX21vdXNlVXAoZSksdGhpcy5fbW91c2VEb3duRXZlbnQ9ZTt2YXIgaT10aGlzLHM9MT09PWUud2hpY2gsbj1cInN0cmluZ1wiPT10eXBlb2YgdGhpcy5vcHRpb25zLmNhbmNlbCYmZS50YXJnZXQubm9kZU5hbWU/dChlLnRhcmdldCkuY2xvc2VzdCh0aGlzLm9wdGlvbnMuY2FuY2VsKS5sZW5ndGg6ITE7cmV0dXJuIHMmJiFuJiZ0aGlzLl9tb3VzZUNhcHR1cmUoZSk/KHRoaXMubW91c2VEZWxheU1ldD0hdGhpcy5vcHRpb25zLmRlbGF5LHRoaXMubW91c2VEZWxheU1ldHx8KHRoaXMuX21vdXNlRGVsYXlUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5tb3VzZURlbGF5TWV0PSEwfSx0aGlzLm9wdGlvbnMuZGVsYXkpKSx0aGlzLl9tb3VzZURpc3RhbmNlTWV0KGUpJiZ0aGlzLl9tb3VzZURlbGF5TWV0KGUpJiYodGhpcy5fbW91c2VTdGFydGVkPXRoaXMuX21vdXNlU3RhcnQoZSkhPT0hMSwhdGhpcy5fbW91c2VTdGFydGVkKT8oZS5wcmV2ZW50RGVmYXVsdCgpLCEwKTooITA9PT10LmRhdGEoZS50YXJnZXQsdGhpcy53aWRnZXROYW1lK1wiLnByZXZlbnRDbGlja0V2ZW50XCIpJiZ0LnJlbW92ZURhdGEoZS50YXJnZXQsdGhpcy53aWRnZXROYW1lK1wiLnByZXZlbnRDbGlja0V2ZW50XCIpLHRoaXMuX21vdXNlTW92ZURlbGVnYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBpLl9tb3VzZU1vdmUodCl9LHRoaXMuX21vdXNlVXBEZWxlZ2F0ZT1mdW5jdGlvbih0KXtyZXR1cm4gaS5fbW91c2VVcCh0KX0sdGhpcy5kb2N1bWVudC5vbihcIm1vdXNlbW92ZS5cIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLm9uKFwibW91c2V1cC5cIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VVcERlbGVnYXRlKSxlLnByZXZlbnREZWZhdWx0KCksYz0hMCwhMCkpOiEwfX0sX21vdXNlTW92ZTpmdW5jdGlvbihlKXtpZih0aGlzLl9tb3VzZU1vdmVkKXtpZih0LnVpLmllJiYoIWRvY3VtZW50LmRvY3VtZW50TW9kZXx8OT5kb2N1bWVudC5kb2N1bWVudE1vZGUpJiYhZS5idXR0b24pcmV0dXJuIHRoaXMuX21vdXNlVXAoZSk7aWYoIWUud2hpY2gpaWYoZS5vcmlnaW5hbEV2ZW50LmFsdEtleXx8ZS5vcmlnaW5hbEV2ZW50LmN0cmxLZXl8fGUub3JpZ2luYWxFdmVudC5tZXRhS2V5fHxlLm9yaWdpbmFsRXZlbnQuc2hpZnRLZXkpdGhpcy5pZ25vcmVNaXNzaW5nV2hpY2g9ITA7ZWxzZSBpZighdGhpcy5pZ25vcmVNaXNzaW5nV2hpY2gpcmV0dXJuIHRoaXMuX21vdXNlVXAoZSl9cmV0dXJuKGUud2hpY2h8fGUuYnV0dG9uKSYmKHRoaXMuX21vdXNlTW92ZWQ9ITApLHRoaXMuX21vdXNlU3RhcnRlZD8odGhpcy5fbW91c2VEcmFnKGUpLGUucHJldmVudERlZmF1bHQoKSk6KHRoaXMuX21vdXNlRGlzdGFuY2VNZXQoZSkmJnRoaXMuX21vdXNlRGVsYXlNZXQoZSkmJih0aGlzLl9tb3VzZVN0YXJ0ZWQ9dGhpcy5fbW91c2VTdGFydCh0aGlzLl9tb3VzZURvd25FdmVudCxlKSE9PSExLHRoaXMuX21vdXNlU3RhcnRlZD90aGlzLl9tb3VzZURyYWcoZSk6dGhpcy5fbW91c2VVcChlKSksIXRoaXMuX21vdXNlU3RhcnRlZCl9LF9tb3VzZVVwOmZ1bmN0aW9uKGUpe3RoaXMuZG9jdW1lbnQub2ZmKFwibW91c2Vtb3ZlLlwiK3RoaXMud2lkZ2V0TmFtZSx0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSkub2ZmKFwibW91c2V1cC5cIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VVcERlbGVnYXRlKSx0aGlzLl9tb3VzZVN0YXJ0ZWQmJih0aGlzLl9tb3VzZVN0YXJ0ZWQ9ITEsZS50YXJnZXQ9PT10aGlzLl9tb3VzZURvd25FdmVudC50YXJnZXQmJnQuZGF0YShlLnRhcmdldCx0aGlzLndpZGdldE5hbWUrXCIucHJldmVudENsaWNrRXZlbnRcIiwhMCksdGhpcy5fbW91c2VTdG9wKGUpKSx0aGlzLl9tb3VzZURlbGF5VGltZXImJihjbGVhclRpbWVvdXQodGhpcy5fbW91c2VEZWxheVRpbWVyKSxkZWxldGUgdGhpcy5fbW91c2VEZWxheVRpbWVyKSx0aGlzLmlnbm9yZU1pc3NpbmdXaGljaD0hMSxjPSExLGUucHJldmVudERlZmF1bHQoKX0sX21vdXNlRGlzdGFuY2VNZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubWF4KE1hdGguYWJzKHRoaXMuX21vdXNlRG93bkV2ZW50LnBhZ2VYLXQucGFnZVgpLE1hdGguYWJzKHRoaXMuX21vdXNlRG93bkV2ZW50LnBhZ2VZLXQucGFnZVkpKT49dGhpcy5vcHRpb25zLmRpc3RhbmNlfSxfbW91c2VEZWxheU1ldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1vdXNlRGVsYXlNZXR9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKCl7fSxfbW91c2VEcmFnOmZ1bmN0aW9uKCl7fSxfbW91c2VTdG9wOmZ1bmN0aW9uKCl7fSxfbW91c2VDYXB0dXJlOmZ1bmN0aW9uKCl7cmV0dXJuITB9fSksdC51aS5wbHVnaW49e2FkZDpmdW5jdGlvbihlLGkscyl7dmFyIG4sbz10LnVpW2VdLnByb3RvdHlwZTtmb3IobiBpbiBzKW8ucGx1Z2luc1tuXT1vLnBsdWdpbnNbbl18fFtdLG8ucGx1Z2luc1tuXS5wdXNoKFtpLHNbbl1dKX0sY2FsbDpmdW5jdGlvbih0LGUsaSxzKXt2YXIgbixvPXQucGx1Z2luc1tlXTtpZihvJiYoc3x8dC5lbGVtZW50WzBdLnBhcmVudE5vZGUmJjExIT09dC5lbGVtZW50WzBdLnBhcmVudE5vZGUubm9kZVR5cGUpKWZvcihuPTA7by5sZW5ndGg+bjtuKyspdC5vcHRpb25zW29bbl1bMF1dJiZvW25dWzFdLmFwcGx5KHQuZWxlbWVudCxpKX19LHQudWkuc2FmZUFjdGl2ZUVsZW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU7dHJ5e2U9dC5hY3RpdmVFbGVtZW50fWNhdGNoKGkpe2U9dC5ib2R5fXJldHVybiBlfHwoZT10LmJvZHkpLGUubm9kZU5hbWV8fChlPXQuYm9keSksZX0sdC51aS5zYWZlQmx1cj1mdW5jdGlvbihlKXtlJiZcImJvZHlcIiE9PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmdChlKS50cmlnZ2VyKFwiYmx1clwiKX0sdC53aWRnZXQoXCJ1aS5kcmFnZ2FibGVcIix0LnVpLm1vdXNlLHt2ZXJzaW9uOlwiMS4xMi4xXCIsd2lkZ2V0RXZlbnRQcmVmaXg6XCJkcmFnXCIsb3B0aW9uczp7YWRkQ2xhc3NlczohMCxhcHBlbmRUbzpcInBhcmVudFwiLGF4aXM6ITEsY29ubmVjdFRvU29ydGFibGU6ITEsY29udGFpbm1lbnQ6ITEsY3Vyc29yOlwiYXV0b1wiLGN1cnNvckF0OiExLGdyaWQ6ITEsaGFuZGxlOiExLGhlbHBlcjpcIm9yaWdpbmFsXCIsaWZyYW1lRml4OiExLG9wYWNpdHk6ITEscmVmcmVzaFBvc2l0aW9uczohMSxyZXZlcnQ6ITEscmV2ZXJ0RHVyYXRpb246NTAwLHNjb3BlOlwiZGVmYXVsdFwiLHNjcm9sbDohMCxzY3JvbGxTZW5zaXRpdml0eToyMCxzY3JvbGxTcGVlZDoyMCxzbmFwOiExLHNuYXBNb2RlOlwiYm90aFwiLHNuYXBUb2xlcmFuY2U6MjAsc3RhY2s6ITEsekluZGV4OiExLGRyYWc6bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe1wib3JpZ2luYWxcIj09PXRoaXMub3B0aW9ucy5oZWxwZXImJnRoaXMuX3NldFBvc2l0aW9uUmVsYXRpdmUoKSx0aGlzLm9wdGlvbnMuYWRkQ2xhc3NlcyYmdGhpcy5fYWRkQ2xhc3MoXCJ1aS1kcmFnZ2FibGVcIiksdGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCksdGhpcy5fbW91c2VJbml0KCl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXt0aGlzLl9zdXBlcih0LGUpLFwiaGFuZGxlXCI9PT10JiYodGhpcy5fcmVtb3ZlSGFuZGxlQ2xhc3NOYW1lKCksdGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCkpfSxfZGVzdHJveTpmdW5jdGlvbigpe3JldHVybih0aGlzLmhlbHBlcnx8dGhpcy5lbGVtZW50KS5pcyhcIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmdcIik/KHRoaXMuZGVzdHJveU9uQ2xlYXI9ITAsdm9pZCAwKToodGhpcy5fcmVtb3ZlSGFuZGxlQ2xhc3NOYW1lKCksdGhpcy5fbW91c2VEZXN0cm95KCksdm9pZCAwKX0sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbihlKXt2YXIgaT10aGlzLm9wdGlvbnM7cmV0dXJuIHRoaXMuaGVscGVyfHxpLmRpc2FibGVkfHx0KGUudGFyZ2V0KS5jbG9zZXN0KFwiLnVpLXJlc2l6YWJsZS1oYW5kbGVcIikubGVuZ3RoPjA/ITE6KHRoaXMuaGFuZGxlPXRoaXMuX2dldEhhbmRsZShlKSx0aGlzLmhhbmRsZT8odGhpcy5fYmx1ckFjdGl2ZUVsZW1lbnQoZSksdGhpcy5fYmxvY2tGcmFtZXMoaS5pZnJhbWVGaXg9PT0hMD9cImlmcmFtZVwiOmkuaWZyYW1lRml4KSwhMCk6ITEpfSxfYmxvY2tGcmFtZXM6ZnVuY3Rpb24oZSl7dGhpcy5pZnJhbWVCbG9ja3M9dGhpcy5kb2N1bWVudC5maW5kKGUpLm1hcChmdW5jdGlvbigpe3ZhciBlPXQodGhpcyk7cmV0dXJuIHQoXCI8ZGl2PlwiKS5jc3MoXCJwb3NpdGlvblwiLFwiYWJzb2x1dGVcIikuYXBwZW5kVG8oZS5wYXJlbnQoKSkub3V0ZXJXaWR0aChlLm91dGVyV2lkdGgoKSkub3V0ZXJIZWlnaHQoZS5vdXRlckhlaWdodCgpKS5vZmZzZXQoZS5vZmZzZXQoKSlbMF19KX0sX3VuYmxvY2tGcmFtZXM6ZnVuY3Rpb24oKXt0aGlzLmlmcmFtZUJsb2NrcyYmKHRoaXMuaWZyYW1lQmxvY2tzLnJlbW92ZSgpLGRlbGV0ZSB0aGlzLmlmcmFtZUJsb2Nrcyl9LF9ibHVyQWN0aXZlRWxlbWVudDpmdW5jdGlvbihlKXt2YXIgaT10LnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pLHM9dChlLnRhcmdldCk7cy5jbG9zZXN0KGkpLmxlbmd0aHx8dC51aS5zYWZlQmx1cihpKX0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5vcHRpb25zO3JldHVybiB0aGlzLmhlbHBlcj10aGlzLl9jcmVhdGVIZWxwZXIoZSksdGhpcy5fYWRkQ2xhc3ModGhpcy5oZWxwZXIsXCJ1aS1kcmFnZ2FibGUtZHJhZ2dpbmdcIiksdGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpLHQudWkuZGRtYW5hZ2VyJiYodC51aS5kZG1hbmFnZXIuY3VycmVudD10aGlzKSx0aGlzLl9jYWNoZU1hcmdpbnMoKSx0aGlzLmNzc1Bvc2l0aW9uPXRoaXMuaGVscGVyLmNzcyhcInBvc2l0aW9uXCIpLHRoaXMuc2Nyb2xsUGFyZW50PXRoaXMuaGVscGVyLnNjcm9sbFBhcmVudCghMCksdGhpcy5vZmZzZXRQYXJlbnQ9dGhpcy5oZWxwZXIub2Zmc2V0UGFyZW50KCksdGhpcy5oYXNGaXhlZEFuY2VzdG9yPXRoaXMuaGVscGVyLnBhcmVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm5cImZpeGVkXCI9PT10KHRoaXMpLmNzcyhcInBvc2l0aW9uXCIpfSkubGVuZ3RoPjAsdGhpcy5wb3NpdGlvbkFicz10aGlzLmVsZW1lbnQub2Zmc2V0KCksdGhpcy5fcmVmcmVzaE9mZnNldHMoZSksdGhpcy5vcmlnaW5hbFBvc2l0aW9uPXRoaXMucG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbihlLCExKSx0aGlzLm9yaWdpbmFsUGFnZVg9ZS5wYWdlWCx0aGlzLm9yaWdpbmFsUGFnZVk9ZS5wYWdlWSxpLmN1cnNvckF0JiZ0aGlzLl9hZGp1c3RPZmZzZXRGcm9tSGVscGVyKGkuY3Vyc29yQXQpLHRoaXMuX3NldENvbnRhaW5tZW50KCksdGhpcy5fdHJpZ2dlcihcInN0YXJ0XCIsZSk9PT0hMT8odGhpcy5fY2xlYXIoKSwhMSk6KHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKSx0LnVpLmRkbWFuYWdlciYmIWkuZHJvcEJlaGF2aW91ciYmdC51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModGhpcyxlKSx0aGlzLl9tb3VzZURyYWcoZSwhMCksdC51aS5kZG1hbmFnZXImJnQudWkuZGRtYW5hZ2VyLmRyYWdTdGFydCh0aGlzLGUpLCEwKX0sX3JlZnJlc2hPZmZzZXRzOmZ1bmN0aW9uKHQpe3RoaXMub2Zmc2V0PXt0b3A6dGhpcy5wb3NpdGlvbkFicy50b3AtdGhpcy5tYXJnaW5zLnRvcCxsZWZ0OnRoaXMucG9zaXRpb25BYnMubGVmdC10aGlzLm1hcmdpbnMubGVmdCxzY3JvbGw6ITEscGFyZW50OnRoaXMuX2dldFBhcmVudE9mZnNldCgpLHJlbGF0aXZlOnRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCl9LHRoaXMub2Zmc2V0LmNsaWNrPXtsZWZ0OnQucGFnZVgtdGhpcy5vZmZzZXQubGVmdCx0b3A6dC5wYWdlWS10aGlzLm9mZnNldC50b3B9fSxfbW91c2VEcmFnOmZ1bmN0aW9uKGUsaSl7aWYodGhpcy5oYXNGaXhlZEFuY2VzdG9yJiYodGhpcy5vZmZzZXQucGFyZW50PXRoaXMuX2dldFBhcmVudE9mZnNldCgpKSx0aGlzLnBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24oZSwhMCksdGhpcy5wb3NpdGlvbkFicz10aGlzLl9jb252ZXJ0UG9zaXRpb25UbyhcImFic29sdXRlXCIpLCFpKXt2YXIgcz10aGlzLl91aUhhc2goKTtpZih0aGlzLl90cmlnZ2VyKFwiZHJhZ1wiLGUscyk9PT0hMSlyZXR1cm4gdGhpcy5fbW91c2VVcChuZXcgdC5FdmVudChcIm1vdXNldXBcIixlKSksITE7dGhpcy5wb3NpdGlvbj1zLnBvc2l0aW9ufXJldHVybiB0aGlzLmhlbHBlclswXS5zdHlsZS5sZWZ0PXRoaXMucG9zaXRpb24ubGVmdCtcInB4XCIsdGhpcy5oZWxwZXJbMF0uc3R5bGUudG9wPXRoaXMucG9zaXRpb24udG9wK1wicHhcIix0LnVpLmRkbWFuYWdlciYmdC51aS5kZG1hbmFnZXIuZHJhZyh0aGlzLGUpLCExfSxfbW91c2VTdG9wOmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMscz0hMTtyZXR1cm4gdC51aS5kZG1hbmFnZXImJiF0aGlzLm9wdGlvbnMuZHJvcEJlaGF2aW91ciYmKHM9dC51aS5kZG1hbmFnZXIuZHJvcCh0aGlzLGUpKSx0aGlzLmRyb3BwZWQmJihzPXRoaXMuZHJvcHBlZCx0aGlzLmRyb3BwZWQ9ITEpLFwiaW52YWxpZFwiPT09dGhpcy5vcHRpb25zLnJldmVydCYmIXN8fFwidmFsaWRcIj09PXRoaXMub3B0aW9ucy5yZXZlcnQmJnN8fHRoaXMub3B0aW9ucy5yZXZlcnQ9PT0hMHx8dC5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5yZXZlcnQpJiZ0aGlzLm9wdGlvbnMucmV2ZXJ0LmNhbGwodGhpcy5lbGVtZW50LHMpP3QodGhpcy5oZWxwZXIpLmFuaW1hdGUodGhpcy5vcmlnaW5hbFBvc2l0aW9uLHBhcnNlSW50KHRoaXMub3B0aW9ucy5yZXZlcnREdXJhdGlvbiwxMCksZnVuY3Rpb24oKXtpLl90cmlnZ2VyKFwic3RvcFwiLGUpIT09ITEmJmkuX2NsZWFyKCl9KTp0aGlzLl90cmlnZ2VyKFwic3RvcFwiLGUpIT09ITEmJnRoaXMuX2NsZWFyKCksITF9LF9tb3VzZVVwOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl91bmJsb2NrRnJhbWVzKCksdC51aS5kZG1hbmFnZXImJnQudWkuZGRtYW5hZ2VyLmRyYWdTdG9wKHRoaXMsZSksdGhpcy5oYW5kbGVFbGVtZW50LmlzKGUudGFyZ2V0KSYmdGhpcy5lbGVtZW50LnRyaWdnZXIoXCJmb2N1c1wiKSx0LnVpLm1vdXNlLnByb3RvdHlwZS5fbW91c2VVcC5jYWxsKHRoaXMsZSl9LGNhbmNlbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhlbHBlci5pcyhcIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmdcIik/dGhpcy5fbW91c2VVcChuZXcgdC5FdmVudChcIm1vdXNldXBcIix7dGFyZ2V0OnRoaXMuZWxlbWVudFswXX0pKTp0aGlzLl9jbGVhcigpLHRoaXN9LF9nZXRIYW5kbGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub3B0aW9ucy5oYW5kbGU/ISF0KGUudGFyZ2V0KS5jbG9zZXN0KHRoaXMuZWxlbWVudC5maW5kKHRoaXMub3B0aW9ucy5oYW5kbGUpKS5sZW5ndGg6ITB9LF9zZXRIYW5kbGVDbGFzc05hbWU6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZUVsZW1lbnQ9dGhpcy5vcHRpb25zLmhhbmRsZT90aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaGFuZGxlKTp0aGlzLmVsZW1lbnQsdGhpcy5fYWRkQ2xhc3ModGhpcy5oYW5kbGVFbGVtZW50LFwidWktZHJhZ2dhYmxlLWhhbmRsZVwiKX0sX3JlbW92ZUhhbmRsZUNsYXNzTmFtZTpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaGFuZGxlRWxlbWVudCxcInVpLWRyYWdnYWJsZS1oYW5kbGVcIil9LF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5vcHRpb25zLHM9dC5pc0Z1bmN0aW9uKGkuaGVscGVyKSxuPXM/dChpLmhlbHBlci5hcHBseSh0aGlzLmVsZW1lbnRbMF0sW2VdKSk6XCJjbG9uZVwiPT09aS5oZWxwZXI/dGhpcy5lbGVtZW50LmNsb25lKCkucmVtb3ZlQXR0cihcImlkXCIpOnRoaXMuZWxlbWVudDtyZXR1cm4gbi5wYXJlbnRzKFwiYm9keVwiKS5sZW5ndGh8fG4uYXBwZW5kVG8oXCJwYXJlbnRcIj09PWkuYXBwZW5kVG8/dGhpcy5lbGVtZW50WzBdLnBhcmVudE5vZGU6aS5hcHBlbmRUbykscyYmblswXT09PXRoaXMuZWxlbWVudFswXSYmdGhpcy5fc2V0UG9zaXRpb25SZWxhdGl2ZSgpLG5bMF09PT10aGlzLmVsZW1lbnRbMF18fC8oZml4ZWR8YWJzb2x1dGUpLy50ZXN0KG4uY3NzKFwicG9zaXRpb25cIikpfHxuLmNzcyhcInBvc2l0aW9uXCIsXCJhYnNvbHV0ZVwiKSxufSxfc2V0UG9zaXRpb25SZWxhdGl2ZTpmdW5jdGlvbigpey9eKD86cnxhfGYpLy50ZXN0KHRoaXMuZWxlbWVudC5jc3MoXCJwb3NpdGlvblwiKSl8fCh0aGlzLmVsZW1lbnRbMF0uc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiKX0sX2FkanVzdE9mZnNldEZyb21IZWxwZXI6ZnVuY3Rpb24oZSl7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPWUuc3BsaXQoXCIgXCIpKSx0LmlzQXJyYXkoZSkmJihlPXtsZWZ0OitlWzBdLHRvcDorZVsxXXx8MH0pLFwibGVmdFwiaW4gZSYmKHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ9ZS5sZWZ0K3RoaXMubWFyZ2lucy5sZWZ0KSxcInJpZ2h0XCJpbiBlJiYodGhpcy5vZmZzZXQuY2xpY2subGVmdD10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLWUucmlnaHQrdGhpcy5tYXJnaW5zLmxlZnQpLFwidG9wXCJpbiBlJiYodGhpcy5vZmZzZXQuY2xpY2sudG9wPWUudG9wK3RoaXMubWFyZ2lucy50b3ApLFwiYm90dG9tXCJpbiBlJiYodGhpcy5vZmZzZXQuY2xpY2sudG9wPXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LWUuYm90dG9tK3RoaXMubWFyZ2lucy50b3ApfSxfaXNSb290Tm9kZTpmdW5jdGlvbih0KXtyZXR1cm4vKGh0bWx8Ym9keSkvaS50ZXN0KHQudGFnTmFtZSl8fHQ9PT10aGlzLmRvY3VtZW50WzBdfSxfZ2V0UGFyZW50T2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vZmZzZXRQYXJlbnQub2Zmc2V0KCksaT10aGlzLmRvY3VtZW50WzBdO3JldHVyblwiYWJzb2x1dGVcIj09PXRoaXMuY3NzUG9zaXRpb24mJnRoaXMuc2Nyb2xsUGFyZW50WzBdIT09aSYmdC5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSkmJihlLmxlZnQrPXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKSxlLnRvcCs9dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCkpLHRoaXMuX2lzUm9vdE5vZGUodGhpcy5vZmZzZXRQYXJlbnRbMF0pJiYoZT17dG9wOjAsbGVmdDowfSkse3RvcDplLnRvcCsocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKFwiYm9yZGVyVG9wV2lkdGhcIiksMTApfHwwKSxsZWZ0OmUubGVmdCsocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKFwiYm9yZGVyTGVmdFdpZHRoXCIpLDEwKXx8MCl9fSxfZ2V0UmVsYXRpdmVPZmZzZXQ6ZnVuY3Rpb24oKXtpZihcInJlbGF0aXZlXCIhPT10aGlzLmNzc1Bvc2l0aW9uKXJldHVybnt0b3A6MCxsZWZ0OjB9O3ZhciB0PXRoaXMuZWxlbWVudC5wb3NpdGlvbigpLGU9dGhpcy5faXNSb290Tm9kZSh0aGlzLnNjcm9sbFBhcmVudFswXSk7cmV0dXJue3RvcDp0LnRvcC0ocGFyc2VJbnQodGhpcy5oZWxwZXIuY3NzKFwidG9wXCIpLDEwKXx8MCkrKGU/MDp0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSksbGVmdDp0LmxlZnQtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcyhcImxlZnRcIiksMTApfHwwKSsoZT8wOnRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKSl9fSxfY2FjaGVNYXJnaW5zOmZ1bmN0aW9uKCl7dGhpcy5tYXJnaW5zPXtsZWZ0OnBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoXCJtYXJnaW5MZWZ0XCIpLDEwKXx8MCx0b3A6cGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcyhcIm1hcmdpblRvcFwiKSwxMCl8fDAscmlnaHQ6cGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcyhcIm1hcmdpblJpZ2h0XCIpLDEwKXx8MCxib3R0b206cGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcyhcIm1hcmdpbkJvdHRvbVwiKSwxMCl8fDB9fSxfY2FjaGVIZWxwZXJQcm9wb3J0aW9uczpmdW5jdGlvbigpe3RoaXMuaGVscGVyUHJvcG9ydGlvbnM9e3dpZHRoOnRoaXMuaGVscGVyLm91dGVyV2lkdGgoKSxoZWlnaHQ6dGhpcy5oZWxwZXIub3V0ZXJIZWlnaHQoKX19LF9zZXRDb250YWlubWVudDpmdW5jdGlvbigpe3ZhciBlLGkscyxuPXRoaXMub3B0aW9ucyxvPXRoaXMuZG9jdW1lbnRbMF07cmV0dXJuIHRoaXMucmVsYXRpdmVDb250YWluZXI9bnVsbCxuLmNvbnRhaW5tZW50P1wid2luZG93XCI9PT1uLmNvbnRhaW5tZW50Pyh0aGlzLmNvbnRhaW5tZW50PVt0KHdpbmRvdykuc2Nyb2xsTGVmdCgpLXRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQsdCh3aW5kb3cpLnNjcm9sbFRvcCgpLXRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcC10aGlzLm9mZnNldC5wYXJlbnQudG9wLHQod2luZG93KS5zY3JvbGxMZWZ0KCkrdCh3aW5kb3cpLndpZHRoKCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdCx0KHdpbmRvdykuc2Nyb2xsVG9wKCkrKHQod2luZG93KS5oZWlnaHQoKXx8by5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0KS10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10aGlzLm1hcmdpbnMudG9wXSx2b2lkIDApOlwiZG9jdW1lbnRcIj09PW4uY29udGFpbm1lbnQ/KHRoaXMuY29udGFpbm1lbnQ9WzAsMCx0KG8pLndpZHRoKCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdCwodChvKS5oZWlnaHQoKXx8by5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0KS10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10aGlzLm1hcmdpbnMudG9wXSx2b2lkIDApOm4uY29udGFpbm1lbnQuY29uc3RydWN0b3I9PT1BcnJheT8odGhpcy5jb250YWlubWVudD1uLmNvbnRhaW5tZW50LHZvaWQgMCk6KFwicGFyZW50XCI9PT1uLmNvbnRhaW5tZW50JiYobi5jb250YWlubWVudD10aGlzLmhlbHBlclswXS5wYXJlbnROb2RlKSxpPXQobi5jb250YWlubWVudCkscz1pWzBdLHMmJihlPS8oc2Nyb2xsfGF1dG8pLy50ZXN0KGkuY3NzKFwib3ZlcmZsb3dcIikpLHRoaXMuY29udGFpbm1lbnQ9WyhwYXJzZUludChpLmNzcyhcImJvcmRlckxlZnRXaWR0aFwiKSwxMCl8fDApKyhwYXJzZUludChpLmNzcyhcInBhZGRpbmdMZWZ0XCIpLDEwKXx8MCksKHBhcnNlSW50KGkuY3NzKFwiYm9yZGVyVG9wV2lkdGhcIiksMTApfHwwKSsocGFyc2VJbnQoaS5jc3MoXCJwYWRkaW5nVG9wXCIpLDEwKXx8MCksKGU/TWF0aC5tYXgocy5zY3JvbGxXaWR0aCxzLm9mZnNldFdpZHRoKTpzLm9mZnNldFdpZHRoKS0ocGFyc2VJbnQoaS5jc3MoXCJib3JkZXJSaWdodFdpZHRoXCIpLDEwKXx8MCktKHBhcnNlSW50KGkuY3NzKFwicGFkZGluZ1JpZ2h0XCIpLDEwKXx8MCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdC10aGlzLm1hcmdpbnMucmlnaHQsKGU/TWF0aC5tYXgocy5zY3JvbGxIZWlnaHQscy5vZmZzZXRIZWlnaHQpOnMub2Zmc2V0SGVpZ2h0KS0ocGFyc2VJbnQoaS5jc3MoXCJib3JkZXJCb3R0b21XaWR0aFwiKSwxMCl8fDApLShwYXJzZUludChpLmNzcyhcInBhZGRpbmdCb3R0b21cIiksMTApfHwwKS10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10aGlzLm1hcmdpbnMudG9wLXRoaXMubWFyZ2lucy5ib3R0b21dLHRoaXMucmVsYXRpdmVDb250YWluZXI9aSksdm9pZCAwKToodGhpcy5jb250YWlubWVudD1udWxsLHZvaWQgMClcclxufSxfY29udmVydFBvc2l0aW9uVG86ZnVuY3Rpb24odCxlKXtlfHwoZT10aGlzLnBvc2l0aW9uKTt2YXIgaT1cImFic29sdXRlXCI9PT10PzE6LTEscz10aGlzLl9pc1Jvb3ROb2RlKHRoaXMuc2Nyb2xsUGFyZW50WzBdKTtyZXR1cm57dG9wOmUudG9wK3RoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcCppK3RoaXMub2Zmc2V0LnBhcmVudC50b3AqaS0oXCJmaXhlZFwiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5vZmZzZXQuc2Nyb2xsLnRvcDpzPzA6dGhpcy5vZmZzZXQuc2Nyb2xsLnRvcCkqaSxsZWZ0OmUubGVmdCt0aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0KmkrdGhpcy5vZmZzZXQucGFyZW50LmxlZnQqaS0oXCJmaXhlZFwiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQ6cz8wOnRoaXMub2Zmc2V0LnNjcm9sbC5sZWZ0KSppfX0sX2dlbmVyYXRlUG9zaXRpb246ZnVuY3Rpb24odCxlKXt2YXIgaSxzLG4sbyxhPXRoaXMub3B0aW9ucyxyPXRoaXMuX2lzUm9vdE5vZGUodGhpcy5zY3JvbGxQYXJlbnRbMF0pLGg9dC5wYWdlWCxsPXQucGFnZVk7cmV0dXJuIHImJnRoaXMub2Zmc2V0LnNjcm9sbHx8KHRoaXMub2Zmc2V0LnNjcm9sbD17dG9wOnRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpLGxlZnQ6dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpfSksZSYmKHRoaXMuY29udGFpbm1lbnQmJih0aGlzLnJlbGF0aXZlQ29udGFpbmVyPyhzPXRoaXMucmVsYXRpdmVDb250YWluZXIub2Zmc2V0KCksaT1bdGhpcy5jb250YWlubWVudFswXStzLmxlZnQsdGhpcy5jb250YWlubWVudFsxXStzLnRvcCx0aGlzLmNvbnRhaW5tZW50WzJdK3MubGVmdCx0aGlzLmNvbnRhaW5tZW50WzNdK3MudG9wXSk6aT10aGlzLmNvbnRhaW5tZW50LHQucGFnZVgtdGhpcy5vZmZzZXQuY2xpY2subGVmdDxpWzBdJiYoaD1pWzBdK3RoaXMub2Zmc2V0LmNsaWNrLmxlZnQpLHQucGFnZVktdGhpcy5vZmZzZXQuY2xpY2sudG9wPGlbMV0mJihsPWlbMV0rdGhpcy5vZmZzZXQuY2xpY2sudG9wKSx0LnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+aVsyXSYmKGg9aVsyXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0KSx0LnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcD5pWzNdJiYobD1pWzNdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCkpLGEuZ3JpZCYmKG49YS5ncmlkWzFdP3RoaXMub3JpZ2luYWxQYWdlWStNYXRoLnJvdW5kKChsLXRoaXMub3JpZ2luYWxQYWdlWSkvYS5ncmlkWzFdKSphLmdyaWRbMV06dGhpcy5vcmlnaW5hbFBhZ2VZLGw9aT9uLXRoaXMub2Zmc2V0LmNsaWNrLnRvcD49aVsxXXx8bi10aGlzLm9mZnNldC5jbGljay50b3A+aVszXT9uOm4tdGhpcy5vZmZzZXQuY2xpY2sudG9wPj1pWzFdP24tYS5ncmlkWzFdOm4rYS5ncmlkWzFdOm4sbz1hLmdyaWRbMF0/dGhpcy5vcmlnaW5hbFBhZ2VYK01hdGgucm91bmQoKGgtdGhpcy5vcmlnaW5hbFBhZ2VYKS9hLmdyaWRbMF0pKmEuZ3JpZFswXTp0aGlzLm9yaWdpbmFsUGFnZVgsaD1pP28tdGhpcy5vZmZzZXQuY2xpY2subGVmdD49aVswXXx8by10aGlzLm9mZnNldC5jbGljay5sZWZ0PmlbMl0/bzpvLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+PWlbMF0/by1hLmdyaWRbMF06bythLmdyaWRbMF06byksXCJ5XCI9PT1hLmF4aXMmJihoPXRoaXMub3JpZ2luYWxQYWdlWCksXCJ4XCI9PT1hLmF4aXMmJihsPXRoaXMub3JpZ2luYWxQYWdlWSkpLHt0b3A6bC10aGlzLm9mZnNldC5jbGljay50b3AtdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wLXRoaXMub2Zmc2V0LnBhcmVudC50b3ArKFwiZml4ZWRcIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMub2Zmc2V0LnNjcm9sbC50b3A6cj8wOnRoaXMub2Zmc2V0LnNjcm9sbC50b3ApLGxlZnQ6aC10aGlzLm9mZnNldC5jbGljay5sZWZ0LXRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQrKFwiZml4ZWRcIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMub2Zmc2V0LnNjcm9sbC5sZWZ0OnI/MDp0aGlzLm9mZnNldC5zY3JvbGwubGVmdCl9fSxfY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmhlbHBlcixcInVpLWRyYWdnYWJsZS1kcmFnZ2luZ1wiKSx0aGlzLmhlbHBlclswXT09PXRoaXMuZWxlbWVudFswXXx8dGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsfHx0aGlzLmhlbHBlci5yZW1vdmUoKSx0aGlzLmhlbHBlcj1udWxsLHRoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbD0hMSx0aGlzLmRlc3Ryb3lPbkNsZWFyJiZ0aGlzLmRlc3Ryb3koKX0sX3RyaWdnZXI6ZnVuY3Rpb24oZSxpLHMpe3JldHVybiBzPXN8fHRoaXMuX3VpSGFzaCgpLHQudWkucGx1Z2luLmNhbGwodGhpcyxlLFtpLHMsdGhpc10sITApLC9eKGRyYWd8c3RhcnR8c3RvcCkvLnRlc3QoZSkmJih0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKFwiYWJzb2x1dGVcIikscy5vZmZzZXQ9dGhpcy5wb3NpdGlvbkFicyksdC5XaWRnZXQucHJvdG90eXBlLl90cmlnZ2VyLmNhbGwodGhpcyxlLGkscyl9LHBsdWdpbnM6e30sX3VpSGFzaDpmdW5jdGlvbigpe3JldHVybntoZWxwZXI6dGhpcy5oZWxwZXIscG9zaXRpb246dGhpcy5wb3NpdGlvbixvcmlnaW5hbFBvc2l0aW9uOnRoaXMub3JpZ2luYWxQb3NpdGlvbixvZmZzZXQ6dGhpcy5wb3NpdGlvbkFic319fSksdC51aS5wbHVnaW4uYWRkKFwiZHJhZ2dhYmxlXCIsXCJjb25uZWN0VG9Tb3J0YWJsZVwiLHtzdGFydDpmdW5jdGlvbihlLGkscyl7dmFyIG49dC5leHRlbmQoe30saSx7aXRlbTpzLmVsZW1lbnR9KTtzLnNvcnRhYmxlcz1bXSx0KHMub3B0aW9ucy5jb25uZWN0VG9Tb3J0YWJsZSkuZWFjaChmdW5jdGlvbigpe3ZhciBpPXQodGhpcykuc29ydGFibGUoXCJpbnN0YW5jZVwiKTtpJiYhaS5vcHRpb25zLmRpc2FibGVkJiYocy5zb3J0YWJsZXMucHVzaChpKSxpLnJlZnJlc2hQb3NpdGlvbnMoKSxpLl90cmlnZ2VyKFwiYWN0aXZhdGVcIixlLG4pKX0pfSxzdG9wOmZ1bmN0aW9uKGUsaSxzKXt2YXIgbj10LmV4dGVuZCh7fSxpLHtpdGVtOnMuZWxlbWVudH0pO3MuY2FuY2VsSGVscGVyUmVtb3ZhbD0hMSx0LmVhY2gocy5zb3J0YWJsZXMsZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QuaXNPdmVyPyh0LmlzT3Zlcj0wLHMuY2FuY2VsSGVscGVyUmVtb3ZhbD0hMCx0LmNhbmNlbEhlbHBlclJlbW92YWw9ITEsdC5fc3RvcmVkQ1NTPXtwb3NpdGlvbjp0LnBsYWNlaG9sZGVyLmNzcyhcInBvc2l0aW9uXCIpLHRvcDp0LnBsYWNlaG9sZGVyLmNzcyhcInRvcFwiKSxsZWZ0OnQucGxhY2Vob2xkZXIuY3NzKFwibGVmdFwiKX0sdC5fbW91c2VTdG9wKGUpLHQub3B0aW9ucy5oZWxwZXI9dC5vcHRpb25zLl9oZWxwZXIpOih0LmNhbmNlbEhlbHBlclJlbW92YWw9ITAsdC5fdHJpZ2dlcihcImRlYWN0aXZhdGVcIixlLG4pKX0pfSxkcmFnOmZ1bmN0aW9uKGUsaSxzKXt0LmVhY2gocy5zb3J0YWJsZXMsZnVuY3Rpb24oKXt2YXIgbj0hMSxvPXRoaXM7by5wb3NpdGlvbkFicz1zLnBvc2l0aW9uQWJzLG8uaGVscGVyUHJvcG9ydGlvbnM9cy5oZWxwZXJQcm9wb3J0aW9ucyxvLm9mZnNldC5jbGljaz1zLm9mZnNldC5jbGljayxvLl9pbnRlcnNlY3RzV2l0aChvLmNvbnRhaW5lckNhY2hlKSYmKG49ITAsdC5lYWNoKHMuc29ydGFibGVzLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zaXRpb25BYnM9cy5wb3NpdGlvbkFicyx0aGlzLmhlbHBlclByb3BvcnRpb25zPXMuaGVscGVyUHJvcG9ydGlvbnMsdGhpcy5vZmZzZXQuY2xpY2s9cy5vZmZzZXQuY2xpY2ssdGhpcyE9PW8mJnRoaXMuX2ludGVyc2VjdHNXaXRoKHRoaXMuY29udGFpbmVyQ2FjaGUpJiZ0LmNvbnRhaW5zKG8uZWxlbWVudFswXSx0aGlzLmVsZW1lbnRbMF0pJiYobj0hMSksbn0pKSxuPyhvLmlzT3Zlcnx8KG8uaXNPdmVyPTEscy5fcGFyZW50PWkuaGVscGVyLnBhcmVudCgpLG8uY3VycmVudEl0ZW09aS5oZWxwZXIuYXBwZW5kVG8oby5lbGVtZW50KS5kYXRhKFwidWktc29ydGFibGUtaXRlbVwiLCEwKSxvLm9wdGlvbnMuX2hlbHBlcj1vLm9wdGlvbnMuaGVscGVyLG8ub3B0aW9ucy5oZWxwZXI9ZnVuY3Rpb24oKXtyZXR1cm4gaS5oZWxwZXJbMF19LGUudGFyZ2V0PW8uY3VycmVudEl0ZW1bMF0sby5fbW91c2VDYXB0dXJlKGUsITApLG8uX21vdXNlU3RhcnQoZSwhMCwhMCksby5vZmZzZXQuY2xpY2sudG9wPXMub2Zmc2V0LmNsaWNrLnRvcCxvLm9mZnNldC5jbGljay5sZWZ0PXMub2Zmc2V0LmNsaWNrLmxlZnQsby5vZmZzZXQucGFyZW50LmxlZnQtPXMub2Zmc2V0LnBhcmVudC5sZWZ0LW8ub2Zmc2V0LnBhcmVudC5sZWZ0LG8ub2Zmc2V0LnBhcmVudC50b3AtPXMub2Zmc2V0LnBhcmVudC50b3Atby5vZmZzZXQucGFyZW50LnRvcCxzLl90cmlnZ2VyKFwidG9Tb3J0YWJsZVwiLGUpLHMuZHJvcHBlZD1vLmVsZW1lbnQsdC5lYWNoKHMuc29ydGFibGVzLGZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoUG9zaXRpb25zKCl9KSxzLmN1cnJlbnRJdGVtPXMuZWxlbWVudCxvLmZyb21PdXRzaWRlPXMpLG8uY3VycmVudEl0ZW0mJihvLl9tb3VzZURyYWcoZSksaS5wb3NpdGlvbj1vLnBvc2l0aW9uKSk6by5pc092ZXImJihvLmlzT3Zlcj0wLG8uY2FuY2VsSGVscGVyUmVtb3ZhbD0hMCxvLm9wdGlvbnMuX3JldmVydD1vLm9wdGlvbnMucmV2ZXJ0LG8ub3B0aW9ucy5yZXZlcnQ9ITEsby5fdHJpZ2dlcihcIm91dFwiLGUsby5fdWlIYXNoKG8pKSxvLl9tb3VzZVN0b3AoZSwhMCksby5vcHRpb25zLnJldmVydD1vLm9wdGlvbnMuX3JldmVydCxvLm9wdGlvbnMuaGVscGVyPW8ub3B0aW9ucy5faGVscGVyLG8ucGxhY2Vob2xkZXImJm8ucGxhY2Vob2xkZXIucmVtb3ZlKCksaS5oZWxwZXIuYXBwZW5kVG8ocy5fcGFyZW50KSxzLl9yZWZyZXNoT2Zmc2V0cyhlKSxpLnBvc2l0aW9uPXMuX2dlbmVyYXRlUG9zaXRpb24oZSwhMCkscy5fdHJpZ2dlcihcImZyb21Tb3J0YWJsZVwiLGUpLHMuZHJvcHBlZD0hMSx0LmVhY2gocy5zb3J0YWJsZXMsZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2hQb3NpdGlvbnMoKX0pKX0pfX0pLHQudWkucGx1Z2luLmFkZChcImRyYWdnYWJsZVwiLFwiY3Vyc29yXCIse3N0YXJ0OmZ1bmN0aW9uKGUsaSxzKXt2YXIgbj10KFwiYm9keVwiKSxvPXMub3B0aW9ucztuLmNzcyhcImN1cnNvclwiKSYmKG8uX2N1cnNvcj1uLmNzcyhcImN1cnNvclwiKSksbi5jc3MoXCJjdXJzb3JcIixvLmN1cnNvcil9LHN0b3A6ZnVuY3Rpb24oZSxpLHMpe3ZhciBuPXMub3B0aW9ucztuLl9jdXJzb3ImJnQoXCJib2R5XCIpLmNzcyhcImN1cnNvclwiLG4uX2N1cnNvcil9fSksdC51aS5wbHVnaW4uYWRkKFwiZHJhZ2dhYmxlXCIsXCJvcGFjaXR5XCIse3N0YXJ0OmZ1bmN0aW9uKGUsaSxzKXt2YXIgbj10KGkuaGVscGVyKSxvPXMub3B0aW9ucztuLmNzcyhcIm9wYWNpdHlcIikmJihvLl9vcGFjaXR5PW4uY3NzKFwib3BhY2l0eVwiKSksbi5jc3MoXCJvcGFjaXR5XCIsby5vcGFjaXR5KX0sc3RvcDpmdW5jdGlvbihlLGkscyl7dmFyIG49cy5vcHRpb25zO24uX29wYWNpdHkmJnQoaS5oZWxwZXIpLmNzcyhcIm9wYWNpdHlcIixuLl9vcGFjaXR5KX19KSx0LnVpLnBsdWdpbi5hZGQoXCJkcmFnZ2FibGVcIixcInNjcm9sbFwiLHtzdGFydDpmdW5jdGlvbih0LGUsaSl7aS5zY3JvbGxQYXJlbnROb3RIaWRkZW58fChpLnNjcm9sbFBhcmVudE5vdEhpZGRlbj1pLmhlbHBlci5zY3JvbGxQYXJlbnQoITEpKSxpLnNjcm9sbFBhcmVudE5vdEhpZGRlblswXSE9PWkuZG9jdW1lbnRbMF0mJlwiSFRNTFwiIT09aS5zY3JvbGxQYXJlbnROb3RIaWRkZW5bMF0udGFnTmFtZSYmKGkub3ZlcmZsb3dPZmZzZXQ9aS5zY3JvbGxQYXJlbnROb3RIaWRkZW4ub2Zmc2V0KCkpfSxkcmFnOmZ1bmN0aW9uKGUsaSxzKXt2YXIgbj1zLm9wdGlvbnMsbz0hMSxhPXMuc2Nyb2xsUGFyZW50Tm90SGlkZGVuWzBdLHI9cy5kb2N1bWVudFswXTthIT09ciYmXCJIVE1MXCIhPT1hLnRhZ05hbWU/KG4uYXhpcyYmXCJ4XCI9PT1uLmF4aXN8fChzLm92ZXJmbG93T2Zmc2V0LnRvcCthLm9mZnNldEhlaWdodC1lLnBhZ2VZPG4uc2Nyb2xsU2Vuc2l0aXZpdHk/YS5zY3JvbGxUb3A9bz1hLnNjcm9sbFRvcCtuLnNjcm9sbFNwZWVkOmUucGFnZVktcy5vdmVyZmxvd09mZnNldC50b3A8bi5zY3JvbGxTZW5zaXRpdml0eSYmKGEuc2Nyb2xsVG9wPW89YS5zY3JvbGxUb3Atbi5zY3JvbGxTcGVlZCkpLG4uYXhpcyYmXCJ5XCI9PT1uLmF4aXN8fChzLm92ZXJmbG93T2Zmc2V0LmxlZnQrYS5vZmZzZXRXaWR0aC1lLnBhZ2VYPG4uc2Nyb2xsU2Vuc2l0aXZpdHk/YS5zY3JvbGxMZWZ0PW89YS5zY3JvbGxMZWZ0K24uc2Nyb2xsU3BlZWQ6ZS5wYWdlWC1zLm92ZXJmbG93T2Zmc2V0LmxlZnQ8bi5zY3JvbGxTZW5zaXRpdml0eSYmKGEuc2Nyb2xsTGVmdD1vPWEuc2Nyb2xsTGVmdC1uLnNjcm9sbFNwZWVkKSkpOihuLmF4aXMmJlwieFwiPT09bi5heGlzfHwoZS5wYWdlWS10KHIpLnNjcm9sbFRvcCgpPG4uc2Nyb2xsU2Vuc2l0aXZpdHk/bz10KHIpLnNjcm9sbFRvcCh0KHIpLnNjcm9sbFRvcCgpLW4uc2Nyb2xsU3BlZWQpOnQod2luZG93KS5oZWlnaHQoKS0oZS5wYWdlWS10KHIpLnNjcm9sbFRvcCgpKTxuLnNjcm9sbFNlbnNpdGl2aXR5JiYobz10KHIpLnNjcm9sbFRvcCh0KHIpLnNjcm9sbFRvcCgpK24uc2Nyb2xsU3BlZWQpKSksbi5heGlzJiZcInlcIj09PW4uYXhpc3x8KGUucGFnZVgtdChyKS5zY3JvbGxMZWZ0KCk8bi5zY3JvbGxTZW5zaXRpdml0eT9vPXQocikuc2Nyb2xsTGVmdCh0KHIpLnNjcm9sbExlZnQoKS1uLnNjcm9sbFNwZWVkKTp0KHdpbmRvdykud2lkdGgoKS0oZS5wYWdlWC10KHIpLnNjcm9sbExlZnQoKSk8bi5zY3JvbGxTZW5zaXRpdml0eSYmKG89dChyKS5zY3JvbGxMZWZ0KHQocikuc2Nyb2xsTGVmdCgpK24uc2Nyb2xsU3BlZWQpKSkpLG8hPT0hMSYmdC51aS5kZG1hbmFnZXImJiFuLmRyb3BCZWhhdmlvdXImJnQudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHMsZSl9fSksdC51aS5wbHVnaW4uYWRkKFwiZHJhZ2dhYmxlXCIsXCJzbmFwXCIse3N0YXJ0OmZ1bmN0aW9uKGUsaSxzKXt2YXIgbj1zLm9wdGlvbnM7cy5zbmFwRWxlbWVudHM9W10sdChuLnNuYXAuY29uc3RydWN0b3IhPT1TdHJpbmc/bi5zbmFwLml0ZW1zfHxcIjpkYXRhKHVpLWRyYWdnYWJsZSlcIjpuLnNuYXApLmVhY2goZnVuY3Rpb24oKXt2YXIgZT10KHRoaXMpLGk9ZS5vZmZzZXQoKTt0aGlzIT09cy5lbGVtZW50WzBdJiZzLnNuYXBFbGVtZW50cy5wdXNoKHtpdGVtOnRoaXMsd2lkdGg6ZS5vdXRlcldpZHRoKCksaGVpZ2h0OmUub3V0ZXJIZWlnaHQoKSx0b3A6aS50b3AsbGVmdDppLmxlZnR9KX0pfSxkcmFnOmZ1bmN0aW9uKGUsaSxzKXt2YXIgbixvLGEscixoLGwsYyx1LGQscCxmPXMub3B0aW9ucyxnPWYuc25hcFRvbGVyYW5jZSxtPWkub2Zmc2V0LmxlZnQsXz1tK3MuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgsdj1pLm9mZnNldC50b3AsYj12K3MuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0O2ZvcihkPXMuc25hcEVsZW1lbnRzLmxlbmd0aC0xO2Q+PTA7ZC0tKWg9cy5zbmFwRWxlbWVudHNbZF0ubGVmdC1zLm1hcmdpbnMubGVmdCxsPWgrcy5zbmFwRWxlbWVudHNbZF0ud2lkdGgsYz1zLnNuYXBFbGVtZW50c1tkXS50b3Atcy5tYXJnaW5zLnRvcCx1PWMrcy5zbmFwRWxlbWVudHNbZF0uaGVpZ2h0LGgtZz5ffHxtPmwrZ3x8Yy1nPmJ8fHY+dStnfHwhdC5jb250YWlucyhzLnNuYXBFbGVtZW50c1tkXS5pdGVtLm93bmVyRG9jdW1lbnQscy5zbmFwRWxlbWVudHNbZF0uaXRlbSk/KHMuc25hcEVsZW1lbnRzW2RdLnNuYXBwaW5nJiZzLm9wdGlvbnMuc25hcC5yZWxlYXNlJiZzLm9wdGlvbnMuc25hcC5yZWxlYXNlLmNhbGwocy5lbGVtZW50LGUsdC5leHRlbmQocy5fdWlIYXNoKCkse3NuYXBJdGVtOnMuc25hcEVsZW1lbnRzW2RdLml0ZW19KSkscy5zbmFwRWxlbWVudHNbZF0uc25hcHBpbmc9ITEpOihcImlubmVyXCIhPT1mLnNuYXBNb2RlJiYobj1nPj1NYXRoLmFicyhjLWIpLG89Zz49TWF0aC5hYnModS12KSxhPWc+PU1hdGguYWJzKGgtXykscj1nPj1NYXRoLmFicyhsLW0pLG4mJihpLnBvc2l0aW9uLnRvcD1zLl9jb252ZXJ0UG9zaXRpb25UbyhcInJlbGF0aXZlXCIse3RvcDpjLXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LGxlZnQ6MH0pLnRvcCksbyYmKGkucG9zaXRpb24udG9wPXMuX2NvbnZlcnRQb3NpdGlvblRvKFwicmVsYXRpdmVcIix7dG9wOnUsbGVmdDowfSkudG9wKSxhJiYoaS5wb3NpdGlvbi5sZWZ0PXMuX2NvbnZlcnRQb3NpdGlvblRvKFwicmVsYXRpdmVcIix7dG9wOjAsbGVmdDpoLXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGh9KS5sZWZ0KSxyJiYoaS5wb3NpdGlvbi5sZWZ0PXMuX2NvbnZlcnRQb3NpdGlvblRvKFwicmVsYXRpdmVcIix7dG9wOjAsbGVmdDpsfSkubGVmdCkpLHA9bnx8b3x8YXx8cixcIm91dGVyXCIhPT1mLnNuYXBNb2RlJiYobj1nPj1NYXRoLmFicyhjLXYpLG89Zz49TWF0aC5hYnModS1iKSxhPWc+PU1hdGguYWJzKGgtbSkscj1nPj1NYXRoLmFicyhsLV8pLG4mJihpLnBvc2l0aW9uLnRvcD1zLl9jb252ZXJ0UG9zaXRpb25UbyhcInJlbGF0aXZlXCIse3RvcDpjLGxlZnQ6MH0pLnRvcCksbyYmKGkucG9zaXRpb24udG9wPXMuX2NvbnZlcnRQb3NpdGlvblRvKFwicmVsYXRpdmVcIix7dG9wOnUtcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQsbGVmdDowfSkudG9wKSxhJiYoaS5wb3NpdGlvbi5sZWZ0PXMuX2NvbnZlcnRQb3NpdGlvblRvKFwicmVsYXRpdmVcIix7dG9wOjAsbGVmdDpofSkubGVmdCksciYmKGkucG9zaXRpb24ubGVmdD1zLl9jb252ZXJ0UG9zaXRpb25UbyhcInJlbGF0aXZlXCIse3RvcDowLGxlZnQ6bC1zLmhlbHBlclByb3BvcnRpb25zLndpZHRofSkubGVmdCkpLCFzLnNuYXBFbGVtZW50c1tkXS5zbmFwcGluZyYmKG58fG98fGF8fHJ8fHApJiZzLm9wdGlvbnMuc25hcC5zbmFwJiZzLm9wdGlvbnMuc25hcC5zbmFwLmNhbGwocy5lbGVtZW50LGUsdC5leHRlbmQocy5fdWlIYXNoKCkse3NuYXBJdGVtOnMuc25hcEVsZW1lbnRzW2RdLml0ZW19KSkscy5zbmFwRWxlbWVudHNbZF0uc25hcHBpbmc9bnx8b3x8YXx8cnx8cCl9fSksdC51aS5wbHVnaW4uYWRkKFwiZHJhZ2dhYmxlXCIsXCJzdGFja1wiLHtzdGFydDpmdW5jdGlvbihlLGkscyl7dmFyIG4sbz1zLm9wdGlvbnMsYT10Lm1ha2VBcnJheSh0KG8uc3RhY2spKS5zb3J0KGZ1bmN0aW9uKGUsaSl7cmV0dXJuKHBhcnNlSW50KHQoZSkuY3NzKFwiekluZGV4XCIpLDEwKXx8MCktKHBhcnNlSW50KHQoaSkuY3NzKFwiekluZGV4XCIpLDEwKXx8MCl9KTthLmxlbmd0aCYmKG49cGFyc2VJbnQodChhWzBdKS5jc3MoXCJ6SW5kZXhcIiksMTApfHwwLHQoYSkuZWFjaChmdW5jdGlvbihlKXt0KHRoaXMpLmNzcyhcInpJbmRleFwiLG4rZSl9KSx0aGlzLmNzcyhcInpJbmRleFwiLG4rYS5sZW5ndGgpKX19KSx0LnVpLnBsdWdpbi5hZGQoXCJkcmFnZ2FibGVcIixcInpJbmRleFwiLHtzdGFydDpmdW5jdGlvbihlLGkscyl7dmFyIG49dChpLmhlbHBlciksbz1zLm9wdGlvbnM7bi5jc3MoXCJ6SW5kZXhcIikmJihvLl96SW5kZXg9bi5jc3MoXCJ6SW5kZXhcIikpLG4uY3NzKFwiekluZGV4XCIsby56SW5kZXgpfSxzdG9wOmZ1bmN0aW9uKGUsaSxzKXt2YXIgbj1zLm9wdGlvbnM7bi5fekluZGV4JiZ0KGkuaGVscGVyKS5jc3MoXCJ6SW5kZXhcIixuLl96SW5kZXgpfX0pLHQudWkuZHJhZ2dhYmxlLHQud2lkZ2V0KFwidWkuZHJvcHBhYmxlXCIse3ZlcnNpb246XCIxLjEyLjFcIix3aWRnZXRFdmVudFByZWZpeDpcImRyb3BcIixvcHRpb25zOnthY2NlcHQ6XCIqXCIsYWRkQ2xhc3NlczohMCxncmVlZHk6ITEsc2NvcGU6XCJkZWZhdWx0XCIsdG9sZXJhbmNlOlwiaW50ZXJzZWN0XCIsYWN0aXZhdGU6bnVsbCxkZWFjdGl2YXRlOm51bGwsZHJvcDpudWxsLG91dDpudWxsLG92ZXI6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBlLGk9dGhpcy5vcHRpb25zLHM9aS5hY2NlcHQ7dGhpcy5pc292ZXI9ITEsdGhpcy5pc291dD0hMCx0aGlzLmFjY2VwdD10LmlzRnVuY3Rpb24ocyk/czpmdW5jdGlvbih0KXtyZXR1cm4gdC5pcyhzKX0sdGhpcy5wcm9wb3J0aW9ucz1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPWFyZ3VtZW50c1swXSx2b2lkIDApOmU/ZTplPXt3aWR0aDp0aGlzLmVsZW1lbnRbMF0ub2Zmc2V0V2lkdGgsaGVpZ2h0OnRoaXMuZWxlbWVudFswXS5vZmZzZXRIZWlnaHR9fSx0aGlzLl9hZGRUb01hbmFnZXIoaS5zY29wZSksaS5hZGRDbGFzc2VzJiZ0aGlzLl9hZGRDbGFzcyhcInVpLWRyb3BwYWJsZVwiKX0sX2FkZFRvTWFuYWdlcjpmdW5jdGlvbihlKXt0LnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW2VdPXQudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbZV18fFtdLHQudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbZV0ucHVzaCh0aGlzKX0sX3NwbGljZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDt0Lmxlbmd0aD5lO2UrKyl0W2VdPT09dGhpcyYmdC5zcGxpY2UoZSwxKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgZT10LnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RoaXMub3B0aW9ucy5zY29wZV07dGhpcy5fc3BsaWNlKGUpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGUsaSl7aWYoXCJhY2NlcHRcIj09PWUpdGhpcy5hY2NlcHQ9dC5pc0Z1bmN0aW9uKGkpP2k6ZnVuY3Rpb24odCl7cmV0dXJuIHQuaXMoaSl9O2Vsc2UgaWYoXCJzY29wZVwiPT09ZSl7dmFyIHM9dC51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1t0aGlzLm9wdGlvbnMuc2NvcGVdO3RoaXMuX3NwbGljZShzKSx0aGlzLl9hZGRUb01hbmFnZXIoaSl9dGhpcy5fc3VwZXIoZSxpKX0sX2FjdGl2YXRlOmZ1bmN0aW9uKGUpe3ZhciBpPXQudWkuZGRtYW5hZ2VyLmN1cnJlbnQ7dGhpcy5fYWRkQWN0aXZlQ2xhc3MoKSxpJiZ0aGlzLl90cmlnZ2VyKFwiYWN0aXZhdGVcIixlLHRoaXMudWkoaSkpfSxfZGVhY3RpdmF0ZTpmdW5jdGlvbihlKXt2YXIgaT10LnVpLmRkbWFuYWdlci5jdXJyZW50O3RoaXMuX3JlbW92ZUFjdGl2ZUNsYXNzKCksaSYmdGhpcy5fdHJpZ2dlcihcImRlYWN0aXZhdGVcIixlLHRoaXMudWkoaSkpfSxfb3ZlcjpmdW5jdGlvbihlKXt2YXIgaT10LnVpLmRkbWFuYWdlci5jdXJyZW50O2kmJihpLmN1cnJlbnRJdGVtfHxpLmVsZW1lbnQpWzBdIT09dGhpcy5lbGVtZW50WzBdJiZ0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSxpLmN1cnJlbnRJdGVtfHxpLmVsZW1lbnQpJiYodGhpcy5fYWRkSG92ZXJDbGFzcygpLHRoaXMuX3RyaWdnZXIoXCJvdmVyXCIsZSx0aGlzLnVpKGkpKSl9LF9vdXQ6ZnVuY3Rpb24oZSl7dmFyIGk9dC51aS5kZG1hbmFnZXIuY3VycmVudDtpJiYoaS5jdXJyZW50SXRlbXx8aS5lbGVtZW50KVswXSE9PXRoaXMuZWxlbWVudFswXSYmdGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0saS5jdXJyZW50SXRlbXx8aS5lbGVtZW50KSYmKHRoaXMuX3JlbW92ZUhvdmVyQ2xhc3MoKSx0aGlzLl90cmlnZ2VyKFwib3V0XCIsZSx0aGlzLnVpKGkpKSl9LF9kcm9wOmZ1bmN0aW9uKGUsaSl7dmFyIHM9aXx8dC51aS5kZG1hbmFnZXIuY3VycmVudCxuPSExO3JldHVybiBzJiYocy5jdXJyZW50SXRlbXx8cy5lbGVtZW50KVswXSE9PXRoaXMuZWxlbWVudFswXT8odGhpcy5lbGVtZW50LmZpbmQoXCI6ZGF0YSh1aS1kcm9wcGFibGUpXCIpLm5vdChcIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmdcIikuZWFjaChmdW5jdGlvbigpe3ZhciBpPXQodGhpcykuZHJvcHBhYmxlKFwiaW5zdGFuY2VcIik7cmV0dXJuIGkub3B0aW9ucy5ncmVlZHkmJiFpLm9wdGlvbnMuZGlzYWJsZWQmJmkub3B0aW9ucy5zY29wZT09PXMub3B0aW9ucy5zY29wZSYmaS5hY2NlcHQuY2FsbChpLmVsZW1lbnRbMF0scy5jdXJyZW50SXRlbXx8cy5lbGVtZW50KSYmdShzLHQuZXh0ZW5kKGkse29mZnNldDppLmVsZW1lbnQub2Zmc2V0KCl9KSxpLm9wdGlvbnMudG9sZXJhbmNlLGUpPyhuPSEwLCExKTp2b2lkIDB9KSxuPyExOnRoaXMuYWNjZXB0LmNhbGwodGhpcy5lbGVtZW50WzBdLHMuY3VycmVudEl0ZW18fHMuZWxlbWVudCk/KHRoaXMuX3JlbW92ZUFjdGl2ZUNsYXNzKCksdGhpcy5fcmVtb3ZlSG92ZXJDbGFzcygpLHRoaXMuX3RyaWdnZXIoXCJkcm9wXCIsZSx0aGlzLnVpKHMpKSx0aGlzLmVsZW1lbnQpOiExKTohMX0sdWk6ZnVuY3Rpb24odCl7cmV0dXJue2RyYWdnYWJsZTp0LmN1cnJlbnRJdGVtfHx0LmVsZW1lbnQsaGVscGVyOnQuaGVscGVyLHBvc2l0aW9uOnQucG9zaXRpb24sb2Zmc2V0OnQucG9zaXRpb25BYnN9fSxfYWRkSG92ZXJDbGFzczpmdW5jdGlvbigpe3RoaXMuX2FkZENsYXNzKFwidWktZHJvcHBhYmxlLWhvdmVyXCIpfSxfcmVtb3ZlSG92ZXJDbGFzczpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKFwidWktZHJvcHBhYmxlLWhvdmVyXCIpfSxfYWRkQWN0aXZlQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9hZGRDbGFzcyhcInVpLWRyb3BwYWJsZS1hY3RpdmVcIil9LF9yZW1vdmVBY3RpdmVDbGFzczpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKFwidWktZHJvcHBhYmxlLWFjdGl2ZVwiKX19KTt2YXIgdT10LnVpLmludGVyc2VjdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGkpe3JldHVybiB0Pj1lJiZlK2k+dH1yZXR1cm4gZnVuY3Rpb24oZSxpLHMsbil7aWYoIWkub2Zmc2V0KXJldHVybiExO3ZhciBvPShlLnBvc2l0aW9uQWJzfHxlLnBvc2l0aW9uLmFic29sdXRlKS5sZWZ0K2UubWFyZ2lucy5sZWZ0LGE9KGUucG9zaXRpb25BYnN8fGUucG9zaXRpb24uYWJzb2x1dGUpLnRvcCtlLm1hcmdpbnMudG9wLHI9bytlLmhlbHBlclByb3BvcnRpb25zLndpZHRoLGg9YStlLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxsPWkub2Zmc2V0LmxlZnQsYz1pLm9mZnNldC50b3AsdT1sK2kucHJvcG9ydGlvbnMoKS53aWR0aCxkPWMraS5wcm9wb3J0aW9ucygpLmhlaWdodDtzd2l0Y2gocyl7Y2FzZVwiZml0XCI6cmV0dXJuIG8+PWwmJnU+PXImJmE+PWMmJmQ+PWg7Y2FzZVwiaW50ZXJzZWN0XCI6cmV0dXJuIG8rZS5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC8yPmwmJnU+ci1lLmhlbHBlclByb3BvcnRpb25zLndpZHRoLzImJmErZS5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMj5jJiZkPmgtZS5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMjtjYXNlXCJwb2ludGVyXCI6cmV0dXJuIHQobi5wYWdlWSxjLGkucHJvcG9ydGlvbnMoKS5oZWlnaHQpJiZ0KG4ucGFnZVgsbCxpLnByb3BvcnRpb25zKCkud2lkdGgpO2Nhc2VcInRvdWNoXCI6cmV0dXJuKGE+PWMmJmQ+PWF8fGg+PWMmJmQ+PWh8fGM+YSYmaD5kKSYmKG8+PWwmJnU+PW98fHI+PWwmJnU+PXJ8fGw+byYmcj51KTtkZWZhdWx0OnJldHVybiExfX19KCk7dC51aS5kZG1hbmFnZXI9e2N1cnJlbnQ6bnVsbCxkcm9wcGFibGVzOntcImRlZmF1bHRcIjpbXX0scHJlcGFyZU9mZnNldHM6ZnVuY3Rpb24oZSxpKXt2YXIgcyxuLG89dC51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1tlLm9wdGlvbnMuc2NvcGVdfHxbXSxhPWk/aS50eXBlOm51bGwscj0oZS5jdXJyZW50SXRlbXx8ZS5lbGVtZW50KS5maW5kKFwiOmRhdGEodWktZHJvcHBhYmxlKVwiKS5hZGRCYWNrKCk7dDpmb3Iocz0wO28ubGVuZ3RoPnM7cysrKWlmKCEob1tzXS5vcHRpb25zLmRpc2FibGVkfHxlJiYhb1tzXS5hY2NlcHQuY2FsbChvW3NdLmVsZW1lbnRbMF0sZS5jdXJyZW50SXRlbXx8ZS5lbGVtZW50KSkpe2ZvcihuPTA7ci5sZW5ndGg+bjtuKyspaWYocltuXT09PW9bc10uZWxlbWVudFswXSl7b1tzXS5wcm9wb3J0aW9ucygpLmhlaWdodD0wO2NvbnRpbnVlIHR9b1tzXS52aXNpYmxlPVwibm9uZVwiIT09b1tzXS5lbGVtZW50LmNzcyhcImRpc3BsYXlcIiksb1tzXS52aXNpYmxlJiYoXCJtb3VzZWRvd25cIj09PWEmJm9bc10uX2FjdGl2YXRlLmNhbGwob1tzXSxpKSxvW3NdLm9mZnNldD1vW3NdLmVsZW1lbnQub2Zmc2V0KCksb1tzXS5wcm9wb3J0aW9ucyh7d2lkdGg6b1tzXS5lbGVtZW50WzBdLm9mZnNldFdpZHRoLGhlaWdodDpvW3NdLmVsZW1lbnRbMF0ub2Zmc2V0SGVpZ2h0fSkpfX0sZHJvcDpmdW5jdGlvbihlLGkpe3ZhciBzPSExO3JldHVybiB0LmVhY2goKHQudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbZS5vcHRpb25zLnNjb3BlXXx8W10pLnNsaWNlKCksZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMmJighdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLnZpc2libGUmJnUoZSx0aGlzLHRoaXMub3B0aW9ucy50b2xlcmFuY2UsaSkmJihzPXRoaXMuX2Ryb3AuY2FsbCh0aGlzLGkpfHxzKSwhdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLnZpc2libGUmJnRoaXMuYWNjZXB0LmNhbGwodGhpcy5lbGVtZW50WzBdLGUuY3VycmVudEl0ZW18fGUuZWxlbWVudCkmJih0aGlzLmlzb3V0PSEwLHRoaXMuaXNvdmVyPSExLHRoaXMuX2RlYWN0aXZhdGUuY2FsbCh0aGlzLGkpKSl9KSxzfSxkcmFnU3RhcnQ6ZnVuY3Rpb24oZSxpKXtlLmVsZW1lbnQucGFyZW50c1VudGlsKFwiYm9keVwiKS5vbihcInNjcm9sbC5kcm9wcGFibGVcIixmdW5jdGlvbigpe2Uub3B0aW9ucy5yZWZyZXNoUG9zaXRpb25zfHx0LnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyhlLGkpfSl9LGRyYWc6ZnVuY3Rpb24oZSxpKXtlLm9wdGlvbnMucmVmcmVzaFBvc2l0aW9ucyYmdC51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHMoZSxpKSx0LmVhY2godC51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1tlLm9wdGlvbnMuc2NvcGVdfHxbXSxmdW5jdGlvbigpe2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJiF0aGlzLmdyZWVkeUNoaWxkJiZ0aGlzLnZpc2libGUpe3ZhciBzLG4sbyxhPXUoZSx0aGlzLHRoaXMub3B0aW9ucy50b2xlcmFuY2UsaSkscj0hYSYmdGhpcy5pc292ZXI/XCJpc291dFwiOmEmJiF0aGlzLmlzb3Zlcj9cImlzb3ZlclwiOm51bGw7ciYmKHRoaXMub3B0aW9ucy5ncmVlZHkmJihuPXRoaXMub3B0aW9ucy5zY29wZSxvPXRoaXMuZWxlbWVudC5wYXJlbnRzKFwiOmRhdGEodWktZHJvcHBhYmxlKVwiKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gdCh0aGlzKS5kcm9wcGFibGUoXCJpbnN0YW5jZVwiKS5vcHRpb25zLnNjb3BlPT09bn0pLG8ubGVuZ3RoJiYocz10KG9bMF0pLmRyb3BwYWJsZShcImluc3RhbmNlXCIpLHMuZ3JlZWR5Q2hpbGQ9XCJpc292ZXJcIj09PXIpKSxzJiZcImlzb3ZlclwiPT09ciYmKHMuaXNvdmVyPSExLHMuaXNvdXQ9ITAscy5fb3V0LmNhbGwocyxpKSksdGhpc1tyXT0hMCx0aGlzW1wiaXNvdXRcIj09PXI/XCJpc292ZXJcIjpcImlzb3V0XCJdPSExLHRoaXNbXCJpc292ZXJcIj09PXI/XCJfb3ZlclwiOlwiX291dFwiXS5jYWxsKHRoaXMsaSkscyYmXCJpc291dFwiPT09ciYmKHMuaXNvdXQ9ITEscy5pc292ZXI9ITAscy5fb3Zlci5jYWxsKHMsaSkpKX19KX0sZHJhZ1N0b3A6ZnVuY3Rpb24oZSxpKXtlLmVsZW1lbnQucGFyZW50c1VudGlsKFwiYm9keVwiKS5vZmYoXCJzY3JvbGwuZHJvcHBhYmxlXCIpLGUub3B0aW9ucy5yZWZyZXNoUG9zaXRpb25zfHx0LnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyhlLGkpfX0sdC51aUJhY2tDb21wYXQhPT0hMSYmdC53aWRnZXQoXCJ1aS5kcm9wcGFibGVcIix0LnVpLmRyb3BwYWJsZSx7b3B0aW9uczp7aG92ZXJDbGFzczohMSxhY3RpdmVDbGFzczohMX0sX2FkZEFjdGl2ZUNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpfSxfcmVtb3ZlQWN0aXZlQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyl9LF9hZGRIb3ZlckNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzKX0sX3JlbW92ZUhvdmVyQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MpfX0pLHQudWkuZHJvcHBhYmxlLHQud2lkZ2V0KFwidWkucmVzaXphYmxlXCIsdC51aS5tb3VzZSx7dmVyc2lvbjpcIjEuMTIuMVwiLHdpZGdldEV2ZW50UHJlZml4OlwicmVzaXplXCIsb3B0aW9uczp7YWxzb1Jlc2l6ZTohMSxhbmltYXRlOiExLGFuaW1hdGVEdXJhdGlvbjpcInNsb3dcIixhbmltYXRlRWFzaW5nOlwic3dpbmdcIixhc3BlY3RSYXRpbzohMSxhdXRvSGlkZTohMSxjbGFzc2VzOntcInVpLXJlc2l6YWJsZS1zZVwiOlwidWktaWNvbiB1aS1pY29uLWdyaXBzbWFsbC1kaWFnb25hbC1zZVwifSxjb250YWlubWVudDohMSxnaG9zdDohMSxncmlkOiExLGhhbmRsZXM6XCJlLHMsc2VcIixoZWxwZXI6ITEsbWF4SGVpZ2h0Om51bGwsbWF4V2lkdGg6bnVsbCxtaW5IZWlnaHQ6MTAsbWluV2lkdGg6MTAsekluZGV4OjkwLHJlc2l6ZTpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsfSxfbnVtOmZ1bmN0aW9uKHQpe3JldHVybiBwYXJzZUZsb2F0KHQpfHwwfSxfaXNOdW1iZXI6ZnVuY3Rpb24odCl7cmV0dXJuIWlzTmFOKHBhcnNlRmxvYXQodCkpfSxfaGFzU2Nyb2xsOmZ1bmN0aW9uKGUsaSl7aWYoXCJoaWRkZW5cIj09PXQoZSkuY3NzKFwib3ZlcmZsb3dcIikpcmV0dXJuITE7dmFyIHM9aSYmXCJsZWZ0XCI9PT1pP1wic2Nyb2xsTGVmdFwiOlwic2Nyb2xsVG9wXCIsbj0hMTtyZXR1cm4gZVtzXT4wPyEwOihlW3NdPTEsbj1lW3NdPjAsZVtzXT0wLG4pfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGUsaT10aGlzLm9wdGlvbnMscz10aGlzO3RoaXMuX2FkZENsYXNzKFwidWktcmVzaXphYmxlXCIpLHQuZXh0ZW5kKHRoaXMse19hc3BlY3RSYXRpbzohIWkuYXNwZWN0UmF0aW8sYXNwZWN0UmF0aW86aS5hc3BlY3RSYXRpbyxvcmlnaW5hbEVsZW1lbnQ6dGhpcy5lbGVtZW50LF9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzOltdLF9oZWxwZXI6aS5oZWxwZXJ8fGkuZ2hvc3R8fGkuYW5pbWF0ZT9pLmhlbHBlcnx8XCJ1aS1yZXNpemFibGUtaGVscGVyXCI6bnVsbH0pLHRoaXMuZWxlbWVudFswXS5ub2RlTmFtZS5tYXRjaCgvXihjYW52YXN8dGV4dGFyZWF8aW5wdXR8c2VsZWN0fGJ1dHRvbnxpbWcpJC9pKSYmKHRoaXMuZWxlbWVudC53cmFwKHQoXCI8ZGl2IGNsYXNzPSd1aS13cmFwcGVyJyBzdHlsZT0nb3ZlcmZsb3c6IGhpZGRlbjsnPjwvZGl2PlwiKS5jc3Moe3Bvc2l0aW9uOnRoaXMuZWxlbWVudC5jc3MoXCJwb3NpdGlvblwiKSx3aWR0aDp0aGlzLmVsZW1lbnQub3V0ZXJXaWR0aCgpLGhlaWdodDp0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKSx0b3A6dGhpcy5lbGVtZW50LmNzcyhcInRvcFwiKSxsZWZ0OnRoaXMuZWxlbWVudC5jc3MoXCJsZWZ0XCIpfSkpLHRoaXMuZWxlbWVudD10aGlzLmVsZW1lbnQucGFyZW50KCkuZGF0YShcInVpLXJlc2l6YWJsZVwiLHRoaXMuZWxlbWVudC5yZXNpemFibGUoXCJpbnN0YW5jZVwiKSksdGhpcy5lbGVtZW50SXNXcmFwcGVyPSEwLGU9e21hcmdpblRvcDp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoXCJtYXJnaW5Ub3BcIiksbWFyZ2luUmlnaHQ6dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKFwibWFyZ2luUmlnaHRcIiksbWFyZ2luQm90dG9tOnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyhcIm1hcmdpbkJvdHRvbVwiKSxtYXJnaW5MZWZ0OnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyhcIm1hcmdpbkxlZnRcIil9LHRoaXMuZWxlbWVudC5jc3MoZSksdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKFwibWFyZ2luXCIsMCksdGhpcy5vcmlnaW5hbFJlc2l6ZVN0eWxlPXRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyhcInJlc2l6ZVwiKSx0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoXCJyZXNpemVcIixcIm5vbmVcIiksdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5wdXNoKHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyh7cG9zaXRpb246XCJzdGF0aWNcIix6b29tOjEsZGlzcGxheTpcImJsb2NrXCJ9KSksdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKGUpLHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCkpLHRoaXMuX3NldHVwSGFuZGxlcygpLGkuYXV0b0hpZGUmJnQodGhpcy5lbGVtZW50KS5vbihcIm1vdXNlZW50ZXJcIixmdW5jdGlvbigpe2kuZGlzYWJsZWR8fChzLl9yZW1vdmVDbGFzcyhcInVpLXJlc2l6YWJsZS1hdXRvaGlkZVwiKSxzLl9oYW5kbGVzLnNob3coKSl9KS5vbihcIm1vdXNlbGVhdmVcIixmdW5jdGlvbigpe2kuZGlzYWJsZWR8fHMucmVzaXppbmd8fChzLl9hZGRDbGFzcyhcInVpLXJlc2l6YWJsZS1hdXRvaGlkZVwiKSxzLl9oYW5kbGVzLmhpZGUoKSl9KSx0aGlzLl9tb3VzZUluaXQoKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9tb3VzZURlc3Ryb3koKTt2YXIgZSxpPWZ1bmN0aW9uKGUpe3QoZSkucmVtb3ZlRGF0YShcInJlc2l6YWJsZVwiKS5yZW1vdmVEYXRhKFwidWktcmVzaXphYmxlXCIpLm9mZihcIi5yZXNpemFibGVcIikuZmluZChcIi51aS1yZXNpemFibGUtaGFuZGxlXCIpLnJlbW92ZSgpfTtyZXR1cm4gdGhpcy5lbGVtZW50SXNXcmFwcGVyJiYoaSh0aGlzLmVsZW1lbnQpLGU9dGhpcy5lbGVtZW50LHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyh7cG9zaXRpb246ZS5jc3MoXCJwb3NpdGlvblwiKSx3aWR0aDplLm91dGVyV2lkdGgoKSxoZWlnaHQ6ZS5vdXRlckhlaWdodCgpLHRvcDplLmNzcyhcInRvcFwiKSxsZWZ0OmUuY3NzKFwibGVmdFwiKX0pLmluc2VydEFmdGVyKGUpLGUucmVtb3ZlKCkpLHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyhcInJlc2l6ZVwiLHRoaXMub3JpZ2luYWxSZXNpemVTdHlsZSksaSh0aGlzLm9yaWdpbmFsRWxlbWVudCksdGhpc30sX3NldE9wdGlvbjpmdW5jdGlvbih0LGUpe3N3aXRjaCh0aGlzLl9zdXBlcih0LGUpLHQpe2Nhc2VcImhhbmRsZXNcIjp0aGlzLl9yZW1vdmVIYW5kbGVzKCksdGhpcy5fc2V0dXBIYW5kbGVzKCk7YnJlYWs7ZGVmYXVsdDp9fSxfc2V0dXBIYW5kbGVzOmZ1bmN0aW9uKCl7dmFyIGUsaSxzLG4sbyxhPXRoaXMub3B0aW9ucyxyPXRoaXM7aWYodGhpcy5oYW5kbGVzPWEuaGFuZGxlc3x8KHQoXCIudWktcmVzaXphYmxlLWhhbmRsZVwiLHRoaXMuZWxlbWVudCkubGVuZ3RoP3tuOlwiLnVpLXJlc2l6YWJsZS1uXCIsZTpcIi51aS1yZXNpemFibGUtZVwiLHM6XCIudWktcmVzaXphYmxlLXNcIix3OlwiLnVpLXJlc2l6YWJsZS13XCIsc2U6XCIudWktcmVzaXphYmxlLXNlXCIsc3c6XCIudWktcmVzaXphYmxlLXN3XCIsbmU6XCIudWktcmVzaXphYmxlLW5lXCIsbnc6XCIudWktcmVzaXphYmxlLW53XCJ9OlwiZSxzLHNlXCIpLHRoaXMuX2hhbmRsZXM9dCgpLHRoaXMuaGFuZGxlcy5jb25zdHJ1Y3Rvcj09PVN0cmluZylmb3IoXCJhbGxcIj09PXRoaXMuaGFuZGxlcyYmKHRoaXMuaGFuZGxlcz1cIm4sZSxzLHcsc2Usc3csbmUsbndcIikscz10aGlzLmhhbmRsZXMuc3BsaXQoXCIsXCIpLHRoaXMuaGFuZGxlcz17fSxpPTA7cy5sZW5ndGg+aTtpKyspZT10LnRyaW0oc1tpXSksbj1cInVpLXJlc2l6YWJsZS1cIitlLG89dChcIjxkaXY+XCIpLHRoaXMuX2FkZENsYXNzKG8sXCJ1aS1yZXNpemFibGUtaGFuZGxlIFwiK24pLG8uY3NzKHt6SW5kZXg6YS56SW5kZXh9KSx0aGlzLmhhbmRsZXNbZV09XCIudWktcmVzaXphYmxlLVwiK2UsdGhpcy5lbGVtZW50LmFwcGVuZChvKTt0aGlzLl9yZW5kZXJBeGlzPWZ1bmN0aW9uKGUpe3ZhciBpLHMsbixvO2U9ZXx8dGhpcy5lbGVtZW50O2ZvcihpIGluIHRoaXMuaGFuZGxlcyl0aGlzLmhhbmRsZXNbaV0uY29uc3RydWN0b3I9PT1TdHJpbmc/dGhpcy5oYW5kbGVzW2ldPXRoaXMuZWxlbWVudC5jaGlsZHJlbih0aGlzLmhhbmRsZXNbaV0pLmZpcnN0KCkuc2hvdygpOih0aGlzLmhhbmRsZXNbaV0uanF1ZXJ5fHx0aGlzLmhhbmRsZXNbaV0ubm9kZVR5cGUpJiYodGhpcy5oYW5kbGVzW2ldPXQodGhpcy5oYW5kbGVzW2ldKSx0aGlzLl9vbih0aGlzLmhhbmRsZXNbaV0se21vdXNlZG93bjpyLl9tb3VzZURvd259KSksdGhpcy5lbGVtZW50SXNXcmFwcGVyJiZ0aGlzLm9yaWdpbmFsRWxlbWVudFswXS5ub2RlTmFtZS5tYXRjaCgvXih0ZXh0YXJlYXxpbnB1dHxzZWxlY3R8YnV0dG9uKSQvaSkmJihzPXQodGhpcy5oYW5kbGVzW2ldLHRoaXMuZWxlbWVudCksbz0vc3d8bmV8bnd8c2V8bnxzLy50ZXN0KGkpP3Mub3V0ZXJIZWlnaHQoKTpzLm91dGVyV2lkdGgoKSxuPVtcInBhZGRpbmdcIiwvbmV8bnd8bi8udGVzdChpKT9cIlRvcFwiOi9zZXxzd3xzLy50ZXN0KGkpP1wiQm90dG9tXCI6L15lJC8udGVzdChpKT9cIlJpZ2h0XCI6XCJMZWZ0XCJdLmpvaW4oXCJcIiksZS5jc3MobixvKSx0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpKSx0aGlzLl9oYW5kbGVzPXRoaXMuX2hhbmRsZXMuYWRkKHRoaXMuaGFuZGxlc1tpXSl9LHRoaXMuX3JlbmRlckF4aXModGhpcy5lbGVtZW50KSx0aGlzLl9oYW5kbGVzPXRoaXMuX2hhbmRsZXMuYWRkKHRoaXMuZWxlbWVudC5maW5kKFwiLnVpLXJlc2l6YWJsZS1oYW5kbGVcIikpLHRoaXMuX2hhbmRsZXMuZGlzYWJsZVNlbGVjdGlvbigpLHRoaXMuX2hhbmRsZXMub24oXCJtb3VzZW92ZXJcIixmdW5jdGlvbigpe3IucmVzaXppbmd8fCh0aGlzLmNsYXNzTmFtZSYmKG89dGhpcy5jbGFzc05hbWUubWF0Y2goL3VpLXJlc2l6YWJsZS0oc2V8c3d8bmV8bnd8bnxlfHN8dykvaSkpLHIuYXhpcz1vJiZvWzFdP29bMV06XCJzZVwiKX0pLGEuYXV0b0hpZGUmJih0aGlzLl9oYW5kbGVzLmhpZGUoKSx0aGlzLl9hZGRDbGFzcyhcInVpLXJlc2l6YWJsZS1hdXRvaGlkZVwiKSl9LF9yZW1vdmVIYW5kbGVzOmZ1bmN0aW9uKCl7dGhpcy5faGFuZGxlcy5yZW1vdmUoKX0sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbihlKXt2YXIgaSxzLG49ITE7Zm9yKGkgaW4gdGhpcy5oYW5kbGVzKXM9dCh0aGlzLmhhbmRsZXNbaV0pWzBdLChzPT09ZS50YXJnZXR8fHQuY29udGFpbnMocyxlLnRhcmdldCkpJiYobj0hMCk7cmV0dXJuIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmbn0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24oZSl7dmFyIGkscyxuLG89dGhpcy5vcHRpb25zLGE9dGhpcy5lbGVtZW50O3JldHVybiB0aGlzLnJlc2l6aW5nPSEwLHRoaXMuX3JlbmRlclByb3h5KCksaT10aGlzLl9udW0odGhpcy5oZWxwZXIuY3NzKFwibGVmdFwiKSkscz10aGlzLl9udW0odGhpcy5oZWxwZXIuY3NzKFwidG9wXCIpKSxvLmNvbnRhaW5tZW50JiYoaSs9dChvLmNvbnRhaW5tZW50KS5zY3JvbGxMZWZ0KCl8fDAscys9dChvLmNvbnRhaW5tZW50KS5zY3JvbGxUb3AoKXx8MCksdGhpcy5vZmZzZXQ9dGhpcy5oZWxwZXIub2Zmc2V0KCksdGhpcy5wb3NpdGlvbj17bGVmdDppLHRvcDpzfSx0aGlzLnNpemU9dGhpcy5faGVscGVyP3t3aWR0aDp0aGlzLmhlbHBlci53aWR0aCgpLGhlaWdodDp0aGlzLmhlbHBlci5oZWlnaHQoKX06e3dpZHRoOmEud2lkdGgoKSxoZWlnaHQ6YS5oZWlnaHQoKX0sdGhpcy5vcmlnaW5hbFNpemU9dGhpcy5faGVscGVyP3t3aWR0aDphLm91dGVyV2lkdGgoKSxoZWlnaHQ6YS5vdXRlckhlaWdodCgpfTp7d2lkdGg6YS53aWR0aCgpLGhlaWdodDphLmhlaWdodCgpfSx0aGlzLnNpemVEaWZmPXt3aWR0aDphLm91dGVyV2lkdGgoKS1hLndpZHRoKCksaGVpZ2h0OmEub3V0ZXJIZWlnaHQoKS1hLmhlaWdodCgpfSx0aGlzLm9yaWdpbmFsUG9zaXRpb249e2xlZnQ6aSx0b3A6c30sdGhpcy5vcmlnaW5hbE1vdXNlUG9zaXRpb249e2xlZnQ6ZS5wYWdlWCx0b3A6ZS5wYWdlWX0sdGhpcy5hc3BlY3RSYXRpbz1cIm51bWJlclwiPT10eXBlb2Ygby5hc3BlY3RSYXRpbz9vLmFzcGVjdFJhdGlvOnRoaXMub3JpZ2luYWxTaXplLndpZHRoL3RoaXMub3JpZ2luYWxTaXplLmhlaWdodHx8MSxuPXQoXCIudWktcmVzaXphYmxlLVwiK3RoaXMuYXhpcykuY3NzKFwiY3Vyc29yXCIpLHQoXCJib2R5XCIpLmNzcyhcImN1cnNvclwiLFwiYXV0b1wiPT09bj90aGlzLmF4aXMrXCItcmVzaXplXCI6biksdGhpcy5fYWRkQ2xhc3MoXCJ1aS1yZXNpemFibGUtcmVzaXppbmdcIiksdGhpcy5fcHJvcGFnYXRlKFwic3RhcnRcIixlKSwhMH0sX21vdXNlRHJhZzpmdW5jdGlvbihlKXt2YXIgaSxzLG49dGhpcy5vcmlnaW5hbE1vdXNlUG9zaXRpb24sbz10aGlzLmF4aXMsYT1lLnBhZ2VYLW4ubGVmdHx8MCxyPWUucGFnZVktbi50b3B8fDAsaD10aGlzLl9jaGFuZ2Vbb107cmV0dXJuIHRoaXMuX3VwZGF0ZVByZXZQcm9wZXJ0aWVzKCksaD8oaT1oLmFwcGx5KHRoaXMsW2UsYSxyXSksdGhpcy5fdXBkYXRlVmlydHVhbEJvdW5kYXJpZXMoZS5zaGlmdEtleSksKHRoaXMuX2FzcGVjdFJhdGlvfHxlLnNoaWZ0S2V5KSYmKGk9dGhpcy5fdXBkYXRlUmF0aW8oaSxlKSksaT10aGlzLl9yZXNwZWN0U2l6ZShpLGUpLHRoaXMuX3VwZGF0ZUNhY2hlKGkpLHRoaXMuX3Byb3BhZ2F0ZShcInJlc2l6ZVwiLGUpLHM9dGhpcy5fYXBwbHlDaGFuZ2VzKCksIXRoaXMuX2hlbHBlciYmdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5sZW5ndGgmJnRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCksdC5pc0VtcHR5T2JqZWN0KHMpfHwodGhpcy5fdXBkYXRlUHJldlByb3BlcnRpZXMoKSx0aGlzLl90cmlnZ2VyKFwicmVzaXplXCIsZSx0aGlzLnVpKCkpLHRoaXMuX2FwcGx5Q2hhbmdlcygpKSwhMSk6ITF9LF9tb3VzZVN0b3A6ZnVuY3Rpb24oZSl7dGhpcy5yZXNpemluZz0hMTt2YXIgaSxzLG4sbyxhLHIsaCxsPXRoaXMub3B0aW9ucyxjPXRoaXM7cmV0dXJuIHRoaXMuX2hlbHBlciYmKGk9dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cyxzPWkubGVuZ3RoJiYvdGV4dGFyZWEvaS50ZXN0KGlbMF0ubm9kZU5hbWUpLG49cyYmdGhpcy5faGFzU2Nyb2xsKGlbMF0sXCJsZWZ0XCIpPzA6Yy5zaXplRGlmZi5oZWlnaHQsbz1zPzA6Yy5zaXplRGlmZi53aWR0aCxhPXt3aWR0aDpjLmhlbHBlci53aWR0aCgpLW8saGVpZ2h0OmMuaGVscGVyLmhlaWdodCgpLW59LHI9cGFyc2VGbG9hdChjLmVsZW1lbnQuY3NzKFwibGVmdFwiKSkrKGMucG9zaXRpb24ubGVmdC1jLm9yaWdpbmFsUG9zaXRpb24ubGVmdCl8fG51bGwsaD1wYXJzZUZsb2F0KGMuZWxlbWVudC5jc3MoXCJ0b3BcIikpKyhjLnBvc2l0aW9uLnRvcC1jLm9yaWdpbmFsUG9zaXRpb24udG9wKXx8bnVsbCxsLmFuaW1hdGV8fHRoaXMuZWxlbWVudC5jc3ModC5leHRlbmQoYSx7dG9wOmgsbGVmdDpyfSkpLGMuaGVscGVyLmhlaWdodChjLnNpemUuaGVpZ2h0KSxjLmhlbHBlci53aWR0aChjLnNpemUud2lkdGgpLHRoaXMuX2hlbHBlciYmIWwuYW5pbWF0ZSYmdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKSksdChcImJvZHlcIikuY3NzKFwiY3Vyc29yXCIsXCJhdXRvXCIpLHRoaXMuX3JlbW92ZUNsYXNzKFwidWktcmVzaXphYmxlLXJlc2l6aW5nXCIpLHRoaXMuX3Byb3BhZ2F0ZShcInN0b3BcIixlKSx0aGlzLl9oZWxwZXImJnRoaXMuaGVscGVyLnJlbW92ZSgpLCExfSxfdXBkYXRlUHJldlByb3BlcnRpZXM6ZnVuY3Rpb24oKXt0aGlzLnByZXZQb3NpdGlvbj17dG9wOnRoaXMucG9zaXRpb24udG9wLGxlZnQ6dGhpcy5wb3NpdGlvbi5sZWZ0fSx0aGlzLnByZXZTaXplPXt3aWR0aDp0aGlzLnNpemUud2lkdGgsaGVpZ2h0OnRoaXMuc2l6ZS5oZWlnaHR9fSxfYXBwbHlDaGFuZ2VzOmZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIHRoaXMucG9zaXRpb24udG9wIT09dGhpcy5wcmV2UG9zaXRpb24udG9wJiYodC50b3A9dGhpcy5wb3NpdGlvbi50b3ArXCJweFwiKSx0aGlzLnBvc2l0aW9uLmxlZnQhPT10aGlzLnByZXZQb3NpdGlvbi5sZWZ0JiYodC5sZWZ0PXRoaXMucG9zaXRpb24ubGVmdCtcInB4XCIpLHRoaXMuc2l6ZS53aWR0aCE9PXRoaXMucHJldlNpemUud2lkdGgmJih0LndpZHRoPXRoaXMuc2l6ZS53aWR0aCtcInB4XCIpLHRoaXMuc2l6ZS5oZWlnaHQhPT10aGlzLnByZXZTaXplLmhlaWdodCYmKHQuaGVpZ2h0PXRoaXMuc2l6ZS5oZWlnaHQrXCJweFwiKSx0aGlzLmhlbHBlci5jc3ModCksdH0sX3VwZGF0ZVZpcnR1YWxCb3VuZGFyaWVzOmZ1bmN0aW9uKHQpe3ZhciBlLGkscyxuLG8sYT10aGlzLm9wdGlvbnM7bz17bWluV2lkdGg6dGhpcy5faXNOdW1iZXIoYS5taW5XaWR0aCk/YS5taW5XaWR0aDowLG1heFdpZHRoOnRoaXMuX2lzTnVtYmVyKGEubWF4V2lkdGgpP2EubWF4V2lkdGg6MS8wLG1pbkhlaWdodDp0aGlzLl9pc051bWJlcihhLm1pbkhlaWdodCk/YS5taW5IZWlnaHQ6MCxtYXhIZWlnaHQ6dGhpcy5faXNOdW1iZXIoYS5tYXhIZWlnaHQpP2EubWF4SGVpZ2h0OjEvMH0sKHRoaXMuX2FzcGVjdFJhdGlvfHx0KSYmKGU9by5taW5IZWlnaHQqdGhpcy5hc3BlY3RSYXRpbyxzPW8ubWluV2lkdGgvdGhpcy5hc3BlY3RSYXRpbyxpPW8ubWF4SGVpZ2h0KnRoaXMuYXNwZWN0UmF0aW8sbj1vLm1heFdpZHRoL3RoaXMuYXNwZWN0UmF0aW8sZT5vLm1pbldpZHRoJiYoby5taW5XaWR0aD1lKSxzPm8ubWluSGVpZ2h0JiYoby5taW5IZWlnaHQ9cyksby5tYXhXaWR0aD5pJiYoby5tYXhXaWR0aD1pKSxvLm1heEhlaWdodD5uJiYoby5tYXhIZWlnaHQ9bikpLHRoaXMuX3ZCb3VuZGFyaWVzPW99LF91cGRhdGVDYWNoZTpmdW5jdGlvbih0KXt0aGlzLm9mZnNldD10aGlzLmhlbHBlci5vZmZzZXQoKSx0aGlzLl9pc051bWJlcih0LmxlZnQpJiYodGhpcy5wb3NpdGlvbi5sZWZ0PXQubGVmdCksdGhpcy5faXNOdW1iZXIodC50b3ApJiYodGhpcy5wb3NpdGlvbi50b3A9dC50b3ApLHRoaXMuX2lzTnVtYmVyKHQuaGVpZ2h0KSYmKHRoaXMuc2l6ZS5oZWlnaHQ9dC5oZWlnaHQpLHRoaXMuX2lzTnVtYmVyKHQud2lkdGgpJiYodGhpcy5zaXplLndpZHRoPXQud2lkdGgpfSxfdXBkYXRlUmF0aW86ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wb3NpdGlvbixpPXRoaXMuc2l6ZSxzPXRoaXMuYXhpcztyZXR1cm4gdGhpcy5faXNOdW1iZXIodC5oZWlnaHQpP3Qud2lkdGg9dC5oZWlnaHQqdGhpcy5hc3BlY3RSYXRpbzp0aGlzLl9pc051bWJlcih0LndpZHRoKSYmKHQuaGVpZ2h0PXQud2lkdGgvdGhpcy5hc3BlY3RSYXRpbyksXCJzd1wiPT09cyYmKHQubGVmdD1lLmxlZnQrKGkud2lkdGgtdC53aWR0aCksdC50b3A9bnVsbCksXCJud1wiPT09cyYmKHQudG9wPWUudG9wKyhpLmhlaWdodC10LmhlaWdodCksdC5sZWZ0PWUubGVmdCsoaS53aWR0aC10LndpZHRoKSksdH0sX3Jlc3BlY3RTaXplOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3ZCb3VuZGFyaWVzLGk9dGhpcy5heGlzLHM9dGhpcy5faXNOdW1iZXIodC53aWR0aCkmJmUubWF4V2lkdGgmJmUubWF4V2lkdGg8dC53aWR0aCxuPXRoaXMuX2lzTnVtYmVyKHQuaGVpZ2h0KSYmZS5tYXhIZWlnaHQmJmUubWF4SGVpZ2h0PHQuaGVpZ2h0LG89dGhpcy5faXNOdW1iZXIodC53aWR0aCkmJmUubWluV2lkdGgmJmUubWluV2lkdGg+dC53aWR0aCxhPXRoaXMuX2lzTnVtYmVyKHQuaGVpZ2h0KSYmZS5taW5IZWlnaHQmJmUubWluSGVpZ2h0PnQuaGVpZ2h0LHI9dGhpcy5vcmlnaW5hbFBvc2l0aW9uLmxlZnQrdGhpcy5vcmlnaW5hbFNpemUud2lkdGgsaD10aGlzLm9yaWdpbmFsUG9zaXRpb24udG9wK3RoaXMub3JpZ2luYWxTaXplLmhlaWdodCxsPS9zd3xud3x3Ly50ZXN0KGkpLGM9L253fG5lfG4vLnRlc3QoaSk7cmV0dXJuIG8mJih0LndpZHRoPWUubWluV2lkdGgpLGEmJih0LmhlaWdodD1lLm1pbkhlaWdodCkscyYmKHQud2lkdGg9ZS5tYXhXaWR0aCksbiYmKHQuaGVpZ2h0PWUubWF4SGVpZ2h0KSxvJiZsJiYodC5sZWZ0PXItZS5taW5XaWR0aCkscyYmbCYmKHQubGVmdD1yLWUubWF4V2lkdGgpLGEmJmMmJih0LnRvcD1oLWUubWluSGVpZ2h0KSxuJiZjJiYodC50b3A9aC1lLm1heEhlaWdodCksdC53aWR0aHx8dC5oZWlnaHR8fHQubGVmdHx8IXQudG9wP3Qud2lkdGh8fHQuaGVpZ2h0fHx0LnRvcHx8IXQubGVmdHx8KHQubGVmdD1udWxsKTp0LnRvcD1udWxsLHR9LF9nZXRQYWRkaW5nUGx1c0JvcmRlckRpbWVuc2lvbnM6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsaT1bXSxzPVt0LmNzcyhcImJvcmRlclRvcFdpZHRoXCIpLHQuY3NzKFwiYm9yZGVyUmlnaHRXaWR0aFwiKSx0LmNzcyhcImJvcmRlckJvdHRvbVdpZHRoXCIpLHQuY3NzKFwiYm9yZGVyTGVmdFdpZHRoXCIpXSxuPVt0LmNzcyhcInBhZGRpbmdUb3BcIiksdC5jc3MoXCJwYWRkaW5nUmlnaHRcIiksdC5jc3MoXCJwYWRkaW5nQm90dG9tXCIpLHQuY3NzKFwicGFkZGluZ0xlZnRcIildOzQ+ZTtlKyspaVtlXT1wYXJzZUZsb2F0KHNbZV0pfHwwLGlbZV0rPXBhcnNlRmxvYXQobltlXSl8fDA7cmV0dXJue2hlaWdodDppWzBdK2lbMl0sd2lkdGg6aVsxXStpWzNdfX0sX3Byb3BvcnRpb25hbGx5UmVzaXplOmZ1bmN0aW9uKCl7aWYodGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5sZW5ndGgpZm9yKHZhciB0LGU9MCxpPXRoaXMuaGVscGVyfHx0aGlzLmVsZW1lbnQ7dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5sZW5ndGg+ZTtlKyspdD10aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzW2VdLHRoaXMub3V0ZXJEaW1lbnNpb25zfHwodGhpcy5vdXRlckRpbWVuc2lvbnM9dGhpcy5fZ2V0UGFkZGluZ1BsdXNCb3JkZXJEaW1lbnNpb25zKHQpKSx0LmNzcyh7aGVpZ2h0OmkuaGVpZ2h0KCktdGhpcy5vdXRlckRpbWVuc2lvbnMuaGVpZ2h0fHwwLHdpZHRoOmkud2lkdGgoKS10aGlzLm91dGVyRGltZW5zaW9ucy53aWR0aHx8MH0pfSxfcmVuZGVyUHJveHk6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnQsaT10aGlzLm9wdGlvbnM7dGhpcy5lbGVtZW50T2Zmc2V0PWUub2Zmc2V0KCksdGhpcy5faGVscGVyPyh0aGlzLmhlbHBlcj10aGlzLmhlbHBlcnx8dChcIjxkaXYgc3R5bGU9J292ZXJmbG93OmhpZGRlbjsnPjwvZGl2PlwiKSx0aGlzLl9hZGRDbGFzcyh0aGlzLmhlbHBlcix0aGlzLl9oZWxwZXIpLHRoaXMuaGVscGVyLmNzcyh7d2lkdGg6dGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCkscG9zaXRpb246XCJhYnNvbHV0ZVwiLGxlZnQ6dGhpcy5lbGVtZW50T2Zmc2V0LmxlZnQrXCJweFwiLHRvcDp0aGlzLmVsZW1lbnRPZmZzZXQudG9wK1wicHhcIix6SW5kZXg6KytpLnpJbmRleH0pLHRoaXMuaGVscGVyLmFwcGVuZFRvKFwiYm9keVwiKS5kaXNhYmxlU2VsZWN0aW9uKCkpOnRoaXMuaGVscGVyPXRoaXMuZWxlbWVudH0sX2NoYW5nZTp7ZTpmdW5jdGlvbih0LGUpe3JldHVybnt3aWR0aDp0aGlzLm9yaWdpbmFsU2l6ZS53aWR0aCtlfX0sdzpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMub3JpZ2luYWxTaXplLHM9dGhpcy5vcmlnaW5hbFBvc2l0aW9uO3JldHVybntsZWZ0OnMubGVmdCtlLHdpZHRoOmkud2lkdGgtZX19LG46ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXRoaXMub3JpZ2luYWxTaXplLG49dGhpcy5vcmlnaW5hbFBvc2l0aW9uO3JldHVybnt0b3A6bi50b3AraSxoZWlnaHQ6cy5oZWlnaHQtaX19LHM6ZnVuY3Rpb24odCxlLGkpe3JldHVybntoZWlnaHQ6dGhpcy5vcmlnaW5hbFNpemUuaGVpZ2h0K2l9fSxzZTpmdW5jdGlvbihlLGkscyl7cmV0dXJuIHQuZXh0ZW5kKHRoaXMuX2NoYW5nZS5zLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9jaGFuZ2UuZS5hcHBseSh0aGlzLFtlLGksc10pKX0sc3c6ZnVuY3Rpb24oZSxpLHMpe3JldHVybiB0LmV4dGVuZCh0aGlzLl9jaGFuZ2Uucy5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fY2hhbmdlLncuYXBwbHkodGhpcyxbZSxpLHNdKSl9LG5lOmZ1bmN0aW9uKGUsaSxzKXtyZXR1cm4gdC5leHRlbmQodGhpcy5fY2hhbmdlLm4uYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2NoYW5nZS5lLmFwcGx5KHRoaXMsW2UsaSxzXSkpfSxudzpmdW5jdGlvbihlLGkscyl7cmV0dXJuIHQuZXh0ZW5kKHRoaXMuX2NoYW5nZS5uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9jaGFuZ2Uudy5hcHBseSh0aGlzLFtlLGksc10pKX19LF9wcm9wYWdhdGU6ZnVuY3Rpb24oZSxpKXt0LnVpLnBsdWdpbi5jYWxsKHRoaXMsZSxbaSx0aGlzLnVpKCldKSxcInJlc2l6ZVwiIT09ZSYmdGhpcy5fdHJpZ2dlcihlLGksdGhpcy51aSgpKX0scGx1Z2luczp7fSx1aTpmdW5jdGlvbigpe3JldHVybntvcmlnaW5hbEVsZW1lbnQ6dGhpcy5vcmlnaW5hbEVsZW1lbnQsZWxlbWVudDp0aGlzLmVsZW1lbnQsaGVscGVyOnRoaXMuaGVscGVyLHBvc2l0aW9uOnRoaXMucG9zaXRpb24sc2l6ZTp0aGlzLnNpemUsb3JpZ2luYWxTaXplOnRoaXMub3JpZ2luYWxTaXplLG9yaWdpbmFsUG9zaXRpb246dGhpcy5vcmlnaW5hbFBvc2l0aW9ufX19KSx0LnVpLnBsdWdpbi5hZGQoXCJyZXNpemFibGVcIixcImFuaW1hdGVcIix7c3RvcDpmdW5jdGlvbihlKXt2YXIgaT10KHRoaXMpLnJlc2l6YWJsZShcImluc3RhbmNlXCIpLHM9aS5vcHRpb25zLG49aS5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cyxvPW4ubGVuZ3RoJiYvdGV4dGFyZWEvaS50ZXN0KG5bMF0ubm9kZU5hbWUpLGE9byYmaS5faGFzU2Nyb2xsKG5bMF0sXCJsZWZ0XCIpPzA6aS5zaXplRGlmZi5oZWlnaHQscj1vPzA6aS5zaXplRGlmZi53aWR0aCxoPXt3aWR0aDppLnNpemUud2lkdGgtcixoZWlnaHQ6aS5zaXplLmhlaWdodC1hfSxsPXBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcyhcImxlZnRcIikpKyhpLnBvc2l0aW9uLmxlZnQtaS5vcmlnaW5hbFBvc2l0aW9uLmxlZnQpfHxudWxsLGM9cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKFwidG9wXCIpKSsoaS5wb3NpdGlvbi50b3AtaS5vcmlnaW5hbFBvc2l0aW9uLnRvcCl8fG51bGw7aS5lbGVtZW50LmFuaW1hdGUodC5leHRlbmQoaCxjJiZsP3t0b3A6YyxsZWZ0Omx9Ont9KSx7ZHVyYXRpb246cy5hbmltYXRlRHVyYXRpb24sZWFzaW5nOnMuYW5pbWF0ZUVhc2luZyxzdGVwOmZ1bmN0aW9uKCl7dmFyIHM9e3dpZHRoOnBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcyhcIndpZHRoXCIpKSxoZWlnaHQ6cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKFwiaGVpZ2h0XCIpKSx0b3A6cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKFwidG9wXCIpKSxsZWZ0OnBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcyhcImxlZnRcIikpfTtuJiZuLmxlbmd0aCYmdChuWzBdKS5jc3Moe3dpZHRoOnMud2lkdGgsaGVpZ2h0OnMuaGVpZ2h0fSksaS5fdXBkYXRlQ2FjaGUocyksaS5fcHJvcGFnYXRlKFwicmVzaXplXCIsZSl9fSl9fSksdC51aS5wbHVnaW4uYWRkKFwicmVzaXphYmxlXCIsXCJjb250YWlubWVudFwiLHtzdGFydDpmdW5jdGlvbigpe3ZhciBlLGkscyxuLG8sYSxyLGg9dCh0aGlzKS5yZXNpemFibGUoXCJpbnN0YW5jZVwiKSxsPWgub3B0aW9ucyxjPWguZWxlbWVudCx1PWwuY29udGFpbm1lbnQsZD11IGluc3RhbmNlb2YgdD91LmdldCgwKTovcGFyZW50Ly50ZXN0KHUpP2MucGFyZW50KCkuZ2V0KDApOnU7ZCYmKGguY29udGFpbmVyRWxlbWVudD10KGQpLC9kb2N1bWVudC8udGVzdCh1KXx8dT09PWRvY3VtZW50PyhoLmNvbnRhaW5lck9mZnNldD17bGVmdDowLHRvcDowfSxoLmNvbnRhaW5lclBvc2l0aW9uPXtsZWZ0OjAsdG9wOjB9LGgucGFyZW50RGF0YT17ZWxlbWVudDp0KGRvY3VtZW50KSxsZWZ0OjAsdG9wOjAsd2lkdGg6dChkb2N1bWVudCkud2lkdGgoKSxoZWlnaHQ6dChkb2N1bWVudCkuaGVpZ2h0KCl8fGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHR9KTooZT10KGQpLGk9W10sdChbXCJUb3BcIixcIlJpZ2h0XCIsXCJMZWZ0XCIsXCJCb3R0b21cIl0pLmVhY2goZnVuY3Rpb24odCxzKXtpW3RdPWguX251bShlLmNzcyhcInBhZGRpbmdcIitzKSl9KSxoLmNvbnRhaW5lck9mZnNldD1lLm9mZnNldCgpLGguY29udGFpbmVyUG9zaXRpb249ZS5wb3NpdGlvbigpLGguY29udGFpbmVyU2l6ZT17aGVpZ2h0OmUuaW5uZXJIZWlnaHQoKS1pWzNdLHdpZHRoOmUuaW5uZXJXaWR0aCgpLWlbMV19LHM9aC5jb250YWluZXJPZmZzZXQsbj1oLmNvbnRhaW5lclNpemUuaGVpZ2h0LG89aC5jb250YWluZXJTaXplLndpZHRoLGE9aC5faGFzU2Nyb2xsKGQsXCJsZWZ0XCIpP2Quc2Nyb2xsV2lkdGg6byxyPWguX2hhc1Njcm9sbChkKT9kLnNjcm9sbEhlaWdodDpuLGgucGFyZW50RGF0YT17ZWxlbWVudDpkLGxlZnQ6cy5sZWZ0LHRvcDpzLnRvcCx3aWR0aDphLGhlaWdodDpyfSkpfSxyZXNpemU6ZnVuY3Rpb24oZSl7dmFyIGkscyxuLG8sYT10KHRoaXMpLnJlc2l6YWJsZShcImluc3RhbmNlXCIpLHI9YS5vcHRpb25zLGg9YS5jb250YWluZXJPZmZzZXQsbD1hLnBvc2l0aW9uLGM9YS5fYXNwZWN0UmF0aW98fGUuc2hpZnRLZXksdT17dG9wOjAsbGVmdDowfSxkPWEuY29udGFpbmVyRWxlbWVudCxwPSEwO2RbMF0hPT1kb2N1bWVudCYmL3N0YXRpYy8udGVzdChkLmNzcyhcInBvc2l0aW9uXCIpKSYmKHU9aCksbC5sZWZ0PChhLl9oZWxwZXI/aC5sZWZ0OjApJiYoYS5zaXplLndpZHRoPWEuc2l6ZS53aWR0aCsoYS5faGVscGVyP2EucG9zaXRpb24ubGVmdC1oLmxlZnQ6YS5wb3NpdGlvbi5sZWZ0LXUubGVmdCksYyYmKGEuc2l6ZS5oZWlnaHQ9YS5zaXplLndpZHRoL2EuYXNwZWN0UmF0aW8scD0hMSksYS5wb3NpdGlvbi5sZWZ0PXIuaGVscGVyP2gubGVmdDowKSxsLnRvcDwoYS5faGVscGVyP2gudG9wOjApJiYoYS5zaXplLmhlaWdodD1hLnNpemUuaGVpZ2h0KyhhLl9oZWxwZXI/YS5wb3NpdGlvbi50b3AtaC50b3A6YS5wb3NpdGlvbi50b3ApLGMmJihhLnNpemUud2lkdGg9YS5zaXplLmhlaWdodCphLmFzcGVjdFJhdGlvLHA9ITEpLGEucG9zaXRpb24udG9wPWEuX2hlbHBlcj9oLnRvcDowKSxuPWEuY29udGFpbmVyRWxlbWVudC5nZXQoMCk9PT1hLmVsZW1lbnQucGFyZW50KCkuZ2V0KDApLG89L3JlbGF0aXZlfGFic29sdXRlLy50ZXN0KGEuY29udGFpbmVyRWxlbWVudC5jc3MoXCJwb3NpdGlvblwiKSksbiYmbz8oYS5vZmZzZXQubGVmdD1hLnBhcmVudERhdGEubGVmdCthLnBvc2l0aW9uLmxlZnQsYS5vZmZzZXQudG9wPWEucGFyZW50RGF0YS50b3ArYS5wb3NpdGlvbi50b3ApOihhLm9mZnNldC5sZWZ0PWEuZWxlbWVudC5vZmZzZXQoKS5sZWZ0LGEub2Zmc2V0LnRvcD1hLmVsZW1lbnQub2Zmc2V0KCkudG9wKSxpPU1hdGguYWJzKGEuc2l6ZURpZmYud2lkdGgrKGEuX2hlbHBlcj9hLm9mZnNldC5sZWZ0LXUubGVmdDphLm9mZnNldC5sZWZ0LWgubGVmdCkpLHM9TWF0aC5hYnMoYS5zaXplRGlmZi5oZWlnaHQrKGEuX2hlbHBlcj9hLm9mZnNldC50b3AtdS50b3A6YS5vZmZzZXQudG9wLWgudG9wKSksaSthLnNpemUud2lkdGg+PWEucGFyZW50RGF0YS53aWR0aCYmKGEuc2l6ZS53aWR0aD1hLnBhcmVudERhdGEud2lkdGgtaSxjJiYoYS5zaXplLmhlaWdodD1hLnNpemUud2lkdGgvYS5hc3BlY3RSYXRpbyxwPSExKSkscythLnNpemUuaGVpZ2h0Pj1hLnBhcmVudERhdGEuaGVpZ2h0JiYoYS5zaXplLmhlaWdodD1hLnBhcmVudERhdGEuaGVpZ2h0LXMsYyYmKGEuc2l6ZS53aWR0aD1hLnNpemUuaGVpZ2h0KmEuYXNwZWN0UmF0aW8scD0hMSkpLHB8fChhLnBvc2l0aW9uLmxlZnQ9YS5wcmV2UG9zaXRpb24ubGVmdCxhLnBvc2l0aW9uLnRvcD1hLnByZXZQb3NpdGlvbi50b3AsYS5zaXplLndpZHRoPWEucHJldlNpemUud2lkdGgsYS5zaXplLmhlaWdodD1hLnByZXZTaXplLmhlaWdodCl9LHN0b3A6ZnVuY3Rpb24oKXt2YXIgZT10KHRoaXMpLnJlc2l6YWJsZShcImluc3RhbmNlXCIpLGk9ZS5vcHRpb25zLHM9ZS5jb250YWluZXJPZmZzZXQsbj1lLmNvbnRhaW5lclBvc2l0aW9uLG89ZS5jb250YWluZXJFbGVtZW50LGE9dChlLmhlbHBlcikscj1hLm9mZnNldCgpLGg9YS5vdXRlcldpZHRoKCktZS5zaXplRGlmZi53aWR0aCxsPWEub3V0ZXJIZWlnaHQoKS1lLnNpemVEaWZmLmhlaWdodDtlLl9oZWxwZXImJiFpLmFuaW1hdGUmJi9yZWxhdGl2ZS8udGVzdChvLmNzcyhcInBvc2l0aW9uXCIpKSYmdCh0aGlzKS5jc3Moe2xlZnQ6ci5sZWZ0LW4ubGVmdC1zLmxlZnQsd2lkdGg6aCxoZWlnaHQ6bH0pLGUuX2hlbHBlciYmIWkuYW5pbWF0ZSYmL3N0YXRpYy8udGVzdChvLmNzcyhcInBvc2l0aW9uXCIpKSYmdCh0aGlzKS5jc3Moe2xlZnQ6ci5sZWZ0LW4ubGVmdC1zLmxlZnQsd2lkdGg6aCxoZWlnaHQ6bH0pfX0pLHQudWkucGx1Z2luLmFkZChcInJlc2l6YWJsZVwiLFwiYWxzb1Jlc2l6ZVwiLHtzdGFydDpmdW5jdGlvbigpe3ZhciBlPXQodGhpcykucmVzaXphYmxlKFwiaW5zdGFuY2VcIiksaT1lLm9wdGlvbnM7dChpLmFsc29SZXNpemUpLmVhY2goZnVuY3Rpb24oKXt2YXIgZT10KHRoaXMpO2UuZGF0YShcInVpLXJlc2l6YWJsZS1hbHNvcmVzaXplXCIse3dpZHRoOnBhcnNlRmxvYXQoZS53aWR0aCgpKSxoZWlnaHQ6cGFyc2VGbG9hdChlLmhlaWdodCgpKSxsZWZ0OnBhcnNlRmxvYXQoZS5jc3MoXCJsZWZ0XCIpKSx0b3A6cGFyc2VGbG9hdChlLmNzcyhcInRvcFwiKSl9KX0pfSxyZXNpemU6ZnVuY3Rpb24oZSxpKXt2YXIgcz10KHRoaXMpLnJlc2l6YWJsZShcImluc3RhbmNlXCIpLG49cy5vcHRpb25zLG89cy5vcmlnaW5hbFNpemUsYT1zLm9yaWdpbmFsUG9zaXRpb24scj17aGVpZ2h0OnMuc2l6ZS5oZWlnaHQtby5oZWlnaHR8fDAsd2lkdGg6cy5zaXplLndpZHRoLW8ud2lkdGh8fDAsdG9wOnMucG9zaXRpb24udG9wLWEudG9wfHwwLGxlZnQ6cy5wb3NpdGlvbi5sZWZ0LWEubGVmdHx8MH07XHJcbnQobi5hbHNvUmVzaXplKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dCh0aGlzKSxzPXQodGhpcykuZGF0YShcInVpLXJlc2l6YWJsZS1hbHNvcmVzaXplXCIpLG49e30sbz1lLnBhcmVudHMoaS5vcmlnaW5hbEVsZW1lbnRbMF0pLmxlbmd0aD9bXCJ3aWR0aFwiLFwiaGVpZ2h0XCJdOltcIndpZHRoXCIsXCJoZWlnaHRcIixcInRvcFwiLFwibGVmdFwiXTt0LmVhY2gobyxmdW5jdGlvbih0LGUpe3ZhciBpPShzW2VdfHwwKSsocltlXXx8MCk7aSYmaT49MCYmKG5bZV09aXx8bnVsbCl9KSxlLmNzcyhuKX0pfSxzdG9wOmZ1bmN0aW9uKCl7dCh0aGlzKS5yZW1vdmVEYXRhKFwidWktcmVzaXphYmxlLWFsc29yZXNpemVcIil9fSksdC51aS5wbHVnaW4uYWRkKFwicmVzaXphYmxlXCIsXCJnaG9zdFwiLHtzdGFydDpmdW5jdGlvbigpe3ZhciBlPXQodGhpcykucmVzaXphYmxlKFwiaW5zdGFuY2VcIiksaT1lLnNpemU7ZS5naG9zdD1lLm9yaWdpbmFsRWxlbWVudC5jbG9uZSgpLGUuZ2hvc3QuY3NzKHtvcGFjaXR5Oi4yNSxkaXNwbGF5OlwiYmxvY2tcIixwb3NpdGlvbjpcInJlbGF0aXZlXCIsaGVpZ2h0OmkuaGVpZ2h0LHdpZHRoOmkud2lkdGgsbWFyZ2luOjAsbGVmdDowLHRvcDowfSksZS5fYWRkQ2xhc3MoZS5naG9zdCxcInVpLXJlc2l6YWJsZS1naG9zdFwiKSx0LnVpQmFja0NvbXBhdCE9PSExJiZcInN0cmluZ1wiPT10eXBlb2YgZS5vcHRpb25zLmdob3N0JiZlLmdob3N0LmFkZENsYXNzKHRoaXMub3B0aW9ucy5naG9zdCksZS5naG9zdC5hcHBlbmRUbyhlLmhlbHBlcil9LHJlc2l6ZTpmdW5jdGlvbigpe3ZhciBlPXQodGhpcykucmVzaXphYmxlKFwiaW5zdGFuY2VcIik7ZS5naG9zdCYmZS5naG9zdC5jc3Moe3Bvc2l0aW9uOlwicmVsYXRpdmVcIixoZWlnaHQ6ZS5zaXplLmhlaWdodCx3aWR0aDplLnNpemUud2lkdGh9KX0sc3RvcDpmdW5jdGlvbigpe3ZhciBlPXQodGhpcykucmVzaXphYmxlKFwiaW5zdGFuY2VcIik7ZS5naG9zdCYmZS5oZWxwZXImJmUuaGVscGVyLmdldCgwKS5yZW1vdmVDaGlsZChlLmdob3N0LmdldCgwKSl9fSksdC51aS5wbHVnaW4uYWRkKFwicmVzaXphYmxlXCIsXCJncmlkXCIse3Jlc2l6ZTpmdW5jdGlvbigpe3ZhciBlLGk9dCh0aGlzKS5yZXNpemFibGUoXCJpbnN0YW5jZVwiKSxzPWkub3B0aW9ucyxuPWkuc2l6ZSxvPWkub3JpZ2luYWxTaXplLGE9aS5vcmlnaW5hbFBvc2l0aW9uLHI9aS5heGlzLGg9XCJudW1iZXJcIj09dHlwZW9mIHMuZ3JpZD9bcy5ncmlkLHMuZ3JpZF06cy5ncmlkLGw9aFswXXx8MSxjPWhbMV18fDEsdT1NYXRoLnJvdW5kKChuLndpZHRoLW8ud2lkdGgpL2wpKmwsZD1NYXRoLnJvdW5kKChuLmhlaWdodC1vLmhlaWdodCkvYykqYyxwPW8ud2lkdGgrdSxmPW8uaGVpZ2h0K2QsZz1zLm1heFdpZHRoJiZwPnMubWF4V2lkdGgsbT1zLm1heEhlaWdodCYmZj5zLm1heEhlaWdodCxfPXMubWluV2lkdGgmJnMubWluV2lkdGg+cCx2PXMubWluSGVpZ2h0JiZzLm1pbkhlaWdodD5mO3MuZ3JpZD1oLF8mJihwKz1sKSx2JiYoZis9YyksZyYmKHAtPWwpLG0mJihmLT1jKSwvXihzZXxzfGUpJC8udGVzdChyKT8oaS5zaXplLndpZHRoPXAsaS5zaXplLmhlaWdodD1mKTovXihuZSkkLy50ZXN0KHIpPyhpLnNpemUud2lkdGg9cCxpLnNpemUuaGVpZ2h0PWYsaS5wb3NpdGlvbi50b3A9YS50b3AtZCk6L14oc3cpJC8udGVzdChyKT8oaS5zaXplLndpZHRoPXAsaS5zaXplLmhlaWdodD1mLGkucG9zaXRpb24ubGVmdD1hLmxlZnQtdSk6KCgwPj1mLWN8fDA+PXAtbCkmJihlPWkuX2dldFBhZGRpbmdQbHVzQm9yZGVyRGltZW5zaW9ucyh0aGlzKSksZi1jPjA/KGkuc2l6ZS5oZWlnaHQ9ZixpLnBvc2l0aW9uLnRvcD1hLnRvcC1kKTooZj1jLWUuaGVpZ2h0LGkuc2l6ZS5oZWlnaHQ9ZixpLnBvc2l0aW9uLnRvcD1hLnRvcCtvLmhlaWdodC1mKSxwLWw+MD8oaS5zaXplLndpZHRoPXAsaS5wb3NpdGlvbi5sZWZ0PWEubGVmdC11KToocD1sLWUud2lkdGgsaS5zaXplLndpZHRoPXAsaS5wb3NpdGlvbi5sZWZ0PWEubGVmdCtvLndpZHRoLXApKX19KSx0LnVpLnJlc2l6YWJsZSx0LndpZGdldChcInVpLnNlbGVjdGFibGVcIix0LnVpLm1vdXNlLHt2ZXJzaW9uOlwiMS4xMi4xXCIsb3B0aW9uczp7YXBwZW5kVG86XCJib2R5XCIsYXV0b1JlZnJlc2g6ITAsZGlzdGFuY2U6MCxmaWx0ZXI6XCIqXCIsdG9sZXJhbmNlOlwidG91Y2hcIixzZWxlY3RlZDpudWxsLHNlbGVjdGluZzpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsLHVuc2VsZWN0ZWQ6bnVsbCx1bnNlbGVjdGluZzpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9hZGRDbGFzcyhcInVpLXNlbGVjdGFibGVcIiksdGhpcy5kcmFnZ2VkPSExLHRoaXMucmVmcmVzaD1mdW5jdGlvbigpe2UuZWxlbWVudFBvcz10KGUuZWxlbWVudFswXSkub2Zmc2V0KCksZS5zZWxlY3RlZXM9dChlLm9wdGlvbnMuZmlsdGVyLGUuZWxlbWVudFswXSksZS5fYWRkQ2xhc3MoZS5zZWxlY3RlZXMsXCJ1aS1zZWxlY3RlZVwiKSxlLnNlbGVjdGVlcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9dCh0aGlzKSxzPWkub2Zmc2V0KCksbj17bGVmdDpzLmxlZnQtZS5lbGVtZW50UG9zLmxlZnQsdG9wOnMudG9wLWUuZWxlbWVudFBvcy50b3B9O3QuZGF0YSh0aGlzLFwic2VsZWN0YWJsZS1pdGVtXCIse2VsZW1lbnQ6dGhpcywkZWxlbWVudDppLGxlZnQ6bi5sZWZ0LHRvcDpuLnRvcCxyaWdodDpuLmxlZnQraS5vdXRlcldpZHRoKCksYm90dG9tOm4udG9wK2kub3V0ZXJIZWlnaHQoKSxzdGFydHNlbGVjdGVkOiExLHNlbGVjdGVkOmkuaGFzQ2xhc3MoXCJ1aS1zZWxlY3RlZFwiKSxzZWxlY3Rpbmc6aS5oYXNDbGFzcyhcInVpLXNlbGVjdGluZ1wiKSx1bnNlbGVjdGluZzppLmhhc0NsYXNzKFwidWktdW5zZWxlY3RpbmdcIil9KX0pfSx0aGlzLnJlZnJlc2goKSx0aGlzLl9tb3VzZUluaXQoKSx0aGlzLmhlbHBlcj10KFwiPGRpdj5cIiksdGhpcy5fYWRkQ2xhc3ModGhpcy5oZWxwZXIsXCJ1aS1zZWxlY3RhYmxlLWhlbHBlclwiKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVlcy5yZW1vdmVEYXRhKFwic2VsZWN0YWJsZS1pdGVtXCIpLHRoaXMuX21vdXNlRGVzdHJveSgpfSxfbW91c2VTdGFydDpmdW5jdGlvbihlKXt2YXIgaT10aGlzLHM9dGhpcy5vcHRpb25zO3RoaXMub3Bvcz1bZS5wYWdlWCxlLnBhZ2VZXSx0aGlzLmVsZW1lbnRQb3M9dCh0aGlzLmVsZW1lbnRbMF0pLm9mZnNldCgpLHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8KHRoaXMuc2VsZWN0ZWVzPXQocy5maWx0ZXIsdGhpcy5lbGVtZW50WzBdKSx0aGlzLl90cmlnZ2VyKFwic3RhcnRcIixlKSx0KHMuYXBwZW5kVG8pLmFwcGVuZCh0aGlzLmhlbHBlciksdGhpcy5oZWxwZXIuY3NzKHtsZWZ0OmUucGFnZVgsdG9wOmUucGFnZVksd2lkdGg6MCxoZWlnaHQ6MH0pLHMuYXV0b1JlZnJlc2gmJnRoaXMucmVmcmVzaCgpLHRoaXMuc2VsZWN0ZWVzLmZpbHRlcihcIi51aS1zZWxlY3RlZFwiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHM9dC5kYXRhKHRoaXMsXCJzZWxlY3RhYmxlLWl0ZW1cIik7cy5zdGFydHNlbGVjdGVkPSEwLGUubWV0YUtleXx8ZS5jdHJsS2V5fHwoaS5fcmVtb3ZlQ2xhc3Mocy4kZWxlbWVudCxcInVpLXNlbGVjdGVkXCIpLHMuc2VsZWN0ZWQ9ITEsaS5fYWRkQ2xhc3Mocy4kZWxlbWVudCxcInVpLXVuc2VsZWN0aW5nXCIpLHMudW5zZWxlY3Rpbmc9ITAsaS5fdHJpZ2dlcihcInVuc2VsZWN0aW5nXCIsZSx7dW5zZWxlY3Rpbmc6cy5lbGVtZW50fSkpfSksdChlLnRhcmdldCkucGFyZW50cygpLmFkZEJhY2soKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHMsbj10LmRhdGEodGhpcyxcInNlbGVjdGFibGUtaXRlbVwiKTtyZXR1cm4gbj8ocz0hZS5tZXRhS2V5JiYhZS5jdHJsS2V5fHwhbi4kZWxlbWVudC5oYXNDbGFzcyhcInVpLXNlbGVjdGVkXCIpLGkuX3JlbW92ZUNsYXNzKG4uJGVsZW1lbnQscz9cInVpLXVuc2VsZWN0aW5nXCI6XCJ1aS1zZWxlY3RlZFwiKS5fYWRkQ2xhc3Mobi4kZWxlbWVudCxzP1widWktc2VsZWN0aW5nXCI6XCJ1aS11bnNlbGVjdGluZ1wiKSxuLnVuc2VsZWN0aW5nPSFzLG4uc2VsZWN0aW5nPXMsbi5zZWxlY3RlZD1zLHM/aS5fdHJpZ2dlcihcInNlbGVjdGluZ1wiLGUse3NlbGVjdGluZzpuLmVsZW1lbnR9KTppLl90cmlnZ2VyKFwidW5zZWxlY3RpbmdcIixlLHt1bnNlbGVjdGluZzpuLmVsZW1lbnR9KSwhMSk6dm9pZCAwfSkpfSxfbW91c2VEcmFnOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZHJhZ2dlZD0hMCwhdGhpcy5vcHRpb25zLmRpc2FibGVkKXt2YXIgaSxzPXRoaXMsbj10aGlzLm9wdGlvbnMsbz10aGlzLm9wb3NbMF0sYT10aGlzLm9wb3NbMV0scj1lLnBhZ2VYLGg9ZS5wYWdlWTtyZXR1cm4gbz5yJiYoaT1yLHI9byxvPWkpLGE+aCYmKGk9aCxoPWEsYT1pKSx0aGlzLmhlbHBlci5jc3Moe2xlZnQ6byx0b3A6YSx3aWR0aDpyLW8saGVpZ2h0OmgtYX0pLHRoaXMuc2VsZWN0ZWVzLmVhY2goZnVuY3Rpb24oKXt2YXIgaT10LmRhdGEodGhpcyxcInNlbGVjdGFibGUtaXRlbVwiKSxsPSExLGM9e307aSYmaS5lbGVtZW50IT09cy5lbGVtZW50WzBdJiYoYy5sZWZ0PWkubGVmdCtzLmVsZW1lbnRQb3MubGVmdCxjLnJpZ2h0PWkucmlnaHQrcy5lbGVtZW50UG9zLmxlZnQsYy50b3A9aS50b3Arcy5lbGVtZW50UG9zLnRvcCxjLmJvdHRvbT1pLmJvdHRvbStzLmVsZW1lbnRQb3MudG9wLFwidG91Y2hcIj09PW4udG9sZXJhbmNlP2w9IShjLmxlZnQ+cnx8bz5jLnJpZ2h0fHxjLnRvcD5ofHxhPmMuYm90dG9tKTpcImZpdFwiPT09bi50b2xlcmFuY2UmJihsPWMubGVmdD5vJiZyPmMucmlnaHQmJmMudG9wPmEmJmg+Yy5ib3R0b20pLGw/KGkuc2VsZWN0ZWQmJihzLl9yZW1vdmVDbGFzcyhpLiRlbGVtZW50LFwidWktc2VsZWN0ZWRcIiksaS5zZWxlY3RlZD0hMSksaS51bnNlbGVjdGluZyYmKHMuX3JlbW92ZUNsYXNzKGkuJGVsZW1lbnQsXCJ1aS11bnNlbGVjdGluZ1wiKSxpLnVuc2VsZWN0aW5nPSExKSxpLnNlbGVjdGluZ3x8KHMuX2FkZENsYXNzKGkuJGVsZW1lbnQsXCJ1aS1zZWxlY3RpbmdcIiksaS5zZWxlY3Rpbmc9ITAscy5fdHJpZ2dlcihcInNlbGVjdGluZ1wiLGUse3NlbGVjdGluZzppLmVsZW1lbnR9KSkpOihpLnNlbGVjdGluZyYmKChlLm1ldGFLZXl8fGUuY3RybEtleSkmJmkuc3RhcnRzZWxlY3RlZD8ocy5fcmVtb3ZlQ2xhc3MoaS4kZWxlbWVudCxcInVpLXNlbGVjdGluZ1wiKSxpLnNlbGVjdGluZz0hMSxzLl9hZGRDbGFzcyhpLiRlbGVtZW50LFwidWktc2VsZWN0ZWRcIiksaS5zZWxlY3RlZD0hMCk6KHMuX3JlbW92ZUNsYXNzKGkuJGVsZW1lbnQsXCJ1aS1zZWxlY3RpbmdcIiksaS5zZWxlY3Rpbmc9ITEsaS5zdGFydHNlbGVjdGVkJiYocy5fYWRkQ2xhc3MoaS4kZWxlbWVudCxcInVpLXVuc2VsZWN0aW5nXCIpLGkudW5zZWxlY3Rpbmc9ITApLHMuX3RyaWdnZXIoXCJ1bnNlbGVjdGluZ1wiLGUse3Vuc2VsZWN0aW5nOmkuZWxlbWVudH0pKSksaS5zZWxlY3RlZCYmKGUubWV0YUtleXx8ZS5jdHJsS2V5fHxpLnN0YXJ0c2VsZWN0ZWR8fChzLl9yZW1vdmVDbGFzcyhpLiRlbGVtZW50LFwidWktc2VsZWN0ZWRcIiksaS5zZWxlY3RlZD0hMSxzLl9hZGRDbGFzcyhpLiRlbGVtZW50LFwidWktdW5zZWxlY3RpbmdcIiksaS51bnNlbGVjdGluZz0hMCxzLl90cmlnZ2VyKFwidW5zZWxlY3RpbmdcIixlLHt1bnNlbGVjdGluZzppLmVsZW1lbnR9KSkpKSl9KSwhMX19LF9tb3VzZVN0b3A6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcztyZXR1cm4gdGhpcy5kcmFnZ2VkPSExLHQoXCIudWktdW5zZWxlY3RpbmdcIix0aGlzLmVsZW1lbnRbMF0pLmVhY2goZnVuY3Rpb24oKXt2YXIgcz10LmRhdGEodGhpcyxcInNlbGVjdGFibGUtaXRlbVwiKTtpLl9yZW1vdmVDbGFzcyhzLiRlbGVtZW50LFwidWktdW5zZWxlY3RpbmdcIikscy51bnNlbGVjdGluZz0hMSxzLnN0YXJ0c2VsZWN0ZWQ9ITEsaS5fdHJpZ2dlcihcInVuc2VsZWN0ZWRcIixlLHt1bnNlbGVjdGVkOnMuZWxlbWVudH0pfSksdChcIi51aS1zZWxlY3RpbmdcIix0aGlzLmVsZW1lbnRbMF0pLmVhY2goZnVuY3Rpb24oKXt2YXIgcz10LmRhdGEodGhpcyxcInNlbGVjdGFibGUtaXRlbVwiKTtpLl9yZW1vdmVDbGFzcyhzLiRlbGVtZW50LFwidWktc2VsZWN0aW5nXCIpLl9hZGRDbGFzcyhzLiRlbGVtZW50LFwidWktc2VsZWN0ZWRcIikscy5zZWxlY3Rpbmc9ITEscy5zZWxlY3RlZD0hMCxzLnN0YXJ0c2VsZWN0ZWQ9ITAsaS5fdHJpZ2dlcihcInNlbGVjdGVkXCIsZSx7c2VsZWN0ZWQ6cy5lbGVtZW50fSl9KSx0aGlzLl90cmlnZ2VyKFwic3RvcFwiLGUpLHRoaXMuaGVscGVyLnJlbW92ZSgpLCExfX0pLHQud2lkZ2V0KFwidWkuc29ydGFibGVcIix0LnVpLm1vdXNlLHt2ZXJzaW9uOlwiMS4xMi4xXCIsd2lkZ2V0RXZlbnRQcmVmaXg6XCJzb3J0XCIscmVhZHk6ITEsb3B0aW9uczp7YXBwZW5kVG86XCJwYXJlbnRcIixheGlzOiExLGNvbm5lY3RXaXRoOiExLGNvbnRhaW5tZW50OiExLGN1cnNvcjpcImF1dG9cIixjdXJzb3JBdDohMSxkcm9wT25FbXB0eTohMCxmb3JjZVBsYWNlaG9sZGVyU2l6ZTohMSxmb3JjZUhlbHBlclNpemU6ITEsZ3JpZDohMSxoYW5kbGU6ITEsaGVscGVyOlwib3JpZ2luYWxcIixpdGVtczpcIj4gKlwiLG9wYWNpdHk6ITEscGxhY2Vob2xkZXI6ITEscmV2ZXJ0OiExLHNjcm9sbDohMCxzY3JvbGxTZW5zaXRpdml0eToyMCxzY3JvbGxTcGVlZDoyMCxzY29wZTpcImRlZmF1bHRcIix0b2xlcmFuY2U6XCJpbnRlcnNlY3RcIix6SW5kZXg6MWUzLGFjdGl2YXRlOm51bGwsYmVmb3JlU3RvcDpudWxsLGNoYW5nZTpudWxsLGRlYWN0aXZhdGU6bnVsbCxvdXQ6bnVsbCxvdmVyOm51bGwscmVjZWl2ZTpudWxsLHJlbW92ZTpudWxsLHNvcnQ6bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbCx1cGRhdGU6bnVsbH0sX2lzT3ZlckF4aXM6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0Pj1lJiZlK2k+dH0sX2lzRmxvYXRpbmc6ZnVuY3Rpb24odCl7cmV0dXJuL2xlZnR8cmlnaHQvLnRlc3QodC5jc3MoXCJmbG9hdFwiKSl8fC9pbmxpbmV8dGFibGUtY2VsbC8udGVzdCh0LmNzcyhcImRpc3BsYXlcIikpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5jb250YWluZXJDYWNoZT17fSx0aGlzLl9hZGRDbGFzcyhcInVpLXNvcnRhYmxlXCIpLHRoaXMucmVmcmVzaCgpLHRoaXMub2Zmc2V0PXRoaXMuZWxlbWVudC5vZmZzZXQoKSx0aGlzLl9tb3VzZUluaXQoKSx0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKSx0aGlzLnJlYWR5PSEwfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7dGhpcy5fc3VwZXIodCxlKSxcImhhbmRsZVwiPT09dCYmdGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCl9LF9zZXRIYW5kbGVDbGFzc05hbWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX3JlbW92ZUNsYXNzKHRoaXMuZWxlbWVudC5maW5kKFwiLnVpLXNvcnRhYmxlLWhhbmRsZVwiKSxcInVpLXNvcnRhYmxlLWhhbmRsZVwiKSx0LmVhY2godGhpcy5pdGVtcyxmdW5jdGlvbigpe2UuX2FkZENsYXNzKHRoaXMuaW5zdGFuY2Uub3B0aW9ucy5oYW5kbGU/dGhpcy5pdGVtLmZpbmQodGhpcy5pbnN0YW5jZS5vcHRpb25zLmhhbmRsZSk6dGhpcy5pdGVtLFwidWktc29ydGFibGUtaGFuZGxlXCIpfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fbW91c2VEZXN0cm95KCk7Zm9yKHZhciB0PXRoaXMuaXRlbXMubGVuZ3RoLTE7dD49MDt0LS0pdGhpcy5pdGVtc1t0XS5pdGVtLnJlbW92ZURhdGEodGhpcy53aWRnZXROYW1lK1wiLWl0ZW1cIik7cmV0dXJuIHRoaXN9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24oZSxpKXt2YXIgcz1udWxsLG49ITEsbz10aGlzO3JldHVybiB0aGlzLnJldmVydGluZz8hMTp0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fFwic3RhdGljXCI9PT10aGlzLm9wdGlvbnMudHlwZT8hMToodGhpcy5fcmVmcmVzaEl0ZW1zKGUpLHQoZS50YXJnZXQpLnBhcmVudHMoKS5lYWNoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuZGF0YSh0aGlzLG8ud2lkZ2V0TmFtZStcIi1pdGVtXCIpPT09bz8ocz10KHRoaXMpLCExKTp2b2lkIDB9KSx0LmRhdGEoZS50YXJnZXQsby53aWRnZXROYW1lK1wiLWl0ZW1cIik9PT1vJiYocz10KGUudGFyZ2V0KSkscz8hdGhpcy5vcHRpb25zLmhhbmRsZXx8aXx8KHQodGhpcy5vcHRpb25zLmhhbmRsZSxzKS5maW5kKFwiKlwiKS5hZGRCYWNrKCkuZWFjaChmdW5jdGlvbigpe3RoaXM9PT1lLnRhcmdldCYmKG49ITApfSksbik/KHRoaXMuY3VycmVudEl0ZW09cyx0aGlzLl9yZW1vdmVDdXJyZW50c0Zyb21JdGVtcygpLCEwKTohMTohMSl9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKGUsaSxzKXt2YXIgbixvLGE9dGhpcy5vcHRpb25zO2lmKHRoaXMuY3VycmVudENvbnRhaW5lcj10aGlzLHRoaXMucmVmcmVzaFBvc2l0aW9ucygpLHRoaXMuaGVscGVyPXRoaXMuX2NyZWF0ZUhlbHBlcihlKSx0aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCksdGhpcy5fY2FjaGVNYXJnaW5zKCksdGhpcy5zY3JvbGxQYXJlbnQ9dGhpcy5oZWxwZXIuc2Nyb2xsUGFyZW50KCksdGhpcy5vZmZzZXQ9dGhpcy5jdXJyZW50SXRlbS5vZmZzZXQoKSx0aGlzLm9mZnNldD17dG9wOnRoaXMub2Zmc2V0LnRvcC10aGlzLm1hcmdpbnMudG9wLGxlZnQ6dGhpcy5vZmZzZXQubGVmdC10aGlzLm1hcmdpbnMubGVmdH0sdC5leHRlbmQodGhpcy5vZmZzZXQse2NsaWNrOntsZWZ0OmUucGFnZVgtdGhpcy5vZmZzZXQubGVmdCx0b3A6ZS5wYWdlWS10aGlzLm9mZnNldC50b3B9LHBhcmVudDp0aGlzLl9nZXRQYXJlbnRPZmZzZXQoKSxyZWxhdGl2ZTp0aGlzLl9nZXRSZWxhdGl2ZU9mZnNldCgpfSksdGhpcy5oZWxwZXIuY3NzKFwicG9zaXRpb25cIixcImFic29sdXRlXCIpLHRoaXMuY3NzUG9zaXRpb249dGhpcy5oZWxwZXIuY3NzKFwicG9zaXRpb25cIiksdGhpcy5vcmlnaW5hbFBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24oZSksdGhpcy5vcmlnaW5hbFBhZ2VYPWUucGFnZVgsdGhpcy5vcmlnaW5hbFBhZ2VZPWUucGFnZVksYS5jdXJzb3JBdCYmdGhpcy5fYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcihhLmN1cnNvckF0KSx0aGlzLmRvbVBvc2l0aW9uPXtwcmV2OnRoaXMuY3VycmVudEl0ZW0ucHJldigpWzBdLHBhcmVudDp0aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpWzBdfSx0aGlzLmhlbHBlclswXSE9PXRoaXMuY3VycmVudEl0ZW1bMF0mJnRoaXMuY3VycmVudEl0ZW0uaGlkZSgpLHRoaXMuX2NyZWF0ZVBsYWNlaG9sZGVyKCksYS5jb250YWlubWVudCYmdGhpcy5fc2V0Q29udGFpbm1lbnQoKSxhLmN1cnNvciYmXCJhdXRvXCIhPT1hLmN1cnNvciYmKG89dGhpcy5kb2N1bWVudC5maW5kKFwiYm9keVwiKSx0aGlzLnN0b3JlZEN1cnNvcj1vLmNzcyhcImN1cnNvclwiKSxvLmNzcyhcImN1cnNvclwiLGEuY3Vyc29yKSx0aGlzLnN0b3JlZFN0eWxlc2hlZXQ9dChcIjxzdHlsZT4qeyBjdXJzb3I6IFwiK2EuY3Vyc29yK1wiICFpbXBvcnRhbnQ7IH08L3N0eWxlPlwiKS5hcHBlbmRUbyhvKSksYS5vcGFjaXR5JiYodGhpcy5oZWxwZXIuY3NzKFwib3BhY2l0eVwiKSYmKHRoaXMuX3N0b3JlZE9wYWNpdHk9dGhpcy5oZWxwZXIuY3NzKFwib3BhY2l0eVwiKSksdGhpcy5oZWxwZXIuY3NzKFwib3BhY2l0eVwiLGEub3BhY2l0eSkpLGEuekluZGV4JiYodGhpcy5oZWxwZXIuY3NzKFwiekluZGV4XCIpJiYodGhpcy5fc3RvcmVkWkluZGV4PXRoaXMuaGVscGVyLmNzcyhcInpJbmRleFwiKSksdGhpcy5oZWxwZXIuY3NzKFwiekluZGV4XCIsYS56SW5kZXgpKSx0aGlzLnNjcm9sbFBhcmVudFswXSE9PXRoaXMuZG9jdW1lbnRbMF0mJlwiSFRNTFwiIT09dGhpcy5zY3JvbGxQYXJlbnRbMF0udGFnTmFtZSYmKHRoaXMub3ZlcmZsb3dPZmZzZXQ9dGhpcy5zY3JvbGxQYXJlbnQub2Zmc2V0KCkpLHRoaXMuX3RyaWdnZXIoXCJzdGFydFwiLGUsdGhpcy5fdWlIYXNoKCkpLHRoaXMuX3ByZXNlcnZlSGVscGVyUHJvcG9ydGlvbnN8fHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKSwhcylmb3Iobj10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7bj49MDtuLS0pdGhpcy5jb250YWluZXJzW25dLl90cmlnZ2VyKFwiYWN0aXZhdGVcIixlLHRoaXMuX3VpSGFzaCh0aGlzKSk7cmV0dXJuIHQudWkuZGRtYW5hZ2VyJiYodC51aS5kZG1hbmFnZXIuY3VycmVudD10aGlzKSx0LnVpLmRkbWFuYWdlciYmIWEuZHJvcEJlaGF2aW91ciYmdC51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModGhpcyxlKSx0aGlzLmRyYWdnaW5nPSEwLHRoaXMuX2FkZENsYXNzKHRoaXMuaGVscGVyLFwidWktc29ydGFibGUtaGVscGVyXCIpLHRoaXMuX21vdXNlRHJhZyhlKSwhMH0sX21vdXNlRHJhZzpmdW5jdGlvbihlKXt2YXIgaSxzLG4sbyxhPXRoaXMub3B0aW9ucyxyPSExO2Zvcih0aGlzLnBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24oZSksdGhpcy5wb3NpdGlvbkFicz10aGlzLl9jb252ZXJ0UG9zaXRpb25UbyhcImFic29sdXRlXCIpLHRoaXMubGFzdFBvc2l0aW9uQWJzfHwodGhpcy5sYXN0UG9zaXRpb25BYnM9dGhpcy5wb3NpdGlvbkFicyksdGhpcy5vcHRpb25zLnNjcm9sbCYmKHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5kb2N1bWVudFswXSYmXCJIVE1MXCIhPT10aGlzLnNjcm9sbFBhcmVudFswXS50YWdOYW1lPyh0aGlzLm92ZXJmbG93T2Zmc2V0LnRvcCt0aGlzLnNjcm9sbFBhcmVudFswXS5vZmZzZXRIZWlnaHQtZS5wYWdlWTxhLnNjcm9sbFNlbnNpdGl2aXR5P3RoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1yPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcCthLnNjcm9sbFNwZWVkOmUucGFnZVktdGhpcy5vdmVyZmxvd09mZnNldC50b3A8YS5zY3JvbGxTZW5zaXRpdml0eSYmKHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1yPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcC1hLnNjcm9sbFNwZWVkKSx0aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQrdGhpcy5zY3JvbGxQYXJlbnRbMF0ub2Zmc2V0V2lkdGgtZS5wYWdlWDxhLnNjcm9sbFNlbnNpdGl2aXR5P3RoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9cj10aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0K2Euc2Nyb2xsU3BlZWQ6ZS5wYWdlWC10aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQ8YS5zY3JvbGxTZW5zaXRpdml0eSYmKHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9cj10aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0LWEuc2Nyb2xsU3BlZWQpKTooZS5wYWdlWS10aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpPGEuc2Nyb2xsU2Vuc2l0aXZpdHk/cj10aGlzLmRvY3VtZW50LnNjcm9sbFRvcCh0aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpLWEuc2Nyb2xsU3BlZWQpOnRoaXMud2luZG93LmhlaWdodCgpLShlLnBhZ2VZLXRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkpPGEuc2Nyb2xsU2Vuc2l0aXZpdHkmJihyPXRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkrYS5zY3JvbGxTcGVlZCkpLGUucGFnZVgtdGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCk8YS5zY3JvbGxTZW5zaXRpdml0eT9yPXRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCh0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoKS1hLnNjcm9sbFNwZWVkKTp0aGlzLndpbmRvdy53aWR0aCgpLShlLnBhZ2VYLXRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpKTxhLnNjcm9sbFNlbnNpdGl2aXR5JiYocj10aGlzLmRvY3VtZW50LnNjcm9sbExlZnQodGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCkrYS5zY3JvbGxTcGVlZCkpKSxyIT09ITEmJnQudWkuZGRtYW5hZ2VyJiYhYS5kcm9wQmVoYXZpb3VyJiZ0LnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLGUpKSx0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKFwiYWJzb2x1dGVcIiksdGhpcy5vcHRpb25zLmF4aXMmJlwieVwiPT09dGhpcy5vcHRpb25zLmF4aXN8fCh0aGlzLmhlbHBlclswXS5zdHlsZS5sZWZ0PXRoaXMucG9zaXRpb24ubGVmdCtcInB4XCIpLHRoaXMub3B0aW9ucy5heGlzJiZcInhcIj09PXRoaXMub3B0aW9ucy5heGlzfHwodGhpcy5oZWxwZXJbMF0uc3R5bGUudG9wPXRoaXMucG9zaXRpb24udG9wK1wicHhcIiksaT10aGlzLml0ZW1zLmxlbmd0aC0xO2k+PTA7aS0tKWlmKHM9dGhpcy5pdGVtc1tpXSxuPXMuaXRlbVswXSxvPXRoaXMuX2ludGVyc2VjdHNXaXRoUG9pbnRlcihzKSxvJiZzLmluc3RhbmNlPT09dGhpcy5jdXJyZW50Q29udGFpbmVyJiZuIT09dGhpcy5jdXJyZW50SXRlbVswXSYmdGhpcy5wbGFjZWhvbGRlclsxPT09bz9cIm5leHRcIjpcInByZXZcIl0oKVswXSE9PW4mJiF0LmNvbnRhaW5zKHRoaXMucGxhY2Vob2xkZXJbMF0sbikmJihcInNlbWktZHluYW1pY1wiPT09dGhpcy5vcHRpb25zLnR5cGU/IXQuY29udGFpbnModGhpcy5lbGVtZW50WzBdLG4pOiEwKSl7aWYodGhpcy5kaXJlY3Rpb249MT09PW8/XCJkb3duXCI6XCJ1cFwiLFwicG9pbnRlclwiIT09dGhpcy5vcHRpb25zLnRvbGVyYW5jZSYmIXRoaXMuX2ludGVyc2VjdHNXaXRoU2lkZXMocykpYnJlYWs7dGhpcy5fcmVhcnJhbmdlKGUscyksdGhpcy5fdHJpZ2dlcihcImNoYW5nZVwiLGUsdGhpcy5fdWlIYXNoKCkpO2JyZWFrfXJldHVybiB0aGlzLl9jb250YWN0Q29udGFpbmVycyhlKSx0LnVpLmRkbWFuYWdlciYmdC51aS5kZG1hbmFnZXIuZHJhZyh0aGlzLGUpLHRoaXMuX3RyaWdnZXIoXCJzb3J0XCIsZSx0aGlzLl91aUhhc2goKSksdGhpcy5sYXN0UG9zaXRpb25BYnM9dGhpcy5wb3NpdGlvbkFicywhMX0sX21vdXNlU3RvcDpmdW5jdGlvbihlLGkpe2lmKGUpe2lmKHQudWkuZGRtYW5hZ2VyJiYhdGhpcy5vcHRpb25zLmRyb3BCZWhhdmlvdXImJnQudWkuZGRtYW5hZ2VyLmRyb3AodGhpcyxlKSx0aGlzLm9wdGlvbnMucmV2ZXJ0KXt2YXIgcz10aGlzLG49dGhpcy5wbGFjZWhvbGRlci5vZmZzZXQoKSxvPXRoaXMub3B0aW9ucy5heGlzLGE9e307byYmXCJ4XCIhPT1vfHwoYS5sZWZ0PW4ubGVmdC10aGlzLm9mZnNldC5wYXJlbnQubGVmdC10aGlzLm1hcmdpbnMubGVmdCsodGhpcy5vZmZzZXRQYXJlbnRbMF09PT10aGlzLmRvY3VtZW50WzBdLmJvZHk/MDp0aGlzLm9mZnNldFBhcmVudFswXS5zY3JvbGxMZWZ0KSksbyYmXCJ5XCIhPT1vfHwoYS50b3A9bi50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcC10aGlzLm1hcmdpbnMudG9wKyh0aGlzLm9mZnNldFBhcmVudFswXT09PXRoaXMuZG9jdW1lbnRbMF0uYm9keT8wOnRoaXMub2Zmc2V0UGFyZW50WzBdLnNjcm9sbFRvcCkpLHRoaXMucmV2ZXJ0aW5nPSEwLHQodGhpcy5oZWxwZXIpLmFuaW1hdGUoYSxwYXJzZUludCh0aGlzLm9wdGlvbnMucmV2ZXJ0LDEwKXx8NTAwLGZ1bmN0aW9uKCl7cy5fY2xlYXIoZSl9KX1lbHNlIHRoaXMuX2NsZWFyKGUsaSk7cmV0dXJuITF9fSxjYW5jZWw6ZnVuY3Rpb24oKXtpZih0aGlzLmRyYWdnaW5nKXt0aGlzLl9tb3VzZVVwKG5ldyB0LkV2ZW50KFwibW91c2V1cFwiLHt0YXJnZXQ6bnVsbH0pKSxcIm9yaWdpbmFsXCI9PT10aGlzLm9wdGlvbnMuaGVscGVyPyh0aGlzLmN1cnJlbnRJdGVtLmNzcyh0aGlzLl9zdG9yZWRDU1MpLHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuY3VycmVudEl0ZW0sXCJ1aS1zb3J0YWJsZS1oZWxwZXJcIikpOnRoaXMuY3VycmVudEl0ZW0uc2hvdygpO2Zvcih2YXIgZT10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7ZT49MDtlLS0pdGhpcy5jb250YWluZXJzW2VdLl90cmlnZ2VyKFwiZGVhY3RpdmF0ZVwiLG51bGwsdGhpcy5fdWlIYXNoKHRoaXMpKSx0aGlzLmNvbnRhaW5lcnNbZV0uY29udGFpbmVyQ2FjaGUub3ZlciYmKHRoaXMuY29udGFpbmVyc1tlXS5fdHJpZ2dlcihcIm91dFwiLG51bGwsdGhpcy5fdWlIYXNoKHRoaXMpKSx0aGlzLmNvbnRhaW5lcnNbZV0uY29udGFpbmVyQ2FjaGUub3Zlcj0wKX1yZXR1cm4gdGhpcy5wbGFjZWhvbGRlciYmKHRoaXMucGxhY2Vob2xkZXJbMF0ucGFyZW50Tm9kZSYmdGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pLFwib3JpZ2luYWxcIiE9PXRoaXMub3B0aW9ucy5oZWxwZXImJnRoaXMuaGVscGVyJiZ0aGlzLmhlbHBlclswXS5wYXJlbnROb2RlJiZ0aGlzLmhlbHBlci5yZW1vdmUoKSx0LmV4dGVuZCh0aGlzLHtoZWxwZXI6bnVsbCxkcmFnZ2luZzohMSxyZXZlcnRpbmc6ITEsX25vRmluYWxTb3J0Om51bGx9KSx0aGlzLmRvbVBvc2l0aW9uLnByZXY/dCh0aGlzLmRvbVBvc2l0aW9uLnByZXYpLmFmdGVyKHRoaXMuY3VycmVudEl0ZW0pOnQodGhpcy5kb21Qb3NpdGlvbi5wYXJlbnQpLnByZXBlbmQodGhpcy5jdXJyZW50SXRlbSkpLHRoaXN9LHNlcmlhbGl6ZTpmdW5jdGlvbihlKXt2YXIgaT10aGlzLl9nZXRJdGVtc0FzalF1ZXJ5KGUmJmUuY29ubmVjdGVkKSxzPVtdO3JldHVybiBlPWV8fHt9LHQoaSkuZWFjaChmdW5jdGlvbigpe3ZhciBpPSh0KGUuaXRlbXx8dGhpcykuYXR0cihlLmF0dHJpYnV0ZXx8XCJpZFwiKXx8XCJcIikubWF0Y2goZS5leHByZXNzaW9ufHwvKC4rKVtcXC09X10oLispLyk7aSYmcy5wdXNoKChlLmtleXx8aVsxXStcIltdXCIpK1wiPVwiKyhlLmtleSYmZS5leHByZXNzaW9uP2lbMV06aVsyXSkpfSksIXMubGVuZ3RoJiZlLmtleSYmcy5wdXNoKGUua2V5K1wiPVwiKSxzLmpvaW4oXCImXCIpfSx0b0FycmF5OmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuX2dldEl0ZW1zQXNqUXVlcnkoZSYmZS5jb25uZWN0ZWQpLHM9W107cmV0dXJuIGU9ZXx8e30saS5lYWNoKGZ1bmN0aW9uKCl7cy5wdXNoKHQoZS5pdGVtfHx0aGlzKS5hdHRyKGUuYXR0cmlidXRlfHxcImlkXCIpfHxcIlwiKX0pLHN9LF9pbnRlcnNlY3RzV2l0aDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnBvc2l0aW9uQWJzLmxlZnQsaT1lK3RoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgscz10aGlzLnBvc2l0aW9uQWJzLnRvcCxuPXMrdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQsbz10LmxlZnQsYT1vK3Qud2lkdGgscj10LnRvcCxoPXIrdC5oZWlnaHQsbD10aGlzLm9mZnNldC5jbGljay50b3AsYz10aGlzLm9mZnNldC5jbGljay5sZWZ0LHU9XCJ4XCI9PT10aGlzLm9wdGlvbnMuYXhpc3x8cytsPnImJmg+cytsLGQ9XCJ5XCI9PT10aGlzLm9wdGlvbnMuYXhpc3x8ZStjPm8mJmE+ZStjLHA9dSYmZDtyZXR1cm5cInBvaW50ZXJcIj09PXRoaXMub3B0aW9ucy50b2xlcmFuY2V8fHRoaXMub3B0aW9ucy5mb3JjZVBvaW50ZXJGb3JDb250YWluZXJzfHxcInBvaW50ZXJcIiE9PXRoaXMub3B0aW9ucy50b2xlcmFuY2UmJnRoaXMuaGVscGVyUHJvcG9ydGlvbnNbdGhpcy5mbG9hdGluZz9cIndpZHRoXCI6XCJoZWlnaHRcIl0+dFt0aGlzLmZsb2F0aW5nP1wid2lkdGhcIjpcImhlaWdodFwiXT9wOmUrdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC8yPm8mJmE+aS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLzImJnMrdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMj5yJiZoPm4tdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMn0sX2ludGVyc2VjdHNXaXRoUG9pbnRlcjpmdW5jdGlvbih0KXt2YXIgZSxpLHM9XCJ4XCI9PT10aGlzLm9wdGlvbnMuYXhpc3x8dGhpcy5faXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLnRvcCt0aGlzLm9mZnNldC5jbGljay50b3AsdC50b3AsdC5oZWlnaHQpLG49XCJ5XCI9PT10aGlzLm9wdGlvbnMuYXhpc3x8dGhpcy5faXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLmxlZnQrdGhpcy5vZmZzZXQuY2xpY2subGVmdCx0LmxlZnQsdC53aWR0aCksbz1zJiZuO3JldHVybiBvPyhlPXRoaXMuX2dldERyYWdWZXJ0aWNhbERpcmVjdGlvbigpLGk9dGhpcy5fZ2V0RHJhZ0hvcml6b250YWxEaXJlY3Rpb24oKSx0aGlzLmZsb2F0aW5nP1wicmlnaHRcIj09PWl8fFwiZG93blwiPT09ZT8yOjE6ZSYmKFwiZG93blwiPT09ZT8yOjEpKTohMX0sX2ludGVyc2VjdHNXaXRoU2lkZXM6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5faXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLnRvcCt0aGlzLm9mZnNldC5jbGljay50b3AsdC50b3ArdC5oZWlnaHQvMix0LmhlaWdodCksaT10aGlzLl9pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMubGVmdCt0aGlzLm9mZnNldC5jbGljay5sZWZ0LHQubGVmdCt0LndpZHRoLzIsdC53aWR0aCkscz10aGlzLl9nZXREcmFnVmVydGljYWxEaXJlY3Rpb24oKSxuPXRoaXMuX2dldERyYWdIb3Jpem9udGFsRGlyZWN0aW9uKCk7cmV0dXJuIHRoaXMuZmxvYXRpbmcmJm4/XCJyaWdodFwiPT09biYmaXx8XCJsZWZ0XCI9PT1uJiYhaTpzJiYoXCJkb3duXCI9PT1zJiZlfHxcInVwXCI9PT1zJiYhZSl9LF9nZXREcmFnVmVydGljYWxEaXJlY3Rpb246ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBvc2l0aW9uQWJzLnRvcC10aGlzLmxhc3RQb3NpdGlvbkFicy50b3A7cmV0dXJuIDAhPT10JiYodD4wP1wiZG93blwiOlwidXBcIil9LF9nZXREcmFnSG9yaXpvbnRhbERpcmVjdGlvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMucG9zaXRpb25BYnMubGVmdC10aGlzLmxhc3RQb3NpdGlvbkFicy5sZWZ0O3JldHVybiAwIT09dCYmKHQ+MD9cInJpZ2h0XCI6XCJsZWZ0XCIpfSxyZWZyZXNoOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yZWZyZXNoSXRlbXModCksdGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCksdGhpcy5yZWZyZXNoUG9zaXRpb25zKCksdGhpc30sX2Nvbm5lY3RXaXRoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zO3JldHVybiB0LmNvbm5lY3RXaXRoLmNvbnN0cnVjdG9yPT09U3RyaW5nP1t0LmNvbm5lY3RXaXRoXTp0LmNvbm5lY3RXaXRofSxfZ2V0SXRlbXNBc2pRdWVyeTpmdW5jdGlvbihlKXtmdW5jdGlvbiBpKCl7ci5wdXNoKHRoaXMpfXZhciBzLG4sbyxhLHI9W10saD1bXSxsPXRoaXMuX2Nvbm5lY3RXaXRoKCk7aWYobCYmZSlmb3Iocz1sLmxlbmd0aC0xO3M+PTA7cy0tKWZvcihvPXQobFtzXSx0aGlzLmRvY3VtZW50WzBdKSxuPW8ubGVuZ3RoLTE7bj49MDtuLS0pYT10LmRhdGEob1tuXSx0aGlzLndpZGdldEZ1bGxOYW1lKSxhJiZhIT09dGhpcyYmIWEub3B0aW9ucy5kaXNhYmxlZCYmaC5wdXNoKFt0LmlzRnVuY3Rpb24oYS5vcHRpb25zLml0ZW1zKT9hLm9wdGlvbnMuaXRlbXMuY2FsbChhLmVsZW1lbnQpOnQoYS5vcHRpb25zLml0ZW1zLGEuZWxlbWVudCkubm90KFwiLnVpLXNvcnRhYmxlLWhlbHBlclwiKS5ub3QoXCIudWktc29ydGFibGUtcGxhY2Vob2xkZXJcIiksYV0pO2ZvcihoLnB1c2goW3QuaXNGdW5jdGlvbih0aGlzLm9wdGlvbnMuaXRlbXMpP3RoaXMub3B0aW9ucy5pdGVtcy5jYWxsKHRoaXMuZWxlbWVudCxudWxsLHtvcHRpb25zOnRoaXMub3B0aW9ucyxpdGVtOnRoaXMuY3VycmVudEl0ZW19KTp0KHRoaXMub3B0aW9ucy5pdGVtcyx0aGlzLmVsZW1lbnQpLm5vdChcIi51aS1zb3J0YWJsZS1oZWxwZXJcIikubm90KFwiLnVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyXCIpLHRoaXNdKSxzPWgubGVuZ3RoLTE7cz49MDtzLS0paFtzXVswXS5lYWNoKGkpO3JldHVybiB0KHIpfSxfcmVtb3ZlQ3VycmVudHNGcm9tSXRlbXM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmN1cnJlbnRJdGVtLmZpbmQoXCI6ZGF0YShcIit0aGlzLndpZGdldE5hbWUrXCItaXRlbSlcIik7dGhpcy5pdGVtcz10LmdyZXAodGhpcy5pdGVtcyxmdW5jdGlvbih0KXtmb3IodmFyIGk9MDtlLmxlbmd0aD5pO2krKylpZihlW2ldPT09dC5pdGVtWzBdKXJldHVybiExO3JldHVybiEwfSl9LF9yZWZyZXNoSXRlbXM6ZnVuY3Rpb24oZSl7dGhpcy5pdGVtcz1bXSx0aGlzLmNvbnRhaW5lcnM9W3RoaXNdO3ZhciBpLHMsbixvLGEscixoLGwsYz10aGlzLml0ZW1zLHU9W1t0LmlzRnVuY3Rpb24odGhpcy5vcHRpb25zLml0ZW1zKT90aGlzLm9wdGlvbnMuaXRlbXMuY2FsbCh0aGlzLmVsZW1lbnRbMF0sZSx7aXRlbTp0aGlzLmN1cnJlbnRJdGVtfSk6dCh0aGlzLm9wdGlvbnMuaXRlbXMsdGhpcy5lbGVtZW50KSx0aGlzXV0sZD10aGlzLl9jb25uZWN0V2l0aCgpO2lmKGQmJnRoaXMucmVhZHkpZm9yKGk9ZC5sZW5ndGgtMTtpPj0wO2ktLSlmb3Iobj10KGRbaV0sdGhpcy5kb2N1bWVudFswXSkscz1uLmxlbmd0aC0xO3M+PTA7cy0tKW89dC5kYXRhKG5bc10sdGhpcy53aWRnZXRGdWxsTmFtZSksbyYmbyE9PXRoaXMmJiFvLm9wdGlvbnMuZGlzYWJsZWQmJih1LnB1c2goW3QuaXNGdW5jdGlvbihvLm9wdGlvbnMuaXRlbXMpP28ub3B0aW9ucy5pdGVtcy5jYWxsKG8uZWxlbWVudFswXSxlLHtpdGVtOnRoaXMuY3VycmVudEl0ZW19KTp0KG8ub3B0aW9ucy5pdGVtcyxvLmVsZW1lbnQpLG9dKSx0aGlzLmNvbnRhaW5lcnMucHVzaChvKSk7Zm9yKGk9dS5sZW5ndGgtMTtpPj0wO2ktLSlmb3IoYT11W2ldWzFdLHI9dVtpXVswXSxzPTAsbD1yLmxlbmd0aDtsPnM7cysrKWg9dChyW3NdKSxoLmRhdGEodGhpcy53aWRnZXROYW1lK1wiLWl0ZW1cIixhKSxjLnB1c2goe2l0ZW06aCxpbnN0YW5jZTphLHdpZHRoOjAsaGVpZ2h0OjAsbGVmdDowLHRvcDowfSl9LHJlZnJlc2hQb3NpdGlvbnM6ZnVuY3Rpb24oZSl7dGhpcy5mbG9hdGluZz10aGlzLml0ZW1zLmxlbmd0aD9cInhcIj09PXRoaXMub3B0aW9ucy5heGlzfHx0aGlzLl9pc0Zsb2F0aW5nKHRoaXMuaXRlbXNbMF0uaXRlbSk6ITEsdGhpcy5vZmZzZXRQYXJlbnQmJnRoaXMuaGVscGVyJiYodGhpcy5vZmZzZXQucGFyZW50PXRoaXMuX2dldFBhcmVudE9mZnNldCgpKTt2YXIgaSxzLG4sbztmb3IoaT10aGlzLml0ZW1zLmxlbmd0aC0xO2k+PTA7aS0tKXM9dGhpcy5pdGVtc1tpXSxzLmluc3RhbmNlIT09dGhpcy5jdXJyZW50Q29udGFpbmVyJiZ0aGlzLmN1cnJlbnRDb250YWluZXImJnMuaXRlbVswXSE9PXRoaXMuY3VycmVudEl0ZW1bMF18fChuPXRoaXMub3B0aW9ucy50b2xlcmFuY2VFbGVtZW50P3QodGhpcy5vcHRpb25zLnRvbGVyYW5jZUVsZW1lbnQscy5pdGVtKTpzLml0ZW0sZXx8KHMud2lkdGg9bi5vdXRlcldpZHRoKCkscy5oZWlnaHQ9bi5vdXRlckhlaWdodCgpKSxvPW4ub2Zmc2V0KCkscy5sZWZ0PW8ubGVmdCxzLnRvcD1vLnRvcCk7aWYodGhpcy5vcHRpb25zLmN1c3RvbSYmdGhpcy5vcHRpb25zLmN1c3RvbS5yZWZyZXNoQ29udGFpbmVycyl0aGlzLm9wdGlvbnMuY3VzdG9tLnJlZnJlc2hDb250YWluZXJzLmNhbGwodGhpcyk7ZWxzZSBmb3IoaT10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7aT49MDtpLS0pbz10aGlzLmNvbnRhaW5lcnNbaV0uZWxlbWVudC5vZmZzZXQoKSx0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUubGVmdD1vLmxlZnQsdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLnRvcD1vLnRvcCx0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUud2lkdGg9dGhpcy5jb250YWluZXJzW2ldLmVsZW1lbnQub3V0ZXJXaWR0aCgpLHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5oZWlnaHQ9dGhpcy5jb250YWluZXJzW2ldLmVsZW1lbnQub3V0ZXJIZWlnaHQoKTtyZXR1cm4gdGhpc30sX2NyZWF0ZVBsYWNlaG9sZGVyOmZ1bmN0aW9uKGUpe2U9ZXx8dGhpczt2YXIgaSxzPWUub3B0aW9ucztzLnBsYWNlaG9sZGVyJiZzLnBsYWNlaG9sZGVyLmNvbnN0cnVjdG9yIT09U3RyaW5nfHwoaT1zLnBsYWNlaG9sZGVyLHMucGxhY2Vob2xkZXI9e2VsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgcz1lLmN1cnJlbnRJdGVtWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksbj10KFwiPFwiK3MrXCI+XCIsZS5kb2N1bWVudFswXSk7cmV0dXJuIGUuX2FkZENsYXNzKG4sXCJ1aS1zb3J0YWJsZS1wbGFjZWhvbGRlclwiLGl8fGUuY3VycmVudEl0ZW1bMF0uY2xhc3NOYW1lKS5fcmVtb3ZlQ2xhc3MobixcInVpLXNvcnRhYmxlLWhlbHBlclwiKSxcInRib2R5XCI9PT1zP2UuX2NyZWF0ZVRyUGxhY2Vob2xkZXIoZS5jdXJyZW50SXRlbS5maW5kKFwidHJcIikuZXEoMCksdChcIjx0cj5cIixlLmRvY3VtZW50WzBdKS5hcHBlbmRUbyhuKSk6XCJ0clwiPT09cz9lLl9jcmVhdGVUclBsYWNlaG9sZGVyKGUuY3VycmVudEl0ZW0sbik6XCJpbWdcIj09PXMmJm4uYXR0cihcInNyY1wiLGUuY3VycmVudEl0ZW0uYXR0cihcInNyY1wiKSksaXx8bi5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIiksbn0sdXBkYXRlOmZ1bmN0aW9uKHQsbil7KCFpfHxzLmZvcmNlUGxhY2Vob2xkZXJTaXplKSYmKG4uaGVpZ2h0KCl8fG4uaGVpZ2h0KGUuY3VycmVudEl0ZW0uaW5uZXJIZWlnaHQoKS1wYXJzZUludChlLmN1cnJlbnRJdGVtLmNzcyhcInBhZGRpbmdUb3BcIil8fDAsMTApLXBhcnNlSW50KGUuY3VycmVudEl0ZW0uY3NzKFwicGFkZGluZ0JvdHRvbVwiKXx8MCwxMCkpLG4ud2lkdGgoKXx8bi53aWR0aChlLmN1cnJlbnRJdGVtLmlubmVyV2lkdGgoKS1wYXJzZUludChlLmN1cnJlbnRJdGVtLmNzcyhcInBhZGRpbmdMZWZ0XCIpfHwwLDEwKS1wYXJzZUludChlLmN1cnJlbnRJdGVtLmNzcyhcInBhZGRpbmdSaWdodFwiKXx8MCwxMCkpKX19KSxlLnBsYWNlaG9sZGVyPXQocy5wbGFjZWhvbGRlci5lbGVtZW50LmNhbGwoZS5lbGVtZW50LGUuY3VycmVudEl0ZW0pKSxlLmN1cnJlbnRJdGVtLmFmdGVyKGUucGxhY2Vob2xkZXIpLHMucGxhY2Vob2xkZXIudXBkYXRlKGUsZS5wbGFjZWhvbGRlcil9LF9jcmVhdGVUclBsYWNlaG9sZGVyOmZ1bmN0aW9uKGUsaSl7dmFyIHM9dGhpcztlLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbigpe3QoXCI8dGQ+JiMxNjA7PC90ZD5cIixzLmRvY3VtZW50WzBdKS5hdHRyKFwiY29sc3BhblwiLHQodGhpcykuYXR0cihcImNvbHNwYW5cIil8fDEpLmFwcGVuZFRvKGkpfSl9LF9jb250YWN0Q29udGFpbmVyczpmdW5jdGlvbihlKXt2YXIgaSxzLG4sbyxhLHIsaCxsLGMsdSxkPW51bGwscD1udWxsO2ZvcihpPXRoaXMuY29udGFpbmVycy5sZW5ndGgtMTtpPj0wO2ktLSlpZighdC5jb250YWlucyh0aGlzLmN1cnJlbnRJdGVtWzBdLHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50WzBdKSlpZih0aGlzLl9pbnRlcnNlY3RzV2l0aCh0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUpKXtpZihkJiZ0LmNvbnRhaW5zKHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50WzBdLGQuZWxlbWVudFswXSkpY29udGludWU7ZD10aGlzLmNvbnRhaW5lcnNbaV0scD1pfWVsc2UgdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLm92ZXImJih0aGlzLmNvbnRhaW5lcnNbaV0uX3RyaWdnZXIoXCJvdXRcIixlLHRoaXMuX3VpSGFzaCh0aGlzKSksdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLm92ZXI9MCk7aWYoZClpZigxPT09dGhpcy5jb250YWluZXJzLmxlbmd0aCl0aGlzLmNvbnRhaW5lcnNbcF0uY29udGFpbmVyQ2FjaGUub3Zlcnx8KHRoaXMuY29udGFpbmVyc1twXS5fdHJpZ2dlcihcIm92ZXJcIixlLHRoaXMuX3VpSGFzaCh0aGlzKSksdGhpcy5jb250YWluZXJzW3BdLmNvbnRhaW5lckNhY2hlLm92ZXI9MSk7ZWxzZXtmb3Iobj0xZTQsbz1udWxsLGM9ZC5mbG9hdGluZ3x8dGhpcy5faXNGbG9hdGluZyh0aGlzLmN1cnJlbnRJdGVtKSxhPWM/XCJsZWZ0XCI6XCJ0b3BcIixyPWM/XCJ3aWR0aFwiOlwiaGVpZ2h0XCIsdT1jP1wicGFnZVhcIjpcInBhZ2VZXCIscz10aGlzLml0ZW1zLmxlbmd0aC0xO3M+PTA7cy0tKXQuY29udGFpbnModGhpcy5jb250YWluZXJzW3BdLmVsZW1lbnRbMF0sdGhpcy5pdGVtc1tzXS5pdGVtWzBdKSYmdGhpcy5pdGVtc1tzXS5pdGVtWzBdIT09dGhpcy5jdXJyZW50SXRlbVswXSYmKGg9dGhpcy5pdGVtc1tzXS5pdGVtLm9mZnNldCgpW2FdLGw9ITEsZVt1XS1oPnRoaXMuaXRlbXNbc11bcl0vMiYmKGw9ITApLG4+TWF0aC5hYnMoZVt1XS1oKSYmKG49TWF0aC5hYnMoZVt1XS1oKSxvPXRoaXMuaXRlbXNbc10sdGhpcy5kaXJlY3Rpb249bD9cInVwXCI6XCJkb3duXCIpKTtpZighbyYmIXRoaXMub3B0aW9ucy5kcm9wT25FbXB0eSlyZXR1cm47aWYodGhpcy5jdXJyZW50Q29udGFpbmVyPT09dGhpcy5jb250YWluZXJzW3BdKXJldHVybiB0aGlzLmN1cnJlbnRDb250YWluZXIuY29udGFpbmVyQ2FjaGUub3Zlcnx8KHRoaXMuY29udGFpbmVyc1twXS5fdHJpZ2dlcihcIm92ZXJcIixlLHRoaXMuX3VpSGFzaCgpKSx0aGlzLmN1cnJlbnRDb250YWluZXIuY29udGFpbmVyQ2FjaGUub3Zlcj0xKSx2b2lkIDA7bz90aGlzLl9yZWFycmFuZ2UoZSxvLG51bGwsITApOnRoaXMuX3JlYXJyYW5nZShlLG51bGwsdGhpcy5jb250YWluZXJzW3BdLmVsZW1lbnQsITApLHRoaXMuX3RyaWdnZXIoXCJjaGFuZ2VcIixlLHRoaXMuX3VpSGFzaCgpKSx0aGlzLmNvbnRhaW5lcnNbcF0uX3RyaWdnZXIoXCJjaGFuZ2VcIixlLHRoaXMuX3VpSGFzaCh0aGlzKSksdGhpcy5jdXJyZW50Q29udGFpbmVyPXRoaXMuY29udGFpbmVyc1twXSx0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXIudXBkYXRlKHRoaXMuY3VycmVudENvbnRhaW5lcix0aGlzLnBsYWNlaG9sZGVyKSx0aGlzLmNvbnRhaW5lcnNbcF0uX3RyaWdnZXIoXCJvdmVyXCIsZSx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY29udGFpbmVyc1twXS5jb250YWluZXJDYWNoZS5vdmVyPTF9fSxfY3JlYXRlSGVscGVyOmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMub3B0aW9ucyxzPXQuaXNGdW5jdGlvbihpLmhlbHBlcik/dChpLmhlbHBlci5hcHBseSh0aGlzLmVsZW1lbnRbMF0sW2UsdGhpcy5jdXJyZW50SXRlbV0pKTpcImNsb25lXCI9PT1pLmhlbHBlcj90aGlzLmN1cnJlbnRJdGVtLmNsb25lKCk6dGhpcy5jdXJyZW50SXRlbTtyZXR1cm4gcy5wYXJlbnRzKFwiYm9keVwiKS5sZW5ndGh8fHQoXCJwYXJlbnRcIiE9PWkuYXBwZW5kVG8/aS5hcHBlbmRUbzp0aGlzLmN1cnJlbnRJdGVtWzBdLnBhcmVudE5vZGUpWzBdLmFwcGVuZENoaWxkKHNbMF0pLHNbMF09PT10aGlzLmN1cnJlbnRJdGVtWzBdJiYodGhpcy5fc3RvcmVkQ1NTPXt3aWR0aDp0aGlzLmN1cnJlbnRJdGVtWzBdLnN0eWxlLndpZHRoLGhlaWdodDp0aGlzLmN1cnJlbnRJdGVtWzBdLnN0eWxlLmhlaWdodCxwb3NpdGlvbjp0aGlzLmN1cnJlbnRJdGVtLmNzcyhcInBvc2l0aW9uXCIpLHRvcDp0aGlzLmN1cnJlbnRJdGVtLmNzcyhcInRvcFwiKSxsZWZ0OnRoaXMuY3VycmVudEl0ZW0uY3NzKFwibGVmdFwiKX0pLCghc1swXS5zdHlsZS53aWR0aHx8aS5mb3JjZUhlbHBlclNpemUpJiZzLndpZHRoKHRoaXMuY3VycmVudEl0ZW0ud2lkdGgoKSksKCFzWzBdLnN0eWxlLmhlaWdodHx8aS5mb3JjZUhlbHBlclNpemUpJiZzLmhlaWdodCh0aGlzLmN1cnJlbnRJdGVtLmhlaWdodCgpKSxzfSxfYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcjpmdW5jdGlvbihlKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9ZS5zcGxpdChcIiBcIikpLHQuaXNBcnJheShlKSYmKGU9e2xlZnQ6K2VbMF0sdG9wOitlWzFdfHwwfSksXCJsZWZ0XCJpbiBlJiYodGhpcy5vZmZzZXQuY2xpY2subGVmdD1lLmxlZnQrdGhpcy5tYXJnaW5zLmxlZnQpLFwicmlnaHRcImluIGUmJih0aGlzLm9mZnNldC5jbGljay5sZWZ0PXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtZS5yaWdodCt0aGlzLm1hcmdpbnMubGVmdCksXCJ0b3BcImluIGUmJih0aGlzLm9mZnNldC5jbGljay50b3A9ZS50b3ArdGhpcy5tYXJnaW5zLnRvcCksXCJib3R0b21cImluIGUmJih0aGlzLm9mZnNldC5jbGljay50b3A9dGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtZS5ib3R0b20rdGhpcy5tYXJnaW5zLnRvcCl9LF9nZXRQYXJlbnRPZmZzZXQ6ZnVuY3Rpb24oKXt0aGlzLm9mZnNldFBhcmVudD10aGlzLmhlbHBlci5vZmZzZXRQYXJlbnQoKTt2YXIgZT10aGlzLm9mZnNldFBhcmVudC5vZmZzZXQoKTtyZXR1cm5cImFic29sdXRlXCI9PT10aGlzLmNzc1Bvc2l0aW9uJiZ0aGlzLnNjcm9sbFBhcmVudFswXSE9PXRoaXMuZG9jdW1lbnRbMF0mJnQuY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sdGhpcy5vZmZzZXRQYXJlbnRbMF0pJiYoZS5sZWZ0Kz10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCksZS50b3ArPXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpKSwodGhpcy5vZmZzZXRQYXJlbnRbMF09PT10aGlzLmRvY3VtZW50WzBdLmJvZHl8fHRoaXMub2Zmc2V0UGFyZW50WzBdLnRhZ05hbWUmJlwiaHRtbFwiPT09dGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZ0LnVpLmllKSYmKGU9e3RvcDowLGxlZnQ6MH0pLHt0b3A6ZS50b3ArKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcyhcImJvcmRlclRvcFdpZHRoXCIpLDEwKXx8MCksbGVmdDplLmxlZnQrKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcyhcImJvcmRlckxlZnRXaWR0aFwiKSwxMCl8fDApfX0sX2dldFJlbGF0aXZlT2Zmc2V0OmZ1bmN0aW9uKCl7aWYoXCJyZWxhdGl2ZVwiPT09dGhpcy5jc3NQb3NpdGlvbil7dmFyIHQ9dGhpcy5jdXJyZW50SXRlbS5wb3NpdGlvbigpO3JldHVybnt0b3A6dC50b3AtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcyhcInRvcFwiKSwxMCl8fDApK3RoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpLGxlZnQ6dC5sZWZ0LShwYXJzZUludCh0aGlzLmhlbHBlci5jc3MoXCJsZWZ0XCIpLDEwKXx8MCkrdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpfX1yZXR1cm57dG9wOjAsbGVmdDowfX0sX2NhY2hlTWFyZ2luczpmdW5jdGlvbigpe3RoaXMubWFyZ2lucz17bGVmdDpwYXJzZUludCh0aGlzLmN1cnJlbnRJdGVtLmNzcyhcIm1hcmdpbkxlZnRcIiksMTApfHwwLHRvcDpwYXJzZUludCh0aGlzLmN1cnJlbnRJdGVtLmNzcyhcIm1hcmdpblRvcFwiKSwxMCl8fDB9fSxfY2FjaGVIZWxwZXJQcm9wb3J0aW9uczpmdW5jdGlvbigpe3RoaXMuaGVscGVyUHJvcG9ydGlvbnM9e3dpZHRoOnRoaXMuaGVscGVyLm91dGVyV2lkdGgoKSxoZWlnaHQ6dGhpcy5oZWxwZXIub3V0ZXJIZWlnaHQoKX19LF9zZXRDb250YWlubWVudDpmdW5jdGlvbigpe3ZhciBlLGkscyxuPXRoaXMub3B0aW9ucztcInBhcmVudFwiPT09bi5jb250YWlubWVudCYmKG4uY29udGFpbm1lbnQ9dGhpcy5oZWxwZXJbMF0ucGFyZW50Tm9kZSksKFwiZG9jdW1lbnRcIj09PW4uY29udGFpbm1lbnR8fFwid2luZG93XCI9PT1uLmNvbnRhaW5tZW50KSYmKHRoaXMuY29udGFpbm1lbnQ9WzAtdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdC10aGlzLm9mZnNldC5wYXJlbnQubGVmdCwwLXRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcC10aGlzLm9mZnNldC5wYXJlbnQudG9wLFwiZG9jdW1lbnRcIj09PW4uY29udGFpbm1lbnQ/dGhpcy5kb2N1bWVudC53aWR0aCgpOnRoaXMud2luZG93LndpZHRoKCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdCwoXCJkb2N1bWVudFwiPT09bi5jb250YWlubWVudD90aGlzLmRvY3VtZW50LmhlaWdodCgpfHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0OnRoaXMud2luZG93LmhlaWdodCgpfHx0aGlzLmRvY3VtZW50WzBdLmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHQpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdKSwvXihkb2N1bWVudHx3aW5kb3d8cGFyZW50KSQvLnRlc3Qobi5jb250YWlubWVudCl8fChlPXQobi5jb250YWlubWVudClbMF0saT10KG4uY29udGFpbm1lbnQpLm9mZnNldCgpLHM9XCJoaWRkZW5cIiE9PXQoZSkuY3NzKFwib3ZlcmZsb3dcIiksdGhpcy5jb250YWlubWVudD1baS5sZWZ0KyhwYXJzZUludCh0KGUpLmNzcyhcImJvcmRlckxlZnRXaWR0aFwiKSwxMCl8fDApKyhwYXJzZUludCh0KGUpLmNzcyhcInBhZGRpbmdMZWZ0XCIpLDEwKXx8MCktdGhpcy5tYXJnaW5zLmxlZnQsaS50b3ArKHBhcnNlSW50KHQoZSkuY3NzKFwiYm9yZGVyVG9wV2lkdGhcIiksMTApfHwwKSsocGFyc2VJbnQodChlKS5jc3MoXCJwYWRkaW5nVG9wXCIpLDEwKXx8MCktdGhpcy5tYXJnaW5zLnRvcCxpLmxlZnQrKHM/TWF0aC5tYXgoZS5zY3JvbGxXaWR0aCxlLm9mZnNldFdpZHRoKTplLm9mZnNldFdpZHRoKS0ocGFyc2VJbnQodChlKS5jc3MoXCJib3JkZXJMZWZ0V2lkdGhcIiksMTApfHwwKS0ocGFyc2VJbnQodChlKS5jc3MoXCJwYWRkaW5nUmlnaHRcIiksMTApfHwwKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LGkudG9wKyhzP01hdGgubWF4KGUuc2Nyb2xsSGVpZ2h0LGUub2Zmc2V0SGVpZ2h0KTplLm9mZnNldEhlaWdodCktKHBhcnNlSW50KHQoZSkuY3NzKFwiYm9yZGVyVG9wV2lkdGhcIiksMTApfHwwKS0ocGFyc2VJbnQodChlKS5jc3MoXCJwYWRkaW5nQm90dG9tXCIpLDEwKXx8MCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtdGhpcy5tYXJnaW5zLnRvcF0pfSxfY29udmVydFBvc2l0aW9uVG86ZnVuY3Rpb24oZSxpKXtpfHwoaT10aGlzLnBvc2l0aW9uKTt2YXIgcz1cImFic29sdXRlXCI9PT1lPzE6LTEsbj1cImFic29sdXRlXCIhPT10aGlzLmNzc1Bvc2l0aW9ufHx0aGlzLnNjcm9sbFBhcmVudFswXSE9PXRoaXMuZG9jdW1lbnRbMF0mJnQuY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sdGhpcy5vZmZzZXRQYXJlbnRbMF0pP3RoaXMuc2Nyb2xsUGFyZW50OnRoaXMub2Zmc2V0UGFyZW50LG89LyhodG1sfGJvZHkpL2kudGVzdChuWzBdLnRhZ05hbWUpO3JldHVybnt0b3A6aS50b3ArdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wKnMrdGhpcy5vZmZzZXQucGFyZW50LnRvcCpzLShcImZpeGVkXCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKTpvPzA6bi5zY3JvbGxUb3AoKSkqcyxsZWZ0OmkubGVmdCt0aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0KnMrdGhpcy5vZmZzZXQucGFyZW50LmxlZnQqcy0oXCJmaXhlZFwiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpOm8/MDpuLnNjcm9sbExlZnQoKSkqc319LF9nZW5lcmF0ZVBvc2l0aW9uOmZ1bmN0aW9uKGUpe3ZhciBpLHMsbj10aGlzLm9wdGlvbnMsbz1lLnBhZ2VYLGE9ZS5wYWdlWSxyPVwiYWJzb2x1dGVcIiE9PXRoaXMuY3NzUG9zaXRpb258fHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5kb2N1bWVudFswXSYmdC5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSk/dGhpcy5zY3JvbGxQYXJlbnQ6dGhpcy5vZmZzZXRQYXJlbnQsaD0vKGh0bWx8Ym9keSkvaS50ZXN0KHJbMF0udGFnTmFtZSk7cmV0dXJuXCJyZWxhdGl2ZVwiIT09dGhpcy5jc3NQb3NpdGlvbnx8dGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLmRvY3VtZW50WzBdJiZ0aGlzLnNjcm9sbFBhcmVudFswXSE9PXRoaXMub2Zmc2V0UGFyZW50WzBdfHwodGhpcy5vZmZzZXQucmVsYXRpdmU9dGhpcy5fZ2V0UmVsYXRpdmVPZmZzZXQoKSksdGhpcy5vcmlnaW5hbFBvc2l0aW9uJiYodGhpcy5jb250YWlubWVudCYmKGUucGFnZVgtdGhpcy5vZmZzZXQuY2xpY2subGVmdDx0aGlzLmNvbnRhaW5tZW50WzBdJiYobz10aGlzLmNvbnRhaW5tZW50WzBdK3RoaXMub2Zmc2V0LmNsaWNrLmxlZnQpLGUucGFnZVktdGhpcy5vZmZzZXQuY2xpY2sudG9wPHRoaXMuY29udGFpbm1lbnRbMV0mJihhPXRoaXMuY29udGFpbm1lbnRbMV0rdGhpcy5vZmZzZXQuY2xpY2sudG9wKSxlLnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+dGhpcy5jb250YWlubWVudFsyXSYmKG89dGhpcy5jb250YWlubWVudFsyXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0KSxlLnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcD50aGlzLmNvbnRhaW5tZW50WzNdJiYoYT10aGlzLmNvbnRhaW5tZW50WzNdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCkpLG4uZ3JpZCYmKGk9dGhpcy5vcmlnaW5hbFBhZ2VZK01hdGgucm91bmQoKGEtdGhpcy5vcmlnaW5hbFBhZ2VZKS9uLmdyaWRbMV0pKm4uZ3JpZFsxXSxhPXRoaXMuY29udGFpbm1lbnQ/aS10aGlzLm9mZnNldC5jbGljay50b3A+PXRoaXMuY29udGFpbm1lbnRbMV0mJmktdGhpcy5vZmZzZXQuY2xpY2sudG9wPD10aGlzLmNvbnRhaW5tZW50WzNdP2k6aS10aGlzLm9mZnNldC5jbGljay50b3A+PXRoaXMuY29udGFpbm1lbnRbMV0/aS1uLmdyaWRbMV06aStuLmdyaWRbMV06aSxzPXRoaXMub3JpZ2luYWxQYWdlWCtNYXRoLnJvdW5kKChvLXRoaXMub3JpZ2luYWxQYWdlWCkvbi5ncmlkWzBdKSpuLmdyaWRbMF0sbz10aGlzLmNvbnRhaW5tZW50P3MtdGhpcy5vZmZzZXQuY2xpY2subGVmdD49dGhpcy5jb250YWlubWVudFswXSYmcy10aGlzLm9mZnNldC5jbGljay5sZWZ0PD10aGlzLmNvbnRhaW5tZW50WzJdP3M6cy10aGlzLm9mZnNldC5jbGljay5sZWZ0Pj10aGlzLmNvbnRhaW5tZW50WzBdP3Mtbi5ncmlkWzBdOnMrbi5ncmlkWzBdOnMpKSx7dG9wOmEtdGhpcy5vZmZzZXQuY2xpY2sudG9wLXRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcC10aGlzLm9mZnNldC5wYXJlbnQudG9wKyhcImZpeGVkXCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKTpoPzA6ci5zY3JvbGxUb3AoKSksbGVmdDpvLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQtdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdC10aGlzLm9mZnNldC5wYXJlbnQubGVmdCsoXCJmaXhlZFwiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpOmg/MDpyLnNjcm9sbExlZnQoKSl9fSxfcmVhcnJhbmdlOmZ1bmN0aW9uKHQsZSxpLHMpe2k/aVswXS5hcHBlbmRDaGlsZCh0aGlzLnBsYWNlaG9sZGVyWzBdKTplLml0ZW1bMF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5wbGFjZWhvbGRlclswXSxcImRvd25cIj09PXRoaXMuZGlyZWN0aW9uP2UuaXRlbVswXTplLml0ZW1bMF0ubmV4dFNpYmxpbmcpLHRoaXMuY291bnRlcj10aGlzLmNvdW50ZXI/Kyt0aGlzLmNvdW50ZXI6MTt2YXIgbj10aGlzLmNvdW50ZXI7dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtuPT09dGhpcy5jb3VudGVyJiZ0aGlzLnJlZnJlc2hQb3NpdGlvbnMoIXMpfSl9LF9jbGVhcjpmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCxlLGkpe3JldHVybiBmdW5jdGlvbihzKXtpLl90cmlnZ2VyKHQscyxlLl91aUhhc2goZSkpfX10aGlzLnJldmVydGluZz0hMTt2YXIgcyxuPVtdO2lmKCF0aGlzLl9ub0ZpbmFsU29ydCYmdGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKS5sZW5ndGgmJnRoaXMucGxhY2Vob2xkZXIuYmVmb3JlKHRoaXMuY3VycmVudEl0ZW0pLHRoaXMuX25vRmluYWxTb3J0PW51bGwsdGhpcy5oZWxwZXJbMF09PT10aGlzLmN1cnJlbnRJdGVtWzBdKXtmb3IocyBpbiB0aGlzLl9zdG9yZWRDU1MpKFwiYXV0b1wiPT09dGhpcy5fc3RvcmVkQ1NTW3NdfHxcInN0YXRpY1wiPT09dGhpcy5fc3RvcmVkQ1NTW3NdKSYmKHRoaXMuX3N0b3JlZENTU1tzXT1cIlwiKTt0aGlzLmN1cnJlbnRJdGVtLmNzcyh0aGlzLl9zdG9yZWRDU1MpLHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuY3VycmVudEl0ZW0sXCJ1aS1zb3J0YWJsZS1oZWxwZXJcIil9ZWxzZSB0aGlzLmN1cnJlbnRJdGVtLnNob3coKTtmb3IodGhpcy5mcm9tT3V0c2lkZSYmIWUmJm4ucHVzaChmdW5jdGlvbih0KXt0aGlzLl90cmlnZ2VyKFwicmVjZWl2ZVwiLHQsdGhpcy5fdWlIYXNoKHRoaXMuZnJvbU91dHNpZGUpKX0pLCF0aGlzLmZyb21PdXRzaWRlJiZ0aGlzLmRvbVBvc2l0aW9uLnByZXY9PT10aGlzLmN1cnJlbnRJdGVtLnByZXYoKS5ub3QoXCIudWktc29ydGFibGUtaGVscGVyXCIpWzBdJiZ0aGlzLmRvbVBvc2l0aW9uLnBhcmVudD09PXRoaXMuY3VycmVudEl0ZW0ucGFyZW50KClbMF18fGV8fG4ucHVzaChmdW5jdGlvbih0KXt0aGlzLl90cmlnZ2VyKFwidXBkYXRlXCIsdCx0aGlzLl91aUhhc2goKSl9KSx0aGlzIT09dGhpcy5jdXJyZW50Q29udGFpbmVyJiYoZXx8KG4ucHVzaChmdW5jdGlvbih0KXt0aGlzLl90cmlnZ2VyKFwicmVtb3ZlXCIsdCx0aGlzLl91aUhhc2goKSl9KSxuLnB1c2goZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3QuX3RyaWdnZXIoXCJyZWNlaXZlXCIsZSx0aGlzLl91aUhhc2godGhpcykpfX0uY2FsbCh0aGlzLHRoaXMuY3VycmVudENvbnRhaW5lcikpLG4ucHVzaChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dC5fdHJpZ2dlcihcInVwZGF0ZVwiLGUsdGhpcy5fdWlIYXNoKHRoaXMpKX19LmNhbGwodGhpcyx0aGlzLmN1cnJlbnRDb250YWluZXIpKSkpLHM9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xO3M+PTA7cy0tKWV8fG4ucHVzaChpKFwiZGVhY3RpdmF0ZVwiLHRoaXMsdGhpcy5jb250YWluZXJzW3NdKSksdGhpcy5jb250YWluZXJzW3NdLmNvbnRhaW5lckNhY2hlLm92ZXImJihuLnB1c2goaShcIm91dFwiLHRoaXMsdGhpcy5jb250YWluZXJzW3NdKSksdGhpcy5jb250YWluZXJzW3NdLmNvbnRhaW5lckNhY2hlLm92ZXI9MCk7aWYodGhpcy5zdG9yZWRDdXJzb3ImJih0aGlzLmRvY3VtZW50LmZpbmQoXCJib2R5XCIpLmNzcyhcImN1cnNvclwiLHRoaXMuc3RvcmVkQ3Vyc29yKSx0aGlzLnN0b3JlZFN0eWxlc2hlZXQucmVtb3ZlKCkpLHRoaXMuX3N0b3JlZE9wYWNpdHkmJnRoaXMuaGVscGVyLmNzcyhcIm9wYWNpdHlcIix0aGlzLl9zdG9yZWRPcGFjaXR5KSx0aGlzLl9zdG9yZWRaSW5kZXgmJnRoaXMuaGVscGVyLmNzcyhcInpJbmRleFwiLFwiYXV0b1wiPT09dGhpcy5fc3RvcmVkWkluZGV4P1wiXCI6dGhpcy5fc3RvcmVkWkluZGV4KSx0aGlzLmRyYWdnaW5nPSExLGV8fHRoaXMuX3RyaWdnZXIoXCJiZWZvcmVTdG9wXCIsdCx0aGlzLl91aUhhc2goKSksdGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pLHRoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbHx8KHRoaXMuaGVscGVyWzBdIT09dGhpcy5jdXJyZW50SXRlbVswXSYmdGhpcy5oZWxwZXIucmVtb3ZlKCksdGhpcy5oZWxwZXI9bnVsbCksIWUpe2ZvcihzPTA7bi5sZW5ndGg+cztzKyspbltzXS5jYWxsKHRoaXMsdCk7dGhpcy5fdHJpZ2dlcihcInN0b3BcIix0LHRoaXMuX3VpSGFzaCgpKX1yZXR1cm4gdGhpcy5mcm9tT3V0c2lkZT0hMSwhdGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsfSxfdHJpZ2dlcjpmdW5jdGlvbigpe3QuV2lkZ2V0LnByb3RvdHlwZS5fdHJpZ2dlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk9PT0hMSYmdGhpcy5jYW5jZWwoKX0sX3VpSGFzaDpmdW5jdGlvbihlKXt2YXIgaT1lfHx0aGlzO3JldHVybntoZWxwZXI6aS5oZWxwZXIscGxhY2Vob2xkZXI6aS5wbGFjZWhvbGRlcnx8dChbXSkscG9zaXRpb246aS5wb3NpdGlvbixvcmlnaW5hbFBvc2l0aW9uOmkub3JpZ2luYWxQb3NpdGlvbixvZmZzZXQ6aS5wb3NpdGlvbkFicyxpdGVtOmkuY3VycmVudEl0ZW0sc2VuZGVyOmU/ZS5lbGVtZW50Om51bGx9fX0pLHQud2lkZ2V0KFwidWkuYWNjb3JkaW9uXCIse3ZlcnNpb246XCIxLjEyLjFcIixvcHRpb25zOnthY3RpdmU6MCxhbmltYXRlOnt9LGNsYXNzZXM6e1widWktYWNjb3JkaW9uLWhlYWRlclwiOlwidWktY29ybmVyLXRvcFwiLFwidWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWRcIjpcInVpLWNvcm5lci1hbGxcIixcInVpLWFjY29yZGlvbi1jb250ZW50XCI6XCJ1aS1jb3JuZXItYm90dG9tXCJ9LGNvbGxhcHNpYmxlOiExLGV2ZW50OlwiY2xpY2tcIixoZWFkZXI6XCI+IGxpID4gOmZpcnN0LWNoaWxkLCA+IDpub3QobGkpOmV2ZW5cIixoZWlnaHRTdHlsZTpcImF1dG9cIixpY29uczp7YWN0aXZlSGVhZGVyOlwidWktaWNvbi10cmlhbmdsZS0xLXNcIixoZWFkZXI6XCJ1aS1pY29uLXRyaWFuZ2xlLTEtZVwifSxhY3RpdmF0ZTpudWxsLGJlZm9yZUFjdGl2YXRlOm51bGx9LGhpZGVQcm9wczp7Ym9yZGVyVG9wV2lkdGg6XCJoaWRlXCIsYm9yZGVyQm90dG9tV2lkdGg6XCJoaWRlXCIscGFkZGluZ1RvcDpcImhpZGVcIixwYWRkaW5nQm90dG9tOlwiaGlkZVwiLGhlaWdodDpcImhpZGVcIn0sc2hvd1Byb3BzOntib3JkZXJUb3BXaWR0aDpcInNob3dcIixib3JkZXJCb3R0b21XaWR0aDpcInNob3dcIixwYWRkaW5nVG9wOlwic2hvd1wiLHBhZGRpbmdCb3R0b206XCJzaG93XCIsaGVpZ2h0Olwic2hvd1wifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcHRpb25zO3RoaXMucHJldlNob3c9dGhpcy5wcmV2SGlkZT10KCksdGhpcy5fYWRkQ2xhc3MoXCJ1aS1hY2NvcmRpb25cIixcInVpLXdpZGdldCB1aS1oZWxwZXItcmVzZXRcIiksdGhpcy5lbGVtZW50LmF0dHIoXCJyb2xlXCIsXCJ0YWJsaXN0XCIpLGUuY29sbGFwc2libGV8fGUuYWN0aXZlIT09ITEmJm51bGwhPWUuYWN0aXZlfHwoZS5hY3RpdmU9MCksdGhpcy5fcHJvY2Vzc1BhbmVscygpLDA+ZS5hY3RpdmUmJihlLmFjdGl2ZSs9dGhpcy5oZWFkZXJzLmxlbmd0aCksdGhpcy5fcmVmcmVzaCgpfSxfZ2V0Q3JlYXRlRXZlbnREYXRhOmZ1bmN0aW9uKCl7cmV0dXJue2hlYWRlcjp0aGlzLmFjdGl2ZSxwYW5lbDp0aGlzLmFjdGl2ZS5sZW5ndGg/dGhpcy5hY3RpdmUubmV4dCgpOnQoKX19LF9jcmVhdGVJY29uczpmdW5jdGlvbigpe3ZhciBlLGkscz10aGlzLm9wdGlvbnMuaWNvbnM7cyYmKGU9dChcIjxzcGFuPlwiKSx0aGlzLl9hZGRDbGFzcyhlLFwidWktYWNjb3JkaW9uLWhlYWRlci1pY29uXCIsXCJ1aS1pY29uIFwiK3MuaGVhZGVyKSxlLnByZXBlbmRUbyh0aGlzLmhlYWRlcnMpLGk9dGhpcy5hY3RpdmUuY2hpbGRyZW4oXCIudWktYWNjb3JkaW9uLWhlYWRlci1pY29uXCIpLHRoaXMuX3JlbW92ZUNsYXNzKGkscy5oZWFkZXIpLl9hZGRDbGFzcyhpLG51bGwscy5hY3RpdmVIZWFkZXIpLl9hZGRDbGFzcyh0aGlzLmhlYWRlcnMsXCJ1aS1hY2NvcmRpb24taWNvbnNcIikpXHJcbn0sX2Rlc3Ryb3lJY29uczpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaGVhZGVycyxcInVpLWFjY29yZGlvbi1pY29uc1wiKSx0aGlzLmhlYWRlcnMuY2hpbGRyZW4oXCIudWktYWNjb3JkaW9uLWhlYWRlci1pY29uXCIpLnJlbW92ZSgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0O3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKFwicm9sZVwiKSx0aGlzLmhlYWRlcnMucmVtb3ZlQXR0cihcInJvbGUgYXJpYS1leHBhbmRlZCBhcmlhLXNlbGVjdGVkIGFyaWEtY29udHJvbHMgdGFiSW5kZXhcIikucmVtb3ZlVW5pcXVlSWQoKSx0aGlzLl9kZXN0cm95SWNvbnMoKSx0PXRoaXMuaGVhZGVycy5uZXh0KCkuY3NzKFwiZGlzcGxheVwiLFwiXCIpLnJlbW92ZUF0dHIoXCJyb2xlIGFyaWEtaGlkZGVuIGFyaWEtbGFiZWxsZWRieVwiKS5yZW1vdmVVbmlxdWVJZCgpLFwiY29udGVudFwiIT09dGhpcy5vcHRpb25zLmhlaWdodFN0eWxlJiZ0LmNzcyhcImhlaWdodFwiLFwiXCIpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJhY3RpdmVcIj09PXQ/KHRoaXMuX2FjdGl2YXRlKGUpLHZvaWQgMCk6KFwiZXZlbnRcIj09PXQmJih0aGlzLm9wdGlvbnMuZXZlbnQmJnRoaXMuX29mZih0aGlzLmhlYWRlcnMsdGhpcy5vcHRpb25zLmV2ZW50KSx0aGlzLl9zZXR1cEV2ZW50cyhlKSksdGhpcy5fc3VwZXIodCxlKSxcImNvbGxhcHNpYmxlXCIhPT10fHxlfHx0aGlzLm9wdGlvbnMuYWN0aXZlIT09ITF8fHRoaXMuX2FjdGl2YXRlKDApLFwiaWNvbnNcIj09PXQmJih0aGlzLl9kZXN0cm95SWNvbnMoKSxlJiZ0aGlzLl9jcmVhdGVJY29ucygpKSx2b2lkIDApfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24odCl7dGhpcy5fc3VwZXIodCksdGhpcy5lbGVtZW50LmF0dHIoXCJhcmlhLWRpc2FibGVkXCIsdCksdGhpcy5fdG9nZ2xlQ2xhc3MobnVsbCxcInVpLXN0YXRlLWRpc2FibGVkXCIsISF0KSx0aGlzLl90b2dnbGVDbGFzcyh0aGlzLmhlYWRlcnMuYWRkKHRoaXMuaGVhZGVycy5uZXh0KCkpLG51bGwsXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiLCEhdCl9LF9rZXlkb3duOmZ1bmN0aW9uKGUpe2lmKCFlLmFsdEtleSYmIWUuY3RybEtleSl7dmFyIGk9dC51aS5rZXlDb2RlLHM9dGhpcy5oZWFkZXJzLmxlbmd0aCxuPXRoaXMuaGVhZGVycy5pbmRleChlLnRhcmdldCksbz0hMTtzd2l0Y2goZS5rZXlDb2RlKXtjYXNlIGkuUklHSFQ6Y2FzZSBpLkRPV046bz10aGlzLmhlYWRlcnNbKG4rMSklc107YnJlYWs7Y2FzZSBpLkxFRlQ6Y2FzZSBpLlVQOm89dGhpcy5oZWFkZXJzWyhuLTErcyklc107YnJlYWs7Y2FzZSBpLlNQQUNFOmNhc2UgaS5FTlRFUjp0aGlzLl9ldmVudEhhbmRsZXIoZSk7YnJlYWs7Y2FzZSBpLkhPTUU6bz10aGlzLmhlYWRlcnNbMF07YnJlYWs7Y2FzZSBpLkVORDpvPXRoaXMuaGVhZGVyc1tzLTFdfW8mJih0KGUudGFyZ2V0KS5hdHRyKFwidGFiSW5kZXhcIiwtMSksdChvKS5hdHRyKFwidGFiSW5kZXhcIiwwKSx0KG8pLnRyaWdnZXIoXCJmb2N1c1wiKSxlLnByZXZlbnREZWZhdWx0KCkpfX0sX3BhbmVsS2V5RG93bjpmdW5jdGlvbihlKXtlLmtleUNvZGU9PT10LnVpLmtleUNvZGUuVVAmJmUuY3RybEtleSYmdChlLmN1cnJlbnRUYXJnZXQpLnByZXYoKS50cmlnZ2VyKFwiZm9jdXNcIil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnM7dGhpcy5fcHJvY2Vzc1BhbmVscygpLGUuYWN0aXZlPT09ITEmJmUuY29sbGFwc2libGU9PT0hMHx8IXRoaXMuaGVhZGVycy5sZW5ndGg/KGUuYWN0aXZlPSExLHRoaXMuYWN0aXZlPXQoKSk6ZS5hY3RpdmU9PT0hMT90aGlzLl9hY3RpdmF0ZSgwKTp0aGlzLmFjdGl2ZS5sZW5ndGgmJiF0LmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXSx0aGlzLmFjdGl2ZVswXSk/dGhpcy5oZWFkZXJzLmxlbmd0aD09PXRoaXMuaGVhZGVycy5maW5kKFwiLnVpLXN0YXRlLWRpc2FibGVkXCIpLmxlbmd0aD8oZS5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9dCgpKTp0aGlzLl9hY3RpdmF0ZShNYXRoLm1heCgwLGUuYWN0aXZlLTEpKTplLmFjdGl2ZT10aGlzLmhlYWRlcnMuaW5kZXgodGhpcy5hY3RpdmUpLHRoaXMuX2Rlc3Ryb3lJY29ucygpLHRoaXMuX3JlZnJlc2goKX0sX3Byb2Nlc3NQYW5lbHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmhlYWRlcnMsZT10aGlzLnBhbmVsczt0aGlzLmhlYWRlcnM9dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLmhlYWRlciksdGhpcy5fYWRkQ2xhc3ModGhpcy5oZWFkZXJzLFwidWktYWNjb3JkaW9uLWhlYWRlciB1aS1hY2NvcmRpb24taGVhZGVyLWNvbGxhcHNlZFwiLFwidWktc3RhdGUtZGVmYXVsdFwiKSx0aGlzLnBhbmVscz10aGlzLmhlYWRlcnMubmV4dCgpLmZpbHRlcihcIjpub3QoLnVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSlcIikuaGlkZSgpLHRoaXMuX2FkZENsYXNzKHRoaXMucGFuZWxzLFwidWktYWNjb3JkaW9uLWNvbnRlbnRcIixcInVpLWhlbHBlci1yZXNldCB1aS13aWRnZXQtY29udGVudFwiKSxlJiYodGhpcy5fb2ZmKHQubm90KHRoaXMuaGVhZGVycykpLHRoaXMuX29mZihlLm5vdCh0aGlzLnBhbmVscykpKX0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgZSxpPXRoaXMub3B0aW9ucyxzPWkuaGVpZ2h0U3R5bGUsbj10aGlzLmVsZW1lbnQucGFyZW50KCk7dGhpcy5hY3RpdmU9dGhpcy5fZmluZEFjdGl2ZShpLmFjdGl2ZSksdGhpcy5fYWRkQ2xhc3ModGhpcy5hY3RpdmUsXCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZVwiLFwidWktc3RhdGUtYWN0aXZlXCIpLl9yZW1vdmVDbGFzcyh0aGlzLmFjdGl2ZSxcInVpLWFjY29yZGlvbi1oZWFkZXItY29sbGFwc2VkXCIpLHRoaXMuX2FkZENsYXNzKHRoaXMuYWN0aXZlLm5leHQoKSxcInVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZVwiKSx0aGlzLmFjdGl2ZS5uZXh0KCkuc2hvdygpLHRoaXMuaGVhZGVycy5hdHRyKFwicm9sZVwiLFwidGFiXCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgZT10KHRoaXMpLGk9ZS51bmlxdWVJZCgpLmF0dHIoXCJpZFwiKSxzPWUubmV4dCgpLG49cy51bmlxdWVJZCgpLmF0dHIoXCJpZFwiKTtlLmF0dHIoXCJhcmlhLWNvbnRyb2xzXCIsbikscy5hdHRyKFwiYXJpYS1sYWJlbGxlZGJ5XCIsaSl9KS5uZXh0KCkuYXR0cihcInJvbGVcIixcInRhYnBhbmVsXCIpLHRoaXMuaGVhZGVycy5ub3QodGhpcy5hY3RpdmUpLmF0dHIoe1wiYXJpYS1zZWxlY3RlZFwiOlwiZmFsc2VcIixcImFyaWEtZXhwYW5kZWRcIjpcImZhbHNlXCIsdGFiSW5kZXg6LTF9KS5uZXh0KCkuYXR0cih7XCJhcmlhLWhpZGRlblwiOlwidHJ1ZVwifSkuaGlkZSgpLHRoaXMuYWN0aXZlLmxlbmd0aD90aGlzLmFjdGl2ZS5hdHRyKHtcImFyaWEtc2VsZWN0ZWRcIjpcInRydWVcIixcImFyaWEtZXhwYW5kZWRcIjpcInRydWVcIix0YWJJbmRleDowfSkubmV4dCgpLmF0dHIoe1wiYXJpYS1oaWRkZW5cIjpcImZhbHNlXCJ9KTp0aGlzLmhlYWRlcnMuZXEoMCkuYXR0cihcInRhYkluZGV4XCIsMCksdGhpcy5fY3JlYXRlSWNvbnMoKSx0aGlzLl9zZXR1cEV2ZW50cyhpLmV2ZW50KSxcImZpbGxcIj09PXM/KGU9bi5oZWlnaHQoKSx0aGlzLmVsZW1lbnQuc2libGluZ3MoXCI6dmlzaWJsZVwiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9dCh0aGlzKSxzPWkuY3NzKFwicG9zaXRpb25cIik7XCJhYnNvbHV0ZVwiIT09cyYmXCJmaXhlZFwiIT09cyYmKGUtPWkub3V0ZXJIZWlnaHQoITApKX0pLHRoaXMuaGVhZGVycy5lYWNoKGZ1bmN0aW9uKCl7ZS09dCh0aGlzKS5vdXRlckhlaWdodCghMCl9KSx0aGlzLmhlYWRlcnMubmV4dCgpLmVhY2goZnVuY3Rpb24oKXt0KHRoaXMpLmhlaWdodChNYXRoLm1heCgwLGUtdCh0aGlzKS5pbm5lckhlaWdodCgpK3QodGhpcykuaGVpZ2h0KCkpKX0pLmNzcyhcIm92ZXJmbG93XCIsXCJhdXRvXCIpKTpcImF1dG9cIj09PXMmJihlPTAsdGhpcy5oZWFkZXJzLm5leHQoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9dCh0aGlzKS5pcyhcIjp2aXNpYmxlXCIpO2l8fHQodGhpcykuc2hvdygpLGU9TWF0aC5tYXgoZSx0KHRoaXMpLmNzcyhcImhlaWdodFwiLFwiXCIpLmhlaWdodCgpKSxpfHx0KHRoaXMpLmhpZGUoKX0pLmhlaWdodChlKSl9LF9hY3RpdmF0ZTpmdW5jdGlvbihlKXt2YXIgaT10aGlzLl9maW5kQWN0aXZlKGUpWzBdO2khPT10aGlzLmFjdGl2ZVswXSYmKGk9aXx8dGhpcy5hY3RpdmVbMF0sdGhpcy5fZXZlbnRIYW5kbGVyKHt0YXJnZXQ6aSxjdXJyZW50VGFyZ2V0OmkscHJldmVudERlZmF1bHQ6dC5ub29wfSkpfSxfZmluZEFjdGl2ZTpmdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZT90aGlzLmhlYWRlcnMuZXEoZSk6dCgpfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24oZSl7dmFyIGk9e2tleWRvd246XCJfa2V5ZG93blwifTtlJiZ0LmVhY2goZS5zcGxpdChcIiBcIiksZnVuY3Rpb24odCxlKXtpW2VdPVwiX2V2ZW50SGFuZGxlclwifSksdGhpcy5fb2ZmKHRoaXMuaGVhZGVycy5hZGQodGhpcy5oZWFkZXJzLm5leHQoKSkpLHRoaXMuX29uKHRoaXMuaGVhZGVycyxpKSx0aGlzLl9vbih0aGlzLmhlYWRlcnMubmV4dCgpLHtrZXlkb3duOlwiX3BhbmVsS2V5RG93blwifSksdGhpcy5faG92ZXJhYmxlKHRoaXMuaGVhZGVycyksdGhpcy5fZm9jdXNhYmxlKHRoaXMuaGVhZGVycyl9LF9ldmVudEhhbmRsZXI6ZnVuY3Rpb24oZSl7dmFyIGkscyxuPXRoaXMub3B0aW9ucyxvPXRoaXMuYWN0aXZlLGE9dChlLmN1cnJlbnRUYXJnZXQpLHI9YVswXT09PW9bMF0saD1yJiZuLmNvbGxhcHNpYmxlLGw9aD90KCk6YS5uZXh0KCksYz1vLm5leHQoKSx1PXtvbGRIZWFkZXI6byxvbGRQYW5lbDpjLG5ld0hlYWRlcjpoP3QoKTphLG5ld1BhbmVsOmx9O2UucHJldmVudERlZmF1bHQoKSxyJiYhbi5jb2xsYXBzaWJsZXx8dGhpcy5fdHJpZ2dlcihcImJlZm9yZUFjdGl2YXRlXCIsZSx1KT09PSExfHwobi5hY3RpdmU9aD8hMTp0aGlzLmhlYWRlcnMuaW5kZXgoYSksdGhpcy5hY3RpdmU9cj90KCk6YSx0aGlzLl90b2dnbGUodSksdGhpcy5fcmVtb3ZlQ2xhc3MobyxcInVpLWFjY29yZGlvbi1oZWFkZXItYWN0aXZlXCIsXCJ1aS1zdGF0ZS1hY3RpdmVcIiksbi5pY29ucyYmKGk9by5jaGlsZHJlbihcIi51aS1hY2NvcmRpb24taGVhZGVyLWljb25cIiksdGhpcy5fcmVtb3ZlQ2xhc3MoaSxudWxsLG4uaWNvbnMuYWN0aXZlSGVhZGVyKS5fYWRkQ2xhc3MoaSxudWxsLG4uaWNvbnMuaGVhZGVyKSkscnx8KHRoaXMuX3JlbW92ZUNsYXNzKGEsXCJ1aS1hY2NvcmRpb24taGVhZGVyLWNvbGxhcHNlZFwiKS5fYWRkQ2xhc3MoYSxcInVpLWFjY29yZGlvbi1oZWFkZXItYWN0aXZlXCIsXCJ1aS1zdGF0ZS1hY3RpdmVcIiksbi5pY29ucyYmKHM9YS5jaGlsZHJlbihcIi51aS1hY2NvcmRpb24taGVhZGVyLWljb25cIiksdGhpcy5fcmVtb3ZlQ2xhc3MocyxudWxsLG4uaWNvbnMuaGVhZGVyKS5fYWRkQ2xhc3MocyxudWxsLG4uaWNvbnMuYWN0aXZlSGVhZGVyKSksdGhpcy5fYWRkQ2xhc3MoYS5uZXh0KCksXCJ1aS1hY2NvcmRpb24tY29udGVudC1hY3RpdmVcIikpKX0sX3RvZ2dsZTpmdW5jdGlvbihlKXt2YXIgaT1lLm5ld1BhbmVsLHM9dGhpcy5wcmV2U2hvdy5sZW5ndGg/dGhpcy5wcmV2U2hvdzplLm9sZFBhbmVsO3RoaXMucHJldlNob3cuYWRkKHRoaXMucHJldkhpZGUpLnN0b3AoITAsITApLHRoaXMucHJldlNob3c9aSx0aGlzLnByZXZIaWRlPXMsdGhpcy5vcHRpb25zLmFuaW1hdGU/dGhpcy5fYW5pbWF0ZShpLHMsZSk6KHMuaGlkZSgpLGkuc2hvdygpLHRoaXMuX3RvZ2dsZUNvbXBsZXRlKGUpKSxzLmF0dHIoe1wiYXJpYS1oaWRkZW5cIjpcInRydWVcIn0pLHMucHJldigpLmF0dHIoe1wiYXJpYS1zZWxlY3RlZFwiOlwiZmFsc2VcIixcImFyaWEtZXhwYW5kZWRcIjpcImZhbHNlXCJ9KSxpLmxlbmd0aCYmcy5sZW5ndGg/cy5wcmV2KCkuYXR0cih7dGFiSW5kZXg6LTEsXCJhcmlhLWV4cGFuZGVkXCI6XCJmYWxzZVwifSk6aS5sZW5ndGgmJnRoaXMuaGVhZGVycy5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMD09PXBhcnNlSW50KHQodGhpcykuYXR0cihcInRhYkluZGV4XCIpLDEwKX0pLmF0dHIoXCJ0YWJJbmRleFwiLC0xKSxpLmF0dHIoXCJhcmlhLWhpZGRlblwiLFwiZmFsc2VcIikucHJldigpLmF0dHIoe1wiYXJpYS1zZWxlY3RlZFwiOlwidHJ1ZVwiLFwiYXJpYS1leHBhbmRlZFwiOlwidHJ1ZVwiLHRhYkluZGV4OjB9KX0sX2FuaW1hdGU6ZnVuY3Rpb24odCxlLGkpe3ZhciBzLG4sbyxhPXRoaXMscj0wLGg9dC5jc3MoXCJib3gtc2l6aW5nXCIpLGw9dC5sZW5ndGgmJighZS5sZW5ndGh8fHQuaW5kZXgoKTxlLmluZGV4KCkpLGM9dGhpcy5vcHRpb25zLmFuaW1hdGV8fHt9LHU9bCYmYy5kb3dufHxjLGQ9ZnVuY3Rpb24oKXthLl90b2dnbGVDb21wbGV0ZShpKX07cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHUmJihvPXUpLFwic3RyaW5nXCI9PXR5cGVvZiB1JiYobj11KSxuPW58fHUuZWFzaW5nfHxjLmVhc2luZyxvPW98fHUuZHVyYXRpb258fGMuZHVyYXRpb24sZS5sZW5ndGg/dC5sZW5ndGg/KHM9dC5zaG93KCkub3V0ZXJIZWlnaHQoKSxlLmFuaW1hdGUodGhpcy5oaWRlUHJvcHMse2R1cmF0aW9uOm8sZWFzaW5nOm4sc3RlcDpmdW5jdGlvbih0LGUpe2Uubm93PU1hdGgucm91bmQodCl9fSksdC5oaWRlKCkuYW5pbWF0ZSh0aGlzLnNob3dQcm9wcyx7ZHVyYXRpb246byxlYXNpbmc6bixjb21wbGV0ZTpkLHN0ZXA6ZnVuY3Rpb24odCxpKXtpLm5vdz1NYXRoLnJvdW5kKHQpLFwiaGVpZ2h0XCIhPT1pLnByb3A/XCJjb250ZW50LWJveFwiPT09aCYmKHIrPWkubm93KTpcImNvbnRlbnRcIiE9PWEub3B0aW9ucy5oZWlnaHRTdHlsZSYmKGkubm93PU1hdGgucm91bmQocy1lLm91dGVySGVpZ2h0KCktcikscj0wKX19KSx2b2lkIDApOmUuYW5pbWF0ZSh0aGlzLmhpZGVQcm9wcyxvLG4sZCk6dC5hbmltYXRlKHRoaXMuc2hvd1Byb3BzLG8sbixkKX0sX3RvZ2dsZUNvbXBsZXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXQub2xkUGFuZWwsaT1lLnByZXYoKTt0aGlzLl9yZW1vdmVDbGFzcyhlLFwidWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlXCIpLHRoaXMuX3JlbW92ZUNsYXNzKGksXCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZVwiKS5fYWRkQ2xhc3MoaSxcInVpLWFjY29yZGlvbi1oZWFkZXItY29sbGFwc2VkXCIpLGUubGVuZ3RoJiYoZS5wYXJlbnQoKVswXS5jbGFzc05hbWU9ZS5wYXJlbnQoKVswXS5jbGFzc05hbWUpLHRoaXMuX3RyaWdnZXIoXCJhY3RpdmF0ZVwiLG51bGwsdCl9fSksdC53aWRnZXQoXCJ1aS5tZW51XCIse3ZlcnNpb246XCIxLjEyLjFcIixkZWZhdWx0RWxlbWVudDpcIjx1bD5cIixkZWxheTozMDAsb3B0aW9uczp7aWNvbnM6e3N1Ym1lbnU6XCJ1aS1pY29uLWNhcmV0LTEtZVwifSxpdGVtczpcIj4gKlwiLG1lbnVzOlwidWxcIixwb3NpdGlvbjp7bXk6XCJsZWZ0IHRvcFwiLGF0OlwicmlnaHQgdG9wXCJ9LHJvbGU6XCJtZW51XCIsYmx1cjpudWxsLGZvY3VzOm51bGwsc2VsZWN0Om51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZU1lbnU9dGhpcy5lbGVtZW50LHRoaXMubW91c2VIYW5kbGVkPSExLHRoaXMuZWxlbWVudC51bmlxdWVJZCgpLmF0dHIoe3JvbGU6dGhpcy5vcHRpb25zLnJvbGUsdGFiSW5kZXg6MH0pLHRoaXMuX2FkZENsYXNzKFwidWktbWVudVwiLFwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50XCIpLHRoaXMuX29uKHtcIm1vdXNlZG93biAudWktbWVudS1pdGVtXCI6ZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpfSxcImNsaWNrIC51aS1tZW51LWl0ZW1cIjpmdW5jdGlvbihlKXt2YXIgaT10KGUudGFyZ2V0KSxzPXQodC51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSk7IXRoaXMubW91c2VIYW5kbGVkJiZpLm5vdChcIi51aS1zdGF0ZS1kaXNhYmxlZFwiKS5sZW5ndGgmJih0aGlzLnNlbGVjdChlKSxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCl8fCh0aGlzLm1vdXNlSGFuZGxlZD0hMCksaS5oYXMoXCIudWktbWVudVwiKS5sZW5ndGg/dGhpcy5leHBhbmQoZSk6IXRoaXMuZWxlbWVudC5pcyhcIjpmb2N1c1wiKSYmcy5jbG9zZXN0KFwiLnVpLW1lbnVcIikubGVuZ3RoJiYodGhpcy5lbGVtZW50LnRyaWdnZXIoXCJmb2N1c1wiLFshMF0pLHRoaXMuYWN0aXZlJiYxPT09dGhpcy5hY3RpdmUucGFyZW50cyhcIi51aS1tZW51XCIpLmxlbmd0aCYmY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpKSl9LFwibW91c2VlbnRlciAudWktbWVudS1pdGVtXCI6ZnVuY3Rpb24oZSl7aWYoIXRoaXMucHJldmlvdXNGaWx0ZXIpe3ZhciBpPXQoZS50YXJnZXQpLmNsb3Nlc3QoXCIudWktbWVudS1pdGVtXCIpLHM9dChlLmN1cnJlbnRUYXJnZXQpO2lbMF09PT1zWzBdJiYodGhpcy5fcmVtb3ZlQ2xhc3Mocy5zaWJsaW5ncygpLmNoaWxkcmVuKFwiLnVpLXN0YXRlLWFjdGl2ZVwiKSxudWxsLFwidWktc3RhdGUtYWN0aXZlXCIpLHRoaXMuZm9jdXMoZSxzKSl9fSxtb3VzZWxlYXZlOlwiY29sbGFwc2VBbGxcIixcIm1vdXNlbGVhdmUgLnVpLW1lbnVcIjpcImNvbGxhcHNlQWxsXCIsZm9jdXM6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmFjdGl2ZXx8dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKS5lcSgwKTtlfHx0aGlzLmZvY3VzKHQsaSl9LGJsdXI6ZnVuY3Rpb24oZSl7dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt2YXIgaT0hdC5jb250YWlucyh0aGlzLmVsZW1lbnRbMF0sdC51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSk7aSYmdGhpcy5jb2xsYXBzZUFsbChlKX0pfSxrZXlkb3duOlwiX2tleWRvd25cIn0pLHRoaXMucmVmcmVzaCgpLHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse2NsaWNrOmZ1bmN0aW9uKHQpe3RoaXMuX2Nsb3NlT25Eb2N1bWVudENsaWNrKHQpJiZ0aGlzLmNvbGxhcHNlQWxsKHQpLHRoaXMubW91c2VIYW5kbGVkPSExfX0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWxlbWVudC5maW5kKFwiLnVpLW1lbnUtaXRlbVwiKS5yZW1vdmVBdHRyKFwicm9sZSBhcmlhLWRpc2FibGVkXCIpLGk9ZS5jaGlsZHJlbihcIi51aS1tZW51LWl0ZW0td3JhcHBlclwiKS5yZW1vdmVVbmlxdWVJZCgpLnJlbW92ZUF0dHIoXCJ0YWJJbmRleCByb2xlIGFyaWEtaGFzcG9wdXBcIik7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIikuZmluZChcIi51aS1tZW51XCIpLmFkZEJhY2soKS5yZW1vdmVBdHRyKFwicm9sZSBhcmlhLWxhYmVsbGVkYnkgYXJpYS1leHBhbmRlZCBhcmlhLWhpZGRlbiBhcmlhLWRpc2FibGVkIHRhYkluZGV4XCIpLnJlbW92ZVVuaXF1ZUlkKCkuc2hvdygpLGkuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dCh0aGlzKTtlLmRhdGEoXCJ1aS1tZW51LXN1Ym1lbnUtY2FyZXRcIikmJmUucmVtb3ZlKCl9KX0sX2tleWRvd246ZnVuY3Rpb24oZSl7dmFyIGkscyxuLG8sYT0hMDtzd2l0Y2goZS5rZXlDb2RlKXtjYXNlIHQudWkua2V5Q29kZS5QQUdFX1VQOnRoaXMucHJldmlvdXNQYWdlKGUpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLlBBR0VfRE9XTjp0aGlzLm5leHRQYWdlKGUpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLkhPTUU6dGhpcy5fbW92ZShcImZpcnN0XCIsXCJmaXJzdFwiLGUpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLkVORDp0aGlzLl9tb3ZlKFwibGFzdFwiLFwibGFzdFwiLGUpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLlVQOnRoaXMucHJldmlvdXMoZSk7YnJlYWs7Y2FzZSB0LnVpLmtleUNvZGUuRE9XTjp0aGlzLm5leHQoZSk7YnJlYWs7Y2FzZSB0LnVpLmtleUNvZGUuTEVGVDp0aGlzLmNvbGxhcHNlKGUpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLlJJR0hUOnRoaXMuYWN0aXZlJiYhdGhpcy5hY3RpdmUuaXMoXCIudWktc3RhdGUtZGlzYWJsZWRcIikmJnRoaXMuZXhwYW5kKGUpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLkVOVEVSOmNhc2UgdC51aS5rZXlDb2RlLlNQQUNFOnRoaXMuX2FjdGl2YXRlKGUpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLkVTQ0FQRTp0aGlzLmNvbGxhcHNlKGUpO2JyZWFrO2RlZmF1bHQ6YT0hMSxzPXRoaXMucHJldmlvdXNGaWx0ZXJ8fFwiXCIsbz0hMSxuPWUua2V5Q29kZT49OTYmJjEwNT49ZS5rZXlDb2RlP1wiXCIrKGUua2V5Q29kZS05Nik6U3RyaW5nLmZyb21DaGFyQ29kZShlLmtleUNvZGUpLGNsZWFyVGltZW91dCh0aGlzLmZpbHRlclRpbWVyKSxuPT09cz9vPSEwOm49cytuLGk9dGhpcy5fZmlsdGVyTWVudUl0ZW1zKG4pLGk9byYmLTEhPT1pLmluZGV4KHRoaXMuYWN0aXZlLm5leHQoKSk/dGhpcy5hY3RpdmUubmV4dEFsbChcIi51aS1tZW51LWl0ZW1cIik6aSxpLmxlbmd0aHx8KG49U3RyaW5nLmZyb21DaGFyQ29kZShlLmtleUNvZGUpLGk9dGhpcy5fZmlsdGVyTWVudUl0ZW1zKG4pKSxpLmxlbmd0aD8odGhpcy5mb2N1cyhlLGkpLHRoaXMucHJldmlvdXNGaWx0ZXI9bix0aGlzLmZpbHRlclRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMucHJldmlvdXNGaWx0ZXJ9LDFlMykpOmRlbGV0ZSB0aGlzLnByZXZpb3VzRmlsdGVyfWEmJmUucHJldmVudERlZmF1bHQoKX0sX2FjdGl2YXRlOmZ1bmN0aW9uKHQpe3RoaXMuYWN0aXZlJiYhdGhpcy5hY3RpdmUuaXMoXCIudWktc3RhdGUtZGlzYWJsZWRcIikmJih0aGlzLmFjdGl2ZS5jaGlsZHJlbihcIlthcmlhLWhhc3BvcHVwPSd0cnVlJ11cIikubGVuZ3RoP3RoaXMuZXhwYW5kKHQpOnRoaXMuc2VsZWN0KHQpKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBlLGkscyxuLG8sYT10aGlzLHI9dGhpcy5vcHRpb25zLmljb25zLnN1Ym1lbnUsaD10aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMubWVudXMpO3RoaXMuX3RvZ2dsZUNsYXNzKFwidWktbWVudS1pY29uc1wiLG51bGwsISF0aGlzLmVsZW1lbnQuZmluZChcIi51aS1pY29uXCIpLmxlbmd0aCkscz1oLmZpbHRlcihcIjpub3QoLnVpLW1lbnUpXCIpLmhpZGUoKS5hdHRyKHtyb2xlOnRoaXMub3B0aW9ucy5yb2xlLFwiYXJpYS1oaWRkZW5cIjpcInRydWVcIixcImFyaWEtZXhwYW5kZWRcIjpcImZhbHNlXCJ9KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dCh0aGlzKSxpPWUucHJldigpLHM9dChcIjxzcGFuPlwiKS5kYXRhKFwidWktbWVudS1zdWJtZW51LWNhcmV0XCIsITApO2EuX2FkZENsYXNzKHMsXCJ1aS1tZW51LWljb25cIixcInVpLWljb24gXCIrciksaS5hdHRyKFwiYXJpYS1oYXNwb3B1cFwiLFwidHJ1ZVwiKS5wcmVwZW5kKHMpLGUuYXR0cihcImFyaWEtbGFiZWxsZWRieVwiLGkuYXR0cihcImlkXCIpKX0pLHRoaXMuX2FkZENsYXNzKHMsXCJ1aS1tZW51XCIsXCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktZnJvbnRcIiksZT1oLmFkZCh0aGlzLmVsZW1lbnQpLGk9ZS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcyksaS5ub3QoXCIudWktbWVudS1pdGVtXCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgZT10KHRoaXMpO2EuX2lzRGl2aWRlcihlKSYmYS5fYWRkQ2xhc3MoZSxcInVpLW1lbnUtZGl2aWRlclwiLFwidWktd2lkZ2V0LWNvbnRlbnRcIil9KSxuPWkubm90KFwiLnVpLW1lbnUtaXRlbSwgLnVpLW1lbnUtZGl2aWRlclwiKSxvPW4uY2hpbGRyZW4oKS5ub3QoXCIudWktbWVudVwiKS51bmlxdWVJZCgpLmF0dHIoe3RhYkluZGV4Oi0xLHJvbGU6dGhpcy5faXRlbVJvbGUoKX0pLHRoaXMuX2FkZENsYXNzKG4sXCJ1aS1tZW51LWl0ZW1cIikuX2FkZENsYXNzKG8sXCJ1aS1tZW51LWl0ZW0td3JhcHBlclwiKSxpLmZpbHRlcihcIi51aS1zdGF0ZS1kaXNhYmxlZFwiKS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLFwidHJ1ZVwiKSx0aGlzLmFjdGl2ZSYmIXQuY29udGFpbnModGhpcy5lbGVtZW50WzBdLHRoaXMuYWN0aXZlWzBdKSYmdGhpcy5ibHVyKCl9LF9pdGVtUm9sZTpmdW5jdGlvbigpe3JldHVybnttZW51OlwibWVudWl0ZW1cIixsaXN0Ym94Olwib3B0aW9uXCJ9W3RoaXMub3B0aW9ucy5yb2xlXX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGUpe2lmKFwiaWNvbnNcIj09PXQpe3ZhciBpPXRoaXMuZWxlbWVudC5maW5kKFwiLnVpLW1lbnUtaWNvblwiKTt0aGlzLl9yZW1vdmVDbGFzcyhpLG51bGwsdGhpcy5vcHRpb25zLmljb25zLnN1Ym1lbnUpLl9hZGRDbGFzcyhpLG51bGwsZS5zdWJtZW51KX10aGlzLl9zdXBlcih0LGUpfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24odCl7dGhpcy5fc3VwZXIodCksdGhpcy5lbGVtZW50LmF0dHIoXCJhcmlhLWRpc2FibGVkXCIsdCtcIlwiKSx0aGlzLl90b2dnbGVDbGFzcyhudWxsLFwidWktc3RhdGUtZGlzYWJsZWRcIiwhIXQpfSxmb2N1czpmdW5jdGlvbih0LGUpe3ZhciBpLHMsbjt0aGlzLmJsdXIodCx0JiZcImZvY3VzXCI9PT10LnR5cGUpLHRoaXMuX3Njcm9sbEludG9WaWV3KGUpLHRoaXMuYWN0aXZlPWUuZmlyc3QoKSxzPXRoaXMuYWN0aXZlLmNoaWxkcmVuKFwiLnVpLW1lbnUtaXRlbS13cmFwcGVyXCIpLHRoaXMuX2FkZENsYXNzKHMsbnVsbCxcInVpLXN0YXRlLWFjdGl2ZVwiKSx0aGlzLm9wdGlvbnMucm9sZSYmdGhpcy5lbGVtZW50LmF0dHIoXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIixzLmF0dHIoXCJpZFwiKSksbj10aGlzLmFjdGl2ZS5wYXJlbnQoKS5jbG9zZXN0KFwiLnVpLW1lbnUtaXRlbVwiKS5jaGlsZHJlbihcIi51aS1tZW51LWl0ZW0td3JhcHBlclwiKSx0aGlzLl9hZGRDbGFzcyhuLG51bGwsXCJ1aS1zdGF0ZS1hY3RpdmVcIiksdCYmXCJrZXlkb3duXCI9PT10LnR5cGU/dGhpcy5fY2xvc2UoKTp0aGlzLnRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5fY2xvc2UoKX0sdGhpcy5kZWxheSksaT1lLmNoaWxkcmVuKFwiLnVpLW1lbnVcIiksaS5sZW5ndGgmJnQmJi9ebW91c2UvLnRlc3QodC50eXBlKSYmdGhpcy5fc3RhcnRPcGVuaW5nKGkpLHRoaXMuYWN0aXZlTWVudT1lLnBhcmVudCgpLHRoaXMuX3RyaWdnZXIoXCJmb2N1c1wiLHQse2l0ZW06ZX0pfSxfc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oZSl7dmFyIGkscyxuLG8sYSxyO3RoaXMuX2hhc1Njcm9sbCgpJiYoaT1wYXJzZUZsb2F0KHQuY3NzKHRoaXMuYWN0aXZlTWVudVswXSxcImJvcmRlclRvcFdpZHRoXCIpKXx8MCxzPXBhcnNlRmxvYXQodC5jc3ModGhpcy5hY3RpdmVNZW51WzBdLFwicGFkZGluZ1RvcFwiKSl8fDAsbj1lLm9mZnNldCgpLnRvcC10aGlzLmFjdGl2ZU1lbnUub2Zmc2V0KCkudG9wLWktcyxvPXRoaXMuYWN0aXZlTWVudS5zY3JvbGxUb3AoKSxhPXRoaXMuYWN0aXZlTWVudS5oZWlnaHQoKSxyPWUub3V0ZXJIZWlnaHQoKSwwPm4/dGhpcy5hY3RpdmVNZW51LnNjcm9sbFRvcChvK24pOm4rcj5hJiZ0aGlzLmFjdGl2ZU1lbnUuc2Nyb2xsVG9wKG8rbi1hK3IpKX0sYmx1cjpmdW5jdGlvbih0LGUpe2V8fGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKSx0aGlzLmFjdGl2ZSYmKHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuYWN0aXZlLmNoaWxkcmVuKFwiLnVpLW1lbnUtaXRlbS13cmFwcGVyXCIpLG51bGwsXCJ1aS1zdGF0ZS1hY3RpdmVcIiksdGhpcy5fdHJpZ2dlcihcImJsdXJcIix0LHtpdGVtOnRoaXMuYWN0aXZlfSksdGhpcy5hY3RpdmU9bnVsbCl9LF9zdGFydE9wZW5pbmc6ZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpLFwidHJ1ZVwiPT09dC5hdHRyKFwiYXJpYS1oaWRkZW5cIikmJih0aGlzLnRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5fY2xvc2UoKSx0aGlzLl9vcGVuKHQpfSx0aGlzLmRlbGF5KSl9LF9vcGVuOmZ1bmN0aW9uKGUpe3ZhciBpPXQuZXh0ZW5kKHtvZjp0aGlzLmFjdGl2ZX0sdGhpcy5vcHRpb25zLnBvc2l0aW9uKTtjbGVhclRpbWVvdXQodGhpcy50aW1lciksdGhpcy5lbGVtZW50LmZpbmQoXCIudWktbWVudVwiKS5ub3QoZS5wYXJlbnRzKFwiLnVpLW1lbnVcIikpLmhpZGUoKS5hdHRyKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksZS5zaG93KCkucmVtb3ZlQXR0cihcImFyaWEtaGlkZGVuXCIpLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsXCJ0cnVlXCIpLnBvc2l0aW9uKGkpfSxjb2xsYXBzZUFsbDpmdW5jdGlvbihlLGkpe2NsZWFyVGltZW91dCh0aGlzLnRpbWVyKSx0aGlzLnRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dmFyIHM9aT90aGlzLmVsZW1lbnQ6dChlJiZlLnRhcmdldCkuY2xvc2VzdCh0aGlzLmVsZW1lbnQuZmluZChcIi51aS1tZW51XCIpKTtzLmxlbmd0aHx8KHM9dGhpcy5lbGVtZW50KSx0aGlzLl9jbG9zZShzKSx0aGlzLmJsdXIoZSksdGhpcy5fcmVtb3ZlQ2xhc3Mocy5maW5kKFwiLnVpLXN0YXRlLWFjdGl2ZVwiKSxudWxsLFwidWktc3RhdGUtYWN0aXZlXCIpLHRoaXMuYWN0aXZlTWVudT1zfSx0aGlzLmRlbGF5KX0sX2Nsb3NlOmZ1bmN0aW9uKHQpe3R8fCh0PXRoaXMuYWN0aXZlP3RoaXMuYWN0aXZlLnBhcmVudCgpOnRoaXMuZWxlbWVudCksdC5maW5kKFwiLnVpLW1lbnVcIikuaGlkZSgpLmF0dHIoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKS5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLFwiZmFsc2VcIil9LF9jbG9zZU9uRG9jdW1lbnRDbGljazpmdW5jdGlvbihlKXtyZXR1cm4hdChlLnRhcmdldCkuY2xvc2VzdChcIi51aS1tZW51XCIpLmxlbmd0aH0sX2lzRGl2aWRlcjpmdW5jdGlvbih0KXtyZXR1cm4hL1teXFwtXFx1MjAxNFxcdTIwMTNcXHNdLy50ZXN0KHQudGV4dCgpKX0sY29sbGFwc2U6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5hY3RpdmUmJnRoaXMuYWN0aXZlLnBhcmVudCgpLmNsb3Nlc3QoXCIudWktbWVudS1pdGVtXCIsdGhpcy5lbGVtZW50KTtlJiZlLmxlbmd0aCYmKHRoaXMuX2Nsb3NlKCksdGhpcy5mb2N1cyh0LGUpKX0sZXhwYW5kOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYWN0aXZlJiZ0aGlzLmFjdGl2ZS5jaGlsZHJlbihcIi51aS1tZW51IFwiKS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcykuZmlyc3QoKTtlJiZlLmxlbmd0aCYmKHRoaXMuX29wZW4oZS5wYXJlbnQoKSksdGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLmZvY3VzKHQsZSl9KSl9LG5leHQ6ZnVuY3Rpb24odCl7dGhpcy5fbW92ZShcIm5leHRcIixcImZpcnN0XCIsdCl9LHByZXZpb3VzOmZ1bmN0aW9uKHQpe3RoaXMuX21vdmUoXCJwcmV2XCIsXCJsYXN0XCIsdCl9LGlzRmlyc3RJdGVtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZlJiYhdGhpcy5hY3RpdmUucHJldkFsbChcIi51aS1tZW51LWl0ZW1cIikubGVuZ3RofSxpc0xhc3RJdGVtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZlJiYhdGhpcy5hY3RpdmUubmV4dEFsbChcIi51aS1tZW51LWl0ZW1cIikubGVuZ3RofSxfbW92ZTpmdW5jdGlvbih0LGUsaSl7dmFyIHM7dGhpcy5hY3RpdmUmJihzPVwiZmlyc3RcIj09PXR8fFwibGFzdFwiPT09dD90aGlzLmFjdGl2ZVtcImZpcnN0XCI9PT10P1wicHJldkFsbFwiOlwibmV4dEFsbFwiXShcIi51aS1tZW51LWl0ZW1cIikuZXEoLTEpOnRoaXMuYWN0aXZlW3QrXCJBbGxcIl0oXCIudWktbWVudS1pdGVtXCIpLmVxKDApKSxzJiZzLmxlbmd0aCYmdGhpcy5hY3RpdmV8fChzPXRoaXMuYWN0aXZlTWVudS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcylbZV0oKSksdGhpcy5mb2N1cyhpLHMpfSxuZXh0UGFnZTpmdW5jdGlvbihlKXt2YXIgaSxzLG47cmV0dXJuIHRoaXMuYWN0aXZlPyh0aGlzLmlzTGFzdEl0ZW0oKXx8KHRoaXMuX2hhc1Njcm9sbCgpPyhzPXRoaXMuYWN0aXZlLm9mZnNldCgpLnRvcCxuPXRoaXMuZWxlbWVudC5oZWlnaHQoKSx0aGlzLmFjdGl2ZS5uZXh0QWxsKFwiLnVpLW1lbnUtaXRlbVwiKS5lYWNoKGZ1bmN0aW9uKCl7cmV0dXJuIGk9dCh0aGlzKSwwPmkub2Zmc2V0KCkudG9wLXMtbn0pLHRoaXMuZm9jdXMoZSxpKSk6dGhpcy5mb2N1cyhlLHRoaXMuYWN0aXZlTWVudS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcylbdGhpcy5hY3RpdmU/XCJsYXN0XCI6XCJmaXJzdFwiXSgpKSksdm9pZCAwKToodGhpcy5uZXh0KGUpLHZvaWQgMCl9LHByZXZpb3VzUGFnZTpmdW5jdGlvbihlKXt2YXIgaSxzLG47cmV0dXJuIHRoaXMuYWN0aXZlPyh0aGlzLmlzRmlyc3RJdGVtKCl8fCh0aGlzLl9oYXNTY3JvbGwoKT8ocz10aGlzLmFjdGl2ZS5vZmZzZXQoKS50b3Asbj10aGlzLmVsZW1lbnQuaGVpZ2h0KCksdGhpcy5hY3RpdmUucHJldkFsbChcIi51aS1tZW51LWl0ZW1cIikuZWFjaChmdW5jdGlvbigpe3JldHVybiBpPXQodGhpcyksaS5vZmZzZXQoKS50b3AtcytuPjB9KSx0aGlzLmZvY3VzKGUsaSkpOnRoaXMuZm9jdXMoZSx0aGlzLmFjdGl2ZU1lbnUuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmZpcnN0KCkpKSx2b2lkIDApOih0aGlzLm5leHQoZSksdm9pZCAwKX0sX2hhc1Njcm9sbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKTx0aGlzLmVsZW1lbnQucHJvcChcInNjcm9sbEhlaWdodFwiKX0sc2VsZWN0OmZ1bmN0aW9uKGUpe3RoaXMuYWN0aXZlPXRoaXMuYWN0aXZlfHx0KGUudGFyZ2V0KS5jbG9zZXN0KFwiLnVpLW1lbnUtaXRlbVwiKTt2YXIgaT17aXRlbTp0aGlzLmFjdGl2ZX07dGhpcy5hY3RpdmUuaGFzKFwiLnVpLW1lbnVcIikubGVuZ3RofHx0aGlzLmNvbGxhcHNlQWxsKGUsITApLHRoaXMuX3RyaWdnZXIoXCJzZWxlY3RcIixlLGkpfSxfZmlsdGVyTWVudUl0ZW1zOmZ1bmN0aW9uKGUpe3ZhciBpPWUucmVwbGFjZSgvW1xcLVxcW1xcXXt9KCkqKz8uLFxcXFxcXF4kfCNcXHNdL2csXCJcXFxcJCZcIikscz1SZWdFeHAoXCJeXCIraSxcImlcIik7cmV0dXJuIHRoaXMuYWN0aXZlTWVudS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcykuZmlsdGVyKFwiLnVpLW1lbnUtaXRlbVwiKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gcy50ZXN0KHQudHJpbSh0KHRoaXMpLmNoaWxkcmVuKFwiLnVpLW1lbnUtaXRlbS13cmFwcGVyXCIpLnRleHQoKSkpfSl9fSksdC53aWRnZXQoXCJ1aS5hdXRvY29tcGxldGVcIix7dmVyc2lvbjpcIjEuMTIuMVwiLGRlZmF1bHRFbGVtZW50OlwiPGlucHV0PlwiLG9wdGlvbnM6e2FwcGVuZFRvOm51bGwsYXV0b0ZvY3VzOiExLGRlbGF5OjMwMCxtaW5MZW5ndGg6MSxwb3NpdGlvbjp7bXk6XCJsZWZ0IHRvcFwiLGF0OlwibGVmdCBib3R0b21cIixjb2xsaXNpb246XCJub25lXCJ9LHNvdXJjZTpudWxsLGNoYW5nZTpudWxsLGNsb3NlOm51bGwsZm9jdXM6bnVsbCxvcGVuOm51bGwscmVzcG9uc2U6bnVsbCxzZWFyY2g6bnVsbCxzZWxlY3Q6bnVsbH0scmVxdWVzdEluZGV4OjAscGVuZGluZzowLF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZSxpLHMsbj10aGlzLmVsZW1lbnRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxvPVwidGV4dGFyZWFcIj09PW4sYT1cImlucHV0XCI9PT1uO3RoaXMuaXNNdWx0aUxpbmU9b3x8IWEmJnRoaXMuX2lzQ29udGVudEVkaXRhYmxlKHRoaXMuZWxlbWVudCksdGhpcy52YWx1ZU1ldGhvZD10aGlzLmVsZW1lbnRbb3x8YT9cInZhbFwiOlwidGV4dFwiXSx0aGlzLmlzTmV3TWVudT0hMCx0aGlzLl9hZGRDbGFzcyhcInVpLWF1dG9jb21wbGV0ZS1pbnB1dFwiKSx0aGlzLmVsZW1lbnQuYXR0cihcImF1dG9jb21wbGV0ZVwiLFwib2ZmXCIpLHRoaXMuX29uKHRoaXMuZWxlbWVudCx7a2V5ZG93bjpmdW5jdGlvbihuKXtpZih0aGlzLmVsZW1lbnQucHJvcChcInJlYWRPbmx5XCIpKXJldHVybiBlPSEwLHM9ITAsaT0hMCx2b2lkIDA7ZT0hMSxzPSExLGk9ITE7dmFyIG89dC51aS5rZXlDb2RlO3N3aXRjaChuLmtleUNvZGUpe2Nhc2Ugby5QQUdFX1VQOmU9ITAsdGhpcy5fbW92ZShcInByZXZpb3VzUGFnZVwiLG4pO2JyZWFrO2Nhc2Ugby5QQUdFX0RPV046ZT0hMCx0aGlzLl9tb3ZlKFwibmV4dFBhZ2VcIixuKTticmVhaztjYXNlIG8uVVA6ZT0hMCx0aGlzLl9rZXlFdmVudChcInByZXZpb3VzXCIsbik7YnJlYWs7Y2FzZSBvLkRPV046ZT0hMCx0aGlzLl9rZXlFdmVudChcIm5leHRcIixuKTticmVhaztjYXNlIG8uRU5URVI6dGhpcy5tZW51LmFjdGl2ZSYmKGU9ITAsbi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMubWVudS5zZWxlY3QobikpO2JyZWFrO2Nhc2Ugby5UQUI6dGhpcy5tZW51LmFjdGl2ZSYmdGhpcy5tZW51LnNlbGVjdChuKTticmVhaztjYXNlIG8uRVNDQVBFOnRoaXMubWVudS5lbGVtZW50LmlzKFwiOnZpc2libGVcIikmJih0aGlzLmlzTXVsdGlMaW5lfHx0aGlzLl92YWx1ZSh0aGlzLnRlcm0pLHRoaXMuY2xvc2Uobiksbi5wcmV2ZW50RGVmYXVsdCgpKTticmVhaztkZWZhdWx0Omk9ITAsdGhpcy5fc2VhcmNoVGltZW91dChuKX19LGtleXByZXNzOmZ1bmN0aW9uKHMpe2lmKGUpcmV0dXJuIGU9ITEsKCF0aGlzLmlzTXVsdGlMaW5lfHx0aGlzLm1lbnUuZWxlbWVudC5pcyhcIjp2aXNpYmxlXCIpKSYmcy5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgMDtpZighaSl7dmFyIG49dC51aS5rZXlDb2RlO3N3aXRjaChzLmtleUNvZGUpe2Nhc2Ugbi5QQUdFX1VQOnRoaXMuX21vdmUoXCJwcmV2aW91c1BhZ2VcIixzKTticmVhaztjYXNlIG4uUEFHRV9ET1dOOnRoaXMuX21vdmUoXCJuZXh0UGFnZVwiLHMpO2JyZWFrO2Nhc2Ugbi5VUDp0aGlzLl9rZXlFdmVudChcInByZXZpb3VzXCIscyk7YnJlYWs7Y2FzZSBuLkRPV046dGhpcy5fa2V5RXZlbnQoXCJuZXh0XCIscyl9fX0saW5wdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHM/KHM9ITEsdC5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgMCk6KHRoaXMuX3NlYXJjaFRpbWVvdXQodCksdm9pZCAwKX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkSXRlbT1udWxsLHRoaXMucHJldmlvdXM9dGhpcy5fdmFsdWUoKX0sYmx1cjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jYW5jZWxCbHVyPyhkZWxldGUgdGhpcy5jYW5jZWxCbHVyLHZvaWQgMCk6KGNsZWFyVGltZW91dCh0aGlzLnNlYXJjaGluZyksdGhpcy5jbG9zZSh0KSx0aGlzLl9jaGFuZ2UodCksdm9pZCAwKX19KSx0aGlzLl9pbml0U291cmNlKCksdGhpcy5tZW51PXQoXCI8dWw+XCIpLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpLm1lbnUoe3JvbGU6bnVsbH0pLmhpZGUoKS5tZW51KFwiaW5zdGFuY2VcIiksdGhpcy5fYWRkQ2xhc3ModGhpcy5tZW51LmVsZW1lbnQsXCJ1aS1hdXRvY29tcGxldGVcIixcInVpLWZyb250XCIpLHRoaXMuX29uKHRoaXMubWVudS5lbGVtZW50LHttb3VzZWRvd246ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuY2FuY2VsQmx1cj0hMCx0aGlzLl9kZWxheShmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLmNhbmNlbEJsdXIsdGhpcy5lbGVtZW50WzBdIT09dC51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSYmdGhpcy5lbGVtZW50LnRyaWdnZXIoXCJmb2N1c1wiKX0pfSxtZW51Zm9jdXM6ZnVuY3Rpb24oZSxpKXt2YXIgcyxuO3JldHVybiB0aGlzLmlzTmV3TWVudSYmKHRoaXMuaXNOZXdNZW51PSExLGUub3JpZ2luYWxFdmVudCYmL15tb3VzZS8udGVzdChlLm9yaWdpbmFsRXZlbnQudHlwZSkpPyh0aGlzLm1lbnUuYmx1cigpLHRoaXMuZG9jdW1lbnQub25lKFwibW91c2Vtb3ZlXCIsZnVuY3Rpb24oKXt0KGUudGFyZ2V0KS50cmlnZ2VyKGUub3JpZ2luYWxFdmVudCl9KSx2b2lkIDApOihuPWkuaXRlbS5kYXRhKFwidWktYXV0b2NvbXBsZXRlLWl0ZW1cIiksITEhPT10aGlzLl90cmlnZ2VyKFwiZm9jdXNcIixlLHtpdGVtOm59KSYmZS5vcmlnaW5hbEV2ZW50JiYvXmtleS8udGVzdChlLm9yaWdpbmFsRXZlbnQudHlwZSkmJnRoaXMuX3ZhbHVlKG4udmFsdWUpLHM9aS5pdGVtLmF0dHIoXCJhcmlhLWxhYmVsXCIpfHxuLnZhbHVlLHMmJnQudHJpbShzKS5sZW5ndGgmJih0aGlzLmxpdmVSZWdpb24uY2hpbGRyZW4oKS5oaWRlKCksdChcIjxkaXY+XCIpLnRleHQocykuYXBwZW5kVG8odGhpcy5saXZlUmVnaW9uKSksdm9pZCAwKX0sbWVudXNlbGVjdDpmdW5jdGlvbihlLGkpe3ZhciBzPWkuaXRlbS5kYXRhKFwidWktYXV0b2NvbXBsZXRlLWl0ZW1cIiksbj10aGlzLnByZXZpb3VzO3RoaXMuZWxlbWVudFswXSE9PXQudWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSkmJih0aGlzLmVsZW1lbnQudHJpZ2dlcihcImZvY3VzXCIpLHRoaXMucHJldmlvdXM9bix0aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMucHJldmlvdXM9bix0aGlzLnNlbGVjdGVkSXRlbT1zfSkpLCExIT09dGhpcy5fdHJpZ2dlcihcInNlbGVjdFwiLGUse2l0ZW06c30pJiZ0aGlzLl92YWx1ZShzLnZhbHVlKSx0aGlzLnRlcm09dGhpcy5fdmFsdWUoKSx0aGlzLmNsb3NlKGUpLHRoaXMuc2VsZWN0ZWRJdGVtPXN9fSksdGhpcy5saXZlUmVnaW9uPXQoXCI8ZGl2PlwiLHtyb2xlOlwic3RhdHVzXCIsXCJhcmlhLWxpdmVcIjpcImFzc2VydGl2ZVwiLFwiYXJpYS1yZWxldmFudFwiOlwiYWRkaXRpb25zXCJ9KS5hcHBlbmRUbyh0aGlzLmRvY3VtZW50WzBdLmJvZHkpLHRoaXMuX2FkZENsYXNzKHRoaXMubGl2ZVJlZ2lvbixudWxsLFwidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlXCIpLHRoaXMuX29uKHRoaXMud2luZG93LHtiZWZvcmV1bmxvYWQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cihcImF1dG9jb21wbGV0ZVwiKX19KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5zZWFyY2hpbmcpLHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyKFwiYXV0b2NvbXBsZXRlXCIpLHRoaXMubWVudS5lbGVtZW50LnJlbW92ZSgpLHRoaXMubGl2ZVJlZ2lvbi5yZW1vdmUoKX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGUpe3RoaXMuX3N1cGVyKHQsZSksXCJzb3VyY2VcIj09PXQmJnRoaXMuX2luaXRTb3VyY2UoKSxcImFwcGVuZFRvXCI9PT10JiZ0aGlzLm1lbnUuZWxlbWVudC5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKSxcImRpc2FibGVkXCI9PT10JiZlJiZ0aGlzLnhociYmdGhpcy54aHIuYWJvcnQoKX0sX2lzRXZlbnRUYXJnZXRJbldpZGdldDpmdW5jdGlvbihlKXt2YXIgaT10aGlzLm1lbnUuZWxlbWVudFswXTtyZXR1cm4gZS50YXJnZXQ9PT10aGlzLmVsZW1lbnRbMF18fGUudGFyZ2V0PT09aXx8dC5jb250YWlucyhpLGUudGFyZ2V0KX0sX2Nsb3NlT25DbGlja091dHNpZGU6ZnVuY3Rpb24odCl7dGhpcy5faXNFdmVudFRhcmdldEluV2lkZ2V0KHQpfHx0aGlzLmNsb3NlKCl9LF9hcHBlbmRUbzpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9ucy5hcHBlbmRUbztyZXR1cm4gZSYmKGU9ZS5qcXVlcnl8fGUubm9kZVR5cGU/dChlKTp0aGlzLmRvY3VtZW50LmZpbmQoZSkuZXEoMCkpLGUmJmVbMF18fChlPXRoaXMuZWxlbWVudC5jbG9zZXN0KFwiLnVpLWZyb250LCBkaWFsb2dcIikpLGUubGVuZ3RofHwoZT10aGlzLmRvY3VtZW50WzBdLmJvZHkpLGV9LF9pbml0U291cmNlOmZ1bmN0aW9uKCl7dmFyIGUsaSxzPXRoaXM7dC5pc0FycmF5KHRoaXMub3B0aW9ucy5zb3VyY2UpPyhlPXRoaXMub3B0aW9ucy5zb3VyY2UsdGhpcy5zb3VyY2U9ZnVuY3Rpb24oaSxzKXtzKHQudWkuYXV0b2NvbXBsZXRlLmZpbHRlcihlLGkudGVybSkpfSk6XCJzdHJpbmdcIj09dHlwZW9mIHRoaXMub3B0aW9ucy5zb3VyY2U/KGk9dGhpcy5vcHRpb25zLnNvdXJjZSx0aGlzLnNvdXJjZT1mdW5jdGlvbihlLG4pe3MueGhyJiZzLnhoci5hYm9ydCgpLHMueGhyPXQuYWpheCh7dXJsOmksZGF0YTplLGRhdGFUeXBlOlwianNvblwiLHN1Y2Nlc3M6ZnVuY3Rpb24odCl7bih0KX0sZXJyb3I6ZnVuY3Rpb24oKXtuKFtdKX19KX0pOnRoaXMuc291cmNlPXRoaXMub3B0aW9ucy5zb3VyY2V9LF9zZWFyY2hUaW1lb3V0OmZ1bmN0aW9uKHQpe2NsZWFyVGltZW91dCh0aGlzLnNlYXJjaGluZyksdGhpcy5zZWFyY2hpbmc9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt2YXIgZT10aGlzLnRlcm09PT10aGlzLl92YWx1ZSgpLGk9dGhpcy5tZW51LmVsZW1lbnQuaXMoXCI6dmlzaWJsZVwiKSxzPXQuYWx0S2V5fHx0LmN0cmxLZXl8fHQubWV0YUtleXx8dC5zaGlmdEtleTsoIWV8fGUmJiFpJiYhcykmJih0aGlzLnNlbGVjdGVkSXRlbT1udWxsLHRoaXMuc2VhcmNoKG51bGwsdCkpfSx0aGlzLm9wdGlvbnMuZGVsYXkpfSxzZWFyY2g6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD1udWxsIT10P3Q6dGhpcy5fdmFsdWUoKSx0aGlzLnRlcm09dGhpcy5fdmFsdWUoKSx0Lmxlbmd0aDx0aGlzLm9wdGlvbnMubWluTGVuZ3RoP3RoaXMuY2xvc2UoZSk6dGhpcy5fdHJpZ2dlcihcInNlYXJjaFwiLGUpIT09ITE/dGhpcy5fc2VhcmNoKHQpOnZvaWQgMH0sX3NlYXJjaDpmdW5jdGlvbih0KXt0aGlzLnBlbmRpbmcrKyx0aGlzLl9hZGRDbGFzcyhcInVpLWF1dG9jb21wbGV0ZS1sb2FkaW5nXCIpLHRoaXMuY2FuY2VsU2VhcmNoPSExLHRoaXMuc291cmNlKHt0ZXJtOnR9LHRoaXMuX3Jlc3BvbnNlKCkpfSxfcmVzcG9uc2U6ZnVuY3Rpb24oKXt2YXIgZT0rK3RoaXMucmVxdWVzdEluZGV4O3JldHVybiB0LnByb3h5KGZ1bmN0aW9uKHQpe2U9PT10aGlzLnJlcXVlc3RJbmRleCYmdGhpcy5fX3Jlc3BvbnNlKHQpLHRoaXMucGVuZGluZy0tLHRoaXMucGVuZGluZ3x8dGhpcy5fcmVtb3ZlQ2xhc3MoXCJ1aS1hdXRvY29tcGxldGUtbG9hZGluZ1wiKX0sdGhpcyl9LF9fcmVzcG9uc2U6ZnVuY3Rpb24odCl7dCYmKHQ9dGhpcy5fbm9ybWFsaXplKHQpKSx0aGlzLl90cmlnZ2VyKFwicmVzcG9uc2VcIixudWxsLHtjb250ZW50OnR9KSwhdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0JiZ0Lmxlbmd0aCYmIXRoaXMuY2FuY2VsU2VhcmNoPyh0aGlzLl9zdWdnZXN0KHQpLHRoaXMuX3RyaWdnZXIoXCJvcGVuXCIpKTp0aGlzLl9jbG9zZSgpfSxjbG9zZTpmdW5jdGlvbih0KXt0aGlzLmNhbmNlbFNlYXJjaD0hMCx0aGlzLl9jbG9zZSh0KX0sX2Nsb3NlOmZ1bmN0aW9uKHQpe3RoaXMuX29mZih0aGlzLmRvY3VtZW50LFwibW91c2Vkb3duXCIpLHRoaXMubWVudS5lbGVtZW50LmlzKFwiOnZpc2libGVcIikmJih0aGlzLm1lbnUuZWxlbWVudC5oaWRlKCksdGhpcy5tZW51LmJsdXIoKSx0aGlzLmlzTmV3TWVudT0hMCx0aGlzLl90cmlnZ2VyKFwiY2xvc2VcIix0KSl9LF9jaGFuZ2U6ZnVuY3Rpb24odCl7dGhpcy5wcmV2aW91cyE9PXRoaXMuX3ZhbHVlKCkmJnRoaXMuX3RyaWdnZXIoXCJjaGFuZ2VcIix0LHtpdGVtOnRoaXMuc2VsZWN0ZWRJdGVtfSl9LF9ub3JtYWxpemU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGVuZ3RoJiZlWzBdLmxhYmVsJiZlWzBdLnZhbHVlP2U6dC5tYXAoZSxmdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT97bGFiZWw6ZSx2YWx1ZTplfTp0LmV4dGVuZCh7fSxlLHtsYWJlbDplLmxhYmVsfHxlLnZhbHVlLHZhbHVlOmUudmFsdWV8fGUubGFiZWx9KX0pfSxfc3VnZ2VzdDpmdW5jdGlvbihlKXt2YXIgaT10aGlzLm1lbnUuZWxlbWVudC5lbXB0eSgpO3RoaXMuX3JlbmRlck1lbnUoaSxlKSx0aGlzLmlzTmV3TWVudT0hMCx0aGlzLm1lbnUucmVmcmVzaCgpLGkuc2hvdygpLHRoaXMuX3Jlc2l6ZU1lbnUoKSxpLnBvc2l0aW9uKHQuZXh0ZW5kKHtvZjp0aGlzLmVsZW1lbnR9LHRoaXMub3B0aW9ucy5wb3NpdGlvbikpLHRoaXMub3B0aW9ucy5hdXRvRm9jdXMmJnRoaXMubWVudS5uZXh0KCksdGhpcy5fb24odGhpcy5kb2N1bWVudCx7bW91c2Vkb3duOlwiX2Nsb3NlT25DbGlja091dHNpZGVcIn0pfSxfcmVzaXplTWVudTpmdW5jdGlvbigpe3ZhciB0PXRoaXMubWVudS5lbGVtZW50O3Qub3V0ZXJXaWR0aChNYXRoLm1heCh0LndpZHRoKFwiXCIpLm91dGVyV2lkdGgoKSsxLHRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCkpKX0sX3JlbmRlck1lbnU6ZnVuY3Rpb24oZSxpKXt2YXIgcz10aGlzO3QuZWFjaChpLGZ1bmN0aW9uKHQsaSl7cy5fcmVuZGVySXRlbURhdGEoZSxpKX0pfSxfcmVuZGVySXRlbURhdGE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fcmVuZGVySXRlbSh0LGUpLmRhdGEoXCJ1aS1hdXRvY29tcGxldGUtaXRlbVwiLGUpfSxfcmVuZGVySXRlbTpmdW5jdGlvbihlLGkpe3JldHVybiB0KFwiPGxpPlwiKS5hcHBlbmQodChcIjxkaXY+XCIpLnRleHQoaS5sYWJlbCkpLmFwcGVuZFRvKGUpfSxfbW92ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm1lbnUuZWxlbWVudC5pcyhcIjp2aXNpYmxlXCIpP3RoaXMubWVudS5pc0ZpcnN0SXRlbSgpJiYvXnByZXZpb3VzLy50ZXN0KHQpfHx0aGlzLm1lbnUuaXNMYXN0SXRlbSgpJiYvXm5leHQvLnRlc3QodCk/KHRoaXMuaXNNdWx0aUxpbmV8fHRoaXMuX3ZhbHVlKHRoaXMudGVybSksdGhpcy5tZW51LmJsdXIoKSx2b2lkIDApOih0aGlzLm1lbnVbdF0oZSksdm9pZCAwKToodGhpcy5zZWFyY2gobnVsbCxlKSx2b2lkIDApfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51LmVsZW1lbnR9LF92YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlTWV0aG9kLmFwcGx5KHRoaXMuZWxlbWVudCxhcmd1bWVudHMpfSxfa2V5RXZlbnQ6ZnVuY3Rpb24odCxlKXsoIXRoaXMuaXNNdWx0aUxpbmV8fHRoaXMubWVudS5lbGVtZW50LmlzKFwiOnZpc2libGVcIikpJiYodGhpcy5fbW92ZSh0LGUpLGUucHJldmVudERlZmF1bHQoKSl9LF9pc0NvbnRlbnRFZGl0YWJsZTpmdW5jdGlvbih0KXtpZighdC5sZW5ndGgpcmV0dXJuITE7dmFyIGU9dC5wcm9wKFwiY29udGVudEVkaXRhYmxlXCIpO3JldHVyblwiaW5oZXJpdFwiPT09ZT90aGlzLl9pc0NvbnRlbnRFZGl0YWJsZSh0LnBhcmVudCgpKTpcInRydWVcIj09PWV9fSksdC5leHRlbmQodC51aS5hdXRvY29tcGxldGUse2VzY2FwZVJlZ2V4OmZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL1tcXC1cXFtcXF17fSgpKis/LixcXFxcXFxeJHwjXFxzXS9nLFwiXFxcXCQmXCIpfSxmaWx0ZXI6ZnVuY3Rpb24oZSxpKXt2YXIgcz1SZWdFeHAodC51aS5hdXRvY29tcGxldGUuZXNjYXBlUmVnZXgoaSksXCJpXCIpO3JldHVybiB0LmdyZXAoZSxmdW5jdGlvbih0KXtyZXR1cm4gcy50ZXN0KHQubGFiZWx8fHQudmFsdWV8fHQpfSl9fSksdC53aWRnZXQoXCJ1aS5hdXRvY29tcGxldGVcIix0LnVpLmF1dG9jb21wbGV0ZSx7b3B0aW9uczp7bWVzc2FnZXM6e25vUmVzdWx0czpcIk5vIHNlYXJjaCByZXN1bHRzLlwiLHJlc3VsdHM6ZnVuY3Rpb24odCl7cmV0dXJuIHQrKHQ+MT9cIiByZXN1bHRzIGFyZVwiOlwiIHJlc3VsdCBpc1wiKStcIiBhdmFpbGFibGUsIHVzZSB1cCBhbmQgZG93biBhcnJvdyBrZXlzIHRvIG5hdmlnYXRlLlwifX19LF9fcmVzcG9uc2U6ZnVuY3Rpb24oZSl7dmFyIGk7dGhpcy5fc3VwZXJBcHBseShhcmd1bWVudHMpLHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5jYW5jZWxTZWFyY2h8fChpPWUmJmUubGVuZ3RoP3RoaXMub3B0aW9ucy5tZXNzYWdlcy5yZXN1bHRzKGUubGVuZ3RoKTp0aGlzLm9wdGlvbnMubWVzc2FnZXMubm9SZXN1bHRzLHRoaXMubGl2ZVJlZ2lvbi5jaGlsZHJlbigpLmhpZGUoKSx0KFwiPGRpdj5cIikudGV4dChpKS5hcHBlbmRUbyh0aGlzLmxpdmVSZWdpb24pKX19KSx0LnVpLmF1dG9jb21wbGV0ZTt2YXIgZD0vdWktY29ybmVyLShbYS16XSl7Miw2fS9nO3Qud2lkZ2V0KFwidWkuY29udHJvbGdyb3VwXCIse3ZlcnNpb246XCIxLjEyLjFcIixkZWZhdWx0RWxlbWVudDpcIjxkaXY+XCIsb3B0aW9uczp7ZGlyZWN0aW9uOlwiaG9yaXpvbnRhbFwiLGRpc2FibGVkOm51bGwsb25seVZpc2libGU6ITAsaXRlbXM6e2J1dHRvbjpcImlucHV0W3R5cGU9YnV0dG9uXSwgaW5wdXRbdHlwZT1zdWJtaXRdLCBpbnB1dFt0eXBlPXJlc2V0XSwgYnV0dG9uLCBhXCIsY29udHJvbGdyb3VwTGFiZWw6XCIudWktY29udHJvbGdyb3VwLWxhYmVsXCIsY2hlY2tib3hyYWRpbzpcImlucHV0W3R5cGU9J2NoZWNrYm94J10sIGlucHV0W3R5cGU9J3JhZGlvJ11cIixzZWxlY3RtZW51Olwic2VsZWN0XCIsc3Bpbm5lcjpcIi51aS1zcGlubmVyLWlucHV0XCJ9fSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fZW5oYW5jZSgpfSxfZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKFwicm9sZVwiLFwidG9vbGJhclwiKSx0aGlzLnJlZnJlc2goKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9jYWxsQ2hpbGRNZXRob2QoXCJkZXN0cm95XCIpLHRoaXMuY2hpbGRXaWRnZXRzLnJlbW92ZURhdGEoXCJ1aS1jb250cm9sZ3JvdXAtZGF0YVwiKSx0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cihcInJvbGVcIiksdGhpcy5vcHRpb25zLml0ZW1zLmNvbnRyb2xncm91cExhYmVsJiZ0aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMuY29udHJvbGdyb3VwTGFiZWwpLmZpbmQoXCIudWktY29udHJvbGdyb3VwLWxhYmVsLWNvbnRlbnRzXCIpLmNvbnRlbnRzKCkudW53cmFwKCl9LF9pbml0V2lkZ2V0czpmdW5jdGlvbigpe3ZhciBlPXRoaXMsaT1bXTt0LmVhY2godGhpcy5vcHRpb25zLml0ZW1zLGZ1bmN0aW9uKHMsbil7dmFyIG8sYT17fTtyZXR1cm4gbj9cImNvbnRyb2xncm91cExhYmVsXCI9PT1zPyhvPWUuZWxlbWVudC5maW5kKG4pLG8uZWFjaChmdW5jdGlvbigpe3ZhciBlPXQodGhpcyk7ZS5jaGlsZHJlbihcIi51aS1jb250cm9sZ3JvdXAtbGFiZWwtY29udGVudHNcIikubGVuZ3RofHxlLmNvbnRlbnRzKCkud3JhcEFsbChcIjxzcGFuIGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtbGFiZWwtY29udGVudHMnPjwvc3Bhbj5cIil9KSxlLl9hZGRDbGFzcyhvLG51bGwsXCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktc3RhdGUtZGVmYXVsdFwiKSxpPWkuY29uY2F0KG8uZ2V0KCkpLHZvaWQgMCk6KHQuZm5bc10mJihhPWVbXCJfXCIrcytcIk9wdGlvbnNcIl0/ZVtcIl9cIitzK1wiT3B0aW9uc1wiXShcIm1pZGRsZVwiKTp7Y2xhc3Nlczp7fX0sZS5lbGVtZW50LmZpbmQobikuZWFjaChmdW5jdGlvbigpe3ZhciBuPXQodGhpcyksbz1uW3NdKFwiaW5zdGFuY2VcIikscj10LndpZGdldC5leHRlbmQoe30sYSk7aWYoXCJidXR0b25cIiE9PXN8fCFuLnBhcmVudChcIi51aS1zcGlubmVyXCIpLmxlbmd0aCl7b3x8KG89bltzXSgpW3NdKFwiaW5zdGFuY2VcIikpLG8mJihyLmNsYXNzZXM9ZS5fcmVzb2x2ZUNsYXNzZXNWYWx1ZXMoci5jbGFzc2VzLG8pKSxuW3NdKHIpO3ZhciBoPW5bc10oXCJ3aWRnZXRcIik7dC5kYXRhKGhbMF0sXCJ1aS1jb250cm9sZ3JvdXAtZGF0YVwiLG8/bzpuW3NdKFwiaW5zdGFuY2VcIikpLGkucHVzaChoWzBdKX19KSksdm9pZCAwKTp2b2lkIDB9KSx0aGlzLmNoaWxkV2lkZ2V0cz10KHQudW5pcXVlKGkpKSx0aGlzLl9hZGRDbGFzcyh0aGlzLmNoaWxkV2lkZ2V0cyxcInVpLWNvbnRyb2xncm91cC1pdGVtXCIpfSxfY2FsbENoaWxkTWV0aG9kOmZ1bmN0aW9uKGUpe3RoaXMuY2hpbGRXaWRnZXRzLmVhY2goZnVuY3Rpb24oKXt2YXIgaT10KHRoaXMpLHM9aS5kYXRhKFwidWktY29udHJvbGdyb3VwLWRhdGFcIik7cyYmc1tlXSYmc1tlXSgpfSl9LF91cGRhdGVDb3JuZXJDbGFzczpmdW5jdGlvbih0LGUpe3ZhciBpPVwidWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIHVpLWNvcm5lci1sZWZ0IHVpLWNvcm5lci1yaWdodCB1aS1jb3JuZXItYWxsXCIscz10aGlzLl9idWlsZFNpbXBsZU9wdGlvbnMoZSxcImxhYmVsXCIpLmNsYXNzZXMubGFiZWw7dGhpcy5fcmVtb3ZlQ2xhc3ModCxudWxsLGkpLHRoaXMuX2FkZENsYXNzKHQsbnVsbCxzKX0sX2J1aWxkU2ltcGxlT3B0aW9uczpmdW5jdGlvbih0LGUpe3ZhciBpPVwidmVydGljYWxcIj09PXRoaXMub3B0aW9ucy5kaXJlY3Rpb24scz17Y2xhc3Nlczp7fX07cmV0dXJuIHMuY2xhc3Nlc1tlXT17bWlkZGxlOlwiXCIsZmlyc3Q6XCJ1aS1jb3JuZXItXCIrKGk/XCJ0b3BcIjpcImxlZnRcIiksbGFzdDpcInVpLWNvcm5lci1cIisoaT9cImJvdHRvbVwiOlwicmlnaHRcIiksb25seTpcInVpLWNvcm5lci1hbGxcIn1bdF0sc30sX3NwaW5uZXJPcHRpb25zOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2J1aWxkU2ltcGxlT3B0aW9ucyh0LFwidWktc3Bpbm5lclwiKTtyZXR1cm4gZS5jbGFzc2VzW1widWktc3Bpbm5lci11cFwiXT1cIlwiLGUuY2xhc3Nlc1tcInVpLXNwaW5uZXItZG93blwiXT1cIlwiLGV9LF9idXR0b25PcHRpb25zOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9idWlsZFNpbXBsZU9wdGlvbnModCxcInVpLWJ1dHRvblwiKX0sX2NoZWNrYm94cmFkaW9PcHRpb25zOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9idWlsZFNpbXBsZU9wdGlvbnModCxcInVpLWNoZWNrYm94cmFkaW8tbGFiZWxcIil9LF9zZWxlY3RtZW51T3B0aW9uczpmdW5jdGlvbih0KXt2YXIgZT1cInZlcnRpY2FsXCI9PT10aGlzLm9wdGlvbnMuZGlyZWN0aW9uO3JldHVybnt3aWR0aDplP1wiYXV0b1wiOiExLGNsYXNzZXM6e21pZGRsZTp7XCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1vcGVuXCI6XCJcIixcInVpLXNlbGVjdG1lbnUtYnV0dG9uLWNsb3NlZFwiOlwiXCJ9LGZpcnN0OntcInVpLXNlbGVjdG1lbnUtYnV0dG9uLW9wZW5cIjpcInVpLWNvcm5lci1cIisoZT9cInRvcFwiOlwidGxcIiksXCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWRcIjpcInVpLWNvcm5lci1cIisoZT9cInRvcFwiOlwibGVmdFwiKX0sbGFzdDp7XCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1vcGVuXCI6ZT9cIlwiOlwidWktY29ybmVyLXRyXCIsXCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWRcIjpcInVpLWNvcm5lci1cIisoZT9cImJvdHRvbVwiOlwicmlnaHRcIil9LG9ubHk6e1widWktc2VsZWN0bWVudS1idXR0b24tb3BlblwiOlwidWktY29ybmVyLXRvcFwiLFwidWktc2VsZWN0bWVudS1idXR0b24tY2xvc2VkXCI6XCJ1aS1jb3JuZXItYWxsXCJ9fVt0XX19LF9yZXNvbHZlQ2xhc3Nlc1ZhbHVlczpmdW5jdGlvbihlLGkpe3ZhciBzPXt9O3JldHVybiB0LmVhY2goZSxmdW5jdGlvbihuKXt2YXIgbz1pLm9wdGlvbnMuY2xhc3Nlc1tuXXx8XCJcIjtvPXQudHJpbShvLnJlcGxhY2UoZCxcIlwiKSksc1tuXT0obytcIiBcIitlW25dKS5yZXBsYWNlKC9cXHMrL2csXCIgXCIpfSksc30sX3NldE9wdGlvbjpmdW5jdGlvbih0LGUpe3JldHVyblwiZGlyZWN0aW9uXCI9PT10JiZ0aGlzLl9yZW1vdmVDbGFzcyhcInVpLWNvbnRyb2xncm91cC1cIit0aGlzLm9wdGlvbnMuZGlyZWN0aW9uKSx0aGlzLl9zdXBlcih0LGUpLFwiZGlzYWJsZWRcIj09PXQ/KHRoaXMuX2NhbGxDaGlsZE1ldGhvZChlP1wiZGlzYWJsZVwiOlwiZW5hYmxlXCIpLHZvaWQgMCk6KHRoaXMucmVmcmVzaCgpLHZvaWQgMCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgZSxpPXRoaXM7dGhpcy5fYWRkQ2xhc3MoXCJ1aS1jb250cm9sZ3JvdXAgdWktY29udHJvbGdyb3VwLVwiK3RoaXMub3B0aW9ucy5kaXJlY3Rpb24pLFwiaG9yaXpvbnRhbFwiPT09dGhpcy5vcHRpb25zLmRpcmVjdGlvbiYmdGhpcy5fYWRkQ2xhc3MobnVsbCxcInVpLWhlbHBlci1jbGVhcmZpeFwiKSx0aGlzLl9pbml0V2lkZ2V0cygpLGU9dGhpcy5jaGlsZFdpZGdldHMsdGhpcy5vcHRpb25zLm9ubHlWaXNpYmxlJiYoZT1lLmZpbHRlcihcIjp2aXNpYmxlXCIpKSxlLmxlbmd0aCYmKHQuZWFjaChbXCJmaXJzdFwiLFwibGFzdFwiXSxmdW5jdGlvbih0LHMpe3ZhciBuPWVbc10oKS5kYXRhKFwidWktY29udHJvbGdyb3VwLWRhdGFcIik7aWYobiYmaVtcIl9cIituLndpZGdldE5hbWUrXCJPcHRpb25zXCJdKXt2YXIgbz1pW1wiX1wiK24ud2lkZ2V0TmFtZStcIk9wdGlvbnNcIl0oMT09PWUubGVuZ3RoP1wib25seVwiOnMpO28uY2xhc3Nlcz1pLl9yZXNvbHZlQ2xhc3Nlc1ZhbHVlcyhvLmNsYXNzZXMsbiksbi5lbGVtZW50W24ud2lkZ2V0TmFtZV0obyl9ZWxzZSBpLl91cGRhdGVDb3JuZXJDbGFzcyhlW3NdKCkscyl9KSx0aGlzLl9jYWxsQ2hpbGRNZXRob2QoXCJyZWZyZXNoXCIpKX19KSx0LndpZGdldChcInVpLmNoZWNrYm94cmFkaW9cIixbdC51aS5mb3JtUmVzZXRNaXhpbix7dmVyc2lvbjpcIjEuMTIuMVwiLG9wdGlvbnM6e2Rpc2FibGVkOm51bGwsbGFiZWw6bnVsbCxpY29uOiEwLGNsYXNzZXM6e1widWktY2hlY2tib3hyYWRpby1sYWJlbFwiOlwidWktY29ybmVyLWFsbFwiLFwidWktY2hlY2tib3hyYWRpby1pY29uXCI6XCJ1aS1jb3JuZXItYWxsXCJ9fSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBlLGkscz10aGlzLG49dGhpcy5fc3VwZXIoKXx8e307cmV0dXJuIHRoaXMuX3JlYWRUeXBlKCksaT10aGlzLmVsZW1lbnQubGFiZWxzKCksdGhpcy5sYWJlbD10KGlbaS5sZW5ndGgtMV0pLHRoaXMubGFiZWwubGVuZ3RofHx0LmVycm9yKFwiTm8gbGFiZWwgZm91bmQgZm9yIGNoZWNrYm94cmFkaW8gd2lkZ2V0XCIpLHRoaXMub3JpZ2luYWxMYWJlbD1cIlwiLHRoaXMubGFiZWwuY29udGVudHMoKS5ub3QodGhpcy5lbGVtZW50WzBdKS5lYWNoKGZ1bmN0aW9uKCl7cy5vcmlnaW5hbExhYmVsKz0zPT09dGhpcy5ub2RlVHlwZT90KHRoaXMpLnRleHQoKTp0aGlzLm91dGVySFRNTH0pLHRoaXMub3JpZ2luYWxMYWJlbCYmKG4ubGFiZWw9dGhpcy5vcmlnaW5hbExhYmVsKSxlPXRoaXMuZWxlbWVudFswXS5kaXNhYmxlZCxudWxsIT1lJiYobi5kaXNhYmxlZD1lKSxufSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50WzBdLmNoZWNrZWQ7dGhpcy5fYmluZEZvcm1SZXNldEhhbmRsZXIoKSxudWxsPT10aGlzLm9wdGlvbnMuZGlzYWJsZWQmJih0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9dGhpcy5lbGVtZW50WzBdLmRpc2FibGVkKSx0aGlzLl9zZXRPcHRpb24oXCJkaXNhYmxlZFwiLHRoaXMub3B0aW9ucy5kaXNhYmxlZCksdGhpcy5fYWRkQ2xhc3MoXCJ1aS1jaGVja2JveHJhZGlvXCIsXCJ1aS1oZWxwZXItaGlkZGVuLWFjY2Vzc2libGVcIiksdGhpcy5fYWRkQ2xhc3ModGhpcy5sYWJlbCxcInVpLWNoZWNrYm94cmFkaW8tbGFiZWxcIixcInVpLWJ1dHRvbiB1aS13aWRnZXRcIiksXCJyYWRpb1wiPT09dGhpcy50eXBlJiZ0aGlzLl9hZGRDbGFzcyh0aGlzLmxhYmVsLFwidWktY2hlY2tib3hyYWRpby1yYWRpby1sYWJlbFwiKSx0aGlzLm9wdGlvbnMubGFiZWwmJnRoaXMub3B0aW9ucy5sYWJlbCE9PXRoaXMub3JpZ2luYWxMYWJlbD90aGlzLl91cGRhdGVMYWJlbCgpOnRoaXMub3JpZ2luYWxMYWJlbCYmKHRoaXMub3B0aW9ucy5sYWJlbD10aGlzLm9yaWdpbmFsTGFiZWwpLHRoaXMuX2VuaGFuY2UoKSx0JiYodGhpcy5fYWRkQ2xhc3ModGhpcy5sYWJlbCxcInVpLWNoZWNrYm94cmFkaW8tY2hlY2tlZFwiLFwidWktc3RhdGUtYWN0aXZlXCIpLHRoaXMuaWNvbiYmdGhpcy5fYWRkQ2xhc3ModGhpcy5pY29uLG51bGwsXCJ1aS1zdGF0ZS1ob3ZlclwiKSksdGhpcy5fb24oe2NoYW5nZTpcIl90b2dnbGVDbGFzc2VzXCIsZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLl9hZGRDbGFzcyh0aGlzLmxhYmVsLG51bGwsXCJ1aS1zdGF0ZS1mb2N1cyB1aS12aXN1YWwtZm9jdXNcIil9LGJsdXI6ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmxhYmVsLG51bGwsXCJ1aS1zdGF0ZS1mb2N1cyB1aS12aXN1YWwtZm9jdXNcIil9fSl9LF9yZWFkVHlwZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWxlbWVudFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3RoaXMudHlwZT10aGlzLmVsZW1lbnRbMF0udHlwZSxcImlucHV0XCI9PT1lJiYvcmFkaW98Y2hlY2tib3gvLnRlc3QodGhpcy50eXBlKXx8dC5lcnJvcihcIkNhbid0IGNyZWF0ZSBjaGVja2JveHJhZGlvIG9uIGVsZW1lbnQubm9kZU5hbWU9XCIrZStcIiBhbmQgZWxlbWVudC50eXBlPVwiK3RoaXMudHlwZSl9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlSWNvbih0aGlzLmVsZW1lbnRbMF0uY2hlY2tlZCl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxhYmVsfSxfZ2V0UmFkaW9Hcm91cDpmdW5jdGlvbigpe3ZhciBlLGk9dGhpcy5lbGVtZW50WzBdLm5hbWUscz1cImlucHV0W25hbWU9J1wiK3QudWkuZXNjYXBlU2VsZWN0b3IoaSkrXCInXVwiO3JldHVybiBpPyhlPXRoaXMuZm9ybS5sZW5ndGg/dCh0aGlzLmZvcm1bMF0uZWxlbWVudHMpLmZpbHRlcihzKTp0KHMpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiAwPT09dCh0aGlzKS5mb3JtKCkubGVuZ3RofSksZS5ub3QodGhpcy5lbGVtZW50KSk6dChbXSl9LF90b2dnbGVDbGFzc2VzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbGVtZW50WzBdLmNoZWNrZWQ7dGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy5sYWJlbCxcInVpLWNoZWNrYm94cmFkaW8tY2hlY2tlZFwiLFwidWktc3RhdGUtYWN0aXZlXCIsZSksdGhpcy5vcHRpb25zLmljb24mJlwiY2hlY2tib3hcIj09PXRoaXMudHlwZSYmdGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy5pY29uLG51bGwsXCJ1aS1pY29uLWNoZWNrIHVpLXN0YXRlLWNoZWNrZWRcIixlKS5fdG9nZ2xlQ2xhc3ModGhpcy5pY29uLG51bGwsXCJ1aS1pY29uLWJsYW5rXCIsIWUpLFwicmFkaW9cIj09PXRoaXMudHlwZSYmdGhpcy5fZ2V0UmFkaW9Hcm91cCgpLmVhY2goZnVuY3Rpb24oKXt2YXIgZT10KHRoaXMpLmNoZWNrYm94cmFkaW8oXCJpbnN0YW5jZVwiKTtlJiZlLl9yZW1vdmVDbGFzcyhlLmxhYmVsLFwidWktY2hlY2tib3hyYWRpby1jaGVja2VkXCIsXCJ1aS1zdGF0ZS1hY3RpdmVcIil9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl91bmJpbmRGb3JtUmVzZXRIYW5kbGVyKCksdGhpcy5pY29uJiYodGhpcy5pY29uLnJlbW92ZSgpLHRoaXMuaWNvblNwYWNlLnJlbW92ZSgpKX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGUpe3JldHVyblwibGFiZWxcIiE9PXR8fGU/KHRoaXMuX3N1cGVyKHQsZSksXCJkaXNhYmxlZFwiPT09dD8odGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy5sYWJlbCxudWxsLFwidWktc3RhdGUtZGlzYWJsZWRcIixlKSx0aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQ9ZSx2b2lkIDApOih0aGlzLnJlZnJlc2goKSx2b2lkIDApKTp2b2lkIDB9LF91cGRhdGVJY29uOmZ1bmN0aW9uKGUpe3ZhciBpPVwidWktaWNvbiB1aS1pY29uLWJhY2tncm91bmQgXCI7dGhpcy5vcHRpb25zLmljb24/KHRoaXMuaWNvbnx8KHRoaXMuaWNvbj10KFwiPHNwYW4+XCIpLHRoaXMuaWNvblNwYWNlPXQoXCI8c3Bhbj4gPC9zcGFuPlwiKSx0aGlzLl9hZGRDbGFzcyh0aGlzLmljb25TcGFjZSxcInVpLWNoZWNrYm94cmFkaW8taWNvbi1zcGFjZVwiKSksXCJjaGVja2JveFwiPT09dGhpcy50eXBlPyhpKz1lP1widWktaWNvbi1jaGVjayB1aS1zdGF0ZS1jaGVja2VkXCI6XCJ1aS1pY29uLWJsYW5rXCIsdGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5pY29uLG51bGwsZT9cInVpLWljb24tYmxhbmtcIjpcInVpLWljb24tY2hlY2tcIikpOmkrPVwidWktaWNvbi1ibGFua1wiLHRoaXMuX2FkZENsYXNzKHRoaXMuaWNvbixcInVpLWNoZWNrYm94cmFkaW8taWNvblwiLGkpLGV8fHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaWNvbixudWxsLFwidWktaWNvbi1jaGVjayB1aS1zdGF0ZS1jaGVja2VkXCIpLHRoaXMuaWNvbi5wcmVwZW5kVG8odGhpcy5sYWJlbCkuYWZ0ZXIodGhpcy5pY29uU3BhY2UpKTp2b2lkIDAhPT10aGlzLmljb24mJih0aGlzLmljb24ucmVtb3ZlKCksdGhpcy5pY29uU3BhY2UucmVtb3ZlKCksZGVsZXRlIHRoaXMuaWNvbilcclxufSxfdXBkYXRlTGFiZWw6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxhYmVsLmNvbnRlbnRzKCkubm90KHRoaXMuZWxlbWVudFswXSk7dGhpcy5pY29uJiYodD10Lm5vdCh0aGlzLmljb25bMF0pKSx0aGlzLmljb25TcGFjZSYmKHQ9dC5ub3QodGhpcy5pY29uU3BhY2VbMF0pKSx0LnJlbW92ZSgpLHRoaXMubGFiZWwuYXBwZW5kKHRoaXMub3B0aW9ucy5sYWJlbCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnRbMF0uY2hlY2tlZCxlPXRoaXMuZWxlbWVudFswXS5kaXNhYmxlZDt0aGlzLl91cGRhdGVJY29uKHQpLHRoaXMuX3RvZ2dsZUNsYXNzKHRoaXMubGFiZWwsXCJ1aS1jaGVja2JveHJhZGlvLWNoZWNrZWRcIixcInVpLXN0YXRlLWFjdGl2ZVwiLHQpLG51bGwhPT10aGlzLm9wdGlvbnMubGFiZWwmJnRoaXMuX3VwZGF0ZUxhYmVsKCksZSE9PXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ZX0pfX1dKSx0LnVpLmNoZWNrYm94cmFkaW8sdC53aWRnZXQoXCJ1aS5idXR0b25cIix7dmVyc2lvbjpcIjEuMTIuMVwiLGRlZmF1bHRFbGVtZW50OlwiPGJ1dHRvbj5cIixvcHRpb25zOntjbGFzc2VzOntcInVpLWJ1dHRvblwiOlwidWktY29ybmVyLWFsbFwifSxkaXNhYmxlZDpudWxsLGljb246bnVsbCxpY29uUG9zaXRpb246XCJiZWdpbm5pbmdcIixsYWJlbDpudWxsLHNob3dMYWJlbDohMH0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuX3N1cGVyKCl8fHt9O3JldHVybiB0aGlzLmlzSW5wdXQ9dGhpcy5lbGVtZW50LmlzKFwiaW5wdXRcIiksdD10aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQsbnVsbCE9dCYmKGUuZGlzYWJsZWQ9dCksdGhpcy5vcmlnaW5hbExhYmVsPXRoaXMuaXNJbnB1dD90aGlzLmVsZW1lbnQudmFsKCk6dGhpcy5lbGVtZW50Lmh0bWwoKSx0aGlzLm9yaWdpbmFsTGFiZWwmJihlLmxhYmVsPXRoaXMub3JpZ2luYWxMYWJlbCksZX0sX2NyZWF0ZTpmdW5jdGlvbigpeyF0aGlzLm9wdGlvbi5zaG93TGFiZWwmIXRoaXMub3B0aW9ucy5pY29uJiYodGhpcy5vcHRpb25zLnNob3dMYWJlbD0hMCksbnVsbD09dGhpcy5vcHRpb25zLmRpc2FibGVkJiYodGhpcy5vcHRpb25zLmRpc2FibGVkPXRoaXMuZWxlbWVudFswXS5kaXNhYmxlZHx8ITEpLHRoaXMuaGFzVGl0bGU9ISF0aGlzLmVsZW1lbnQuYXR0cihcInRpdGxlXCIpLHRoaXMub3B0aW9ucy5sYWJlbCYmdGhpcy5vcHRpb25zLmxhYmVsIT09dGhpcy5vcmlnaW5hbExhYmVsJiYodGhpcy5pc0lucHV0P3RoaXMuZWxlbWVudC52YWwodGhpcy5vcHRpb25zLmxhYmVsKTp0aGlzLmVsZW1lbnQuaHRtbCh0aGlzLm9wdGlvbnMubGFiZWwpKSx0aGlzLl9hZGRDbGFzcyhcInVpLWJ1dHRvblwiLFwidWktd2lkZ2V0XCIpLHRoaXMuX3NldE9wdGlvbihcImRpc2FibGVkXCIsdGhpcy5vcHRpb25zLmRpc2FibGVkKSx0aGlzLl9lbmhhbmNlKCksdGhpcy5lbGVtZW50LmlzKFwiYVwiKSYmdGhpcy5fb24oe2tleXVwOmZ1bmN0aW9uKGUpe2Uua2V5Q29kZT09PXQudWkua2V5Q29kZS5TUEFDRSYmKGUucHJldmVudERlZmF1bHQoKSx0aGlzLmVsZW1lbnRbMF0uY2xpY2s/dGhpcy5lbGVtZW50WzBdLmNsaWNrKCk6dGhpcy5lbGVtZW50LnRyaWdnZXIoXCJjbGlja1wiKSl9fSl9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmlzKFwiYnV0dG9uXCIpfHx0aGlzLmVsZW1lbnQuYXR0cihcInJvbGVcIixcImJ1dHRvblwiKSx0aGlzLm9wdGlvbnMuaWNvbiYmKHRoaXMuX3VwZGF0ZUljb24oXCJpY29uXCIsdGhpcy5vcHRpb25zLmljb24pLHRoaXMuX3VwZGF0ZVRvb2x0aXAoKSl9LF91cGRhdGVUb29sdGlwOmZ1bmN0aW9uKCl7dGhpcy50aXRsZT10aGlzLmVsZW1lbnQuYXR0cihcInRpdGxlXCIpLHRoaXMub3B0aW9ucy5zaG93TGFiZWx8fHRoaXMudGl0bGV8fHRoaXMuZWxlbWVudC5hdHRyKFwidGl0bGVcIix0aGlzLm9wdGlvbnMubGFiZWwpfSxfdXBkYXRlSWNvbjpmdW5jdGlvbihlLGkpe3ZhciBzPVwiaWNvblBvc2l0aW9uXCIhPT1lLG49cz90aGlzLm9wdGlvbnMuaWNvblBvc2l0aW9uOmksbz1cInRvcFwiPT09bnx8XCJib3R0b21cIj09PW47dGhpcy5pY29uP3MmJnRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaWNvbixudWxsLHRoaXMub3B0aW9ucy5pY29uKToodGhpcy5pY29uPXQoXCI8c3Bhbj5cIiksdGhpcy5fYWRkQ2xhc3ModGhpcy5pY29uLFwidWktYnV0dG9uLWljb25cIixcInVpLWljb25cIiksdGhpcy5vcHRpb25zLnNob3dMYWJlbHx8dGhpcy5fYWRkQ2xhc3MoXCJ1aS1idXR0b24taWNvbi1vbmx5XCIpKSxzJiZ0aGlzLl9hZGRDbGFzcyh0aGlzLmljb24sbnVsbCxpKSx0aGlzLl9hdHRhY2hJY29uKG4pLG8/KHRoaXMuX2FkZENsYXNzKHRoaXMuaWNvbixudWxsLFwidWktd2lkZ2V0LWljb24tYmxvY2tcIiksdGhpcy5pY29uU3BhY2UmJnRoaXMuaWNvblNwYWNlLnJlbW92ZSgpKToodGhpcy5pY29uU3BhY2V8fCh0aGlzLmljb25TcGFjZT10KFwiPHNwYW4+IDwvc3Bhbj5cIiksdGhpcy5fYWRkQ2xhc3ModGhpcy5pY29uU3BhY2UsXCJ1aS1idXR0b24taWNvbi1zcGFjZVwiKSksdGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5pY29uLG51bGwsXCJ1aS13aWdldC1pY29uLWJsb2NrXCIpLHRoaXMuX2F0dGFjaEljb25TcGFjZShuKSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoXCJyb2xlXCIpLHRoaXMuaWNvbiYmdGhpcy5pY29uLnJlbW92ZSgpLHRoaXMuaWNvblNwYWNlJiZ0aGlzLmljb25TcGFjZS5yZW1vdmUoKSx0aGlzLmhhc1RpdGxlfHx0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cihcInRpdGxlXCIpfSxfYXR0YWNoSWNvblNwYWNlOmZ1bmN0aW9uKHQpe3RoaXMuaWNvblsvXig/OmVuZHxib3R0b20pLy50ZXN0KHQpP1wiYmVmb3JlXCI6XCJhZnRlclwiXSh0aGlzLmljb25TcGFjZSl9LF9hdHRhY2hJY29uOmZ1bmN0aW9uKHQpe3RoaXMuZWxlbWVudFsvXig/OmVuZHxib3R0b20pLy50ZXN0KHQpP1wiYXBwZW5kXCI6XCJwcmVwZW5kXCJdKHRoaXMuaWNvbil9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKHQpe3ZhciBlPXZvaWQgMD09PXQuc2hvd0xhYmVsP3RoaXMub3B0aW9ucy5zaG93TGFiZWw6dC5zaG93TGFiZWwsaT12b2lkIDA9PT10Lmljb24/dGhpcy5vcHRpb25zLmljb246dC5pY29uO2V8fGl8fCh0LnNob3dMYWJlbD0hMCksdGhpcy5fc3VwZXIodCl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXtcImljb25cIj09PXQmJihlP3RoaXMuX3VwZGF0ZUljb24odCxlKTp0aGlzLmljb24mJih0aGlzLmljb24ucmVtb3ZlKCksdGhpcy5pY29uU3BhY2UmJnRoaXMuaWNvblNwYWNlLnJlbW92ZSgpKSksXCJpY29uUG9zaXRpb25cIj09PXQmJnRoaXMuX3VwZGF0ZUljb24odCxlKSxcInNob3dMYWJlbFwiPT09dCYmKHRoaXMuX3RvZ2dsZUNsYXNzKFwidWktYnV0dG9uLWljb24tb25seVwiLG51bGwsIWUpLHRoaXMuX3VwZGF0ZVRvb2x0aXAoKSksXCJsYWJlbFwiPT09dCYmKHRoaXMuaXNJbnB1dD90aGlzLmVsZW1lbnQudmFsKGUpOih0aGlzLmVsZW1lbnQuaHRtbChlKSx0aGlzLmljb24mJih0aGlzLl9hdHRhY2hJY29uKHRoaXMub3B0aW9ucy5pY29uUG9zaXRpb24pLHRoaXMuX2F0dGFjaEljb25TcGFjZSh0aGlzLm9wdGlvbnMuaWNvblBvc2l0aW9uKSkpKSx0aGlzLl9zdXBlcih0LGUpLFwiZGlzYWJsZWRcIj09PXQmJih0aGlzLl90b2dnbGVDbGFzcyhudWxsLFwidWktc3RhdGUtZGlzYWJsZWRcIixlKSx0aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQ9ZSxlJiZ0aGlzLmVsZW1lbnQuYmx1cigpKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudC5pcyhcImlucHV0LCBidXR0b25cIik/dGhpcy5lbGVtZW50WzBdLmRpc2FibGVkOnRoaXMuZWxlbWVudC5oYXNDbGFzcyhcInVpLWJ1dHRvbi1kaXNhYmxlZFwiKTt0IT09dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDp0fSksdGhpcy5fdXBkYXRlVG9vbHRpcCgpfX0pLHQudWlCYWNrQ29tcGF0IT09ITEmJih0LndpZGdldChcInVpLmJ1dHRvblwiLHQudWkuYnV0dG9uLHtvcHRpb25zOnt0ZXh0OiEwLGljb25zOntwcmltYXJ5Om51bGwsc2Vjb25kYXJ5Om51bGx9fSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnNob3dMYWJlbCYmIXRoaXMub3B0aW9ucy50ZXh0JiYodGhpcy5vcHRpb25zLnNob3dMYWJlbD10aGlzLm9wdGlvbnMudGV4dCksIXRoaXMub3B0aW9ucy5zaG93TGFiZWwmJnRoaXMub3B0aW9ucy50ZXh0JiYodGhpcy5vcHRpb25zLnRleHQ9dGhpcy5vcHRpb25zLnNob3dMYWJlbCksdGhpcy5vcHRpb25zLmljb258fCF0aGlzLm9wdGlvbnMuaWNvbnMucHJpbWFyeSYmIXRoaXMub3B0aW9ucy5pY29ucy5zZWNvbmRhcnk/dGhpcy5vcHRpb25zLmljb24mJih0aGlzLm9wdGlvbnMuaWNvbnMucHJpbWFyeT10aGlzLm9wdGlvbnMuaWNvbik6dGhpcy5vcHRpb25zLmljb25zLnByaW1hcnk/dGhpcy5vcHRpb25zLmljb249dGhpcy5vcHRpb25zLmljb25zLnByaW1hcnk6KHRoaXMub3B0aW9ucy5pY29uPXRoaXMub3B0aW9ucy5pY29ucy5zZWNvbmRhcnksdGhpcy5vcHRpb25zLmljb25Qb3NpdGlvbj1cImVuZFwiKSx0aGlzLl9zdXBlcigpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJ0ZXh0XCI9PT10Pyh0aGlzLl9zdXBlcihcInNob3dMYWJlbFwiLGUpLHZvaWQgMCk6KFwic2hvd0xhYmVsXCI9PT10JiYodGhpcy5vcHRpb25zLnRleHQ9ZSksXCJpY29uXCI9PT10JiYodGhpcy5vcHRpb25zLmljb25zLnByaW1hcnk9ZSksXCJpY29uc1wiPT09dCYmKGUucHJpbWFyeT8odGhpcy5fc3VwZXIoXCJpY29uXCIsZS5wcmltYXJ5KSx0aGlzLl9zdXBlcihcImljb25Qb3NpdGlvblwiLFwiYmVnaW5uaW5nXCIpKTplLnNlY29uZGFyeSYmKHRoaXMuX3N1cGVyKFwiaWNvblwiLGUuc2Vjb25kYXJ5KSx0aGlzLl9zdXBlcihcImljb25Qb3NpdGlvblwiLFwiZW5kXCIpKSksdGhpcy5fc3VwZXJBcHBseShhcmd1bWVudHMpLHZvaWQgMCl9fSksdC5mbi5idXR0b249ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMubGVuZ3RofHx0aGlzLmxlbmd0aCYmXCJJTlBVVFwiIT09dGhpc1swXS50YWdOYW1lfHx0aGlzLmxlbmd0aCYmXCJJTlBVVFwiPT09dGhpc1swXS50YWdOYW1lJiZcImNoZWNrYm94XCIhPT10aGlzLmF0dHIoXCJ0eXBlXCIpJiZcInJhZGlvXCIhPT10aGlzLmF0dHIoXCJ0eXBlXCIpP2UuYXBwbHkodGhpcyxhcmd1bWVudHMpOih0LnVpLmNoZWNrYm94cmFkaW98fHQuZXJyb3IoXCJDaGVja2JveHJhZGlvIHdpZGdldCBtaXNzaW5nXCIpLDA9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMuY2hlY2tib3hyYWRpbyh7aWNvbjohMX0pOnRoaXMuY2hlY2tib3hyYWRpby5hcHBseSh0aGlzLGFyZ3VtZW50cykpfX0odC5mbi5idXR0b24pLHQuZm4uYnV0dG9uc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHQudWkuY29udHJvbGdyb3VwfHx0LmVycm9yKFwiQ29udHJvbGdyb3VwIHdpZGdldCBtaXNzaW5nXCIpLFwib3B0aW9uXCI9PT1hcmd1bWVudHNbMF0mJlwiaXRlbXNcIj09PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzJdP3RoaXMuY29udHJvbGdyb3VwLmFwcGx5KHRoaXMsW2FyZ3VtZW50c1swXSxcIml0ZW1zLmJ1dHRvblwiLGFyZ3VtZW50c1syXV0pOlwib3B0aW9uXCI9PT1hcmd1bWVudHNbMF0mJlwiaXRlbXNcIj09PWFyZ3VtZW50c1sxXT90aGlzLmNvbnRyb2xncm91cC5hcHBseSh0aGlzLFthcmd1bWVudHNbMF0sXCJpdGVtcy5idXR0b25cIl0pOihcIm9iamVjdFwiPT10eXBlb2YgYXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF0uaXRlbXMmJihhcmd1bWVudHNbMF0uaXRlbXM9e2J1dHRvbjphcmd1bWVudHNbMF0uaXRlbXN9KSx0aGlzLmNvbnRyb2xncm91cC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSksdC51aS5idXR0b24sdC5leHRlbmQodC51aSx7ZGF0ZXBpY2tlcjp7dmVyc2lvbjpcIjEuMTIuMVwifX0pO3ZhciBwO3QuZXh0ZW5kKHMucHJvdG90eXBlLHttYXJrZXJDbGFzc05hbWU6XCJoYXNEYXRlcGlja2VyXCIsbWF4Um93czo0LF93aWRnZXREYXRlcGlja2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHBEaXZ9LHNldERlZmF1bHRzOmZ1bmN0aW9uKHQpe3JldHVybiBhKHRoaXMuX2RlZmF1bHRzLHR8fHt9KSx0aGlzfSxfYXR0YWNoRGF0ZXBpY2tlcjpmdW5jdGlvbihlLGkpe3ZhciBzLG4sbztzPWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxuPVwiZGl2XCI9PT1zfHxcInNwYW5cIj09PXMsZS5pZHx8KHRoaXMudXVpZCs9MSxlLmlkPVwiZHBcIit0aGlzLnV1aWQpLG89dGhpcy5fbmV3SW5zdCh0KGUpLG4pLG8uc2V0dGluZ3M9dC5leHRlbmQoe30saXx8e30pLFwiaW5wdXRcIj09PXM/dGhpcy5fY29ubmVjdERhdGVwaWNrZXIoZSxvKTpuJiZ0aGlzLl9pbmxpbmVEYXRlcGlja2VyKGUsbyl9LF9uZXdJbnN0OmZ1bmN0aW9uKGUsaSl7dmFyIHM9ZVswXS5pZC5yZXBsYWNlKC8oW15BLVphLXowLTlfXFwtXSkvZyxcIlxcXFxcXFxcJDFcIik7cmV0dXJue2lkOnMsaW5wdXQ6ZSxzZWxlY3RlZERheTowLHNlbGVjdGVkTW9udGg6MCxzZWxlY3RlZFllYXI6MCxkcmF3TW9udGg6MCxkcmF3WWVhcjowLGlubGluZTppLGRwRGl2Omk/bih0KFwiPGRpdiBjbGFzcz0nXCIrdGhpcy5faW5saW5lQ2xhc3MrXCIgdWktZGF0ZXBpY2tlciB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktaGVscGVyLWNsZWFyZml4IHVpLWNvcm5lci1hbGwnPjwvZGl2PlwiKSk6dGhpcy5kcERpdn19LF9jb25uZWN0RGF0ZXBpY2tlcjpmdW5jdGlvbihlLGkpe3ZhciBzPXQoZSk7aS5hcHBlbmQ9dChbXSksaS50cmlnZ2VyPXQoW10pLHMuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpfHwodGhpcy5fYXR0YWNobWVudHMocyxpKSxzLmFkZENsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5vbihcImtleWRvd25cIix0aGlzLl9kb0tleURvd24pLm9uKFwia2V5cHJlc3NcIix0aGlzLl9kb0tleVByZXNzKS5vbihcImtleXVwXCIsdGhpcy5fZG9LZXlVcCksdGhpcy5fYXV0b1NpemUoaSksdC5kYXRhKGUsXCJkYXRlcGlja2VyXCIsaSksaS5zZXR0aW5ncy5kaXNhYmxlZCYmdGhpcy5fZGlzYWJsZURhdGVwaWNrZXIoZSkpfSxfYXR0YWNobWVudHM6ZnVuY3Rpb24oZSxpKXt2YXIgcyxuLG8sYT10aGlzLl9nZXQoaSxcImFwcGVuZFRleHRcIikscj10aGlzLl9nZXQoaSxcImlzUlRMXCIpO2kuYXBwZW5kJiZpLmFwcGVuZC5yZW1vdmUoKSxhJiYoaS5hcHBlbmQ9dChcIjxzcGFuIGNsYXNzPSdcIit0aGlzLl9hcHBlbmRDbGFzcytcIic+XCIrYStcIjwvc3Bhbj5cIiksZVtyP1wiYmVmb3JlXCI6XCJhZnRlclwiXShpLmFwcGVuZCkpLGUub2ZmKFwiZm9jdXNcIix0aGlzLl9zaG93RGF0ZXBpY2tlciksaS50cmlnZ2VyJiZpLnRyaWdnZXIucmVtb3ZlKCkscz10aGlzLl9nZXQoaSxcInNob3dPblwiKSwoXCJmb2N1c1wiPT09c3x8XCJib3RoXCI9PT1zKSYmZS5vbihcImZvY3VzXCIsdGhpcy5fc2hvd0RhdGVwaWNrZXIpLChcImJ1dHRvblwiPT09c3x8XCJib3RoXCI9PT1zKSYmKG49dGhpcy5fZ2V0KGksXCJidXR0b25UZXh0XCIpLG89dGhpcy5fZ2V0KGksXCJidXR0b25JbWFnZVwiKSxpLnRyaWdnZXI9dCh0aGlzLl9nZXQoaSxcImJ1dHRvbkltYWdlT25seVwiKT90KFwiPGltZy8+XCIpLmFkZENsYXNzKHRoaXMuX3RyaWdnZXJDbGFzcykuYXR0cih7c3JjOm8sYWx0Om4sdGl0bGU6bn0pOnQoXCI8YnV0dG9uIHR5cGU9J2J1dHRvbic+PC9idXR0b24+XCIpLmFkZENsYXNzKHRoaXMuX3RyaWdnZXJDbGFzcykuaHRtbChvP3QoXCI8aW1nLz5cIikuYXR0cih7c3JjOm8sYWx0Om4sdGl0bGU6bn0pOm4pKSxlW3I/XCJiZWZvcmVcIjpcImFmdGVyXCJdKGkudHJpZ2dlciksaS50cmlnZ2VyLm9uKFwiY2xpY2tcIixmdW5jdGlvbigpe3JldHVybiB0LmRhdGVwaWNrZXIuX2RhdGVwaWNrZXJTaG93aW5nJiZ0LmRhdGVwaWNrZXIuX2xhc3RJbnB1dD09PWVbMF0/dC5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpOnQuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJnQuZGF0ZXBpY2tlci5fbGFzdElucHV0IT09ZVswXT8odC5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpLHQuZGF0ZXBpY2tlci5fc2hvd0RhdGVwaWNrZXIoZVswXSkpOnQuZGF0ZXBpY2tlci5fc2hvd0RhdGVwaWNrZXIoZVswXSksITF9KSl9LF9hdXRvU2l6ZTpmdW5jdGlvbih0KXtpZih0aGlzLl9nZXQodCxcImF1dG9TaXplXCIpJiYhdC5pbmxpbmUpe3ZhciBlLGkscyxuLG89bmV3IERhdGUoMjAwOSwxMSwyMCksYT10aGlzLl9nZXQodCxcImRhdGVGb3JtYXRcIik7YS5tYXRjaCgvW0RNXS8pJiYoZT1mdW5jdGlvbih0KXtmb3IoaT0wLHM9MCxuPTA7dC5sZW5ndGg+bjtuKyspdFtuXS5sZW5ndGg+aSYmKGk9dFtuXS5sZW5ndGgscz1uKTtyZXR1cm4gc30sby5zZXRNb250aChlKHRoaXMuX2dldCh0LGEubWF0Y2goL01NLyk/XCJtb250aE5hbWVzXCI6XCJtb250aE5hbWVzU2hvcnRcIikpKSxvLnNldERhdGUoZSh0aGlzLl9nZXQodCxhLm1hdGNoKC9ERC8pP1wiZGF5TmFtZXNcIjpcImRheU5hbWVzU2hvcnRcIikpKzIwLW8uZ2V0RGF5KCkpKSx0LmlucHV0LmF0dHIoXCJzaXplXCIsdGhpcy5fZm9ybWF0RGF0ZSh0LG8pLmxlbmd0aCl9fSxfaW5saW5lRGF0ZXBpY2tlcjpmdW5jdGlvbihlLGkpe3ZhciBzPXQoZSk7cy5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSl8fChzLmFkZENsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5hcHBlbmQoaS5kcERpdiksdC5kYXRhKGUsXCJkYXRlcGlja2VyXCIsaSksdGhpcy5fc2V0RGF0ZShpLHRoaXMuX2dldERlZmF1bHREYXRlKGkpLCEwKSx0aGlzLl91cGRhdGVEYXRlcGlja2VyKGkpLHRoaXMuX3VwZGF0ZUFsdGVybmF0ZShpKSxpLnNldHRpbmdzLmRpc2FibGVkJiZ0aGlzLl9kaXNhYmxlRGF0ZXBpY2tlcihlKSxpLmRwRGl2LmNzcyhcImRpc3BsYXlcIixcImJsb2NrXCIpKX0sX2RpYWxvZ0RhdGVwaWNrZXI6ZnVuY3Rpb24oZSxpLHMsbixvKXt2YXIgcixoLGwsYyx1LGQ9dGhpcy5fZGlhbG9nSW5zdDtyZXR1cm4gZHx8KHRoaXMudXVpZCs9MSxyPVwiZHBcIit0aGlzLnV1aWQsdGhpcy5fZGlhbG9nSW5wdXQ9dChcIjxpbnB1dCB0eXBlPSd0ZXh0JyBpZD0nXCIrcitcIicgc3R5bGU9J3Bvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAtMTAwcHg7IHdpZHRoOiAwcHg7Jy8+XCIpLHRoaXMuX2RpYWxvZ0lucHV0Lm9uKFwia2V5ZG93blwiLHRoaXMuX2RvS2V5RG93biksdChcImJvZHlcIikuYXBwZW5kKHRoaXMuX2RpYWxvZ0lucHV0KSxkPXRoaXMuX2RpYWxvZ0luc3Q9dGhpcy5fbmV3SW5zdCh0aGlzLl9kaWFsb2dJbnB1dCwhMSksZC5zZXR0aW5ncz17fSx0LmRhdGEodGhpcy5fZGlhbG9nSW5wdXRbMF0sXCJkYXRlcGlja2VyXCIsZCkpLGEoZC5zZXR0aW5ncyxufHx7fSksaT1pJiZpLmNvbnN0cnVjdG9yPT09RGF0ZT90aGlzLl9mb3JtYXREYXRlKGQsaSk6aSx0aGlzLl9kaWFsb2dJbnB1dC52YWwoaSksdGhpcy5fcG9zPW8/by5sZW5ndGg/bzpbby5wYWdlWCxvLnBhZ2VZXTpudWxsLHRoaXMuX3Bvc3x8KGg9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLGw9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCxjPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQsdT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfHxkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCx0aGlzLl9wb3M9W2gvMi0xMDArYyxsLzItMTUwK3VdKSx0aGlzLl9kaWFsb2dJbnB1dC5jc3MoXCJsZWZ0XCIsdGhpcy5fcG9zWzBdKzIwK1wicHhcIikuY3NzKFwidG9wXCIsdGhpcy5fcG9zWzFdK1wicHhcIiksZC5zZXR0aW5ncy5vblNlbGVjdD1zLHRoaXMuX2luRGlhbG9nPSEwLHRoaXMuZHBEaXYuYWRkQ2xhc3ModGhpcy5fZGlhbG9nQ2xhc3MpLHRoaXMuX3Nob3dEYXRlcGlja2VyKHRoaXMuX2RpYWxvZ0lucHV0WzBdKSx0LmJsb2NrVUkmJnQuYmxvY2tVSSh0aGlzLmRwRGl2KSx0LmRhdGEodGhpcy5fZGlhbG9nSW5wdXRbMF0sXCJkYXRlcGlja2VyXCIsZCksdGhpc30sX2Rlc3Ryb3lEYXRlcGlja2VyOmZ1bmN0aW9uKGUpe3ZhciBpLHM9dChlKSxuPXQuZGF0YShlLFwiZGF0ZXBpY2tlclwiKTtzLmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSYmKGk9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHQucmVtb3ZlRGF0YShlLFwiZGF0ZXBpY2tlclwiKSxcImlucHV0XCI9PT1pPyhuLmFwcGVuZC5yZW1vdmUoKSxuLnRyaWdnZXIucmVtb3ZlKCkscy5yZW1vdmVDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkub2ZmKFwiZm9jdXNcIix0aGlzLl9zaG93RGF0ZXBpY2tlcikub2ZmKFwia2V5ZG93blwiLHRoaXMuX2RvS2V5RG93bikub2ZmKFwia2V5cHJlc3NcIix0aGlzLl9kb0tleVByZXNzKS5vZmYoXCJrZXl1cFwiLHRoaXMuX2RvS2V5VXApKTooXCJkaXZcIj09PWl8fFwic3BhblwiPT09aSkmJnMucmVtb3ZlQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpLmVtcHR5KCkscD09PW4mJihwPW51bGwpKX0sX2VuYWJsZURhdGVwaWNrZXI6ZnVuY3Rpb24oZSl7dmFyIGkscyxuPXQoZSksbz10LmRhdGEoZSxcImRhdGVwaWNrZXJcIik7bi5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkmJihpPWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcImlucHV0XCI9PT1pPyhlLmRpc2FibGVkPSExLG8udHJpZ2dlci5maWx0ZXIoXCJidXR0b25cIikuZWFjaChmdW5jdGlvbigpe3RoaXMuZGlzYWJsZWQ9ITF9KS5lbmQoKS5maWx0ZXIoXCJpbWdcIikuY3NzKHtvcGFjaXR5OlwiMS4wXCIsY3Vyc29yOlwiXCJ9KSk6KFwiZGl2XCI9PT1pfHxcInNwYW5cIj09PWkpJiYocz1uLmNoaWxkcmVuKFwiLlwiK3RoaXMuX2lubGluZUNsYXNzKSxzLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiKSxzLmZpbmQoXCJzZWxlY3QudWktZGF0ZXBpY2tlci1tb250aCwgc2VsZWN0LnVpLWRhdGVwaWNrZXIteWVhclwiKS5wcm9wKFwiZGlzYWJsZWRcIiwhMSkpLHRoaXMuX2Rpc2FibGVkSW5wdXRzPXQubWFwKHRoaXMuX2Rpc2FibGVkSW5wdXRzLGZ1bmN0aW9uKHQpe3JldHVybiB0PT09ZT9udWxsOnR9KSl9LF9kaXNhYmxlRGF0ZXBpY2tlcjpmdW5jdGlvbihlKXt2YXIgaSxzLG49dChlKSxvPXQuZGF0YShlLFwiZGF0ZXBpY2tlclwiKTtuLmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSYmKGk9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLFwiaW5wdXRcIj09PWk/KGUuZGlzYWJsZWQ9ITAsby50cmlnZ2VyLmZpbHRlcihcImJ1dHRvblwiKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD0hMH0pLmVuZCgpLmZpbHRlcihcImltZ1wiKS5jc3Moe29wYWNpdHk6XCIwLjVcIixjdXJzb3I6XCJkZWZhdWx0XCJ9KSk6KFwiZGl2XCI9PT1pfHxcInNwYW5cIj09PWkpJiYocz1uLmNoaWxkcmVuKFwiLlwiK3RoaXMuX2lubGluZUNsYXNzKSxzLmNoaWxkcmVuKCkuYWRkQ2xhc3MoXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiKSxzLmZpbmQoXCJzZWxlY3QudWktZGF0ZXBpY2tlci1tb250aCwgc2VsZWN0LnVpLWRhdGVwaWNrZXIteWVhclwiKS5wcm9wKFwiZGlzYWJsZWRcIiwhMCkpLHRoaXMuX2Rpc2FibGVkSW5wdXRzPXQubWFwKHRoaXMuX2Rpc2FibGVkSW5wdXRzLGZ1bmN0aW9uKHQpe3JldHVybiB0PT09ZT9udWxsOnR9KSx0aGlzLl9kaXNhYmxlZElucHV0c1t0aGlzLl9kaXNhYmxlZElucHV0cy5sZW5ndGhdPWUpfSxfaXNEaXNhYmxlZERhdGVwaWNrZXI6ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuITE7Zm9yKHZhciBlPTA7dGhpcy5fZGlzYWJsZWRJbnB1dHMubGVuZ3RoPmU7ZSsrKWlmKHRoaXMuX2Rpc2FibGVkSW5wdXRzW2VdPT09dClyZXR1cm4hMDtyZXR1cm4hMX0sX2dldEluc3Q6ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiB0LmRhdGEoZSxcImRhdGVwaWNrZXJcIil9Y2F0Y2goaSl7dGhyb3dcIk1pc3NpbmcgaW5zdGFuY2UgZGF0YSBmb3IgdGhpcyBkYXRlcGlja2VyXCJ9fSxfb3B0aW9uRGF0ZXBpY2tlcjpmdW5jdGlvbihlLGkscyl7dmFyIG4sbyxyLGgsbD10aGlzLl9nZXRJbnN0KGUpO3JldHVybiAyPT09YXJndW1lbnRzLmxlbmd0aCYmXCJzdHJpbmdcIj09dHlwZW9mIGk/XCJkZWZhdWx0c1wiPT09aT90LmV4dGVuZCh7fSx0LmRhdGVwaWNrZXIuX2RlZmF1bHRzKTpsP1wiYWxsXCI9PT1pP3QuZXh0ZW5kKHt9LGwuc2V0dGluZ3MpOnRoaXMuX2dldChsLGkpOm51bGw6KG49aXx8e30sXCJzdHJpbmdcIj09dHlwZW9mIGkmJihuPXt9LG5baV09cyksbCYmKHRoaXMuX2N1ckluc3Q9PT1sJiZ0aGlzLl9oaWRlRGF0ZXBpY2tlcigpLG89dGhpcy5fZ2V0RGF0ZURhdGVwaWNrZXIoZSwhMCkscj10aGlzLl9nZXRNaW5NYXhEYXRlKGwsXCJtaW5cIiksaD10aGlzLl9nZXRNaW5NYXhEYXRlKGwsXCJtYXhcIiksYShsLnNldHRpbmdzLG4pLG51bGwhPT1yJiZ2b2lkIDAhPT1uLmRhdGVGb3JtYXQmJnZvaWQgMD09PW4ubWluRGF0ZSYmKGwuc2V0dGluZ3MubWluRGF0ZT10aGlzLl9mb3JtYXREYXRlKGwscikpLG51bGwhPT1oJiZ2b2lkIDAhPT1uLmRhdGVGb3JtYXQmJnZvaWQgMD09PW4ubWF4RGF0ZSYmKGwuc2V0dGluZ3MubWF4RGF0ZT10aGlzLl9mb3JtYXREYXRlKGwsaCkpLFwiZGlzYWJsZWRcImluIG4mJihuLmRpc2FibGVkP3RoaXMuX2Rpc2FibGVEYXRlcGlja2VyKGUpOnRoaXMuX2VuYWJsZURhdGVwaWNrZXIoZSkpLHRoaXMuX2F0dGFjaG1lbnRzKHQoZSksbCksdGhpcy5fYXV0b1NpemUobCksdGhpcy5fc2V0RGF0ZShsLG8pLHRoaXMuX3VwZGF0ZUFsdGVybmF0ZShsKSx0aGlzLl91cGRhdGVEYXRlcGlja2VyKGwpKSx2b2lkIDApfSxfY2hhbmdlRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGUsaSl7dGhpcy5fb3B0aW9uRGF0ZXBpY2tlcih0LGUsaSl9LF9yZWZyZXNoRGF0ZXBpY2tlcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9nZXRJbnN0KHQpO2UmJnRoaXMuX3VwZGF0ZURhdGVwaWNrZXIoZSl9LF9zZXREYXRlRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2dldEluc3QodCk7aSYmKHRoaXMuX3NldERhdGUoaSxlKSx0aGlzLl91cGRhdGVEYXRlcGlja2VyKGkpLHRoaXMuX3VwZGF0ZUFsdGVybmF0ZShpKSl9LF9nZXREYXRlRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2dldEluc3QodCk7cmV0dXJuIGkmJiFpLmlubGluZSYmdGhpcy5fc2V0RGF0ZUZyb21GaWVsZChpLGUpLGk/dGhpcy5fZ2V0RGF0ZShpKTpudWxsfSxfZG9LZXlEb3duOmZ1bmN0aW9uKGUpe3ZhciBpLHMsbixvPXQuZGF0ZXBpY2tlci5fZ2V0SW5zdChlLnRhcmdldCksYT0hMCxyPW8uZHBEaXYuaXMoXCIudWktZGF0ZXBpY2tlci1ydGxcIik7aWYoby5fa2V5RXZlbnQ9ITAsdC5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZylzd2l0Y2goZS5rZXlDb2RlKXtjYXNlIDk6dC5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpLGE9ITE7YnJlYWs7Y2FzZSAxMzpyZXR1cm4gbj10KFwidGQuXCIrdC5kYXRlcGlja2VyLl9kYXlPdmVyQ2xhc3MrXCI6bm90KC5cIit0LmRhdGVwaWNrZXIuX2N1cnJlbnRDbGFzcytcIilcIixvLmRwRGl2KSxuWzBdJiZ0LmRhdGVwaWNrZXIuX3NlbGVjdERheShlLnRhcmdldCxvLnNlbGVjdGVkTW9udGgsby5zZWxlY3RlZFllYXIsblswXSksaT10LmRhdGVwaWNrZXIuX2dldChvLFwib25TZWxlY3RcIiksaT8ocz10LmRhdGVwaWNrZXIuX2Zvcm1hdERhdGUobyksaS5hcHBseShvLmlucHV0P28uaW5wdXRbMF06bnVsbCxbcyxvXSkpOnQuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKSwhMTtjYXNlIDI3OnQuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTticmVhaztjYXNlIDMzOnQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShlLnRhcmdldCxlLmN0cmxLZXk/LXQuZGF0ZXBpY2tlci5fZ2V0KG8sXCJzdGVwQmlnTW9udGhzXCIpOi10LmRhdGVwaWNrZXIuX2dldChvLFwic3RlcE1vbnRoc1wiKSxcIk1cIik7YnJlYWs7Y2FzZSAzNDp0LmRhdGVwaWNrZXIuX2FkanVzdERhdGUoZS50YXJnZXQsZS5jdHJsS2V5Pyt0LmRhdGVwaWNrZXIuX2dldChvLFwic3RlcEJpZ01vbnRoc1wiKTordC5kYXRlcGlja2VyLl9nZXQobyxcInN0ZXBNb250aHNcIiksXCJNXCIpO2JyZWFrO2Nhc2UgMzU6KGUuY3RybEtleXx8ZS5tZXRhS2V5KSYmdC5kYXRlcGlja2VyLl9jbGVhckRhdGUoZS50YXJnZXQpLGE9ZS5jdHJsS2V5fHxlLm1ldGFLZXk7YnJlYWs7Y2FzZSAzNjooZS5jdHJsS2V5fHxlLm1ldGFLZXkpJiZ0LmRhdGVwaWNrZXIuX2dvdG9Ub2RheShlLnRhcmdldCksYT1lLmN0cmxLZXl8fGUubWV0YUtleTticmVhaztjYXNlIDM3OihlLmN0cmxLZXl8fGUubWV0YUtleSkmJnQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShlLnRhcmdldCxyPzE6LTEsXCJEXCIpLGE9ZS5jdHJsS2V5fHxlLm1ldGFLZXksZS5vcmlnaW5hbEV2ZW50LmFsdEtleSYmdC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGUudGFyZ2V0LGUuY3RybEtleT8tdC5kYXRlcGlja2VyLl9nZXQobyxcInN0ZXBCaWdNb250aHNcIik6LXQuZGF0ZXBpY2tlci5fZ2V0KG8sXCJzdGVwTW9udGhzXCIpLFwiTVwiKTticmVhaztjYXNlIDM4OihlLmN0cmxLZXl8fGUubWV0YUtleSkmJnQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShlLnRhcmdldCwtNyxcIkRcIiksYT1lLmN0cmxLZXl8fGUubWV0YUtleTticmVhaztjYXNlIDM5OihlLmN0cmxLZXl8fGUubWV0YUtleSkmJnQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShlLnRhcmdldCxyPy0xOjEsXCJEXCIpLGE9ZS5jdHJsS2V5fHxlLm1ldGFLZXksZS5vcmlnaW5hbEV2ZW50LmFsdEtleSYmdC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGUudGFyZ2V0LGUuY3RybEtleT8rdC5kYXRlcGlja2VyLl9nZXQobyxcInN0ZXBCaWdNb250aHNcIik6K3QuZGF0ZXBpY2tlci5fZ2V0KG8sXCJzdGVwTW9udGhzXCIpLFwiTVwiKTticmVhaztjYXNlIDQwOihlLmN0cmxLZXl8fGUubWV0YUtleSkmJnQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShlLnRhcmdldCw3LFwiRFwiKSxhPWUuY3RybEtleXx8ZS5tZXRhS2V5O2JyZWFrO2RlZmF1bHQ6YT0hMX1lbHNlIDM2PT09ZS5rZXlDb2RlJiZlLmN0cmxLZXk/dC5kYXRlcGlja2VyLl9zaG93RGF0ZXBpY2tlcih0aGlzKTphPSExO2EmJihlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSl9LF9kb0tleVByZXNzOmZ1bmN0aW9uKGUpe3ZhciBpLHMsbj10LmRhdGVwaWNrZXIuX2dldEluc3QoZS50YXJnZXQpO3JldHVybiB0LmRhdGVwaWNrZXIuX2dldChuLFwiY29uc3RyYWluSW5wdXRcIik/KGk9dC5kYXRlcGlja2VyLl9wb3NzaWJsZUNoYXJzKHQuZGF0ZXBpY2tlci5fZ2V0KG4sXCJkYXRlRm9ybWF0XCIpKSxzPVN0cmluZy5mcm9tQ2hhckNvZGUobnVsbD09ZS5jaGFyQ29kZT9lLmtleUNvZGU6ZS5jaGFyQ29kZSksZS5jdHJsS2V5fHxlLm1ldGFLZXl8fFwiIFwiPnN8fCFpfHxpLmluZGV4T2Yocyk+LTEpOnZvaWQgMH0sX2RvS2V5VXA6ZnVuY3Rpb24oZSl7dmFyIGkscz10LmRhdGVwaWNrZXIuX2dldEluc3QoZS50YXJnZXQpO2lmKHMuaW5wdXQudmFsKCkhPT1zLmxhc3RWYWwpdHJ5e2k9dC5kYXRlcGlja2VyLnBhcnNlRGF0ZSh0LmRhdGVwaWNrZXIuX2dldChzLFwiZGF0ZUZvcm1hdFwiKSxzLmlucHV0P3MuaW5wdXQudmFsKCk6bnVsbCx0LmRhdGVwaWNrZXIuX2dldEZvcm1hdENvbmZpZyhzKSksaSYmKHQuZGF0ZXBpY2tlci5fc2V0RGF0ZUZyb21GaWVsZChzKSx0LmRhdGVwaWNrZXIuX3VwZGF0ZUFsdGVybmF0ZShzKSx0LmRhdGVwaWNrZXIuX3VwZGF0ZURhdGVwaWNrZXIocykpfWNhdGNoKG4pe31yZXR1cm4hMH0sX3Nob3dEYXRlcGlja2VyOmZ1bmN0aW9uKGUpe2lmKGU9ZS50YXJnZXR8fGUsXCJpbnB1dFwiIT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYoZT10KFwiaW5wdXRcIixlLnBhcmVudE5vZGUpWzBdKSwhdC5kYXRlcGlja2VyLl9pc0Rpc2FibGVkRGF0ZXBpY2tlcihlKSYmdC5kYXRlcGlja2VyLl9sYXN0SW5wdXQhPT1lKXt2YXIgcyxuLG8scixoLGwsYztzPXQuZGF0ZXBpY2tlci5fZ2V0SW5zdChlKSx0LmRhdGVwaWNrZXIuX2N1ckluc3QmJnQuZGF0ZXBpY2tlci5fY3VySW5zdCE9PXMmJih0LmRhdGVwaWNrZXIuX2N1ckluc3QuZHBEaXYuc3RvcCghMCwhMCkscyYmdC5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyYmdC5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcih0LmRhdGVwaWNrZXIuX2N1ckluc3QuaW5wdXRbMF0pKSxuPXQuZGF0ZXBpY2tlci5fZ2V0KHMsXCJiZWZvcmVTaG93XCIpLG89bj9uLmFwcGx5KGUsW2Usc10pOnt9LG8hPT0hMSYmKGEocy5zZXR0aW5ncyxvKSxzLmxhc3RWYWw9bnVsbCx0LmRhdGVwaWNrZXIuX2xhc3RJbnB1dD1lLHQuZGF0ZXBpY2tlci5fc2V0RGF0ZUZyb21GaWVsZChzKSx0LmRhdGVwaWNrZXIuX2luRGlhbG9nJiYoZS52YWx1ZT1cIlwiKSx0LmRhdGVwaWNrZXIuX3Bvc3x8KHQuZGF0ZXBpY2tlci5fcG9zPXQuZGF0ZXBpY2tlci5fZmluZFBvcyhlKSx0LmRhdGVwaWNrZXIuX3Bvc1sxXSs9ZS5vZmZzZXRIZWlnaHQpLHI9ITEsdChlKS5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpe3JldHVybiByfD1cImZpeGVkXCI9PT10KHRoaXMpLmNzcyhcInBvc2l0aW9uXCIpLCFyfSksaD17bGVmdDp0LmRhdGVwaWNrZXIuX3Bvc1swXSx0b3A6dC5kYXRlcGlja2VyLl9wb3NbMV19LHQuZGF0ZXBpY2tlci5fcG9zPW51bGwscy5kcERpdi5lbXB0eSgpLHMuZHBEaXYuY3NzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsZGlzcGxheTpcImJsb2NrXCIsdG9wOlwiLTEwMDBweFwifSksdC5kYXRlcGlja2VyLl91cGRhdGVEYXRlcGlja2VyKHMpLGg9dC5kYXRlcGlja2VyLl9jaGVja09mZnNldChzLGgscikscy5kcERpdi5jc3Moe3Bvc2l0aW9uOnQuZGF0ZXBpY2tlci5faW5EaWFsb2cmJnQuYmxvY2tVST9cInN0YXRpY1wiOnI/XCJmaXhlZFwiOlwiYWJzb2x1dGVcIixkaXNwbGF5Olwibm9uZVwiLGxlZnQ6aC5sZWZ0K1wicHhcIix0b3A6aC50b3ArXCJweFwifSkscy5pbmxpbmV8fChsPXQuZGF0ZXBpY2tlci5fZ2V0KHMsXCJzaG93QW5pbVwiKSxjPXQuZGF0ZXBpY2tlci5fZ2V0KHMsXCJkdXJhdGlvblwiKSxzLmRwRGl2LmNzcyhcInotaW5kZXhcIixpKHQoZSkpKzEpLHQuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmc9ITAsdC5lZmZlY3RzJiZ0LmVmZmVjdHMuZWZmZWN0W2xdP3MuZHBEaXYuc2hvdyhsLHQuZGF0ZXBpY2tlci5fZ2V0KHMsXCJzaG93T3B0aW9uc1wiKSxjKTpzLmRwRGl2W2x8fFwic2hvd1wiXShsP2M6bnVsbCksdC5kYXRlcGlja2VyLl9zaG91bGRGb2N1c0lucHV0KHMpJiZzLmlucHV0LnRyaWdnZXIoXCJmb2N1c1wiKSx0LmRhdGVwaWNrZXIuX2N1ckluc3Q9cykpfX0sX3VwZGF0ZURhdGVwaWNrZXI6ZnVuY3Rpb24oZSl7dGhpcy5tYXhSb3dzPTQscD1lLGUuZHBEaXYuZW1wdHkoKS5hcHBlbmQodGhpcy5fZ2VuZXJhdGVIVE1MKGUpKSx0aGlzLl9hdHRhY2hIYW5kbGVycyhlKTt2YXIgaSxzPXRoaXMuX2dldE51bWJlck9mTW9udGhzKGUpLG49c1sxXSxhPTE3LHI9ZS5kcERpdi5maW5kKFwiLlwiK3RoaXMuX2RheU92ZXJDbGFzcytcIiBhXCIpO3IubGVuZ3RoPjAmJm8uYXBwbHkoci5nZXQoMCkpLGUuZHBEaXYucmVtb3ZlQ2xhc3MoXCJ1aS1kYXRlcGlja2VyLW11bHRpLTIgdWktZGF0ZXBpY2tlci1tdWx0aS0zIHVpLWRhdGVwaWNrZXItbXVsdGktNFwiKS53aWR0aChcIlwiKSxuPjEmJmUuZHBEaXYuYWRkQ2xhc3MoXCJ1aS1kYXRlcGlja2VyLW11bHRpLVwiK24pLmNzcyhcIndpZHRoXCIsYSpuK1wiZW1cIiksZS5kcERpdlsoMSE9PXNbMF18fDEhPT1zWzFdP1wiYWRkXCI6XCJyZW1vdmVcIikrXCJDbGFzc1wiXShcInVpLWRhdGVwaWNrZXItbXVsdGlcIiksZS5kcERpdlsodGhpcy5fZ2V0KGUsXCJpc1JUTFwiKT9cImFkZFwiOlwicmVtb3ZlXCIpK1wiQ2xhc3NcIl0oXCJ1aS1kYXRlcGlja2VyLXJ0bFwiKSxlPT09dC5kYXRlcGlja2VyLl9jdXJJbnN0JiZ0LmRhdGVwaWNrZXIuX2RhdGVwaWNrZXJTaG93aW5nJiZ0LmRhdGVwaWNrZXIuX3Nob3VsZEZvY3VzSW5wdXQoZSkmJmUuaW5wdXQudHJpZ2dlcihcImZvY3VzXCIpLGUueWVhcnNodG1sJiYoaT1lLnllYXJzaHRtbCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aT09PWUueWVhcnNodG1sJiZlLnllYXJzaHRtbCYmZS5kcERpdi5maW5kKFwic2VsZWN0LnVpLWRhdGVwaWNrZXIteWVhcjpmaXJzdFwiKS5yZXBsYWNlV2l0aChlLnllYXJzaHRtbCksaT1lLnllYXJzaHRtbD1udWxsfSwwKSl9LF9zaG91bGRGb2N1c0lucHV0OmZ1bmN0aW9uKHQpe3JldHVybiB0LmlucHV0JiZ0LmlucHV0LmlzKFwiOnZpc2libGVcIikmJiF0LmlucHV0LmlzKFwiOmRpc2FibGVkXCIpJiYhdC5pbnB1dC5pcyhcIjpmb2N1c1wiKX0sX2NoZWNrT2Zmc2V0OmZ1bmN0aW9uKGUsaSxzKXt2YXIgbj1lLmRwRGl2Lm91dGVyV2lkdGgoKSxvPWUuZHBEaXYub3V0ZXJIZWlnaHQoKSxhPWUuaW5wdXQ/ZS5pbnB1dC5vdXRlcldpZHRoKCk6MCxyPWUuaW5wdXQ/ZS5pbnB1dC5vdXRlckhlaWdodCgpOjAsaD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgrKHM/MDp0KGRvY3VtZW50KS5zY3JvbGxMZWZ0KCkpLGw9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCsocz8wOnQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpKTtyZXR1cm4gaS5sZWZ0LT10aGlzLl9nZXQoZSxcImlzUlRMXCIpP24tYTowLGkubGVmdC09cyYmaS5sZWZ0PT09ZS5pbnB1dC5vZmZzZXQoKS5sZWZ0P3QoZG9jdW1lbnQpLnNjcm9sbExlZnQoKTowLGkudG9wLT1zJiZpLnRvcD09PWUuaW5wdXQub2Zmc2V0KCkudG9wK3I/dChkb2N1bWVudCkuc2Nyb2xsVG9wKCk6MCxpLmxlZnQtPU1hdGgubWluKGkubGVmdCxpLmxlZnQrbj5oJiZoPm4/TWF0aC5hYnMoaS5sZWZ0K24taCk6MCksaS50b3AtPU1hdGgubWluKGkudG9wLGkudG9wK28+bCYmbD5vP01hdGguYWJzKG8rcik6MCksaX0sX2ZpbmRQb3M6ZnVuY3Rpb24oZSl7Zm9yKHZhciBpLHM9dGhpcy5fZ2V0SW5zdChlKSxuPXRoaXMuX2dldChzLFwiaXNSVExcIik7ZSYmKFwiaGlkZGVuXCI9PT1lLnR5cGV8fDEhPT1lLm5vZGVUeXBlfHx0LmV4cHIuZmlsdGVycy5oaWRkZW4oZSkpOyllPWVbbj9cInByZXZpb3VzU2libGluZ1wiOlwibmV4dFNpYmxpbmdcIl07cmV0dXJuIGk9dChlKS5vZmZzZXQoKSxbaS5sZWZ0LGkudG9wXX0sX2hpZGVEYXRlcGlja2VyOmZ1bmN0aW9uKGUpe3ZhciBpLHMsbixvLGE9dGhpcy5fY3VySW5zdDshYXx8ZSYmYSE9PXQuZGF0YShlLFwiZGF0ZXBpY2tlclwiKXx8dGhpcy5fZGF0ZXBpY2tlclNob3dpbmcmJihpPXRoaXMuX2dldChhLFwic2hvd0FuaW1cIikscz10aGlzLl9nZXQoYSxcImR1cmF0aW9uXCIpLG49ZnVuY3Rpb24oKXt0LmRhdGVwaWNrZXIuX3RpZHlEaWFsb2coYSl9LHQuZWZmZWN0cyYmKHQuZWZmZWN0cy5lZmZlY3RbaV18fHQuZWZmZWN0c1tpXSk/YS5kcERpdi5oaWRlKGksdC5kYXRlcGlja2VyLl9nZXQoYSxcInNob3dPcHRpb25zXCIpLHMsbik6YS5kcERpdltcInNsaWRlRG93blwiPT09aT9cInNsaWRlVXBcIjpcImZhZGVJblwiPT09aT9cImZhZGVPdXRcIjpcImhpZGVcIl0oaT9zOm51bGwsbiksaXx8bigpLHRoaXMuX2RhdGVwaWNrZXJTaG93aW5nPSExLG89dGhpcy5fZ2V0KGEsXCJvbkNsb3NlXCIpLG8mJm8uYXBwbHkoYS5pbnB1dD9hLmlucHV0WzBdOm51bGwsW2EuaW5wdXQ/YS5pbnB1dC52YWwoKTpcIlwiLGFdKSx0aGlzLl9sYXN0SW5wdXQ9bnVsbCx0aGlzLl9pbkRpYWxvZyYmKHRoaXMuX2RpYWxvZ0lucHV0LmNzcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLGxlZnQ6XCIwXCIsdG9wOlwiLTEwMHB4XCJ9KSx0LmJsb2NrVUkmJih0LnVuYmxvY2tVSSgpLHQoXCJib2R5XCIpLmFwcGVuZCh0aGlzLmRwRGl2KSkpLHRoaXMuX2luRGlhbG9nPSExKX0sX3RpZHlEaWFsb2c6ZnVuY3Rpb24odCl7dC5kcERpdi5yZW1vdmVDbGFzcyh0aGlzLl9kaWFsb2dDbGFzcykub2ZmKFwiLnVpLWRhdGVwaWNrZXItY2FsZW5kYXJcIil9LF9jaGVja0V4dGVybmFsQ2xpY2s6ZnVuY3Rpb24oZSl7aWYodC5kYXRlcGlja2VyLl9jdXJJbnN0KXt2YXIgaT10KGUudGFyZ2V0KSxzPXQuZGF0ZXBpY2tlci5fZ2V0SW5zdChpWzBdKTsoaVswXS5pZCE9PXQuZGF0ZXBpY2tlci5fbWFpbkRpdklkJiYwPT09aS5wYXJlbnRzKFwiI1wiK3QuZGF0ZXBpY2tlci5fbWFpbkRpdklkKS5sZW5ndGgmJiFpLmhhc0NsYXNzKHQuZGF0ZXBpY2tlci5tYXJrZXJDbGFzc05hbWUpJiYhaS5jbG9zZXN0KFwiLlwiK3QuZGF0ZXBpY2tlci5fdHJpZ2dlckNsYXNzKS5sZW5ndGgmJnQuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJighdC5kYXRlcGlja2VyLl9pbkRpYWxvZ3x8IXQuYmxvY2tVSSl8fGkuaGFzQ2xhc3ModC5kYXRlcGlja2VyLm1hcmtlckNsYXNzTmFtZSkmJnQuZGF0ZXBpY2tlci5fY3VySW5zdCE9PXMpJiZ0LmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCl9fSxfYWRqdXN0RGF0ZTpmdW5jdGlvbihlLGkscyl7dmFyIG49dChlKSxvPXRoaXMuX2dldEluc3QoblswXSk7dGhpcy5faXNEaXNhYmxlZERhdGVwaWNrZXIoblswXSl8fCh0aGlzLl9hZGp1c3RJbnN0RGF0ZShvLGkrKFwiTVwiPT09cz90aGlzLl9nZXQobyxcInNob3dDdXJyZW50QXRQb3NcIik6MCkscyksdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihvKSl9LF9nb3RvVG9kYXk6ZnVuY3Rpb24oZSl7dmFyIGkscz10KGUpLG49dGhpcy5fZ2V0SW5zdChzWzBdKTt0aGlzLl9nZXQobixcImdvdG9DdXJyZW50XCIpJiZuLmN1cnJlbnREYXk/KG4uc2VsZWN0ZWREYXk9bi5jdXJyZW50RGF5LG4uZHJhd01vbnRoPW4uc2VsZWN0ZWRNb250aD1uLmN1cnJlbnRNb250aCxuLmRyYXdZZWFyPW4uc2VsZWN0ZWRZZWFyPW4uY3VycmVudFllYXIpOihpPW5ldyBEYXRlLG4uc2VsZWN0ZWREYXk9aS5nZXREYXRlKCksbi5kcmF3TW9udGg9bi5zZWxlY3RlZE1vbnRoPWkuZ2V0TW9udGgoKSxuLmRyYXdZZWFyPW4uc2VsZWN0ZWRZZWFyPWkuZ2V0RnVsbFllYXIoKSksdGhpcy5fbm90aWZ5Q2hhbmdlKG4pLHRoaXMuX2FkanVzdERhdGUocyl9LF9zZWxlY3RNb250aFllYXI6ZnVuY3Rpb24oZSxpLHMpe3ZhciBuPXQoZSksbz10aGlzLl9nZXRJbnN0KG5bMF0pO29bXCJzZWxlY3RlZFwiKyhcIk1cIj09PXM/XCJNb250aFwiOlwiWWVhclwiKV09b1tcImRyYXdcIisoXCJNXCI9PT1zP1wiTW9udGhcIjpcIlllYXJcIildPXBhcnNlSW50KGkub3B0aW9uc1tpLnNlbGVjdGVkSW5kZXhdLnZhbHVlLDEwKSx0aGlzLl9ub3RpZnlDaGFuZ2UobyksdGhpcy5fYWRqdXN0RGF0ZShuKX0sX3NlbGVjdERheTpmdW5jdGlvbihlLGkscyxuKXt2YXIgbyxhPXQoZSk7dChuKS5oYXNDbGFzcyh0aGlzLl91bnNlbGVjdGFibGVDbGFzcyl8fHRoaXMuX2lzRGlzYWJsZWREYXRlcGlja2VyKGFbMF0pfHwobz10aGlzLl9nZXRJbnN0KGFbMF0pLG8uc2VsZWN0ZWREYXk9by5jdXJyZW50RGF5PXQoXCJhXCIsbikuaHRtbCgpLG8uc2VsZWN0ZWRNb250aD1vLmN1cnJlbnRNb250aD1pLG8uc2VsZWN0ZWRZZWFyPW8uY3VycmVudFllYXI9cyx0aGlzLl9zZWxlY3REYXRlKGUsdGhpcy5fZm9ybWF0RGF0ZShvLG8uY3VycmVudERheSxvLmN1cnJlbnRNb250aCxvLmN1cnJlbnRZZWFyKSkpfSxfY2xlYXJEYXRlOmZ1bmN0aW9uKGUpe3ZhciBpPXQoZSk7dGhpcy5fc2VsZWN0RGF0ZShpLFwiXCIpfSxfc2VsZWN0RGF0ZTpmdW5jdGlvbihlLGkpe3ZhciBzLG49dChlKSxvPXRoaXMuX2dldEluc3QoblswXSk7aT1udWxsIT1pP2k6dGhpcy5fZm9ybWF0RGF0ZShvKSxvLmlucHV0JiZvLmlucHV0LnZhbChpKSx0aGlzLl91cGRhdGVBbHRlcm5hdGUobykscz10aGlzLl9nZXQobyxcIm9uU2VsZWN0XCIpLHM/cy5hcHBseShvLmlucHV0P28uaW5wdXRbMF06bnVsbCxbaSxvXSk6by5pbnB1dCYmby5pbnB1dC50cmlnZ2VyKFwiY2hhbmdlXCIpLG8uaW5saW5lP3RoaXMuX3VwZGF0ZURhdGVwaWNrZXIobyk6KHRoaXMuX2hpZGVEYXRlcGlja2VyKCksdGhpcy5fbGFzdElucHV0PW8uaW5wdXRbMF0sXCJvYmplY3RcIiE9dHlwZW9mIG8uaW5wdXRbMF0mJm8uaW5wdXQudHJpZ2dlcihcImZvY3VzXCIpLHRoaXMuX2xhc3RJbnB1dD1udWxsKX0sX3VwZGF0ZUFsdGVybmF0ZTpmdW5jdGlvbihlKXt2YXIgaSxzLG4sbz10aGlzLl9nZXQoZSxcImFsdEZpZWxkXCIpO28mJihpPXRoaXMuX2dldChlLFwiYWx0Rm9ybWF0XCIpfHx0aGlzLl9nZXQoZSxcImRhdGVGb3JtYXRcIikscz10aGlzLl9nZXREYXRlKGUpLG49dGhpcy5mb3JtYXREYXRlKGkscyx0aGlzLl9nZXRGb3JtYXRDb25maWcoZSkpLHQobykudmFsKG4pKX0sbm9XZWVrZW5kczpmdW5jdGlvbih0KXt2YXIgZT10LmdldERheSgpO3JldHVybltlPjAmJjY+ZSxcIlwiXX0saXNvODYwMVdlZWs6ZnVuY3Rpb24odCl7dmFyIGUsaT1uZXcgRGF0ZSh0LmdldFRpbWUoKSk7cmV0dXJuIGkuc2V0RGF0ZShpLmdldERhdGUoKSs0LShpLmdldERheSgpfHw3KSksZT1pLmdldFRpbWUoKSxpLnNldE1vbnRoKDApLGkuc2V0RGF0ZSgxKSxNYXRoLmZsb29yKE1hdGgucm91bmQoKGUtaSkvODY0ZTUpLzcpKzF9LHBhcnNlRGF0ZTpmdW5jdGlvbihlLGkscyl7aWYobnVsbD09ZXx8bnVsbD09aSl0aHJvd1wiSW52YWxpZCBhcmd1bWVudHNcIjtpZihpPVwib2JqZWN0XCI9PXR5cGVvZiBpP1wiXCIraTppK1wiXCIsXCJcIj09PWkpcmV0dXJuIG51bGw7dmFyIG4sbyxhLHIsaD0wLGw9KHM/cy5zaG9ydFllYXJDdXRvZmY6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLnNob3J0WWVhckN1dG9mZixjPVwic3RyaW5nXCIhPXR5cGVvZiBsP2w6KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpJTEwMCtwYXJzZUludChsLDEwKSx1PShzP3MuZGF5TmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXNTaG9ydCxkPShzP3MuZGF5TmFtZXM6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzLHA9KHM/cy5tb250aE5hbWVzU2hvcnQ6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXNTaG9ydCxmPShzP3MubW9udGhOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lcyxnPS0xLG09LTEsXz0tMSx2PS0xLGI9ITEseT1mdW5jdGlvbih0KXt2YXIgaT1lLmxlbmd0aD5uKzEmJmUuY2hhckF0KG4rMSk9PT10O3JldHVybiBpJiZuKyssaX0sdz1mdW5jdGlvbih0KXt2YXIgZT15KHQpLHM9XCJAXCI9PT10PzE0OlwiIVwiPT09dD8yMDpcInlcIj09PXQmJmU/NDpcIm9cIj09PXQ/MzoyLG49XCJ5XCI9PT10P3M6MSxvPVJlZ0V4cChcIl5cXFxcZHtcIituK1wiLFwiK3MrXCJ9XCIpLGE9aS5zdWJzdHJpbmcoaCkubWF0Y2gobyk7aWYoIWEpdGhyb3dcIk1pc3NpbmcgbnVtYmVyIGF0IHBvc2l0aW9uIFwiK2g7cmV0dXJuIGgrPWFbMF0ubGVuZ3RoLHBhcnNlSW50KGFbMF0sMTApfSxrPWZ1bmN0aW9uKGUscyxuKXt2YXIgbz0tMSxhPXQubWFwKHkoZSk/bjpzLGZ1bmN0aW9uKHQsZSl7cmV0dXJuW1tlLHRdXX0pLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4tKHRbMV0ubGVuZ3RoLWVbMV0ubGVuZ3RoKX0pO2lmKHQuZWFjaChhLGZ1bmN0aW9uKHQsZSl7dmFyIHM9ZVsxXTtyZXR1cm4gaS5zdWJzdHIoaCxzLmxlbmd0aCkudG9Mb3dlckNhc2UoKT09PXMudG9Mb3dlckNhc2UoKT8obz1lWzBdLGgrPXMubGVuZ3RoLCExKTp2b2lkIDB9KSwtMSE9PW8pcmV0dXJuIG8rMTt0aHJvd1wiVW5rbm93biBuYW1lIGF0IHBvc2l0aW9uIFwiK2h9LHg9ZnVuY3Rpb24oKXtpZihpLmNoYXJBdChoKSE9PWUuY2hhckF0KG4pKXRocm93XCJVbmV4cGVjdGVkIGxpdGVyYWwgYXQgcG9zaXRpb24gXCIraDtoKyt9O2ZvcihuPTA7ZS5sZW5ndGg+bjtuKyspaWYoYilcIidcIiE9PWUuY2hhckF0KG4pfHx5KFwiJ1wiKT94KCk6Yj0hMTtlbHNlIHN3aXRjaChlLmNoYXJBdChuKSl7Y2FzZVwiZFwiOl89dyhcImRcIik7YnJlYWs7Y2FzZVwiRFwiOmsoXCJEXCIsdSxkKTticmVhaztjYXNlXCJvXCI6dj13KFwib1wiKTticmVhaztjYXNlXCJtXCI6bT13KFwibVwiKTticmVhaztjYXNlXCJNXCI6bT1rKFwiTVwiLHAsZik7YnJlYWs7Y2FzZVwieVwiOmc9dyhcInlcIik7YnJlYWs7Y2FzZVwiQFwiOnI9bmV3IERhdGUodyhcIkBcIikpLGc9ci5nZXRGdWxsWWVhcigpLG09ci5nZXRNb250aCgpKzEsXz1yLmdldERhdGUoKTticmVhaztjYXNlXCIhXCI6cj1uZXcgRGF0ZSgodyhcIiFcIiktdGhpcy5fdGlja3NUbzE5NzApLzFlNCksZz1yLmdldEZ1bGxZZWFyKCksbT1yLmdldE1vbnRoKCkrMSxfPXIuZ2V0RGF0ZSgpO2JyZWFrO2Nhc2VcIidcIjp5KFwiJ1wiKT94KCk6Yj0hMDticmVhaztkZWZhdWx0OngoKX1pZihpLmxlbmd0aD5oJiYoYT1pLnN1YnN0cihoKSwhL15cXHMrLy50ZXN0KGEpKSl0aHJvd1wiRXh0cmEvdW5wYXJzZWQgY2hhcmFjdGVycyBmb3VuZCBpbiBkYXRlOiBcIithO2lmKC0xPT09Zz9nPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKToxMDA+ZyYmKGcrPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKS0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCklMTAwKyhjPj1nPzA6LTEwMCkpLHY+LTEpZm9yKG09MSxfPXY7Oyl7aWYobz10aGlzLl9nZXREYXlzSW5Nb250aChnLG0tMSksbz49XylicmVhazttKyssXy09b31pZihyPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGcsbS0xLF8pKSxyLmdldEZ1bGxZZWFyKCkhPT1nfHxyLmdldE1vbnRoKCkrMSE9PW18fHIuZ2V0RGF0ZSgpIT09Xyl0aHJvd1wiSW52YWxpZCBkYXRlXCI7cmV0dXJuIHJ9LEFUT006XCJ5eS1tbS1kZFwiLENPT0tJRTpcIkQsIGRkIE0geXlcIixJU09fODYwMTpcInl5LW1tLWRkXCIsUkZDXzgyMjpcIkQsIGQgTSB5XCIsUkZDXzg1MDpcIkRELCBkZC1NLXlcIixSRkNfMTAzNjpcIkQsIGQgTSB5XCIsUkZDXzExMjM6XCJELCBkIE0geXlcIixSRkNfMjgyMjpcIkQsIGQgTSB5eVwiLFJTUzpcIkQsIGQgTSB5XCIsVElDS1M6XCIhXCIsVElNRVNUQU1QOlwiQFwiLFczQzpcInl5LW1tLWRkXCIsX3RpY2tzVG8xOTcwOjFlNyo2MCo2MCoyNCooNzE4Njg1K01hdGguZmxvb3IoNDkyLjUpLU1hdGguZmxvb3IoMTkuNykrTWF0aC5mbG9vcig0LjkyNSkpLGZvcm1hdERhdGU6ZnVuY3Rpb24odCxlLGkpe2lmKCFlKXJldHVyblwiXCI7dmFyIHMsbj0oaT9pLmRheU5hbWVzU2hvcnQ6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzU2hvcnQsbz0oaT9pLmRheU5hbWVzOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5kYXlOYW1lcyxhPShpP2kubW9udGhOYW1lc1Nob3J0Om51bGwpfHx0aGlzLl9kZWZhdWx0cy5tb250aE5hbWVzU2hvcnQscj0oaT9pLm1vbnRoTmFtZXM6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXMsaD1mdW5jdGlvbihlKXt2YXIgaT10Lmxlbmd0aD5zKzEmJnQuY2hhckF0KHMrMSk9PT1lO3JldHVybiBpJiZzKyssaX0sbD1mdW5jdGlvbih0LGUsaSl7dmFyIHM9XCJcIitlO2lmKGgodCkpZm9yKDtpPnMubGVuZ3RoOylzPVwiMFwiK3M7cmV0dXJuIHN9LGM9ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIGgodCk/c1tlXTppW2VdfSx1PVwiXCIsZD0hMTtpZihlKWZvcihzPTA7dC5sZW5ndGg+cztzKyspaWYoZClcIidcIiE9PXQuY2hhckF0KHMpfHxoKFwiJ1wiKT91Kz10LmNoYXJBdChzKTpkPSExO2Vsc2Ugc3dpdGNoKHQuY2hhckF0KHMpKXtjYXNlXCJkXCI6dSs9bChcImRcIixlLmdldERhdGUoKSwyKTticmVhaztjYXNlXCJEXCI6dSs9YyhcIkRcIixlLmdldERheSgpLG4sbyk7YnJlYWs7Y2FzZVwib1wiOnUrPWwoXCJvXCIsTWF0aC5yb3VuZCgobmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLGUuZ2V0TW9udGgoKSxlLmdldERhdGUoKSkuZ2V0VGltZSgpLW5ldyBEYXRlKGUuZ2V0RnVsbFllYXIoKSwwLDApLmdldFRpbWUoKSkvODY0ZTUpLDMpO2JyZWFrO2Nhc2VcIm1cIjp1Kz1sKFwibVwiLGUuZ2V0TW9udGgoKSsxLDIpO2JyZWFrO2Nhc2VcIk1cIjp1Kz1jKFwiTVwiLGUuZ2V0TW9udGgoKSxhLHIpO2JyZWFrO2Nhc2VcInlcIjp1Kz1oKFwieVwiKT9lLmdldEZ1bGxZZWFyKCk6KDEwPmUuZ2V0RnVsbFllYXIoKSUxMDA/XCIwXCI6XCJcIikrZS5nZXRGdWxsWWVhcigpJTEwMDticmVhaztjYXNlXCJAXCI6dSs9ZS5nZXRUaW1lKCk7YnJlYWs7Y2FzZVwiIVwiOnUrPTFlNCplLmdldFRpbWUoKSt0aGlzLl90aWNrc1RvMTk3MDticmVhaztjYXNlXCInXCI6aChcIidcIik/dSs9XCInXCI6ZD0hMDticmVhaztkZWZhdWx0OnUrPXQuY2hhckF0KHMpfXJldHVybiB1fSxfcG9zc2libGVDaGFyczpmdW5jdGlvbih0KXt2YXIgZSxpPVwiXCIscz0hMSxuPWZ1bmN0aW9uKGkpe3ZhciBzPXQubGVuZ3RoPmUrMSYmdC5jaGFyQXQoZSsxKT09PWk7cmV0dXJuIHMmJmUrKyxzfTtmb3IoZT0wO3QubGVuZ3RoPmU7ZSsrKWlmKHMpXCInXCIhPT10LmNoYXJBdChlKXx8bihcIidcIik/aSs9dC5jaGFyQXQoZSk6cz0hMTtlbHNlIHN3aXRjaCh0LmNoYXJBdChlKSl7Y2FzZVwiZFwiOmNhc2VcIm1cIjpjYXNlXCJ5XCI6Y2FzZVwiQFwiOmkrPVwiMDEyMzQ1Njc4OVwiO2JyZWFrO2Nhc2VcIkRcIjpjYXNlXCJNXCI6cmV0dXJuIG51bGw7Y2FzZVwiJ1wiOm4oXCInXCIpP2krPVwiJ1wiOnM9ITA7YnJlYWs7ZGVmYXVsdDppKz10LmNoYXJBdChlKX1yZXR1cm4gaX0sX2dldDpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDAhPT10LnNldHRpbmdzW2VdP3Quc2V0dGluZ3NbZV06dGhpcy5fZGVmYXVsdHNbZV19LF9zZXREYXRlRnJvbUZpZWxkOmZ1bmN0aW9uKHQsZSl7aWYodC5pbnB1dC52YWwoKSE9PXQubGFzdFZhbCl7dmFyIGk9dGhpcy5fZ2V0KHQsXCJkYXRlRm9ybWF0XCIpLHM9dC5sYXN0VmFsPXQuaW5wdXQ/dC5pbnB1dC52YWwoKTpudWxsLG49dGhpcy5fZ2V0RGVmYXVsdERhdGUodCksbz1uLGE9dGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKHQpO3RyeXtvPXRoaXMucGFyc2VEYXRlKGkscyxhKXx8bn1jYXRjaChyKXtzPWU/XCJcIjpzfXQuc2VsZWN0ZWREYXk9by5nZXREYXRlKCksdC5kcmF3TW9udGg9dC5zZWxlY3RlZE1vbnRoPW8uZ2V0TW9udGgoKSx0LmRyYXdZZWFyPXQuc2VsZWN0ZWRZZWFyPW8uZ2V0RnVsbFllYXIoKSx0LmN1cnJlbnREYXk9cz9vLmdldERhdGUoKTowLHQuY3VycmVudE1vbnRoPXM/by5nZXRNb250aCgpOjAsdC5jdXJyZW50WWVhcj1zP28uZ2V0RnVsbFllYXIoKTowLHRoaXMuX2FkanVzdEluc3REYXRlKHQpfX0sX2dldERlZmF1bHREYXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yZXN0cmljdE1pbk1heCh0LHRoaXMuX2RldGVybWluZURhdGUodCx0aGlzLl9nZXQodCxcImRlZmF1bHREYXRlXCIpLG5ldyBEYXRlKSl9LF9kZXRlcm1pbmVEYXRlOmZ1bmN0aW9uKGUsaSxzKXt2YXIgbj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgRGF0ZTtyZXR1cm4gZS5zZXREYXRlKGUuZ2V0RGF0ZSgpK3QpLGV9LG89ZnVuY3Rpb24oaSl7dHJ5e3JldHVybiB0LmRhdGVwaWNrZXIucGFyc2VEYXRlKHQuZGF0ZXBpY2tlci5fZ2V0KGUsXCJkYXRlRm9ybWF0XCIpLGksdC5kYXRlcGlja2VyLl9nZXRGb3JtYXRDb25maWcoZSkpfWNhdGNoKHMpe31mb3IodmFyIG49KGkudG9Mb3dlckNhc2UoKS5tYXRjaCgvXmMvKT90LmRhdGVwaWNrZXIuX2dldERhdGUoZSk6bnVsbCl8fG5ldyBEYXRlLG89bi5nZXRGdWxsWWVhcigpLGE9bi5nZXRNb250aCgpLHI9bi5nZXREYXRlKCksaD0vKFsrXFwtXT9bMC05XSspXFxzKihkfER8d3xXfG18TXx5fFkpPy9nLGw9aC5leGVjKGkpO2w7KXtzd2l0Y2gobFsyXXx8XCJkXCIpe2Nhc2VcImRcIjpjYXNlXCJEXCI6cis9cGFyc2VJbnQobFsxXSwxMCk7YnJlYWs7Y2FzZVwid1wiOmNhc2VcIldcIjpyKz03KnBhcnNlSW50KGxbMV0sMTApO2JyZWFrO2Nhc2VcIm1cIjpjYXNlXCJNXCI6YSs9cGFyc2VJbnQobFsxXSwxMCkscj1NYXRoLm1pbihyLHQuZGF0ZXBpY2tlci5fZ2V0RGF5c0luTW9udGgobyxhKSk7YnJlYWs7Y2FzZVwieVwiOmNhc2VcIllcIjpvKz1wYXJzZUludChsWzFdLDEwKSxyPU1hdGgubWluKHIsdC5kYXRlcGlja2VyLl9nZXREYXlzSW5Nb250aChvLGEpKX1sPWguZXhlYyhpKX1yZXR1cm4gbmV3IERhdGUobyxhLHIpfSxhPW51bGw9PWl8fFwiXCI9PT1pP3M6XCJzdHJpbmdcIj09dHlwZW9mIGk/byhpKTpcIm51bWJlclwiPT10eXBlb2YgaT9pc05hTihpKT9zOm4oaSk6bmV3IERhdGUoaS5nZXRUaW1lKCkpO3JldHVybiBhPWEmJlwiSW52YWxpZCBEYXRlXCI9PVwiXCIrYT9zOmEsYSYmKGEuc2V0SG91cnMoMCksYS5zZXRNaW51dGVzKDApLGEuc2V0U2Vjb25kcygwKSxhLnNldE1pbGxpc2Vjb25kcygwKSksdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QoYSl9LF9kYXlsaWdodFNhdmluZ0FkanVzdDpmdW5jdGlvbih0KXtyZXR1cm4gdD8odC5zZXRIb3Vycyh0LmdldEhvdXJzKCk+MTI/dC5nZXRIb3VycygpKzI6MCksdCk6bnVsbH0sX3NldERhdGU6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPSFlLG49dC5zZWxlY3RlZE1vbnRoLG89dC5zZWxlY3RlZFllYXIsYT10aGlzLl9yZXN0cmljdE1pbk1heCh0LHRoaXMuX2RldGVybWluZURhdGUodCxlLG5ldyBEYXRlKSk7dC5zZWxlY3RlZERheT10LmN1cnJlbnREYXk9YS5nZXREYXRlKCksdC5kcmF3TW9udGg9dC5zZWxlY3RlZE1vbnRoPXQuY3VycmVudE1vbnRoPWEuZ2V0TW9udGgoKSx0LmRyYXdZZWFyPXQuc2VsZWN0ZWRZZWFyPXQuY3VycmVudFllYXI9YS5nZXRGdWxsWWVhcigpLG49PT10LnNlbGVjdGVkTW9udGgmJm89PT10LnNlbGVjdGVkWWVhcnx8aXx8dGhpcy5fbm90aWZ5Q2hhbmdlKHQpLHRoaXMuX2FkanVzdEluc3REYXRlKHQpLHQuaW5wdXQmJnQuaW5wdXQudmFsKHM/XCJcIjp0aGlzLl9mb3JtYXREYXRlKHQpKX0sX2dldERhdGU6ZnVuY3Rpb24odCl7dmFyIGU9IXQuY3VycmVudFllYXJ8fHQuaW5wdXQmJlwiXCI9PT10LmlucHV0LnZhbCgpP251bGw6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUodC5jdXJyZW50WWVhcix0LmN1cnJlbnRNb250aCx0LmN1cnJlbnREYXkpKTtyZXR1cm4gZX0sX2F0dGFjaEhhbmRsZXJzOmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuX2dldChlLFwic3RlcE1vbnRoc1wiKSxzPVwiI1wiK2UuaWQucmVwbGFjZSgvXFxcXFxcXFwvZyxcIlxcXFxcIik7ZS5kcERpdi5maW5kKFwiW2RhdGEtaGFuZGxlcl1cIikubWFwKGZ1bmN0aW9uKCl7dmFyIGU9e3ByZXY6ZnVuY3Rpb24oKXt0LmRhdGVwaWNrZXIuX2FkanVzdERhdGUocywtaSxcIk1cIil9LG5leHQ6ZnVuY3Rpb24oKXt0LmRhdGVwaWNrZXIuX2FkanVzdERhdGUocywraSxcIk1cIil9LGhpZGU6ZnVuY3Rpb24oKXt0LmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCl9LHRvZGF5OmZ1bmN0aW9uKCl7dC5kYXRlcGlja2VyLl9nb3RvVG9kYXkocyl9LHNlbGVjdERheTpmdW5jdGlvbigpe3JldHVybiB0LmRhdGVwaWNrZXIuX3NlbGVjdERheShzLCt0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtbW9udGhcIiksK3RoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS15ZWFyXCIpLHRoaXMpLCExfSxzZWxlY3RNb250aDpmdW5jdGlvbigpe3JldHVybiB0LmRhdGVwaWNrZXIuX3NlbGVjdE1vbnRoWWVhcihzLHRoaXMsXCJNXCIpLCExfSxzZWxlY3RZZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIHQuZGF0ZXBpY2tlci5fc2VsZWN0TW9udGhZZWFyKHMsdGhpcyxcIllcIiksITF9fTt0KHRoaXMpLm9uKHRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1ldmVudFwiKSxlW3RoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1oYW5kbGVyXCIpXSl9KX0sX2dlbmVyYXRlSFRNTDpmdW5jdGlvbih0KXt2YXIgZSxpLHMsbixvLGEscixoLGwsYyx1LGQscCxmLGcsbSxfLHYsYix5LHcsayx4LEMsRCxJLFQsUCxNLFMsSCx6LE8sQSxOLFcsRSxGLEwsUj1uZXcgRGF0ZSxCPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKFIuZ2V0RnVsbFllYXIoKSxSLmdldE1vbnRoKCksUi5nZXREYXRlKCkpKSxZPXRoaXMuX2dldCh0LFwiaXNSVExcIiksaj10aGlzLl9nZXQodCxcInNob3dCdXR0b25QYW5lbFwiKSxxPXRoaXMuX2dldCh0LFwiaGlkZUlmTm9QcmV2TmV4dFwiKSxLPXRoaXMuX2dldCh0LFwibmF2aWdhdGlvbkFzRGF0ZUZvcm1hdFwiKSxVPXRoaXMuX2dldE51bWJlck9mTW9udGhzKHQpLFY9dGhpcy5fZ2V0KHQsXCJzaG93Q3VycmVudEF0UG9zXCIpLCQ9dGhpcy5fZ2V0KHQsXCJzdGVwTW9udGhzXCIpLFg9MSE9PVVbMF18fDEhPT1VWzFdLEc9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QodC5jdXJyZW50RGF5P25ldyBEYXRlKHQuY3VycmVudFllYXIsdC5jdXJyZW50TW9udGgsdC5jdXJyZW50RGF5KTpuZXcgRGF0ZSg5OTk5LDksOSkpLFE9dGhpcy5fZ2V0TWluTWF4RGF0ZSh0LFwibWluXCIpLEo9dGhpcy5fZ2V0TWluTWF4RGF0ZSh0LFwibWF4XCIpLFo9dC5kcmF3TW9udGgtVix0ZT10LmRyYXdZZWFyO2lmKDA+WiYmKForPTEyLHRlLS0pLEopZm9yKGU9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoSi5nZXRGdWxsWWVhcigpLEouZ2V0TW9udGgoKS1VWzBdKlVbMV0rMSxKLmdldERhdGUoKSkpLGU9USYmUT5lP1E6ZTt0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZSh0ZSxaLDEpKT5lOylaLS0sMD5aJiYoWj0xMSx0ZS0tKTtmb3IodC5kcmF3TW9udGg9Wix0LmRyYXdZZWFyPXRlLGk9dGhpcy5fZ2V0KHQsXCJwcmV2VGV4dFwiKSxpPUs/dGhpcy5mb3JtYXREYXRlKGksdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUodGUsWi0kLDEpKSx0aGlzLl9nZXRGb3JtYXRDb25maWcodCkpOmkscz10aGlzLl9jYW5BZGp1c3RNb250aCh0LC0xLHRlLFopP1wiPGEgY2xhc3M9J3VpLWRhdGVwaWNrZXItcHJldiB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J3ByZXYnIGRhdGEtZXZlbnQ9J2NsaWNrJyB0aXRsZT0nXCIraStcIic+PHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtXCIrKFk/XCJlXCI6XCJ3XCIpK1wiJz5cIitpK1wiPC9zcGFuPjwvYT5cIjpxP1wiXCI6XCI8YSBjbGFzcz0ndWktZGF0ZXBpY2tlci1wcmV2IHVpLWNvcm5lci1hbGwgdWktc3RhdGUtZGlzYWJsZWQnIHRpdGxlPSdcIitpK1wiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS1cIisoWT9cImVcIjpcIndcIikrXCInPlwiK2krXCI8L3NwYW4+PC9hPlwiLG49dGhpcy5fZ2V0KHQsXCJuZXh0VGV4dFwiKSxuPUs/dGhpcy5mb3JtYXREYXRlKG4sdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUodGUsWiskLDEpKSx0aGlzLl9nZXRGb3JtYXRDb25maWcodCkpOm4sbz10aGlzLl9jYW5BZGp1c3RNb250aCh0LDEsdGUsWik/XCI8YSBjbGFzcz0ndWktZGF0ZXBpY2tlci1uZXh0IHVpLWNvcm5lci1hbGwnIGRhdGEtaGFuZGxlcj0nbmV4dCcgZGF0YS1ldmVudD0nY2xpY2snIHRpdGxlPSdcIituK1wiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS1cIisoWT9cIndcIjpcImVcIikrXCInPlwiK24rXCI8L3NwYW4+PC9hPlwiOnE/XCJcIjpcIjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLW5leHQgdWktY29ybmVyLWFsbCB1aS1zdGF0ZS1kaXNhYmxlZCcgdGl0bGU9J1wiK24rXCInPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLVwiKyhZP1wid1wiOlwiZVwiKStcIic+XCIrbitcIjwvc3Bhbj48L2E+XCIsYT10aGlzLl9nZXQodCxcImN1cnJlbnRUZXh0XCIpLHI9dGhpcy5fZ2V0KHQsXCJnb3RvQ3VycmVudFwiKSYmdC5jdXJyZW50RGF5P0c6QixhPUs/dGhpcy5mb3JtYXREYXRlKGEscix0aGlzLl9nZXRGb3JtYXRDb25maWcodCkpOmEsaD10LmlubGluZT9cIlwiOlwiPGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSd1aS1kYXRlcGlja2VyLWNsb3NlIHVpLXN0YXRlLWRlZmF1bHQgdWktcHJpb3JpdHktcHJpbWFyeSB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J2hpZGUnIGRhdGEtZXZlbnQ9J2NsaWNrJz5cIit0aGlzLl9nZXQodCxcImNsb3NlVGV4dFwiKStcIjwvYnV0dG9uPlwiLGw9aj9cIjxkaXYgY2xhc3M9J3VpLWRhdGVwaWNrZXItYnV0dG9ucGFuZSB1aS13aWRnZXQtY29udGVudCc+XCIrKFk/aDpcIlwiKSsodGhpcy5faXNJblJhbmdlKHQscik/XCI8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J3VpLWRhdGVwaWNrZXItY3VycmVudCB1aS1zdGF0ZS1kZWZhdWx0IHVpLXByaW9yaXR5LXNlY29uZGFyeSB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J3RvZGF5JyBkYXRhLWV2ZW50PSdjbGljayc+XCIrYStcIjwvYnV0dG9uPlwiOlwiXCIpKyhZP1wiXCI6aCkrXCI8L2Rpdj5cIjpcIlwiLGM9cGFyc2VJbnQodGhpcy5fZ2V0KHQsXCJmaXJzdERheVwiKSwxMCksYz1pc05hTihjKT8wOmMsdT10aGlzLl9nZXQodCxcInNob3dXZWVrXCIpLGQ9dGhpcy5fZ2V0KHQsXCJkYXlOYW1lc1wiKSxwPXRoaXMuX2dldCh0LFwiZGF5TmFtZXNNaW5cIiksZj10aGlzLl9nZXQodCxcIm1vbnRoTmFtZXNcIiksZz10aGlzLl9nZXQodCxcIm1vbnRoTmFtZXNTaG9ydFwiKSxtPXRoaXMuX2dldCh0LFwiYmVmb3JlU2hvd0RheVwiKSxfPXRoaXMuX2dldCh0LFwic2hvd090aGVyTW9udGhzXCIpLHY9dGhpcy5fZ2V0KHQsXCJzZWxlY3RPdGhlck1vbnRoc1wiKSxiPXRoaXMuX2dldERlZmF1bHREYXRlKHQpLHk9XCJcIixrPTA7VVswXT5rO2srKyl7Zm9yKHg9XCJcIix0aGlzLm1heFJvd3M9NCxDPTA7VVsxXT5DO0MrKyl7aWYoRD10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZSh0ZSxaLHQuc2VsZWN0ZWREYXkpKSxJPVwiIHVpLWNvcm5lci1hbGxcIixUPVwiXCIsWCl7aWYoVCs9XCI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLWdyb3VwXCIsVVsxXT4xKXN3aXRjaChDKXtjYXNlIDA6VCs9XCIgdWktZGF0ZXBpY2tlci1ncm91cC1maXJzdFwiLEk9XCIgdWktY29ybmVyLVwiKyhZP1wicmlnaHRcIjpcImxlZnRcIik7XHJcbmJyZWFrO2Nhc2UgVVsxXS0xOlQrPVwiIHVpLWRhdGVwaWNrZXItZ3JvdXAtbGFzdFwiLEk9XCIgdWktY29ybmVyLVwiKyhZP1wibGVmdFwiOlwicmlnaHRcIik7YnJlYWs7ZGVmYXVsdDpUKz1cIiB1aS1kYXRlcGlja2VyLWdyb3VwLW1pZGRsZVwiLEk9XCJcIn1UKz1cIic+XCJ9Zm9yKFQrPVwiPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1oZWFkZXIgdWktd2lkZ2V0LWhlYWRlciB1aS1oZWxwZXItY2xlYXJmaXhcIitJK1wiJz5cIisoL2FsbHxsZWZ0Ly50ZXN0KEkpJiYwPT09az9ZP286czpcIlwiKSsoL2FsbHxyaWdodC8udGVzdChJKSYmMD09PWs/WT9zOm86XCJcIikrdGhpcy5fZ2VuZXJhdGVNb250aFllYXJIZWFkZXIodCxaLHRlLFEsSixrPjB8fEM+MCxmLGcpK1wiPC9kaXY+PHRhYmxlIGNsYXNzPSd1aS1kYXRlcGlja2VyLWNhbGVuZGFyJz48dGhlYWQ+XCIrXCI8dHI+XCIsUD11P1wiPHRoIGNsYXNzPSd1aS1kYXRlcGlja2VyLXdlZWstY29sJz5cIit0aGlzLl9nZXQodCxcIndlZWtIZWFkZXJcIikrXCI8L3RoPlwiOlwiXCIsdz0wOzc+dzt3KyspTT0odytjKSU3LFArPVwiPHRoIHNjb3BlPSdjb2wnXCIrKCh3K2MrNiklNz49NT9cIiBjbGFzcz0ndWktZGF0ZXBpY2tlci13ZWVrLWVuZCdcIjpcIlwiKStcIj5cIitcIjxzcGFuIHRpdGxlPSdcIitkW01dK1wiJz5cIitwW01dK1wiPC9zcGFuPjwvdGg+XCI7Zm9yKFQrPVArXCI8L3RyPjwvdGhlYWQ+PHRib2R5PlwiLFM9dGhpcy5fZ2V0RGF5c0luTW9udGgodGUsWiksdGU9PT10LnNlbGVjdGVkWWVhciYmWj09PXQuc2VsZWN0ZWRNb250aCYmKHQuc2VsZWN0ZWREYXk9TWF0aC5taW4odC5zZWxlY3RlZERheSxTKSksSD0odGhpcy5fZ2V0Rmlyc3REYXlPZk1vbnRoKHRlLFopLWMrNyklNyx6PU1hdGguY2VpbCgoSCtTKS83KSxPPVg/dGhpcy5tYXhSb3dzPno/dGhpcy5tYXhSb3dzOno6eix0aGlzLm1heFJvd3M9TyxBPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHRlLFosMS1IKSksTj0wO08+TjtOKyspe2ZvcihUKz1cIjx0cj5cIixXPXU/XCI8dGQgY2xhc3M9J3VpLWRhdGVwaWNrZXItd2Vlay1jb2wnPlwiK3RoaXMuX2dldCh0LFwiY2FsY3VsYXRlV2Vla1wiKShBKStcIjwvdGQ+XCI6XCJcIix3PTA7Nz53O3crKylFPW0/bS5hcHBseSh0LmlucHV0P3QuaW5wdXRbMF06bnVsbCxbQV0pOlshMCxcIlwiXSxGPUEuZ2V0TW9udGgoKSE9PVosTD1GJiYhdnx8IUVbMF18fFEmJlE+QXx8SiYmQT5KLFcrPVwiPHRkIGNsYXNzPSdcIisoKHcrYys2KSU3Pj01P1wiIHVpLWRhdGVwaWNrZXItd2Vlay1lbmRcIjpcIlwiKSsoRj9cIiB1aS1kYXRlcGlja2VyLW90aGVyLW1vbnRoXCI6XCJcIikrKEEuZ2V0VGltZSgpPT09RC5nZXRUaW1lKCkmJlo9PT10LnNlbGVjdGVkTW9udGgmJnQuX2tleUV2ZW50fHxiLmdldFRpbWUoKT09PUEuZ2V0VGltZSgpJiZiLmdldFRpbWUoKT09PUQuZ2V0VGltZSgpP1wiIFwiK3RoaXMuX2RheU92ZXJDbGFzczpcIlwiKSsoTD9cIiBcIit0aGlzLl91bnNlbGVjdGFibGVDbGFzcytcIiB1aS1zdGF0ZS1kaXNhYmxlZFwiOlwiXCIpKyhGJiYhXz9cIlwiOlwiIFwiK0VbMV0rKEEuZ2V0VGltZSgpPT09Ry5nZXRUaW1lKCk/XCIgXCIrdGhpcy5fY3VycmVudENsYXNzOlwiXCIpKyhBLmdldFRpbWUoKT09PUIuZ2V0VGltZSgpP1wiIHVpLWRhdGVwaWNrZXItdG9kYXlcIjpcIlwiKSkrXCInXCIrKEYmJiFffHwhRVsyXT9cIlwiOlwiIHRpdGxlPSdcIitFWzJdLnJlcGxhY2UoLycvZyxcIiYjMzk7XCIpK1wiJ1wiKSsoTD9cIlwiOlwiIGRhdGEtaGFuZGxlcj0nc2VsZWN0RGF5JyBkYXRhLWV2ZW50PSdjbGljaycgZGF0YS1tb250aD0nXCIrQS5nZXRNb250aCgpK1wiJyBkYXRhLXllYXI9J1wiK0EuZ2V0RnVsbFllYXIoKStcIidcIikrXCI+XCIrKEYmJiFfP1wiJiN4YTA7XCI6TD9cIjxzcGFuIGNsYXNzPSd1aS1zdGF0ZS1kZWZhdWx0Jz5cIitBLmdldERhdGUoKStcIjwvc3Bhbj5cIjpcIjxhIGNsYXNzPSd1aS1zdGF0ZS1kZWZhdWx0XCIrKEEuZ2V0VGltZSgpPT09Qi5nZXRUaW1lKCk/XCIgdWktc3RhdGUtaGlnaGxpZ2h0XCI6XCJcIikrKEEuZ2V0VGltZSgpPT09Ry5nZXRUaW1lKCk/XCIgdWktc3RhdGUtYWN0aXZlXCI6XCJcIikrKEY/XCIgdWktcHJpb3JpdHktc2Vjb25kYXJ5XCI6XCJcIikrXCInIGhyZWY9JyMnPlwiK0EuZ2V0RGF0ZSgpK1wiPC9hPlwiKStcIjwvdGQ+XCIsQS5zZXREYXRlKEEuZ2V0RGF0ZSgpKzEpLEE9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QoQSk7VCs9VytcIjwvdHI+XCJ9WisrLFo+MTEmJihaPTAsdGUrKyksVCs9XCI8L3Rib2R5PjwvdGFibGU+XCIrKFg/XCI8L2Rpdj5cIisoVVswXT4wJiZDPT09VVsxXS0xP1wiPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1yb3ctYnJlYWsnPjwvZGl2PlwiOlwiXCIpOlwiXCIpLHgrPVR9eSs9eH1yZXR1cm4geSs9bCx0Ll9rZXlFdmVudD0hMSx5fSxfZ2VuZXJhdGVNb250aFllYXJIZWFkZXI6ZnVuY3Rpb24odCxlLGkscyxuLG8sYSxyKXt2YXIgaCxsLGMsdSxkLHAsZixnLG09dGhpcy5fZ2V0KHQsXCJjaGFuZ2VNb250aFwiKSxfPXRoaXMuX2dldCh0LFwiY2hhbmdlWWVhclwiKSx2PXRoaXMuX2dldCh0LFwic2hvd01vbnRoQWZ0ZXJZZWFyXCIpLGI9XCI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLXRpdGxlJz5cIix5PVwiXCI7aWYob3x8IW0peSs9XCI8c3BhbiBjbGFzcz0ndWktZGF0ZXBpY2tlci1tb250aCc+XCIrYVtlXStcIjwvc3Bhbj5cIjtlbHNle2ZvcihoPXMmJnMuZ2V0RnVsbFllYXIoKT09PWksbD1uJiZuLmdldEZ1bGxZZWFyKCk9PT1pLHkrPVwiPHNlbGVjdCBjbGFzcz0ndWktZGF0ZXBpY2tlci1tb250aCcgZGF0YS1oYW5kbGVyPSdzZWxlY3RNb250aCcgZGF0YS1ldmVudD0nY2hhbmdlJz5cIixjPTA7MTI+YztjKyspKCFofHxjPj1zLmdldE1vbnRoKCkpJiYoIWx8fG4uZ2V0TW9udGgoKT49YykmJih5Kz1cIjxvcHRpb24gdmFsdWU9J1wiK2MrXCInXCIrKGM9PT1lP1wiIHNlbGVjdGVkPSdzZWxlY3RlZCdcIjpcIlwiKStcIj5cIityW2NdK1wiPC9vcHRpb24+XCIpO3krPVwiPC9zZWxlY3Q+XCJ9aWYodnx8KGIrPXkrKCFvJiZtJiZfP1wiXCI6XCImI3hhMDtcIikpLCF0LnllYXJzaHRtbClpZih0LnllYXJzaHRtbD1cIlwiLG98fCFfKWIrPVwiPHNwYW4gY2xhc3M9J3VpLWRhdGVwaWNrZXIteWVhcic+XCIraStcIjwvc3Bhbj5cIjtlbHNle2Zvcih1PXRoaXMuX2dldCh0LFwieWVhclJhbmdlXCIpLnNwbGl0KFwiOlwiKSxkPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSxwPWZ1bmN0aW9uKHQpe3ZhciBlPXQubWF0Y2goL2NbK1xcLV0uKi8pP2krcGFyc2VJbnQodC5zdWJzdHJpbmcoMSksMTApOnQubWF0Y2goL1srXFwtXS4qLyk/ZCtwYXJzZUludCh0LDEwKTpwYXJzZUludCh0LDEwKTtyZXR1cm4gaXNOYU4oZSk/ZDplfSxmPXAodVswXSksZz1NYXRoLm1heChmLHAodVsxXXx8XCJcIikpLGY9cz9NYXRoLm1heChmLHMuZ2V0RnVsbFllYXIoKSk6ZixnPW4/TWF0aC5taW4oZyxuLmdldEZ1bGxZZWFyKCkpOmcsdC55ZWFyc2h0bWwrPVwiPHNlbGVjdCBjbGFzcz0ndWktZGF0ZXBpY2tlci15ZWFyJyBkYXRhLWhhbmRsZXI9J3NlbGVjdFllYXInIGRhdGEtZXZlbnQ9J2NoYW5nZSc+XCI7Zz49ZjtmKyspdC55ZWFyc2h0bWwrPVwiPG9wdGlvbiB2YWx1ZT0nXCIrZitcIidcIisoZj09PWk/XCIgc2VsZWN0ZWQ9J3NlbGVjdGVkJ1wiOlwiXCIpK1wiPlwiK2YrXCI8L29wdGlvbj5cIjt0LnllYXJzaHRtbCs9XCI8L3NlbGVjdD5cIixiKz10LnllYXJzaHRtbCx0LnllYXJzaHRtbD1udWxsfXJldHVybiBiKz10aGlzLl9nZXQodCxcInllYXJTdWZmaXhcIiksdiYmKGIrPSghbyYmbSYmXz9cIlwiOlwiJiN4YTA7XCIpK3kpLGIrPVwiPC9kaXY+XCJ9LF9hZGp1c3RJbnN0RGF0ZTpmdW5jdGlvbih0LGUsaSl7dmFyIHM9dC5zZWxlY3RlZFllYXIrKFwiWVwiPT09aT9lOjApLG49dC5zZWxlY3RlZE1vbnRoKyhcIk1cIj09PWk/ZTowKSxvPU1hdGgubWluKHQuc2VsZWN0ZWREYXksdGhpcy5fZ2V0RGF5c0luTW9udGgocyxuKSkrKFwiRFwiPT09aT9lOjApLGE9dGhpcy5fcmVzdHJpY3RNaW5NYXgodCx0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShzLG4sbykpKTt0LnNlbGVjdGVkRGF5PWEuZ2V0RGF0ZSgpLHQuZHJhd01vbnRoPXQuc2VsZWN0ZWRNb250aD1hLmdldE1vbnRoKCksdC5kcmF3WWVhcj10LnNlbGVjdGVkWWVhcj1hLmdldEZ1bGxZZWFyKCksKFwiTVwiPT09aXx8XCJZXCI9PT1pKSYmdGhpcy5fbm90aWZ5Q2hhbmdlKHQpfSxfcmVzdHJpY3RNaW5NYXg6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9nZXRNaW5NYXhEYXRlKHQsXCJtaW5cIikscz10aGlzLl9nZXRNaW5NYXhEYXRlKHQsXCJtYXhcIiksbj1pJiZpPmU/aTplO3JldHVybiBzJiZuPnM/czpufSxfbm90aWZ5Q2hhbmdlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2dldCh0LFwib25DaGFuZ2VNb250aFllYXJcIik7ZSYmZS5hcHBseSh0LmlucHV0P3QuaW5wdXRbMF06bnVsbCxbdC5zZWxlY3RlZFllYXIsdC5zZWxlY3RlZE1vbnRoKzEsdF0pfSxfZ2V0TnVtYmVyT2ZNb250aHM6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZ2V0KHQsXCJudW1iZXJPZk1vbnRoc1wiKTtyZXR1cm4gbnVsbD09ZT9bMSwxXTpcIm51bWJlclwiPT10eXBlb2YgZT9bMSxlXTplfSxfZ2V0TWluTWF4RGF0ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9kZXRlcm1pbmVEYXRlKHQsdGhpcy5fZ2V0KHQsZStcIkRhdGVcIiksbnVsbCl9LF9nZXREYXlzSW5Nb250aDpmdW5jdGlvbih0LGUpe3JldHVybiAzMi10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZSh0LGUsMzIpKS5nZXREYXRlKCl9LF9nZXRGaXJzdERheU9mTW9udGg6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IERhdGUodCxlLDEpLmdldERheSgpfSxfY2FuQWRqdXN0TW9udGg6ZnVuY3Rpb24odCxlLGkscyl7dmFyIG49dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHModCksbz10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShpLHMrKDA+ZT9lOm5bMF0qblsxXSksMSkpO3JldHVybiAwPmUmJm8uc2V0RGF0ZSh0aGlzLl9nZXREYXlzSW5Nb250aChvLmdldEZ1bGxZZWFyKCksby5nZXRNb250aCgpKSksdGhpcy5faXNJblJhbmdlKHQsbyl9LF9pc0luUmFuZ2U6ZnVuY3Rpb24odCxlKXt2YXIgaSxzLG49dGhpcy5fZ2V0TWluTWF4RGF0ZSh0LFwibWluXCIpLG89dGhpcy5fZ2V0TWluTWF4RGF0ZSh0LFwibWF4XCIpLGE9bnVsbCxyPW51bGwsaD10aGlzLl9nZXQodCxcInllYXJSYW5nZVwiKTtyZXR1cm4gaCYmKGk9aC5zcGxpdChcIjpcIikscz0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCksYT1wYXJzZUludChpWzBdLDEwKSxyPXBhcnNlSW50KGlbMV0sMTApLGlbMF0ubWF0Y2goL1srXFwtXS4qLykmJihhKz1zKSxpWzFdLm1hdGNoKC9bK1xcLV0uKi8pJiYocis9cykpLCghbnx8ZS5nZXRUaW1lKCk+PW4uZ2V0VGltZSgpKSYmKCFvfHxlLmdldFRpbWUoKTw9by5nZXRUaW1lKCkpJiYoIWF8fGUuZ2V0RnVsbFllYXIoKT49YSkmJighcnx8cj49ZS5nZXRGdWxsWWVhcigpKX0sX2dldEZvcm1hdENvbmZpZzpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9nZXQodCxcInNob3J0WWVhckN1dG9mZlwiKTtyZXR1cm4gZT1cInN0cmluZ1wiIT10eXBlb2YgZT9lOihuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSUxMDArcGFyc2VJbnQoZSwxMCkse3Nob3J0WWVhckN1dG9mZjplLGRheU5hbWVzU2hvcnQ6dGhpcy5fZ2V0KHQsXCJkYXlOYW1lc1Nob3J0XCIpLGRheU5hbWVzOnRoaXMuX2dldCh0LFwiZGF5TmFtZXNcIiksbW9udGhOYW1lc1Nob3J0OnRoaXMuX2dldCh0LFwibW9udGhOYW1lc1Nob3J0XCIpLG1vbnRoTmFtZXM6dGhpcy5fZ2V0KHQsXCJtb250aE5hbWVzXCIpfX0sX2Zvcm1hdERhdGU6ZnVuY3Rpb24odCxlLGkscyl7ZXx8KHQuY3VycmVudERheT10LnNlbGVjdGVkRGF5LHQuY3VycmVudE1vbnRoPXQuc2VsZWN0ZWRNb250aCx0LmN1cnJlbnRZZWFyPXQuc2VsZWN0ZWRZZWFyKTt2YXIgbj1lP1wib2JqZWN0XCI9PXR5cGVvZiBlP2U6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUocyxpLGUpKTp0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZSh0LmN1cnJlbnRZZWFyLHQuY3VycmVudE1vbnRoLHQuY3VycmVudERheSkpO3JldHVybiB0aGlzLmZvcm1hdERhdGUodGhpcy5fZ2V0KHQsXCJkYXRlRm9ybWF0XCIpLG4sdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKHQpKX19KSx0LmZuLmRhdGVwaWNrZXI9ZnVuY3Rpb24oZSl7aWYoIXRoaXMubGVuZ3RoKXJldHVybiB0aGlzO3QuZGF0ZXBpY2tlci5pbml0aWFsaXplZHx8KHQoZG9jdW1lbnQpLm9uKFwibW91c2Vkb3duXCIsdC5kYXRlcGlja2VyLl9jaGVja0V4dGVybmFsQ2xpY2spLHQuZGF0ZXBpY2tlci5pbml0aWFsaXplZD0hMCksMD09PXQoXCIjXCIrdC5kYXRlcGlja2VyLl9tYWluRGl2SWQpLmxlbmd0aCYmdChcImJvZHlcIikuYXBwZW5kKHQuZGF0ZXBpY2tlci5kcERpdik7dmFyIGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBlfHxcImlzRGlzYWJsZWRcIiE9PWUmJlwiZ2V0RGF0ZVwiIT09ZSYmXCJ3aWRnZXRcIiE9PWU/XCJvcHRpb25cIj09PWUmJjI9PT1hcmd1bWVudHMubGVuZ3RoJiZcInN0cmluZ1wiPT10eXBlb2YgYXJndW1lbnRzWzFdP3QuZGF0ZXBpY2tlcltcIl9cIitlK1wiRGF0ZXBpY2tlclwiXS5hcHBseSh0LmRhdGVwaWNrZXIsW3RoaXNbMF1dLmNvbmNhdChpKSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7XCJzdHJpbmdcIj09dHlwZW9mIGU/dC5kYXRlcGlja2VyW1wiX1wiK2UrXCJEYXRlcGlja2VyXCJdLmFwcGx5KHQuZGF0ZXBpY2tlcixbdGhpc10uY29uY2F0KGkpKTp0LmRhdGVwaWNrZXIuX2F0dGFjaERhdGVwaWNrZXIodGhpcyxlKX0pOnQuZGF0ZXBpY2tlcltcIl9cIitlK1wiRGF0ZXBpY2tlclwiXS5hcHBseSh0LmRhdGVwaWNrZXIsW3RoaXNbMF1dLmNvbmNhdChpKSl9LHQuZGF0ZXBpY2tlcj1uZXcgcyx0LmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWQ9ITEsdC5kYXRlcGlja2VyLnV1aWQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksdC5kYXRlcGlja2VyLnZlcnNpb249XCIxLjEyLjFcIix0LmRhdGVwaWNrZXIsdC53aWRnZXQoXCJ1aS5kaWFsb2dcIix7dmVyc2lvbjpcIjEuMTIuMVwiLG9wdGlvbnM6e2FwcGVuZFRvOlwiYm9keVwiLGF1dG9PcGVuOiEwLGJ1dHRvbnM6W10sY2xhc3Nlczp7XCJ1aS1kaWFsb2dcIjpcInVpLWNvcm5lci1hbGxcIixcInVpLWRpYWxvZy10aXRsZWJhclwiOlwidWktY29ybmVyLWFsbFwifSxjbG9zZU9uRXNjYXBlOiEwLGNsb3NlVGV4dDpcIkNsb3NlXCIsZHJhZ2dhYmxlOiEwLGhpZGU6bnVsbCxoZWlnaHQ6XCJhdXRvXCIsbWF4SGVpZ2h0Om51bGwsbWF4V2lkdGg6bnVsbCxtaW5IZWlnaHQ6MTUwLG1pbldpZHRoOjE1MCxtb2RhbDohMSxwb3NpdGlvbjp7bXk6XCJjZW50ZXJcIixhdDpcImNlbnRlclwiLG9mOndpbmRvdyxjb2xsaXNpb246XCJmaXRcIix1c2luZzpmdW5jdGlvbihlKXt2YXIgaT10KHRoaXMpLmNzcyhlKS5vZmZzZXQoKS50b3A7MD5pJiZ0KHRoaXMpLmNzcyhcInRvcFwiLGUudG9wLWkpfX0scmVzaXphYmxlOiEwLHNob3c6bnVsbCx0aXRsZTpudWxsLHdpZHRoOjMwMCxiZWZvcmVDbG9zZTpudWxsLGNsb3NlOm51bGwsZHJhZzpudWxsLGRyYWdTdGFydDpudWxsLGRyYWdTdG9wOm51bGwsZm9jdXM6bnVsbCxvcGVuOm51bGwscmVzaXplOm51bGwscmVzaXplU3RhcnQ6bnVsbCxyZXNpemVTdG9wOm51bGx9LHNpemVSZWxhdGVkT3B0aW9uczp7YnV0dG9uczohMCxoZWlnaHQ6ITAsbWF4SGVpZ2h0OiEwLG1heFdpZHRoOiEwLG1pbkhlaWdodDohMCxtaW5XaWR0aDohMCx3aWR0aDohMH0scmVzaXphYmxlUmVsYXRlZE9wdGlvbnM6e21heEhlaWdodDohMCxtYXhXaWR0aDohMCxtaW5IZWlnaHQ6ITAsbWluV2lkdGg6ITB9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLm9yaWdpbmFsQ3NzPXtkaXNwbGF5OnRoaXMuZWxlbWVudFswXS5zdHlsZS5kaXNwbGF5LHdpZHRoOnRoaXMuZWxlbWVudFswXS5zdHlsZS53aWR0aCxtaW5IZWlnaHQ6dGhpcy5lbGVtZW50WzBdLnN0eWxlLm1pbkhlaWdodCxtYXhIZWlnaHQ6dGhpcy5lbGVtZW50WzBdLnN0eWxlLm1heEhlaWdodCxoZWlnaHQ6dGhpcy5lbGVtZW50WzBdLnN0eWxlLmhlaWdodH0sdGhpcy5vcmlnaW5hbFBvc2l0aW9uPXtwYXJlbnQ6dGhpcy5lbGVtZW50LnBhcmVudCgpLGluZGV4OnRoaXMuZWxlbWVudC5wYXJlbnQoKS5jaGlsZHJlbigpLmluZGV4KHRoaXMuZWxlbWVudCl9LHRoaXMub3JpZ2luYWxUaXRsZT10aGlzLmVsZW1lbnQuYXR0cihcInRpdGxlXCIpLG51bGw9PXRoaXMub3B0aW9ucy50aXRsZSYmbnVsbCE9dGhpcy5vcmlnaW5hbFRpdGxlJiYodGhpcy5vcHRpb25zLnRpdGxlPXRoaXMub3JpZ2luYWxUaXRsZSksdGhpcy5vcHRpb25zLmRpc2FibGVkJiYodGhpcy5vcHRpb25zLmRpc2FibGVkPSExKSx0aGlzLl9jcmVhdGVXcmFwcGVyKCksdGhpcy5lbGVtZW50LnNob3coKS5yZW1vdmVBdHRyKFwidGl0bGVcIikuYXBwZW5kVG8odGhpcy51aURpYWxvZyksdGhpcy5fYWRkQ2xhc3MoXCJ1aS1kaWFsb2ctY29udGVudFwiLFwidWktd2lkZ2V0LWNvbnRlbnRcIiksdGhpcy5fY3JlYXRlVGl0bGViYXIoKSx0aGlzLl9jcmVhdGVCdXR0b25QYW5lKCksdGhpcy5vcHRpb25zLmRyYWdnYWJsZSYmdC5mbi5kcmFnZ2FibGUmJnRoaXMuX21ha2VEcmFnZ2FibGUoKSx0aGlzLm9wdGlvbnMucmVzaXphYmxlJiZ0LmZuLnJlc2l6YWJsZSYmdGhpcy5fbWFrZVJlc2l6YWJsZSgpLHRoaXMuX2lzT3Blbj0hMSx0aGlzLl90cmFja0ZvY3VzKCl9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmF1dG9PcGVuJiZ0aGlzLm9wZW4oKX0sX2FwcGVuZFRvOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcHRpb25zLmFwcGVuZFRvO3JldHVybiBlJiYoZS5qcXVlcnl8fGUubm9kZVR5cGUpP3QoZSk6dGhpcy5kb2N1bWVudC5maW5kKGV8fFwiYm9keVwiKS5lcSgwKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMub3JpZ2luYWxQb3NpdGlvbjt0aGlzLl91bnRyYWNrSW5zdGFuY2UoKSx0aGlzLl9kZXN0cm95T3ZlcmxheSgpLHRoaXMuZWxlbWVudC5yZW1vdmVVbmlxdWVJZCgpLmNzcyh0aGlzLm9yaWdpbmFsQ3NzKS5kZXRhY2goKSx0aGlzLnVpRGlhbG9nLnJlbW92ZSgpLHRoaXMub3JpZ2luYWxUaXRsZSYmdGhpcy5lbGVtZW50LmF0dHIoXCJ0aXRsZVwiLHRoaXMub3JpZ2luYWxUaXRsZSksdD1lLnBhcmVudC5jaGlsZHJlbigpLmVxKGUuaW5kZXgpLHQubGVuZ3RoJiZ0WzBdIT09dGhpcy5lbGVtZW50WzBdP3QuYmVmb3JlKHRoaXMuZWxlbWVudCk6ZS5wYXJlbnQuYXBwZW5kKHRoaXMuZWxlbWVudCl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVpRGlhbG9nfSxkaXNhYmxlOnQubm9vcCxlbmFibGU6dC5ub29wLGNsb3NlOmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXM7dGhpcy5faXNPcGVuJiZ0aGlzLl90cmlnZ2VyKFwiYmVmb3JlQ2xvc2VcIixlKSE9PSExJiYodGhpcy5faXNPcGVuPSExLHRoaXMuX2ZvY3VzZWRFbGVtZW50PW51bGwsdGhpcy5fZGVzdHJveU92ZXJsYXkoKSx0aGlzLl91bnRyYWNrSW5zdGFuY2UoKSx0aGlzLm9wZW5lci5maWx0ZXIoXCI6Zm9jdXNhYmxlXCIpLnRyaWdnZXIoXCJmb2N1c1wiKS5sZW5ndGh8fHQudWkuc2FmZUJsdXIodC51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSksdGhpcy5faGlkZSh0aGlzLnVpRGlhbG9nLHRoaXMub3B0aW9ucy5oaWRlLGZ1bmN0aW9uKCl7aS5fdHJpZ2dlcihcImNsb3NlXCIsZSl9KSl9LGlzT3BlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc09wZW59LG1vdmVUb1RvcDpmdW5jdGlvbigpe3RoaXMuX21vdmVUb1RvcCgpfSxfbW92ZVRvVG9wOmZ1bmN0aW9uKGUsaSl7dmFyIHM9ITEsbj10aGlzLnVpRGlhbG9nLnNpYmxpbmdzKFwiLnVpLWZyb250OnZpc2libGVcIikubWFwKGZ1bmN0aW9uKCl7cmV0dXJuK3QodGhpcykuY3NzKFwiei1pbmRleFwiKX0pLmdldCgpLG89TWF0aC5tYXguYXBwbHkobnVsbCxuKTtyZXR1cm4gbz49K3RoaXMudWlEaWFsb2cuY3NzKFwiei1pbmRleFwiKSYmKHRoaXMudWlEaWFsb2cuY3NzKFwiei1pbmRleFwiLG8rMSkscz0hMCkscyYmIWkmJnRoaXMuX3RyaWdnZXIoXCJmb2N1c1wiLGUpLHN9LG9wZW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl9pc09wZW4/KHRoaXMuX21vdmVUb1RvcCgpJiZ0aGlzLl9mb2N1c1RhYmJhYmxlKCksdm9pZCAwKToodGhpcy5faXNPcGVuPSEwLHRoaXMub3BlbmVyPXQodC51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSksdGhpcy5fc2l6ZSgpLHRoaXMuX3Bvc2l0aW9uKCksdGhpcy5fY3JlYXRlT3ZlcmxheSgpLHRoaXMuX21vdmVUb1RvcChudWxsLCEwKSx0aGlzLm92ZXJsYXkmJnRoaXMub3ZlcmxheS5jc3MoXCJ6LWluZGV4XCIsdGhpcy51aURpYWxvZy5jc3MoXCJ6LWluZGV4XCIpLTEpLHRoaXMuX3Nob3codGhpcy51aURpYWxvZyx0aGlzLm9wdGlvbnMuc2hvdyxmdW5jdGlvbigpe2UuX2ZvY3VzVGFiYmFibGUoKSxlLl90cmlnZ2VyKFwiZm9jdXNcIil9KSx0aGlzLl9tYWtlRm9jdXNUYXJnZXQoKSx0aGlzLl90cmlnZ2VyKFwib3BlblwiKSx2b2lkIDApfSxfZm9jdXNUYWJiYWJsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ZvY3VzZWRFbGVtZW50O3R8fCh0PXRoaXMuZWxlbWVudC5maW5kKFwiW2F1dG9mb2N1c11cIikpLHQubGVuZ3RofHwodD10aGlzLmVsZW1lbnQuZmluZChcIjp0YWJiYWJsZVwiKSksdC5sZW5ndGh8fCh0PXRoaXMudWlEaWFsb2dCdXR0b25QYW5lLmZpbmQoXCI6dGFiYmFibGVcIikpLHQubGVuZ3RofHwodD10aGlzLnVpRGlhbG9nVGl0bGViYXJDbG9zZS5maWx0ZXIoXCI6dGFiYmFibGVcIikpLHQubGVuZ3RofHwodD10aGlzLnVpRGlhbG9nKSx0LmVxKDApLnRyaWdnZXIoXCJmb2N1c1wiKX0sX2tlZXBGb2N1czpmdW5jdGlvbihlKXtmdW5jdGlvbiBpKCl7dmFyIGU9dC51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSxpPXRoaXMudWlEaWFsb2dbMF09PT1lfHx0LmNvbnRhaW5zKHRoaXMudWlEaWFsb2dbMF0sZSk7aXx8dGhpcy5fZm9jdXNUYWJiYWJsZSgpfWUucHJldmVudERlZmF1bHQoKSxpLmNhbGwodGhpcyksdGhpcy5fZGVsYXkoaSl9LF9jcmVhdGVXcmFwcGVyOmZ1bmN0aW9uKCl7dGhpcy51aURpYWxvZz10KFwiPGRpdj5cIikuaGlkZSgpLmF0dHIoe3RhYkluZGV4Oi0xLHJvbGU6XCJkaWFsb2dcIn0pLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpLHRoaXMuX2FkZENsYXNzKHRoaXMudWlEaWFsb2csXCJ1aS1kaWFsb2dcIixcInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1mcm9udFwiKSx0aGlzLl9vbih0aGlzLnVpRGlhbG9nLHtrZXlkb3duOmZ1bmN0aW9uKGUpe2lmKHRoaXMub3B0aW9ucy5jbG9zZU9uRXNjYXBlJiYhZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmZS5rZXlDb2RlJiZlLmtleUNvZGU9PT10LnVpLmtleUNvZGUuRVNDQVBFKXJldHVybiBlLnByZXZlbnREZWZhdWx0KCksdGhpcy5jbG9zZShlKSx2b2lkIDA7aWYoZS5rZXlDb2RlPT09dC51aS5rZXlDb2RlLlRBQiYmIWUuaXNEZWZhdWx0UHJldmVudGVkKCkpe3ZhciBpPXRoaXMudWlEaWFsb2cuZmluZChcIjp0YWJiYWJsZVwiKSxzPWkuZmlsdGVyKFwiOmZpcnN0XCIpLG49aS5maWx0ZXIoXCI6bGFzdFwiKTtlLnRhcmdldCE9PW5bMF0mJmUudGFyZ2V0IT09dGhpcy51aURpYWxvZ1swXXx8ZS5zaGlmdEtleT9lLnRhcmdldCE9PXNbMF0mJmUudGFyZ2V0IT09dGhpcy51aURpYWxvZ1swXXx8IWUuc2hpZnRLZXl8fCh0aGlzLl9kZWxheShmdW5jdGlvbigpe24udHJpZ2dlcihcImZvY3VzXCIpfSksZS5wcmV2ZW50RGVmYXVsdCgpKToodGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtzLnRyaWdnZXIoXCJmb2N1c1wiKX0pLGUucHJldmVudERlZmF1bHQoKSl9fSxtb3VzZWRvd246ZnVuY3Rpb24odCl7dGhpcy5fbW92ZVRvVG9wKHQpJiZ0aGlzLl9mb2N1c1RhYmJhYmxlKCl9fSksdGhpcy5lbGVtZW50LmZpbmQoXCJbYXJpYS1kZXNjcmliZWRieV1cIikubGVuZ3RofHx0aGlzLnVpRGlhbG9nLmF0dHIoe1wiYXJpYS1kZXNjcmliZWRieVwiOnRoaXMuZWxlbWVudC51bmlxdWVJZCgpLmF0dHIoXCJpZFwiKX0pfSxfY3JlYXRlVGl0bGViYXI6ZnVuY3Rpb24oKXt2YXIgZTt0aGlzLnVpRGlhbG9nVGl0bGViYXI9dChcIjxkaXY+XCIpLHRoaXMuX2FkZENsYXNzKHRoaXMudWlEaWFsb2dUaXRsZWJhcixcInVpLWRpYWxvZy10aXRsZWJhclwiLFwidWktd2lkZ2V0LWhlYWRlciB1aS1oZWxwZXItY2xlYXJmaXhcIiksdGhpcy5fb24odGhpcy51aURpYWxvZ1RpdGxlYmFyLHttb3VzZWRvd246ZnVuY3Rpb24oZSl7dChlLnRhcmdldCkuY2xvc2VzdChcIi51aS1kaWFsb2ctdGl0bGViYXItY2xvc2VcIil8fHRoaXMudWlEaWFsb2cudHJpZ2dlcihcImZvY3VzXCIpfX0pLHRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlPXQoXCI8YnV0dG9uIHR5cGU9J2J1dHRvbic+PC9idXR0b24+XCIpLmJ1dHRvbih7bGFiZWw6dChcIjxhPlwiKS50ZXh0KHRoaXMub3B0aW9ucy5jbG9zZVRleHQpLmh0bWwoKSxpY29uOlwidWktaWNvbi1jbG9zZXRoaWNrXCIsc2hvd0xhYmVsOiExfSkuYXBwZW5kVG8odGhpcy51aURpYWxvZ1RpdGxlYmFyKSx0aGlzLl9hZGRDbGFzcyh0aGlzLnVpRGlhbG9nVGl0bGViYXJDbG9zZSxcInVpLWRpYWxvZy10aXRsZWJhci1jbG9zZVwiKSx0aGlzLl9vbih0aGlzLnVpRGlhbG9nVGl0bGViYXJDbG9zZSx7Y2xpY2s6ZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuY2xvc2UodCl9fSksZT10KFwiPHNwYW4+XCIpLnVuaXF1ZUlkKCkucHJlcGVuZFRvKHRoaXMudWlEaWFsb2dUaXRsZWJhciksdGhpcy5fYWRkQ2xhc3MoZSxcInVpLWRpYWxvZy10aXRsZVwiKSx0aGlzLl90aXRsZShlKSx0aGlzLnVpRGlhbG9nVGl0bGViYXIucHJlcGVuZFRvKHRoaXMudWlEaWFsb2cpLHRoaXMudWlEaWFsb2cuYXR0cih7XCJhcmlhLWxhYmVsbGVkYnlcIjplLmF0dHIoXCJpZFwiKX0pfSxfdGl0bGU6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25zLnRpdGxlP3QudGV4dCh0aGlzLm9wdGlvbnMudGl0bGUpOnQuaHRtbChcIiYjMTYwO1wiKX0sX2NyZWF0ZUJ1dHRvblBhbmU6ZnVuY3Rpb24oKXt0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZT10KFwiPGRpdj5cIiksdGhpcy5fYWRkQ2xhc3ModGhpcy51aURpYWxvZ0J1dHRvblBhbmUsXCJ1aS1kaWFsb2ctYnV0dG9ucGFuZVwiLFwidWktd2lkZ2V0LWNvbnRlbnQgdWktaGVscGVyLWNsZWFyZml4XCIpLHRoaXMudWlCdXR0b25TZXQ9dChcIjxkaXY+XCIpLmFwcGVuZFRvKHRoaXMudWlEaWFsb2dCdXR0b25QYW5lKSx0aGlzLl9hZGRDbGFzcyh0aGlzLnVpQnV0dG9uU2V0LFwidWktZGlhbG9nLWJ1dHRvbnNldFwiKSx0aGlzLl9jcmVhdGVCdXR0b25zKCl9LF9jcmVhdGVCdXR0b25zOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxpPXRoaXMub3B0aW9ucy5idXR0b25zO3JldHVybiB0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZS5yZW1vdmUoKSx0aGlzLnVpQnV0dG9uU2V0LmVtcHR5KCksdC5pc0VtcHR5T2JqZWN0KGkpfHx0LmlzQXJyYXkoaSkmJiFpLmxlbmd0aD8odGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy51aURpYWxvZyxcInVpLWRpYWxvZy1idXR0b25zXCIpLHZvaWQgMCk6KHQuZWFjaChpLGZ1bmN0aW9uKGkscyl7dmFyIG4sbztzPXQuaXNGdW5jdGlvbihzKT97Y2xpY2s6cyx0ZXh0Oml9OnMscz10LmV4dGVuZCh7dHlwZTpcImJ1dHRvblwifSxzKSxuPXMuY2xpY2ssbz17aWNvbjpzLmljb24saWNvblBvc2l0aW9uOnMuaWNvblBvc2l0aW9uLHNob3dMYWJlbDpzLnNob3dMYWJlbCxpY29uczpzLmljb25zLHRleHQ6cy50ZXh0fSxkZWxldGUgcy5jbGljayxkZWxldGUgcy5pY29uLGRlbGV0ZSBzLmljb25Qb3NpdGlvbixkZWxldGUgcy5zaG93TGFiZWwsZGVsZXRlIHMuaWNvbnMsXCJib29sZWFuXCI9PXR5cGVvZiBzLnRleHQmJmRlbGV0ZSBzLnRleHQsdChcIjxidXR0b24+PC9idXR0b24+XCIscykuYnV0dG9uKG8pLmFwcGVuZFRvKGUudWlCdXR0b25TZXQpLm9uKFwiY2xpY2tcIixmdW5jdGlvbigpe24uYXBwbHkoZS5lbGVtZW50WzBdLGFyZ3VtZW50cyl9KX0pLHRoaXMuX2FkZENsYXNzKHRoaXMudWlEaWFsb2csXCJ1aS1kaWFsb2ctYnV0dG9uc1wiKSx0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZS5hcHBlbmRUbyh0aGlzLnVpRGlhbG9nKSx2b2lkIDApfSxfbWFrZURyYWdnYWJsZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7cmV0dXJue3Bvc2l0aW9uOnQucG9zaXRpb24sb2Zmc2V0OnQub2Zmc2V0fX12YXIgaT10aGlzLHM9dGhpcy5vcHRpb25zO3RoaXMudWlEaWFsb2cuZHJhZ2dhYmxlKHtjYW5jZWw6XCIudWktZGlhbG9nLWNvbnRlbnQsIC51aS1kaWFsb2ctdGl0bGViYXItY2xvc2VcIixoYW5kbGU6XCIudWktZGlhbG9nLXRpdGxlYmFyXCIsY29udGFpbm1lbnQ6XCJkb2N1bWVudFwiLHN0YXJ0OmZ1bmN0aW9uKHMsbil7aS5fYWRkQ2xhc3ModCh0aGlzKSxcInVpLWRpYWxvZy1kcmFnZ2luZ1wiKSxpLl9ibG9ja0ZyYW1lcygpLGkuX3RyaWdnZXIoXCJkcmFnU3RhcnRcIixzLGUobikpfSxkcmFnOmZ1bmN0aW9uKHQscyl7aS5fdHJpZ2dlcihcImRyYWdcIix0LGUocykpfSxzdG9wOmZ1bmN0aW9uKG4sbyl7dmFyIGE9by5vZmZzZXQubGVmdC1pLmRvY3VtZW50LnNjcm9sbExlZnQoKSxyPW8ub2Zmc2V0LnRvcC1pLmRvY3VtZW50LnNjcm9sbFRvcCgpO3MucG9zaXRpb249e215OlwibGVmdCB0b3BcIixhdDpcImxlZnRcIisoYT49MD9cIitcIjpcIlwiKSthK1wiIFwiK1widG9wXCIrKHI+PTA/XCIrXCI6XCJcIikrcixvZjppLndpbmRvd30saS5fcmVtb3ZlQ2xhc3ModCh0aGlzKSxcInVpLWRpYWxvZy1kcmFnZ2luZ1wiKSxpLl91bmJsb2NrRnJhbWVzKCksaS5fdHJpZ2dlcihcImRyYWdTdG9wXCIsbixlKG8pKX19KX0sX21ha2VSZXNpemFibGU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3JldHVybntvcmlnaW5hbFBvc2l0aW9uOnQub3JpZ2luYWxQb3NpdGlvbixvcmlnaW5hbFNpemU6dC5vcmlnaW5hbFNpemUscG9zaXRpb246dC5wb3NpdGlvbixzaXplOnQuc2l6ZX19dmFyIGk9dGhpcyxzPXRoaXMub3B0aW9ucyxuPXMucmVzaXphYmxlLG89dGhpcy51aURpYWxvZy5jc3MoXCJwb3NpdGlvblwiKSxhPVwic3RyaW5nXCI9PXR5cGVvZiBuP246XCJuLGUscyx3LHNlLHN3LG5lLG53XCI7dGhpcy51aURpYWxvZy5yZXNpemFibGUoe2NhbmNlbDpcIi51aS1kaWFsb2ctY29udGVudFwiLGNvbnRhaW5tZW50OlwiZG9jdW1lbnRcIixhbHNvUmVzaXplOnRoaXMuZWxlbWVudCxtYXhXaWR0aDpzLm1heFdpZHRoLG1heEhlaWdodDpzLm1heEhlaWdodCxtaW5XaWR0aDpzLm1pbldpZHRoLG1pbkhlaWdodDp0aGlzLl9taW5IZWlnaHQoKSxoYW5kbGVzOmEsc3RhcnQ6ZnVuY3Rpb24ocyxuKXtpLl9hZGRDbGFzcyh0KHRoaXMpLFwidWktZGlhbG9nLXJlc2l6aW5nXCIpLGkuX2Jsb2NrRnJhbWVzKCksaS5fdHJpZ2dlcihcInJlc2l6ZVN0YXJ0XCIscyxlKG4pKX0scmVzaXplOmZ1bmN0aW9uKHQscyl7aS5fdHJpZ2dlcihcInJlc2l6ZVwiLHQsZShzKSl9LHN0b3A6ZnVuY3Rpb24obixvKXt2YXIgYT1pLnVpRGlhbG9nLm9mZnNldCgpLHI9YS5sZWZ0LWkuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpLGg9YS50b3AtaS5kb2N1bWVudC5zY3JvbGxUb3AoKTtzLmhlaWdodD1pLnVpRGlhbG9nLmhlaWdodCgpLHMud2lkdGg9aS51aURpYWxvZy53aWR0aCgpLHMucG9zaXRpb249e215OlwibGVmdCB0b3BcIixhdDpcImxlZnRcIisocj49MD9cIitcIjpcIlwiKStyK1wiIFwiK1widG9wXCIrKGg+PTA/XCIrXCI6XCJcIikraCxvZjppLndpbmRvd30saS5fcmVtb3ZlQ2xhc3ModCh0aGlzKSxcInVpLWRpYWxvZy1yZXNpemluZ1wiKSxpLl91bmJsb2NrRnJhbWVzKCksaS5fdHJpZ2dlcihcInJlc2l6ZVN0b3BcIixuLGUobykpfX0pLmNzcyhcInBvc2l0aW9uXCIsbyl9LF90cmFja0ZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5fb24odGhpcy53aWRnZXQoKSx7Zm9jdXNpbjpmdW5jdGlvbihlKXt0aGlzLl9tYWtlRm9jdXNUYXJnZXQoKSx0aGlzLl9mb2N1c2VkRWxlbWVudD10KGUudGFyZ2V0KX19KX0sX21ha2VGb2N1c1RhcmdldDpmdW5jdGlvbigpe3RoaXMuX3VudHJhY2tJbnN0YW5jZSgpLHRoaXMuX3RyYWNraW5nSW5zdGFuY2VzKCkudW5zaGlmdCh0aGlzKX0sX3VudHJhY2tJbnN0YW5jZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3RyYWNraW5nSW5zdGFuY2VzKCksaT10LmluQXJyYXkodGhpcyxlKTstMSE9PWkmJmUuc3BsaWNlKGksMSl9LF90cmFja2luZ0luc3RhbmNlczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZG9jdW1lbnQuZGF0YShcInVpLWRpYWxvZy1pbnN0YW5jZXNcIik7cmV0dXJuIHR8fCh0PVtdLHRoaXMuZG9jdW1lbnQuZGF0YShcInVpLWRpYWxvZy1pbnN0YW5jZXNcIix0KSksdH0sX21pbkhlaWdodDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucztyZXR1cm5cImF1dG9cIj09PXQuaGVpZ2h0P3QubWluSGVpZ2h0Ok1hdGgubWluKHQubWluSGVpZ2h0LHQuaGVpZ2h0KX0sX3Bvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy51aURpYWxvZy5pcyhcIjp2aXNpYmxlXCIpO3R8fHRoaXMudWlEaWFsb2cuc2hvdygpLHRoaXMudWlEaWFsb2cucG9zaXRpb24odGhpcy5vcHRpb25zLnBvc2l0aW9uKSx0fHx0aGlzLnVpRGlhbG9nLmhpZGUoKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcyxzPSExLG49e307dC5lYWNoKGUsZnVuY3Rpb24odCxlKXtpLl9zZXRPcHRpb24odCxlKSx0IGluIGkuc2l6ZVJlbGF0ZWRPcHRpb25zJiYocz0hMCksdCBpbiBpLnJlc2l6YWJsZVJlbGF0ZWRPcHRpb25zJiYoblt0XT1lKX0pLHMmJih0aGlzLl9zaXplKCksdGhpcy5fcG9zaXRpb24oKSksdGhpcy51aURpYWxvZy5pcyhcIjpkYXRhKHVpLXJlc2l6YWJsZSlcIikmJnRoaXMudWlEaWFsb2cucmVzaXphYmxlKFwib3B0aW9uXCIsbil9LF9zZXRPcHRpb246ZnVuY3Rpb24oZSxpKXt2YXIgcyxuLG89dGhpcy51aURpYWxvZztcImRpc2FibGVkXCIhPT1lJiYodGhpcy5fc3VwZXIoZSxpKSxcImFwcGVuZFRvXCI9PT1lJiZ0aGlzLnVpRGlhbG9nLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpLFwiYnV0dG9uc1wiPT09ZSYmdGhpcy5fY3JlYXRlQnV0dG9ucygpLFwiY2xvc2VUZXh0XCI9PT1lJiZ0aGlzLnVpRGlhbG9nVGl0bGViYXJDbG9zZS5idXR0b24oe2xhYmVsOnQoXCI8YT5cIikudGV4dChcIlwiK3RoaXMub3B0aW9ucy5jbG9zZVRleHQpLmh0bWwoKX0pLFwiZHJhZ2dhYmxlXCI9PT1lJiYocz1vLmlzKFwiOmRhdGEodWktZHJhZ2dhYmxlKVwiKSxzJiYhaSYmby5kcmFnZ2FibGUoXCJkZXN0cm95XCIpLCFzJiZpJiZ0aGlzLl9tYWtlRHJhZ2dhYmxlKCkpLFwicG9zaXRpb25cIj09PWUmJnRoaXMuX3Bvc2l0aW9uKCksXCJyZXNpemFibGVcIj09PWUmJihuPW8uaXMoXCI6ZGF0YSh1aS1yZXNpemFibGUpXCIpLG4mJiFpJiZvLnJlc2l6YWJsZShcImRlc3Ryb3lcIiksbiYmXCJzdHJpbmdcIj09dHlwZW9mIGkmJm8ucmVzaXphYmxlKFwib3B0aW9uXCIsXCJoYW5kbGVzXCIsaSksbnx8aT09PSExfHx0aGlzLl9tYWtlUmVzaXphYmxlKCkpLFwidGl0bGVcIj09PWUmJnRoaXMuX3RpdGxlKHRoaXMudWlEaWFsb2dUaXRsZWJhci5maW5kKFwiLnVpLWRpYWxvZy10aXRsZVwiKSkpfSxfc2l6ZTpmdW5jdGlvbigpe3ZhciB0LGUsaSxzPXRoaXMub3B0aW9uczt0aGlzLmVsZW1lbnQuc2hvdygpLmNzcyh7d2lkdGg6XCJhdXRvXCIsbWluSGVpZ2h0OjAsbWF4SGVpZ2h0Olwibm9uZVwiLGhlaWdodDowfSkscy5taW5XaWR0aD5zLndpZHRoJiYocy53aWR0aD1zLm1pbldpZHRoKSx0PXRoaXMudWlEaWFsb2cuY3NzKHtoZWlnaHQ6XCJhdXRvXCIsd2lkdGg6cy53aWR0aH0pLm91dGVySGVpZ2h0KCksZT1NYXRoLm1heCgwLHMubWluSGVpZ2h0LXQpLGk9XCJudW1iZXJcIj09dHlwZW9mIHMubWF4SGVpZ2h0P01hdGgubWF4KDAscy5tYXhIZWlnaHQtdCk6XCJub25lXCIsXCJhdXRvXCI9PT1zLmhlaWdodD90aGlzLmVsZW1lbnQuY3NzKHttaW5IZWlnaHQ6ZSxtYXhIZWlnaHQ6aSxoZWlnaHQ6XCJhdXRvXCJ9KTp0aGlzLmVsZW1lbnQuaGVpZ2h0KE1hdGgubWF4KDAscy5oZWlnaHQtdCkpLHRoaXMudWlEaWFsb2cuaXMoXCI6ZGF0YSh1aS1yZXNpemFibGUpXCIpJiZ0aGlzLnVpRGlhbG9nLnJlc2l6YWJsZShcIm9wdGlvblwiLFwibWluSGVpZ2h0XCIsdGhpcy5fbWluSGVpZ2h0KCkpfSxfYmxvY2tGcmFtZXM6ZnVuY3Rpb24oKXt0aGlzLmlmcmFtZUJsb2Nrcz10aGlzLmRvY3VtZW50LmZpbmQoXCJpZnJhbWVcIikubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dCh0aGlzKTtyZXR1cm4gdChcIjxkaXY+XCIpLmNzcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHdpZHRoOmUub3V0ZXJXaWR0aCgpLGhlaWdodDplLm91dGVySGVpZ2h0KCl9KS5hcHBlbmRUbyhlLnBhcmVudCgpKS5vZmZzZXQoZS5vZmZzZXQoKSlbMF19KX0sX3VuYmxvY2tGcmFtZXM6ZnVuY3Rpb24oKXt0aGlzLmlmcmFtZUJsb2NrcyYmKHRoaXMuaWZyYW1lQmxvY2tzLnJlbW92ZSgpLGRlbGV0ZSB0aGlzLmlmcmFtZUJsb2Nrcyl9LF9hbGxvd0ludGVyYWN0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiB0KGUudGFyZ2V0KS5jbG9zZXN0KFwiLnVpLWRpYWxvZ1wiKS5sZW5ndGg/ITA6ISF0KGUudGFyZ2V0KS5jbG9zZXN0KFwiLnVpLWRhdGVwaWNrZXJcIikubGVuZ3RofSxfY3JlYXRlT3ZlcmxheTpmdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5tb2RhbCl7dmFyIGU9ITA7dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtlPSExfSksdGhpcy5kb2N1bWVudC5kYXRhKFwidWktZGlhbG9nLW92ZXJsYXlzXCIpfHx0aGlzLl9vbih0aGlzLmRvY3VtZW50LHtmb2N1c2luOmZ1bmN0aW9uKHQpe2V8fHRoaXMuX2FsbG93SW50ZXJhY3Rpb24odCl8fCh0LnByZXZlbnREZWZhdWx0KCksdGhpcy5fdHJhY2tpbmdJbnN0YW5jZXMoKVswXS5fZm9jdXNUYWJiYWJsZSgpKX19KSx0aGlzLm92ZXJsYXk9dChcIjxkaXY+XCIpLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpLHRoaXMuX2FkZENsYXNzKHRoaXMub3ZlcmxheSxudWxsLFwidWktd2lkZ2V0LW92ZXJsYXkgdWktZnJvbnRcIiksdGhpcy5fb24odGhpcy5vdmVybGF5LHttb3VzZWRvd246XCJfa2VlcEZvY3VzXCJ9KSx0aGlzLmRvY3VtZW50LmRhdGEoXCJ1aS1kaWFsb2ctb3ZlcmxheXNcIiwodGhpcy5kb2N1bWVudC5kYXRhKFwidWktZGlhbG9nLW92ZXJsYXlzXCIpfHwwKSsxKX19LF9kZXN0cm95T3ZlcmxheTpmdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5tb2RhbCYmdGhpcy5vdmVybGF5KXt2YXIgdD10aGlzLmRvY3VtZW50LmRhdGEoXCJ1aS1kaWFsb2ctb3ZlcmxheXNcIiktMTt0P3RoaXMuZG9jdW1lbnQuZGF0YShcInVpLWRpYWxvZy1vdmVybGF5c1wiLHQpOih0aGlzLl9vZmYodGhpcy5kb2N1bWVudCxcImZvY3VzaW5cIiksdGhpcy5kb2N1bWVudC5yZW1vdmVEYXRhKFwidWktZGlhbG9nLW92ZXJsYXlzXCIpKSx0aGlzLm92ZXJsYXkucmVtb3ZlKCksdGhpcy5vdmVybGF5PW51bGx9fX0pLHQudWlCYWNrQ29tcGF0IT09ITEmJnQud2lkZ2V0KFwidWkuZGlhbG9nXCIsdC51aS5kaWFsb2cse29wdGlvbnM6e2RpYWxvZ0NsYXNzOlwiXCJ9LF9jcmVhdGVXcmFwcGVyOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLnVpRGlhbG9nLmFkZENsYXNzKHRoaXMub3B0aW9ucy5kaWFsb2dDbGFzcyl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXtcImRpYWxvZ0NsYXNzXCI9PT10JiZ0aGlzLnVpRGlhbG9nLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5kaWFsb2dDbGFzcykuYWRkQ2xhc3MoZSksdGhpcy5fc3VwZXJBcHBseShhcmd1bWVudHMpfX0pLHQudWkuZGlhbG9nLHQud2lkZ2V0KFwidWkucHJvZ3Jlc3NiYXJcIix7dmVyc2lvbjpcIjEuMTIuMVwiLG9wdGlvbnM6e2NsYXNzZXM6e1widWktcHJvZ3Jlc3NiYXJcIjpcInVpLWNvcm5lci1hbGxcIixcInVpLXByb2dyZXNzYmFyLXZhbHVlXCI6XCJ1aS1jb3JuZXItbGVmdFwiLFwidWktcHJvZ3Jlc3NiYXItY29tcGxldGVcIjpcInVpLWNvcm5lci1yaWdodFwifSxtYXg6MTAwLHZhbHVlOjAsY2hhbmdlOm51bGwsY29tcGxldGU6bnVsbH0sbWluOjAsX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub2xkVmFsdWU9dGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX2NvbnN0cmFpbmVkVmFsdWUoKSx0aGlzLmVsZW1lbnQuYXR0cih7cm9sZTpcInByb2dyZXNzYmFyXCIsXCJhcmlhLXZhbHVlbWluXCI6dGhpcy5taW59KSx0aGlzLl9hZGRDbGFzcyhcInVpLXByb2dyZXNzYmFyXCIsXCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnRcIiksdGhpcy52YWx1ZURpdj10KFwiPGRpdj5cIikuYXBwZW5kVG8odGhpcy5lbGVtZW50KSx0aGlzLl9hZGRDbGFzcyh0aGlzLnZhbHVlRGl2LFwidWktcHJvZ3Jlc3NiYXItdmFsdWVcIixcInVpLXdpZGdldC1oZWFkZXJcIiksdGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoXCJyb2xlIGFyaWEtdmFsdWVtaW4gYXJpYS12YWx1ZW1heCBhcmlhLXZhbHVlbm93XCIpLHRoaXMudmFsdWVEaXYucmVtb3ZlKCl9LHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10P3RoaXMub3B0aW9ucy52YWx1ZToodGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX2NvbnN0cmFpbmVkVmFsdWUodCksdGhpcy5fcmVmcmVzaFZhbHVlKCksdm9pZCAwKX0sX2NvbnN0cmFpbmVkVmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PXRoaXMub3B0aW9ucy52YWx1ZSksdGhpcy5pbmRldGVybWluYXRlPXQ9PT0hMSxcIm51bWJlclwiIT10eXBlb2YgdCYmKHQ9MCksdGhpcy5pbmRldGVybWluYXRlPyExOk1hdGgubWluKHRoaXMub3B0aW9ucy5tYXgsTWF0aC5tYXgodGhpcy5taW4sdCkpfSxfc2V0T3B0aW9uczpmdW5jdGlvbih0KXt2YXIgZT10LnZhbHVlO2RlbGV0ZSB0LnZhbHVlLHRoaXMuX3N1cGVyKHQpLHRoaXMub3B0aW9ucy52YWx1ZT10aGlzLl9jb25zdHJhaW5lZFZhbHVlKGUpLHRoaXMuX3JlZnJlc2hWYWx1ZSgpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7XCJtYXhcIj09PXQmJihlPU1hdGgubWF4KHRoaXMubWluLGUpKSx0aGlzLl9zdXBlcih0LGUpfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24odCl7dGhpcy5fc3VwZXIodCksdGhpcy5lbGVtZW50LmF0dHIoXCJhcmlhLWRpc2FibGVkXCIsdCksdGhpcy5fdG9nZ2xlQ2xhc3MobnVsbCxcInVpLXN0YXRlLWRpc2FibGVkXCIsISF0KX0sX3BlcmNlbnRhZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmRldGVybWluYXRlPzEwMDoxMDAqKHRoaXMub3B0aW9ucy52YWx1ZS10aGlzLm1pbikvKHRoaXMub3B0aW9ucy5tYXgtdGhpcy5taW4pfSxfcmVmcmVzaFZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcHRpb25zLnZhbHVlLGk9dGhpcy5fcGVyY2VudGFnZSgpO3RoaXMudmFsdWVEaXYudG9nZ2xlKHRoaXMuaW5kZXRlcm1pbmF0ZXx8ZT50aGlzLm1pbikud2lkdGgoaS50b0ZpeGVkKDApK1wiJVwiKSx0aGlzLl90b2dnbGVDbGFzcyh0aGlzLnZhbHVlRGl2LFwidWktcHJvZ3Jlc3NiYXItY29tcGxldGVcIixudWxsLGU9PT10aGlzLm9wdGlvbnMubWF4KS5fdG9nZ2xlQ2xhc3MoXCJ1aS1wcm9ncmVzc2Jhci1pbmRldGVybWluYXRlXCIsbnVsbCx0aGlzLmluZGV0ZXJtaW5hdGUpLHRoaXMuaW5kZXRlcm1pbmF0ZT8odGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoXCJhcmlhLXZhbHVlbm93XCIpLHRoaXMub3ZlcmxheURpdnx8KHRoaXMub3ZlcmxheURpdj10KFwiPGRpdj5cIikuYXBwZW5kVG8odGhpcy52YWx1ZURpdiksdGhpcy5fYWRkQ2xhc3ModGhpcy5vdmVybGF5RGl2LFwidWktcHJvZ3Jlc3NiYXItb3ZlcmxheVwiKSkpOih0aGlzLmVsZW1lbnQuYXR0cih7XCJhcmlhLXZhbHVlbWF4XCI6dGhpcy5vcHRpb25zLm1heCxcImFyaWEtdmFsdWVub3dcIjplfSksdGhpcy5vdmVybGF5RGl2JiYodGhpcy5vdmVybGF5RGl2LnJlbW92ZSgpLHRoaXMub3ZlcmxheURpdj1udWxsKSksdGhpcy5vbGRWYWx1ZSE9PWUmJih0aGlzLm9sZFZhbHVlPWUsdGhpcy5fdHJpZ2dlcihcImNoYW5nZVwiKSksZT09PXRoaXMub3B0aW9ucy5tYXgmJnRoaXMuX3RyaWdnZXIoXCJjb21wbGV0ZVwiKX19KSx0LndpZGdldChcInVpLnNlbGVjdG1lbnVcIixbdC51aS5mb3JtUmVzZXRNaXhpbix7dmVyc2lvbjpcIjEuMTIuMVwiLGRlZmF1bHRFbGVtZW50OlwiPHNlbGVjdD5cIixvcHRpb25zOnthcHBlbmRUbzpudWxsLGNsYXNzZXM6e1widWktc2VsZWN0bWVudS1idXR0b24tb3BlblwiOlwidWktY29ybmVyLXRvcFwiLFwidWktc2VsZWN0bWVudS1idXR0b24tY2xvc2VkXCI6XCJ1aS1jb3JuZXItYWxsXCJ9LGRpc2FibGVkOm51bGwsaWNvbnM6e2J1dHRvbjpcInVpLWljb24tdHJpYW5nbGUtMS1zXCJ9LHBvc2l0aW9uOntteTpcImxlZnQgdG9wXCIsYXQ6XCJsZWZ0IGJvdHRvbVwiLGNvbGxpc2lvbjpcIm5vbmVcIn0sd2lkdGg6ITEsY2hhbmdlOm51bGwsY2xvc2U6bnVsbCxmb2N1czpudWxsLG9wZW46bnVsbCxzZWxlY3Q6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWxlbWVudC51bmlxdWVJZCgpLmF0dHIoXCJpZFwiKTt0aGlzLmlkcz17ZWxlbWVudDplLGJ1dHRvbjplK1wiLWJ1dHRvblwiLG1lbnU6ZStcIi1tZW51XCJ9LHRoaXMuX2RyYXdCdXR0b24oKSx0aGlzLl9kcmF3TWVudSgpLHRoaXMuX2JpbmRGb3JtUmVzZXRIYW5kbGVyKCksdGhpcy5fcmVuZGVyZWQ9ITEsdGhpcy5tZW51SXRlbXM9dCgpfSxfZHJhd0J1dHRvbjpmdW5jdGlvbigpe3ZhciBlLGk9dGhpcyxzPXRoaXMuX3BhcnNlT3B0aW9uKHRoaXMuZWxlbWVudC5maW5kKFwib3B0aW9uOnNlbGVjdGVkXCIpLHRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4KTt0aGlzLmxhYmVscz10aGlzLmVsZW1lbnQubGFiZWxzKCkuYXR0cihcImZvclwiLHRoaXMuaWRzLmJ1dHRvbiksdGhpcy5fb24odGhpcy5sYWJlbHMse2NsaWNrOmZ1bmN0aW9uKHQpe3RoaXMuYnV0dG9uLmZvY3VzKCksdC5wcmV2ZW50RGVmYXVsdCgpfX0pLHRoaXMuZWxlbWVudC5oaWRlKCksdGhpcy5idXR0b249dChcIjxzcGFuPlwiLHt0YWJpbmRleDp0aGlzLm9wdGlvbnMuZGlzYWJsZWQ/LTE6MCxpZDp0aGlzLmlkcy5idXR0b24scm9sZTpcImNvbWJvYm94XCIsXCJhcmlhLWV4cGFuZGVkXCI6XCJmYWxzZVwiLFwiYXJpYS1hdXRvY29tcGxldGVcIjpcImxpc3RcIixcImFyaWEtb3duc1wiOnRoaXMuaWRzLm1lbnUsXCJhcmlhLWhhc3BvcHVwXCI6XCJ0cnVlXCIsdGl0bGU6dGhpcy5lbGVtZW50LmF0dHIoXCJ0aXRsZVwiKX0pLmluc2VydEFmdGVyKHRoaXMuZWxlbWVudCksdGhpcy5fYWRkQ2xhc3ModGhpcy5idXR0b24sXCJ1aS1zZWxlY3RtZW51LWJ1dHRvbiB1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWRcIixcInVpLWJ1dHRvbiB1aS13aWRnZXRcIiksZT10KFwiPHNwYW4+XCIpLmFwcGVuZFRvKHRoaXMuYnV0dG9uKSx0aGlzLl9hZGRDbGFzcyhlLFwidWktc2VsZWN0bWVudS1pY29uXCIsXCJ1aS1pY29uIFwiK3RoaXMub3B0aW9ucy5pY29ucy5idXR0b24pLHRoaXMuYnV0dG9uSXRlbT10aGlzLl9yZW5kZXJCdXR0b25JdGVtKHMpLmFwcGVuZFRvKHRoaXMuYnV0dG9uKSx0aGlzLm9wdGlvbnMud2lkdGghPT0hMSYmdGhpcy5fcmVzaXplQnV0dG9uKCksdGhpcy5fb24odGhpcy5idXR0b24sdGhpcy5fYnV0dG9uRXZlbnRzKSx0aGlzLmJ1dHRvbi5vbmUoXCJmb2N1c2luXCIsZnVuY3Rpb24oKXtpLl9yZW5kZXJlZHx8aS5fcmVmcmVzaE1lbnUoKX0pfSxfZHJhd01lbnU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMubWVudT10KFwiPHVsPlwiLHtcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCIsXCJhcmlhLWxhYmVsbGVkYnlcIjp0aGlzLmlkcy5idXR0b24saWQ6dGhpcy5pZHMubWVudX0pLHRoaXMubWVudVdyYXA9dChcIjxkaXY+XCIpLmFwcGVuZCh0aGlzLm1lbnUpLHRoaXMuX2FkZENsYXNzKHRoaXMubWVudVdyYXAsXCJ1aS1zZWxlY3RtZW51LW1lbnVcIixcInVpLWZyb250XCIpLHRoaXMubWVudVdyYXAuYXBwZW5kVG8odGhpcy5fYXBwZW5kVG8oKSksdGhpcy5tZW51SW5zdGFuY2U9dGhpcy5tZW51Lm1lbnUoe2NsYXNzZXM6e1widWktbWVudVwiOlwidWktY29ybmVyLWJvdHRvbVwifSxyb2xlOlwibGlzdGJveFwiLHNlbGVjdDpmdW5jdGlvbih0LGkpe3QucHJldmVudERlZmF1bHQoKSxlLl9zZXRTZWxlY3Rpb24oKSxlLl9zZWxlY3QoaS5pdGVtLmRhdGEoXCJ1aS1zZWxlY3RtZW51LWl0ZW1cIiksdCl9LGZvY3VzOmZ1bmN0aW9uKHQsaSl7dmFyIHM9aS5pdGVtLmRhdGEoXCJ1aS1zZWxlY3RtZW51LWl0ZW1cIik7bnVsbCE9ZS5mb2N1c0luZGV4JiZzLmluZGV4IT09ZS5mb2N1c0luZGV4JiYoZS5fdHJpZ2dlcihcImZvY3VzXCIsdCx7aXRlbTpzfSksZS5pc09wZW58fGUuX3NlbGVjdChzLHQpKSxlLmZvY3VzSW5kZXg9cy5pbmRleCxlLmJ1dHRvbi5hdHRyKFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCIsZS5tZW51SXRlbXMuZXEocy5pbmRleCkuYXR0cihcImlkXCIpKX19KS5tZW51KFwiaW5zdGFuY2VcIiksdGhpcy5tZW51SW5zdGFuY2UuX29mZih0aGlzLm1lbnUsXCJtb3VzZWxlYXZlXCIpLHRoaXMubWVudUluc3RhbmNlLl9jbG9zZU9uRG9jdW1lbnRDbGljaz1mdW5jdGlvbigpe3JldHVybiExfSx0aGlzLm1lbnVJbnN0YW5jZS5faXNEaXZpZGVyPWZ1bmN0aW9uKCl7cmV0dXJuITF9fSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaE1lbnUoKSx0aGlzLmJ1dHRvbkl0ZW0ucmVwbGFjZVdpdGgodGhpcy5idXR0b25JdGVtPXRoaXMuX3JlbmRlckJ1dHRvbkl0ZW0odGhpcy5fZ2V0U2VsZWN0ZWRJdGVtKCkuZGF0YShcInVpLXNlbGVjdG1lbnUtaXRlbVwiKXx8e30pKSxudWxsPT09dGhpcy5vcHRpb25zLndpZHRoJiZ0aGlzLl9yZXNpemVCdXR0b24oKX0sX3JlZnJlc2hNZW51OmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLmVsZW1lbnQuZmluZChcIm9wdGlvblwiKTt0aGlzLm1lbnUuZW1wdHkoKSx0aGlzLl9wYXJzZU9wdGlvbnMoZSksdGhpcy5fcmVuZGVyTWVudSh0aGlzLm1lbnUsdGhpcy5pdGVtcyksdGhpcy5tZW51SW5zdGFuY2UucmVmcmVzaCgpLHRoaXMubWVudUl0ZW1zPXRoaXMubWVudS5maW5kKFwibGlcIikubm90KFwiLnVpLXNlbGVjdG1lbnUtb3B0Z3JvdXBcIikuZmluZChcIi51aS1tZW51LWl0ZW0td3JhcHBlclwiKSx0aGlzLl9yZW5kZXJlZD0hMCxlLmxlbmd0aCYmKHQ9dGhpcy5fZ2V0U2VsZWN0ZWRJdGVtKCksdGhpcy5tZW51SW5zdGFuY2UuZm9jdXMobnVsbCx0KSx0aGlzLl9zZXRBcmlhKHQuZGF0YShcInVpLXNlbGVjdG1lbnUtaXRlbVwiKSksdGhpcy5fc2V0T3B0aW9uKFwiZGlzYWJsZWRcIix0aGlzLmVsZW1lbnQucHJvcChcImRpc2FibGVkXCIpKSl9LG9wZW46ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25zLmRpc2FibGVkfHwodGhpcy5fcmVuZGVyZWQ/KHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMubWVudS5maW5kKFwiLnVpLXN0YXRlLWFjdGl2ZVwiKSxudWxsLFwidWktc3RhdGUtYWN0aXZlXCIpLHRoaXMubWVudUluc3RhbmNlLmZvY3VzKG51bGwsdGhpcy5fZ2V0U2VsZWN0ZWRJdGVtKCkpKTp0aGlzLl9yZWZyZXNoTWVudSgpLHRoaXMubWVudUl0ZW1zLmxlbmd0aCYmKHRoaXMuaXNPcGVuPSEwLHRoaXMuX3RvZ2dsZUF0dHIoKSx0aGlzLl9yZXNpemVNZW51KCksdGhpcy5fcG9zaXRpb24oKSx0aGlzLl9vbih0aGlzLmRvY3VtZW50LHRoaXMuX2RvY3VtZW50Q2xpY2spLHRoaXMuX3RyaWdnZXIoXCJvcGVuXCIsdCkpKX0sX3Bvc2l0aW9uOmZ1bmN0aW9uKCl7dGhpcy5tZW51V3JhcC5wb3NpdGlvbih0LmV4dGVuZCh7b2Y6dGhpcy5idXR0b259LHRoaXMub3B0aW9ucy5wb3NpdGlvbikpfSxjbG9zZTpmdW5jdGlvbih0KXt0aGlzLmlzT3BlbiYmKHRoaXMuaXNPcGVuPSExLHRoaXMuX3RvZ2dsZUF0dHIoKSx0aGlzLnJhbmdlPW51bGwsdGhpcy5fb2ZmKHRoaXMuZG9jdW1lbnQpLHRoaXMuX3RyaWdnZXIoXCJjbG9zZVwiLHQpKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnV0dG9ufSxtZW51V2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWVudX0sX3JlbmRlckJ1dHRvbkl0ZW06ZnVuY3Rpb24oZSl7dmFyIGk9dChcIjxzcGFuPlwiKTtyZXR1cm4gdGhpcy5fc2V0VGV4dChpLGUubGFiZWwpLHRoaXMuX2FkZENsYXNzKGksXCJ1aS1zZWxlY3RtZW51LXRleHRcIiksaX0sX3JlbmRlck1lbnU6ZnVuY3Rpb24oZSxpKXt2YXIgcz10aGlzLG49XCJcIjt0LmVhY2goaSxmdW5jdGlvbihpLG8pe3ZhciBhO28ub3B0Z3JvdXAhPT1uJiYoYT10KFwiPGxpPlwiLHt0ZXh0Om8ub3B0Z3JvdXB9KSxzLl9hZGRDbGFzcyhhLFwidWktc2VsZWN0bWVudS1vcHRncm91cFwiLFwidWktbWVudS1kaXZpZGVyXCIrKG8uZWxlbWVudC5wYXJlbnQoXCJvcHRncm91cFwiKS5wcm9wKFwiZGlzYWJsZWRcIik/XCIgdWktc3RhdGUtZGlzYWJsZWRcIjpcIlwiKSksYS5hcHBlbmRUbyhlKSxuPW8ub3B0Z3JvdXApLHMuX3JlbmRlckl0ZW1EYXRhKGUsbyl9KX0sX3JlbmRlckl0ZW1EYXRhOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3JlbmRlckl0ZW0odCxlKS5kYXRhKFwidWktc2VsZWN0bWVudS1pdGVtXCIsZSl9LF9yZW5kZXJJdGVtOmZ1bmN0aW9uKGUsaSl7dmFyIHM9dChcIjxsaT5cIiksbj10KFwiPGRpdj5cIix7dGl0bGU6aS5lbGVtZW50LmF0dHIoXCJ0aXRsZVwiKX0pO3JldHVybiBpLmRpc2FibGVkJiZ0aGlzLl9hZGRDbGFzcyhzLG51bGwsXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiKSx0aGlzLl9zZXRUZXh0KG4saS5sYWJlbCkscy5hcHBlbmQobikuYXBwZW5kVG8oZSl9LF9zZXRUZXh0OmZ1bmN0aW9uKHQsZSl7ZT90LnRleHQoZSk6dC5odG1sKFwiJiMxNjA7XCIpfSxfbW92ZTpmdW5jdGlvbih0LGUpe3ZhciBpLHMsbj1cIi51aS1tZW51LWl0ZW1cIjt0aGlzLmlzT3Blbj9pPXRoaXMubWVudUl0ZW1zLmVxKHRoaXMuZm9jdXNJbmRleCkucGFyZW50KFwibGlcIik6KGk9dGhpcy5tZW51SXRlbXMuZXEodGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpLnBhcmVudChcImxpXCIpLG4rPVwiOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpXCIpLHM9XCJmaXJzdFwiPT09dHx8XCJsYXN0XCI9PT10P2lbXCJmaXJzdFwiPT09dD9cInByZXZBbGxcIjpcIm5leHRBbGxcIl0obikuZXEoLTEpOmlbdCtcIkFsbFwiXShuKS5lcSgwKSxzLmxlbmd0aCYmdGhpcy5tZW51SW5zdGFuY2UuZm9jdXMoZSxzKX0sX2dldFNlbGVjdGVkSXRlbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1lbnVJdGVtcy5lcSh0aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCkucGFyZW50KFwibGlcIil9LF90b2dnbGU6ZnVuY3Rpb24odCl7dGhpc1t0aGlzLmlzT3Blbj9cImNsb3NlXCI6XCJvcGVuXCJdKHQpfSxfc2V0U2VsZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5yYW5nZSYmKHdpbmRvdy5nZXRTZWxlY3Rpb24/KHQ9d2luZG93LmdldFNlbGVjdGlvbigpLHQucmVtb3ZlQWxsUmFuZ2VzKCksdC5hZGRSYW5nZSh0aGlzLnJhbmdlKSk6dGhpcy5yYW5nZS5zZWxlY3QoKSx0aGlzLmJ1dHRvbi5mb2N1cygpKX0sX2RvY3VtZW50Q2xpY2s6e21vdXNlZG93bjpmdW5jdGlvbihlKXt0aGlzLmlzT3BlbiYmKHQoZS50YXJnZXQpLmNsb3Nlc3QoXCIudWktc2VsZWN0bWVudS1tZW51LCAjXCIrdC51aS5lc2NhcGVTZWxlY3Rvcih0aGlzLmlkcy5idXR0b24pKS5sZW5ndGh8fHRoaXMuY2xvc2UoZSkpfX0sX2J1dHRvbkV2ZW50czp7bW91c2Vkb3duOmZ1bmN0aW9uKCl7dmFyIHQ7d2luZG93LmdldFNlbGVjdGlvbj8odD13aW5kb3cuZ2V0U2VsZWN0aW9uKCksdC5yYW5nZUNvdW50JiYodGhpcy5yYW5nZT10LmdldFJhbmdlQXQoMCkpKTp0aGlzLnJhbmdlPWRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpfSxjbGljazpmdW5jdGlvbih0KXt0aGlzLl9zZXRTZWxlY3Rpb24oKSx0aGlzLl90b2dnbGUodCl9LGtleWRvd246ZnVuY3Rpb24oZSl7dmFyIGk9ITA7c3dpdGNoKGUua2V5Q29kZSl7Y2FzZSB0LnVpLmtleUNvZGUuVEFCOmNhc2UgdC51aS5rZXlDb2RlLkVTQ0FQRTp0aGlzLmNsb3NlKGUpLGk9ITE7YnJlYWs7Y2FzZSB0LnVpLmtleUNvZGUuRU5URVI6dGhpcy5pc09wZW4mJnRoaXMuX3NlbGVjdEZvY3VzZWRJdGVtKGUpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLlVQOmUuYWx0S2V5P3RoaXMuX3RvZ2dsZShlKTp0aGlzLl9tb3ZlKFwicHJldlwiLGUpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLkRPV046ZS5hbHRLZXk/dGhpcy5fdG9nZ2xlKGUpOnRoaXMuX21vdmUoXCJuZXh0XCIsZSk7YnJlYWs7Y2FzZSB0LnVpLmtleUNvZGUuU1BBQ0U6dGhpcy5pc09wZW4/dGhpcy5fc2VsZWN0Rm9jdXNlZEl0ZW0oZSk6dGhpcy5fdG9nZ2xlKGUpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLkxFRlQ6dGhpcy5fbW92ZShcInByZXZcIixlKTticmVhaztjYXNlIHQudWkua2V5Q29kZS5SSUdIVDp0aGlzLl9tb3ZlKFwibmV4dFwiLGUpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLkhPTUU6Y2FzZSB0LnVpLmtleUNvZGUuUEFHRV9VUDp0aGlzLl9tb3ZlKFwiZmlyc3RcIixlKTticmVhaztjYXNlIHQudWkua2V5Q29kZS5FTkQ6Y2FzZSB0LnVpLmtleUNvZGUuUEFHRV9ET1dOOnRoaXMuX21vdmUoXCJsYXN0XCIsZSk7YnJlYWs7ZGVmYXVsdDp0aGlzLm1lbnUudHJpZ2dlcihlKSxpPSExfWkmJmUucHJldmVudERlZmF1bHQoKX19LF9zZWxlY3RGb2N1c2VkSXRlbTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm1lbnVJdGVtcy5lcSh0aGlzLmZvY3VzSW5kZXgpLnBhcmVudChcImxpXCIpO2UuaGFzQ2xhc3MoXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiKXx8dGhpcy5fc2VsZWN0KGUuZGF0YShcInVpLXNlbGVjdG1lbnUtaXRlbVwiKSx0KX0sX3NlbGVjdDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4O3RoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4PXQuaW5kZXgsdGhpcy5idXR0b25JdGVtLnJlcGxhY2VXaXRoKHRoaXMuYnV0dG9uSXRlbT10aGlzLl9yZW5kZXJCdXR0b25JdGVtKHQpKSx0aGlzLl9zZXRBcmlhKHQpLHRoaXMuX3RyaWdnZXIoXCJzZWxlY3RcIixlLHtpdGVtOnR9KSx0LmluZGV4IT09aSYmdGhpcy5fdHJpZ2dlcihcImNoYW5nZVwiLGUse2l0ZW06dH0pLHRoaXMuY2xvc2UoZSl9LF9zZXRBcmlhOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubWVudUl0ZW1zLmVxKHQuaW5kZXgpLmF0dHIoXCJpZFwiKTt0aGlzLmJ1dHRvbi5hdHRyKHtcImFyaWEtbGFiZWxsZWRieVwiOmUsXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIjplfSksdGhpcy5tZW51LmF0dHIoXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIixlKX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGUpe2lmKFwiaWNvbnNcIj09PXQpe3ZhciBpPXRoaXMuYnV0dG9uLmZpbmQoXCJzcGFuLnVpLWljb25cIik7dGhpcy5fcmVtb3ZlQ2xhc3MoaSxudWxsLHRoaXMub3B0aW9ucy5pY29ucy5idXR0b24pLl9hZGRDbGFzcyhpLG51bGwsZS5idXR0b24pfXRoaXMuX3N1cGVyKHQsZSksXCJhcHBlbmRUb1wiPT09dCYmdGhpcy5tZW51V3JhcC5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKSxcIndpZHRoXCI9PT10JiZ0aGlzLl9yZXNpemVCdXR0b24oKX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKHQpe3RoaXMuX3N1cGVyKHQpLHRoaXMubWVudUluc3RhbmNlLm9wdGlvbihcImRpc2FibGVkXCIsdCksdGhpcy5idXR0b24uYXR0cihcImFyaWEtZGlzYWJsZWRcIix0KSx0aGlzLl90b2dnbGVDbGFzcyh0aGlzLmJ1dHRvbixudWxsLFwidWktc3RhdGUtZGlzYWJsZWRcIix0KSx0aGlzLmVsZW1lbnQucHJvcChcImRpc2FibGVkXCIsdCksdD8odGhpcy5idXR0b24uYXR0cihcInRhYmluZGV4XCIsLTEpLHRoaXMuY2xvc2UoKSk6dGhpcy5idXR0b24uYXR0cihcInRhYmluZGV4XCIsMCl9LF9hcHBlbmRUbzpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9ucy5hcHBlbmRUbztyZXR1cm4gZSYmKGU9ZS5qcXVlcnl8fGUubm9kZVR5cGU/dChlKTp0aGlzLmRvY3VtZW50LmZpbmQoZSkuZXEoMCkpLGUmJmVbMF18fChlPXRoaXMuZWxlbWVudC5jbG9zZXN0KFwiLnVpLWZyb250LCBkaWFsb2dcIikpLGUubGVuZ3RofHwoZT10aGlzLmRvY3VtZW50WzBdLmJvZHkpLGV9LF90b2dnbGVBdHRyOmZ1bmN0aW9uKCl7dGhpcy5idXR0b24uYXR0cihcImFyaWEtZXhwYW5kZWRcIix0aGlzLmlzT3BlbiksdGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5idXR0b24sXCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1cIisodGhpcy5pc09wZW4/XCJjbG9zZWRcIjpcIm9wZW5cIikpLl9hZGRDbGFzcyh0aGlzLmJ1dHRvbixcInVpLXNlbGVjdG1lbnUtYnV0dG9uLVwiKyh0aGlzLmlzT3Blbj9cIm9wZW5cIjpcImNsb3NlZFwiKSkuX3RvZ2dsZUNsYXNzKHRoaXMubWVudVdyYXAsXCJ1aS1zZWxlY3RtZW51LW9wZW5cIixudWxsLHRoaXMuaXNPcGVuKSx0aGlzLm1lbnUuYXR0cihcImFyaWEtaGlkZGVuXCIsIXRoaXMuaXNPcGVuKX0sX3Jlc2l6ZUJ1dHRvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy53aWR0aDtyZXR1cm4gdD09PSExPyh0aGlzLmJ1dHRvbi5jc3MoXCJ3aWR0aFwiLFwiXCIpLHZvaWQgMCk6KG51bGw9PT10JiYodD10aGlzLmVsZW1lbnQuc2hvdygpLm91dGVyV2lkdGgoKSx0aGlzLmVsZW1lbnQuaGlkZSgpKSx0aGlzLmJ1dHRvbi5vdXRlcldpZHRoKHQpLHZvaWQgMCl9LF9yZXNpemVNZW51OmZ1bmN0aW9uKCl7dGhpcy5tZW51Lm91dGVyV2lkdGgoTWF0aC5tYXgodGhpcy5idXR0b24ub3V0ZXJXaWR0aCgpLHRoaXMubWVudS53aWR0aChcIlwiKS5vdXRlcldpZHRoKCkrMSkpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N1cGVyKCk7cmV0dXJuIHQuZGlzYWJsZWQ9dGhpcy5lbGVtZW50LnByb3AoXCJkaXNhYmxlZFwiKSx0fSxfcGFyc2VPcHRpb25zOmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMscz1bXTtlLmVhY2goZnVuY3Rpb24oZSxuKXtzLnB1c2goaS5fcGFyc2VPcHRpb24odChuKSxlKSl9KSx0aGlzLml0ZW1zPXN9LF9wYXJzZU9wdGlvbjpmdW5jdGlvbih0LGUpe3ZhciBpPXQucGFyZW50KFwib3B0Z3JvdXBcIik7cmV0dXJue2VsZW1lbnQ6dCxpbmRleDplLHZhbHVlOnQudmFsKCksbGFiZWw6dC50ZXh0KCksb3B0Z3JvdXA6aS5hdHRyKFwibGFiZWxcIil8fFwiXCIsZGlzYWJsZWQ6aS5wcm9wKFwiZGlzYWJsZWRcIil8fHQucHJvcChcImRpc2FibGVkXCIpfX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl91bmJpbmRGb3JtUmVzZXRIYW5kbGVyKCksdGhpcy5tZW51V3JhcC5yZW1vdmUoKSx0aGlzLmJ1dHRvbi5yZW1vdmUoKSx0aGlzLmVsZW1lbnQuc2hvdygpLHRoaXMuZWxlbWVudC5yZW1vdmVVbmlxdWVJZCgpLHRoaXMubGFiZWxzLmF0dHIoXCJmb3JcIix0aGlzLmlkcy5lbGVtZW50KX19XSksdC53aWRnZXQoXCJ1aS5zbGlkZXJcIix0LnVpLm1vdXNlLHt2ZXJzaW9uOlwiMS4xMi4xXCIsd2lkZ2V0RXZlbnRQcmVmaXg6XCJzbGlkZVwiLG9wdGlvbnM6e2FuaW1hdGU6ITEsY2xhc3Nlczp7XCJ1aS1zbGlkZXJcIjpcInVpLWNvcm5lci1hbGxcIixcInVpLXNsaWRlci1oYW5kbGVcIjpcInVpLWNvcm5lci1hbGxcIixcInVpLXNsaWRlci1yYW5nZVwiOlwidWktY29ybmVyLWFsbCB1aS13aWRnZXQtaGVhZGVyXCJ9LGRpc3RhbmNlOjAsbWF4OjEwMCxtaW46MCxvcmllbnRhdGlvbjpcImhvcml6b250YWxcIixyYW5nZTohMSxzdGVwOjEsdmFsdWU6MCx2YWx1ZXM6bnVsbCxjaGFuZ2U6bnVsbCxzbGlkZTpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsfSxudW1QYWdlczo1LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9rZXlTbGlkaW5nPSExLHRoaXMuX21vdXNlU2xpZGluZz0hMSx0aGlzLl9hbmltYXRlT2ZmPSEwLHRoaXMuX2hhbmRsZUluZGV4PW51bGwsdGhpcy5fZGV0ZWN0T3JpZW50YXRpb24oKSx0aGlzLl9tb3VzZUluaXQoKSx0aGlzLl9jYWxjdWxhdGVOZXdNYXgoKSx0aGlzLl9hZGRDbGFzcyhcInVpLXNsaWRlciB1aS1zbGlkZXItXCIrdGhpcy5vcmllbnRhdGlvbixcInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudFwiKSx0aGlzLl9yZWZyZXNoKCksdGhpcy5fYW5pbWF0ZU9mZj0hMX0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9jcmVhdGVSYW5nZSgpLHRoaXMuX2NyZWF0ZUhhbmRsZXMoKSx0aGlzLl9zZXR1cEV2ZW50cygpLHRoaXMuX3JlZnJlc2hWYWx1ZSgpfSxfY3JlYXRlSGFuZGxlczpmdW5jdGlvbigpe3ZhciBlLGkscz10aGlzLm9wdGlvbnMsbj10aGlzLmVsZW1lbnQuZmluZChcIi51aS1zbGlkZXItaGFuZGxlXCIpLG89XCI8c3BhbiB0YWJpbmRleD0nMCc+PC9zcGFuPlwiLGE9W107Zm9yKGk9cy52YWx1ZXMmJnMudmFsdWVzLmxlbmd0aHx8MSxuLmxlbmd0aD5pJiYobi5zbGljZShpKS5yZW1vdmUoKSxuPW4uc2xpY2UoMCxpKSksZT1uLmxlbmd0aDtpPmU7ZSsrKWEucHVzaChvKTt0aGlzLmhhbmRsZXM9bi5hZGQodChhLmpvaW4oXCJcIikpLmFwcGVuZFRvKHRoaXMuZWxlbWVudCkpLHRoaXMuX2FkZENsYXNzKHRoaXMuaGFuZGxlcyxcInVpLXNsaWRlci1oYW5kbGVcIixcInVpLXN0YXRlLWRlZmF1bHRcIiksdGhpcy5oYW5kbGU9dGhpcy5oYW5kbGVzLmVxKDApLHRoaXMuaGFuZGxlcy5lYWNoKGZ1bmN0aW9uKGUpe3QodGhpcykuZGF0YShcInVpLXNsaWRlci1oYW5kbGUtaW5kZXhcIixlKS5hdHRyKFwidGFiSW5kZXhcIiwwKX0pfSxfY3JlYXRlUmFuZ2U6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnM7ZS5yYW5nZT8oZS5yYW5nZT09PSEwJiYoZS52YWx1ZXM/ZS52YWx1ZXMubGVuZ3RoJiYyIT09ZS52YWx1ZXMubGVuZ3RoP2UudmFsdWVzPVtlLnZhbHVlc1swXSxlLnZhbHVlc1swXV06dC5pc0FycmF5KGUudmFsdWVzKSYmKGUudmFsdWVzPWUudmFsdWVzLnNsaWNlKDApKTplLnZhbHVlcz1bdGhpcy5fdmFsdWVNaW4oKSx0aGlzLl92YWx1ZU1pbigpXSksdGhpcy5yYW5nZSYmdGhpcy5yYW5nZS5sZW5ndGg/KHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMucmFuZ2UsXCJ1aS1zbGlkZXItcmFuZ2UtbWluIHVpLXNsaWRlci1yYW5nZS1tYXhcIiksdGhpcy5yYW5nZS5jc3Moe2xlZnQ6XCJcIixib3R0b206XCJcIn0pKToodGhpcy5yYW5nZT10KFwiPGRpdj5cIikuYXBwZW5kVG8odGhpcy5lbGVtZW50KSx0aGlzLl9hZGRDbGFzcyh0aGlzLnJhbmdlLFwidWktc2xpZGVyLXJhbmdlXCIpKSwoXCJtaW5cIj09PWUucmFuZ2V8fFwibWF4XCI9PT1lLnJhbmdlKSYmdGhpcy5fYWRkQ2xhc3ModGhpcy5yYW5nZSxcInVpLXNsaWRlci1yYW5nZS1cIitlLnJhbmdlKSk6KHRoaXMucmFuZ2UmJnRoaXMucmFuZ2UucmVtb3ZlKCksdGhpcy5yYW5nZT1udWxsKVxyXG59LF9zZXR1cEV2ZW50czpmdW5jdGlvbigpe3RoaXMuX29mZih0aGlzLmhhbmRsZXMpLHRoaXMuX29uKHRoaXMuaGFuZGxlcyx0aGlzLl9oYW5kbGVFdmVudHMpLHRoaXMuX2hvdmVyYWJsZSh0aGlzLmhhbmRsZXMpLHRoaXMuX2ZvY3VzYWJsZSh0aGlzLmhhbmRsZXMpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuaGFuZGxlcy5yZW1vdmUoKSx0aGlzLnJhbmdlJiZ0aGlzLnJhbmdlLnJlbW92ZSgpLHRoaXMuX21vdXNlRGVzdHJveSgpfSxfbW91c2VDYXB0dXJlOmZ1bmN0aW9uKGUpe3ZhciBpLHMsbixvLGEscixoLGwsYz10aGlzLHU9dGhpcy5vcHRpb25zO3JldHVybiB1LmRpc2FibGVkPyExOih0aGlzLmVsZW1lbnRTaXplPXt3aWR0aDp0aGlzLmVsZW1lbnQub3V0ZXJXaWR0aCgpLGhlaWdodDp0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKX0sdGhpcy5lbGVtZW50T2Zmc2V0PXRoaXMuZWxlbWVudC5vZmZzZXQoKSxpPXt4OmUucGFnZVgseTplLnBhZ2VZfSxzPXRoaXMuX25vcm1WYWx1ZUZyb21Nb3VzZShpKSxuPXRoaXMuX3ZhbHVlTWF4KCktdGhpcy5fdmFsdWVNaW4oKSsxLHRoaXMuaGFuZGxlcy5lYWNoKGZ1bmN0aW9uKGUpe3ZhciBpPU1hdGguYWJzKHMtYy52YWx1ZXMoZSkpOyhuPml8fG49PT1pJiYoZT09PWMuX2xhc3RDaGFuZ2VkVmFsdWV8fGMudmFsdWVzKGUpPT09dS5taW4pKSYmKG49aSxvPXQodGhpcyksYT1lKX0pLHI9dGhpcy5fc3RhcnQoZSxhKSxyPT09ITE/ITE6KHRoaXMuX21vdXNlU2xpZGluZz0hMCx0aGlzLl9oYW5kbGVJbmRleD1hLHRoaXMuX2FkZENsYXNzKG8sbnVsbCxcInVpLXN0YXRlLWFjdGl2ZVwiKSxvLnRyaWdnZXIoXCJmb2N1c1wiKSxoPW8ub2Zmc2V0KCksbD0hdChlLnRhcmdldCkucGFyZW50cygpLmFkZEJhY2soKS5pcyhcIi51aS1zbGlkZXItaGFuZGxlXCIpLHRoaXMuX2NsaWNrT2Zmc2V0PWw/e2xlZnQ6MCx0b3A6MH06e2xlZnQ6ZS5wYWdlWC1oLmxlZnQtby53aWR0aCgpLzIsdG9wOmUucGFnZVktaC50b3Atby5oZWlnaHQoKS8yLShwYXJzZUludChvLmNzcyhcImJvcmRlclRvcFdpZHRoXCIpLDEwKXx8MCktKHBhcnNlSW50KG8uY3NzKFwiYm9yZGVyQm90dG9tV2lkdGhcIiksMTApfHwwKSsocGFyc2VJbnQoby5jc3MoXCJtYXJnaW5Ub3BcIiksMTApfHwwKX0sdGhpcy5oYW5kbGVzLmhhc0NsYXNzKFwidWktc3RhdGUtaG92ZXJcIil8fHRoaXMuX3NsaWRlKGUsYSxzKSx0aGlzLl9hbmltYXRlT2ZmPSEwLCEwKSl9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LF9tb3VzZURyYWc6ZnVuY3Rpb24odCl7dmFyIGU9e3g6dC5wYWdlWCx5OnQucGFnZVl9LGk9dGhpcy5fbm9ybVZhbHVlRnJvbU1vdXNlKGUpO3JldHVybiB0aGlzLl9zbGlkZSh0LHRoaXMuX2hhbmRsZUluZGV4LGkpLCExfSxfbW91c2VTdG9wOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmhhbmRsZXMsbnVsbCxcInVpLXN0YXRlLWFjdGl2ZVwiKSx0aGlzLl9tb3VzZVNsaWRpbmc9ITEsdGhpcy5fc3RvcCh0LHRoaXMuX2hhbmRsZUluZGV4KSx0aGlzLl9jaGFuZ2UodCx0aGlzLl9oYW5kbGVJbmRleCksdGhpcy5faGFuZGxlSW5kZXg9bnVsbCx0aGlzLl9jbGlja09mZnNldD1udWxsLHRoaXMuX2FuaW1hdGVPZmY9ITEsITF9LF9kZXRlY3RPcmllbnRhdGlvbjpmdW5jdGlvbigpe3RoaXMub3JpZW50YXRpb249XCJ2ZXJ0aWNhbFwiPT09dGhpcy5vcHRpb25zLm9yaWVudGF0aW9uP1widmVydGljYWxcIjpcImhvcml6b250YWxcIn0sX25vcm1WYWx1ZUZyb21Nb3VzZTpmdW5jdGlvbih0KXt2YXIgZSxpLHMsbixvO3JldHVyblwiaG9yaXpvbnRhbFwiPT09dGhpcy5vcmllbnRhdGlvbj8oZT10aGlzLmVsZW1lbnRTaXplLndpZHRoLGk9dC54LXRoaXMuZWxlbWVudE9mZnNldC5sZWZ0LSh0aGlzLl9jbGlja09mZnNldD90aGlzLl9jbGlja09mZnNldC5sZWZ0OjApKTooZT10aGlzLmVsZW1lbnRTaXplLmhlaWdodCxpPXQueS10aGlzLmVsZW1lbnRPZmZzZXQudG9wLSh0aGlzLl9jbGlja09mZnNldD90aGlzLl9jbGlja09mZnNldC50b3A6MCkpLHM9aS9lLHM+MSYmKHM9MSksMD5zJiYocz0wKSxcInZlcnRpY2FsXCI9PT10aGlzLm9yaWVudGF0aW9uJiYocz0xLXMpLG49dGhpcy5fdmFsdWVNYXgoKS10aGlzLl92YWx1ZU1pbigpLG89dGhpcy5fdmFsdWVNaW4oKStzKm4sdGhpcy5fdHJpbUFsaWduVmFsdWUobyl9LF91aUhhc2g6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXtoYW5kbGU6dGhpcy5oYW5kbGVzW3RdLGhhbmRsZUluZGV4OnQsdmFsdWU6dm9pZCAwIT09ZT9lOnRoaXMudmFsdWUoKX07cmV0dXJuIHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCkmJihzLnZhbHVlPXZvaWQgMCE9PWU/ZTp0aGlzLnZhbHVlcyh0KSxzLnZhbHVlcz1pfHx0aGlzLnZhbHVlcygpKSxzfSxfaGFzTXVsdGlwbGVWYWx1ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLnZhbHVlcyYmdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGh9LF9zdGFydDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl90cmlnZ2VyKFwic3RhcnRcIix0LHRoaXMuX3VpSGFzaChlKSl9LF9zbGlkZTpmdW5jdGlvbih0LGUsaSl7dmFyIHMsbixvPXRoaXMudmFsdWUoKSxhPXRoaXMudmFsdWVzKCk7dGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKSYmKG49dGhpcy52YWx1ZXMoZT8wOjEpLG89dGhpcy52YWx1ZXMoZSksMj09PXRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoJiZ0aGlzLm9wdGlvbnMucmFuZ2U9PT0hMCYmKGk9MD09PWU/TWF0aC5taW4obixpKTpNYXRoLm1heChuLGkpKSxhW2VdPWkpLGkhPT1vJiYocz10aGlzLl90cmlnZ2VyKFwic2xpZGVcIix0LHRoaXMuX3VpSGFzaChlLGksYSkpLHMhPT0hMSYmKHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCk/dGhpcy52YWx1ZXMoZSxpKTp0aGlzLnZhbHVlKGkpKSl9LF9zdG9wOmZ1bmN0aW9uKHQsZSl7dGhpcy5fdHJpZ2dlcihcInN0b3BcIix0LHRoaXMuX3VpSGFzaChlKSl9LF9jaGFuZ2U6ZnVuY3Rpb24odCxlKXt0aGlzLl9rZXlTbGlkaW5nfHx0aGlzLl9tb3VzZVNsaWRpbmd8fCh0aGlzLl9sYXN0Q2hhbmdlZFZhbHVlPWUsdGhpcy5fdHJpZ2dlcihcImNoYW5nZVwiLHQsdGhpcy5fdWlIYXNoKGUpKSl9LHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLm9wdGlvbnMudmFsdWU9dGhpcy5fdHJpbUFsaWduVmFsdWUodCksdGhpcy5fcmVmcmVzaFZhbHVlKCksdGhpcy5fY2hhbmdlKG51bGwsMCksdm9pZCAwKTp0aGlzLl92YWx1ZSgpfSx2YWx1ZXM6ZnVuY3Rpb24oZSxpKXt2YXIgcyxuLG87aWYoYXJndW1lbnRzLmxlbmd0aD4xKXJldHVybiB0aGlzLm9wdGlvbnMudmFsdWVzW2VdPXRoaXMuX3RyaW1BbGlnblZhbHVlKGkpLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLHRoaXMuX2NoYW5nZShudWxsLGUpLHZvaWQgMDtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fdmFsdWVzKCk7aWYoIXQuaXNBcnJheShhcmd1bWVudHNbMF0pKXJldHVybiB0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpP3RoaXMuX3ZhbHVlcyhlKTp0aGlzLnZhbHVlKCk7Zm9yKHM9dGhpcy5vcHRpb25zLnZhbHVlcyxuPWFyZ3VtZW50c1swXSxvPTA7cy5sZW5ndGg+bztvKz0xKXNbb109dGhpcy5fdHJpbUFsaWduVmFsdWUobltvXSksdGhpcy5fY2hhbmdlKG51bGwsbyk7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24oZSxpKXt2YXIgcyxuPTA7c3dpdGNoKFwicmFuZ2VcIj09PWUmJnRoaXMub3B0aW9ucy5yYW5nZT09PSEwJiYoXCJtaW5cIj09PWk/KHRoaXMub3B0aW9ucy52YWx1ZT10aGlzLl92YWx1ZXMoMCksdGhpcy5vcHRpb25zLnZhbHVlcz1udWxsKTpcIm1heFwiPT09aSYmKHRoaXMub3B0aW9ucy52YWx1ZT10aGlzLl92YWx1ZXModGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgtMSksdGhpcy5vcHRpb25zLnZhbHVlcz1udWxsKSksdC5pc0FycmF5KHRoaXMub3B0aW9ucy52YWx1ZXMpJiYobj10aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCksdGhpcy5fc3VwZXIoZSxpKSxlKXtjYXNlXCJvcmllbnRhdGlvblwiOnRoaXMuX2RldGVjdE9yaWVudGF0aW9uKCksdGhpcy5fcmVtb3ZlQ2xhc3MoXCJ1aS1zbGlkZXItaG9yaXpvbnRhbCB1aS1zbGlkZXItdmVydGljYWxcIikuX2FkZENsYXNzKFwidWktc2xpZGVyLVwiK3RoaXMub3JpZW50YXRpb24pLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLHRoaXMub3B0aW9ucy5yYW5nZSYmdGhpcy5fcmVmcmVzaFJhbmdlKGkpLHRoaXMuaGFuZGxlcy5jc3MoXCJob3Jpem9udGFsXCI9PT1pP1wiYm90dG9tXCI6XCJsZWZ0XCIsXCJcIik7YnJlYWs7Y2FzZVwidmFsdWVcIjp0aGlzLl9hbmltYXRlT2ZmPSEwLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLHRoaXMuX2NoYW5nZShudWxsLDApLHRoaXMuX2FuaW1hdGVPZmY9ITE7YnJlYWs7Y2FzZVwidmFsdWVzXCI6Zm9yKHRoaXMuX2FuaW1hdGVPZmY9ITAsdGhpcy5fcmVmcmVzaFZhbHVlKCkscz1uLTE7cz49MDtzLS0pdGhpcy5fY2hhbmdlKG51bGwscyk7dGhpcy5fYW5pbWF0ZU9mZj0hMTticmVhaztjYXNlXCJzdGVwXCI6Y2FzZVwibWluXCI6Y2FzZVwibWF4XCI6dGhpcy5fYW5pbWF0ZU9mZj0hMCx0aGlzLl9jYWxjdWxhdGVOZXdNYXgoKSx0aGlzLl9yZWZyZXNoVmFsdWUoKSx0aGlzLl9hbmltYXRlT2ZmPSExO2JyZWFrO2Nhc2VcInJhbmdlXCI6dGhpcy5fYW5pbWF0ZU9mZj0hMCx0aGlzLl9yZWZyZXNoKCksdGhpcy5fYW5pbWF0ZU9mZj0hMX19LF9zZXRPcHRpb25EaXNhYmxlZDpmdW5jdGlvbih0KXt0aGlzLl9zdXBlcih0KSx0aGlzLl90b2dnbGVDbGFzcyhudWxsLFwidWktc3RhdGUtZGlzYWJsZWRcIiwhIXQpfSxfdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMudmFsdWU7cmV0dXJuIHQ9dGhpcy5fdHJpbUFsaWduVmFsdWUodCl9LF92YWx1ZXM6ZnVuY3Rpb24odCl7dmFyIGUsaSxzO2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGU9dGhpcy5vcHRpb25zLnZhbHVlc1t0XSxlPXRoaXMuX3RyaW1BbGlnblZhbHVlKGUpO2lmKHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCkpe2ZvcihpPXRoaXMub3B0aW9ucy52YWx1ZXMuc2xpY2UoKSxzPTA7aS5sZW5ndGg+cztzKz0xKWlbc109dGhpcy5fdHJpbUFsaWduVmFsdWUoaVtzXSk7cmV0dXJuIGl9cmV0dXJuW119LF90cmltQWxpZ25WYWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLl92YWx1ZU1pbigpPj10KXJldHVybiB0aGlzLl92YWx1ZU1pbigpO2lmKHQ+PXRoaXMuX3ZhbHVlTWF4KCkpcmV0dXJuIHRoaXMuX3ZhbHVlTWF4KCk7dmFyIGU9dGhpcy5vcHRpb25zLnN0ZXA+MD90aGlzLm9wdGlvbnMuc3RlcDoxLGk9KHQtdGhpcy5fdmFsdWVNaW4oKSklZSxzPXQtaTtyZXR1cm4gMipNYXRoLmFicyhpKT49ZSYmKHMrPWk+MD9lOi1lKSxwYXJzZUZsb2F0KHMudG9GaXhlZCg1KSl9LF9jYWxjdWxhdGVOZXdNYXg6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMubWF4LGU9dGhpcy5fdmFsdWVNaW4oKSxpPXRoaXMub3B0aW9ucy5zdGVwLHM9TWF0aC5yb3VuZCgodC1lKS9pKSppO3Q9cytlLHQ+dGhpcy5vcHRpb25zLm1heCYmKHQtPWkpLHRoaXMubWF4PXBhcnNlRmxvYXQodC50b0ZpeGVkKHRoaXMuX3ByZWNpc2lvbigpKSl9LF9wcmVjaXNpb246ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wcmVjaXNpb25PZih0aGlzLm9wdGlvbnMuc3RlcCk7cmV0dXJuIG51bGwhPT10aGlzLm9wdGlvbnMubWluJiYodD1NYXRoLm1heCh0LHRoaXMuX3ByZWNpc2lvbk9mKHRoaXMub3B0aW9ucy5taW4pKSksdH0sX3ByZWNpc2lvbk9mOmZ1bmN0aW9uKHQpe3ZhciBlPVwiXCIrdCxpPWUuaW5kZXhPZihcIi5cIik7cmV0dXJuLTE9PT1pPzA6ZS5sZW5ndGgtaS0xfSxfdmFsdWVNaW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLm1pbn0sX3ZhbHVlTWF4OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWF4fSxfcmVmcmVzaFJhbmdlOmZ1bmN0aW9uKHQpe1widmVydGljYWxcIj09PXQmJnRoaXMucmFuZ2UuY3NzKHt3aWR0aDpcIlwiLGxlZnQ6XCJcIn0pLFwiaG9yaXpvbnRhbFwiPT09dCYmdGhpcy5yYW5nZS5jc3Moe2hlaWdodDpcIlwiLGJvdHRvbTpcIlwifSl9LF9yZWZyZXNoVmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSxpLHMsbixvLGE9dGhpcy5vcHRpb25zLnJhbmdlLHI9dGhpcy5vcHRpb25zLGg9dGhpcyxsPXRoaXMuX2FuaW1hdGVPZmY/ITE6ci5hbmltYXRlLGM9e307dGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKT90aGlzLmhhbmRsZXMuZWFjaChmdW5jdGlvbihzKXtpPTEwMCooKGgudmFsdWVzKHMpLWguX3ZhbHVlTWluKCkpLyhoLl92YWx1ZU1heCgpLWguX3ZhbHVlTWluKCkpKSxjW1wiaG9yaXpvbnRhbFwiPT09aC5vcmllbnRhdGlvbj9cImxlZnRcIjpcImJvdHRvbVwiXT1pK1wiJVwiLHQodGhpcykuc3RvcCgxLDEpW2w/XCJhbmltYXRlXCI6XCJjc3NcIl0oYyxyLmFuaW1hdGUpLGgub3B0aW9ucy5yYW5nZT09PSEwJiYoXCJob3Jpem9udGFsXCI9PT1oLm9yaWVudGF0aW9uPygwPT09cyYmaC5yYW5nZS5zdG9wKDEsMSlbbD9cImFuaW1hdGVcIjpcImNzc1wiXSh7bGVmdDppK1wiJVwifSxyLmFuaW1hdGUpLDE9PT1zJiZoLnJhbmdlW2w/XCJhbmltYXRlXCI6XCJjc3NcIl0oe3dpZHRoOmktZStcIiVcIn0se3F1ZXVlOiExLGR1cmF0aW9uOnIuYW5pbWF0ZX0pKTooMD09PXMmJmgucmFuZ2Uuc3RvcCgxLDEpW2w/XCJhbmltYXRlXCI6XCJjc3NcIl0oe2JvdHRvbTppK1wiJVwifSxyLmFuaW1hdGUpLDE9PT1zJiZoLnJhbmdlW2w/XCJhbmltYXRlXCI6XCJjc3NcIl0oe2hlaWdodDppLWUrXCIlXCJ9LHtxdWV1ZTohMSxkdXJhdGlvbjpyLmFuaW1hdGV9KSkpLGU9aX0pOihzPXRoaXMudmFsdWUoKSxuPXRoaXMuX3ZhbHVlTWluKCksbz10aGlzLl92YWx1ZU1heCgpLGk9byE9PW4/MTAwKigocy1uKS8oby1uKSk6MCxjW1wiaG9yaXpvbnRhbFwiPT09dGhpcy5vcmllbnRhdGlvbj9cImxlZnRcIjpcImJvdHRvbVwiXT1pK1wiJVwiLHRoaXMuaGFuZGxlLnN0b3AoMSwxKVtsP1wiYW5pbWF0ZVwiOlwiY3NzXCJdKGMsci5hbmltYXRlKSxcIm1pblwiPT09YSYmXCJob3Jpem9udGFsXCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlLnN0b3AoMSwxKVtsP1wiYW5pbWF0ZVwiOlwiY3NzXCJdKHt3aWR0aDppK1wiJVwifSxyLmFuaW1hdGUpLFwibWF4XCI9PT1hJiZcImhvcml6b250YWxcIj09PXRoaXMub3JpZW50YXRpb24mJnRoaXMucmFuZ2Uuc3RvcCgxLDEpW2w/XCJhbmltYXRlXCI6XCJjc3NcIl0oe3dpZHRoOjEwMC1pK1wiJVwifSxyLmFuaW1hdGUpLFwibWluXCI9PT1hJiZcInZlcnRpY2FsXCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlLnN0b3AoMSwxKVtsP1wiYW5pbWF0ZVwiOlwiY3NzXCJdKHtoZWlnaHQ6aStcIiVcIn0sci5hbmltYXRlKSxcIm1heFwiPT09YSYmXCJ2ZXJ0aWNhbFwiPT09dGhpcy5vcmllbnRhdGlvbiYmdGhpcy5yYW5nZS5zdG9wKDEsMSlbbD9cImFuaW1hdGVcIjpcImNzc1wiXSh7aGVpZ2h0OjEwMC1pK1wiJVwifSxyLmFuaW1hdGUpKX0sX2hhbmRsZUV2ZW50czp7a2V5ZG93bjpmdW5jdGlvbihlKXt2YXIgaSxzLG4sbyxhPXQoZS50YXJnZXQpLmRhdGEoXCJ1aS1zbGlkZXItaGFuZGxlLWluZGV4XCIpO3N3aXRjaChlLmtleUNvZGUpe2Nhc2UgdC51aS5rZXlDb2RlLkhPTUU6Y2FzZSB0LnVpLmtleUNvZGUuRU5EOmNhc2UgdC51aS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSB0LnVpLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgdC51aS5rZXlDb2RlLlVQOmNhc2UgdC51aS5rZXlDb2RlLlJJR0hUOmNhc2UgdC51aS5rZXlDb2RlLkRPV046Y2FzZSB0LnVpLmtleUNvZGUuTEVGVDppZihlLnByZXZlbnREZWZhdWx0KCksIXRoaXMuX2tleVNsaWRpbmcmJih0aGlzLl9rZXlTbGlkaW5nPSEwLHRoaXMuX2FkZENsYXNzKHQoZS50YXJnZXQpLG51bGwsXCJ1aS1zdGF0ZS1hY3RpdmVcIiksaT10aGlzLl9zdGFydChlLGEpLGk9PT0hMSkpcmV0dXJufXN3aXRjaChvPXRoaXMub3B0aW9ucy5zdGVwLHM9bj10aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpP3RoaXMudmFsdWVzKGEpOnRoaXMudmFsdWUoKSxlLmtleUNvZGUpe2Nhc2UgdC51aS5rZXlDb2RlLkhPTUU6bj10aGlzLl92YWx1ZU1pbigpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLkVORDpuPXRoaXMuX3ZhbHVlTWF4KCk7YnJlYWs7Y2FzZSB0LnVpLmtleUNvZGUuUEFHRV9VUDpuPXRoaXMuX3RyaW1BbGlnblZhbHVlKHMrKHRoaXMuX3ZhbHVlTWF4KCktdGhpcy5fdmFsdWVNaW4oKSkvdGhpcy5udW1QYWdlcyk7YnJlYWs7Y2FzZSB0LnVpLmtleUNvZGUuUEFHRV9ET1dOOm49dGhpcy5fdHJpbUFsaWduVmFsdWUocy0odGhpcy5fdmFsdWVNYXgoKS10aGlzLl92YWx1ZU1pbigpKS90aGlzLm51bVBhZ2VzKTticmVhaztjYXNlIHQudWkua2V5Q29kZS5VUDpjYXNlIHQudWkua2V5Q29kZS5SSUdIVDppZihzPT09dGhpcy5fdmFsdWVNYXgoKSlyZXR1cm47bj10aGlzLl90cmltQWxpZ25WYWx1ZShzK28pO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLkRPV046Y2FzZSB0LnVpLmtleUNvZGUuTEVGVDppZihzPT09dGhpcy5fdmFsdWVNaW4oKSlyZXR1cm47bj10aGlzLl90cmltQWxpZ25WYWx1ZShzLW8pfXRoaXMuX3NsaWRlKGUsYSxuKX0sa2V5dXA6ZnVuY3Rpb24oZSl7dmFyIGk9dChlLnRhcmdldCkuZGF0YShcInVpLXNsaWRlci1oYW5kbGUtaW5kZXhcIik7dGhpcy5fa2V5U2xpZGluZyYmKHRoaXMuX2tleVNsaWRpbmc9ITEsdGhpcy5fc3RvcChlLGkpLHRoaXMuX2NoYW5nZShlLGkpLHRoaXMuX3JlbW92ZUNsYXNzKHQoZS50YXJnZXQpLG51bGwsXCJ1aS1zdGF0ZS1hY3RpdmVcIikpfX19KSx0LndpZGdldChcInVpLnNwaW5uZXJcIix7dmVyc2lvbjpcIjEuMTIuMVwiLGRlZmF1bHRFbGVtZW50OlwiPGlucHV0PlwiLHdpZGdldEV2ZW50UHJlZml4Olwic3BpblwiLG9wdGlvbnM6e2NsYXNzZXM6e1widWktc3Bpbm5lclwiOlwidWktY29ybmVyLWFsbFwiLFwidWktc3Bpbm5lci1kb3duXCI6XCJ1aS1jb3JuZXItYnJcIixcInVpLXNwaW5uZXItdXBcIjpcInVpLWNvcm5lci10clwifSxjdWx0dXJlOm51bGwsaWNvbnM6e2Rvd246XCJ1aS1pY29uLXRyaWFuZ2xlLTEtc1wiLHVwOlwidWktaWNvbi10cmlhbmdsZS0xLW5cIn0saW5jcmVtZW50YWw6ITAsbWF4Om51bGwsbWluOm51bGwsbnVtYmVyRm9ybWF0Om51bGwscGFnZToxMCxzdGVwOjEsY2hhbmdlOm51bGwsc3BpbjpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0T3B0aW9uKFwibWF4XCIsdGhpcy5vcHRpb25zLm1heCksdGhpcy5fc2V0T3B0aW9uKFwibWluXCIsdGhpcy5vcHRpb25zLm1pbiksdGhpcy5fc2V0T3B0aW9uKFwic3RlcFwiLHRoaXMub3B0aW9ucy5zdGVwKSxcIlwiIT09dGhpcy52YWx1ZSgpJiZ0aGlzLl92YWx1ZSh0aGlzLmVsZW1lbnQudmFsKCksITApLHRoaXMuX2RyYXcoKSx0aGlzLl9vbih0aGlzLl9ldmVudHMpLHRoaXMuX3JlZnJlc2goKSx0aGlzLl9vbih0aGlzLndpbmRvdyx7YmVmb3JldW5sb2FkOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoXCJhdXRvY29tcGxldGVcIil9fSl9LF9nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fc3VwZXIoKSxpPXRoaXMuZWxlbWVudDtyZXR1cm4gdC5lYWNoKFtcIm1pblwiLFwibWF4XCIsXCJzdGVwXCJdLGZ1bmN0aW9uKHQscyl7dmFyIG49aS5hdHRyKHMpO251bGwhPW4mJm4ubGVuZ3RoJiYoZVtzXT1uKX0pLGV9LF9ldmVudHM6e2tleWRvd246ZnVuY3Rpb24odCl7dGhpcy5fc3RhcnQodCkmJnRoaXMuX2tleWRvd24odCkmJnQucHJldmVudERlZmF1bHQoKX0sa2V5dXA6XCJfc3RvcFwiLGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5wcmV2aW91cz10aGlzLmVsZW1lbnQudmFsKCl9LGJsdXI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2FuY2VsQmx1cj8oZGVsZXRlIHRoaXMuY2FuY2VsQmx1cix2b2lkIDApOih0aGlzLl9zdG9wKCksdGhpcy5fcmVmcmVzaCgpLHRoaXMucHJldmlvdXMhPT10aGlzLmVsZW1lbnQudmFsKCkmJnRoaXMuX3RyaWdnZXIoXCJjaGFuZ2VcIix0KSx2b2lkIDApfSxtb3VzZXdoZWVsOmZ1bmN0aW9uKHQsZSl7aWYoZSl7aWYoIXRoaXMuc3Bpbm5pbmcmJiF0aGlzLl9zdGFydCh0KSlyZXR1cm4hMTt0aGlzLl9zcGluKChlPjA/MTotMSkqdGhpcy5vcHRpb25zLnN0ZXAsdCksY2xlYXJUaW1lb3V0KHRoaXMubW91c2V3aGVlbFRpbWVyKSx0aGlzLm1vdXNld2hlZWxUaW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuc3Bpbm5pbmcmJnRoaXMuX3N0b3AodCl9LDEwMCksdC5wcmV2ZW50RGVmYXVsdCgpfX0sXCJtb3VzZWRvd24gLnVpLXNwaW5uZXItYnV0dG9uXCI6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaSgpe3ZhciBlPXRoaXMuZWxlbWVudFswXT09PXQudWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSk7ZXx8KHRoaXMuZWxlbWVudC50cmlnZ2VyKFwiZm9jdXNcIiksdGhpcy5wcmV2aW91cz1zLHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5wcmV2aW91cz1zfSkpfXZhciBzO3M9dGhpcy5lbGVtZW50WzBdPT09dC51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKT90aGlzLnByZXZpb3VzOnRoaXMuZWxlbWVudC52YWwoKSxlLnByZXZlbnREZWZhdWx0KCksaS5jYWxsKHRoaXMpLHRoaXMuY2FuY2VsQmx1cj0hMCx0aGlzLl9kZWxheShmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLmNhbmNlbEJsdXIsaS5jYWxsKHRoaXMpfSksdGhpcy5fc3RhcnQoZSkhPT0hMSYmdGhpcy5fcmVwZWF0KG51bGwsdChlLmN1cnJlbnRUYXJnZXQpLmhhc0NsYXNzKFwidWktc3Bpbm5lci11cFwiKT8xOi0xLGUpfSxcIm1vdXNldXAgLnVpLXNwaW5uZXItYnV0dG9uXCI6XCJfc3RvcFwiLFwibW91c2VlbnRlciAudWktc3Bpbm5lci1idXR0b25cIjpmdW5jdGlvbihlKXtyZXR1cm4gdChlLmN1cnJlbnRUYXJnZXQpLmhhc0NsYXNzKFwidWktc3RhdGUtYWN0aXZlXCIpP3RoaXMuX3N0YXJ0KGUpPT09ITE/ITE6KHRoaXMuX3JlcGVhdChudWxsLHQoZS5jdXJyZW50VGFyZ2V0KS5oYXNDbGFzcyhcInVpLXNwaW5uZXItdXBcIik/MTotMSxlKSx2b2lkIDApOnZvaWQgMH0sXCJtb3VzZWxlYXZlIC51aS1zcGlubmVyLWJ1dHRvblwiOlwiX3N0b3BcIn0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLnVpU3Bpbm5lcj10aGlzLmVsZW1lbnQuYXR0cihcImF1dG9jb21wbGV0ZVwiLFwib2ZmXCIpLndyYXAoXCI8c3Bhbj5cIikucGFyZW50KCkuYXBwZW5kKFwiPGE+PC9hPjxhPjwvYT5cIil9LF9kcmF3OmZ1bmN0aW9uKCl7dGhpcy5fZW5oYW5jZSgpLHRoaXMuX2FkZENsYXNzKHRoaXMudWlTcGlubmVyLFwidWktc3Bpbm5lclwiLFwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50XCIpLHRoaXMuX2FkZENsYXNzKFwidWktc3Bpbm5lci1pbnB1dFwiKSx0aGlzLmVsZW1lbnQuYXR0cihcInJvbGVcIixcInNwaW5idXR0b25cIiksdGhpcy5idXR0b25zPXRoaXMudWlTcGlubmVyLmNoaWxkcmVuKFwiYVwiKS5hdHRyKFwidGFiSW5kZXhcIiwtMSkuYXR0cihcImFyaWEtaGlkZGVuXCIsITApLmJ1dHRvbih7Y2xhc3Nlczp7XCJ1aS1idXR0b25cIjpcIlwifX0pLHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuYnV0dG9ucyxcInVpLWNvcm5lci1hbGxcIiksdGhpcy5fYWRkQ2xhc3ModGhpcy5idXR0b25zLmZpcnN0KCksXCJ1aS1zcGlubmVyLWJ1dHRvbiB1aS1zcGlubmVyLXVwXCIpLHRoaXMuX2FkZENsYXNzKHRoaXMuYnV0dG9ucy5sYXN0KCksXCJ1aS1zcGlubmVyLWJ1dHRvbiB1aS1zcGlubmVyLWRvd25cIiksdGhpcy5idXR0b25zLmZpcnN0KCkuYnV0dG9uKHtpY29uOnRoaXMub3B0aW9ucy5pY29ucy51cCxzaG93TGFiZWw6ITF9KSx0aGlzLmJ1dHRvbnMubGFzdCgpLmJ1dHRvbih7aWNvbjp0aGlzLm9wdGlvbnMuaWNvbnMuZG93bixzaG93TGFiZWw6ITF9KSx0aGlzLmJ1dHRvbnMuaGVpZ2h0KCk+TWF0aC5jZWlsKC41KnRoaXMudWlTcGlubmVyLmhlaWdodCgpKSYmdGhpcy51aVNwaW5uZXIuaGVpZ2h0KCk+MCYmdGhpcy51aVNwaW5uZXIuaGVpZ2h0KHRoaXMudWlTcGlubmVyLmhlaWdodCgpKX0sX2tleWRvd246ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5vcHRpb25zLHM9dC51aS5rZXlDb2RlO3N3aXRjaChlLmtleUNvZGUpe2Nhc2Ugcy5VUDpyZXR1cm4gdGhpcy5fcmVwZWF0KG51bGwsMSxlKSwhMDtjYXNlIHMuRE9XTjpyZXR1cm4gdGhpcy5fcmVwZWF0KG51bGwsLTEsZSksITA7Y2FzZSBzLlBBR0VfVVA6cmV0dXJuIHRoaXMuX3JlcGVhdChudWxsLGkucGFnZSxlKSwhMDtjYXNlIHMuUEFHRV9ET1dOOnJldHVybiB0aGlzLl9yZXBlYXQobnVsbCwtaS5wYWdlLGUpLCEwfXJldHVybiExfSxfc3RhcnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3Bpbm5pbmd8fHRoaXMuX3RyaWdnZXIoXCJzdGFydFwiLHQpIT09ITE/KHRoaXMuY291bnRlcnx8KHRoaXMuY291bnRlcj0xKSx0aGlzLnNwaW5uaW5nPSEwLCEwKTohMX0sX3JlcGVhdDpmdW5jdGlvbih0LGUsaSl7dD10fHw1MDAsY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpLHRoaXMudGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLl9yZXBlYXQoNDAsZSxpKX0sdCksdGhpcy5fc3BpbihlKnRoaXMub3B0aW9ucy5zdGVwLGkpfSxfc3BpbjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMudmFsdWUoKXx8MDt0aGlzLmNvdW50ZXJ8fCh0aGlzLmNvdW50ZXI9MSksaT10aGlzLl9hZGp1c3RWYWx1ZShpK3QqdGhpcy5faW5jcmVtZW50KHRoaXMuY291bnRlcikpLHRoaXMuc3Bpbm5pbmcmJnRoaXMuX3RyaWdnZXIoXCJzcGluXCIsZSx7dmFsdWU6aX0pPT09ITF8fCh0aGlzLl92YWx1ZShpKSx0aGlzLmNvdW50ZXIrKyl9LF9pbmNyZW1lbnQ6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5vcHRpb25zLmluY3JlbWVudGFsO3JldHVybiBpP3QuaXNGdW5jdGlvbihpKT9pKGUpOk1hdGguZmxvb3IoZSplKmUvNWU0LWUqZS81MDArMTcqZS8yMDArMSk6MX0sX3ByZWNpc2lvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3ByZWNpc2lvbk9mKHRoaXMub3B0aW9ucy5zdGVwKTtyZXR1cm4gbnVsbCE9PXRoaXMub3B0aW9ucy5taW4mJih0PU1hdGgubWF4KHQsdGhpcy5fcHJlY2lzaW9uT2YodGhpcy5vcHRpb25zLm1pbikpKSx0fSxfcHJlY2lzaW9uT2Y6ZnVuY3Rpb24odCl7dmFyIGU9XCJcIit0LGk9ZS5pbmRleE9mKFwiLlwiKTtyZXR1cm4tMT09PWk/MDplLmxlbmd0aC1pLTF9LF9hZGp1c3RWYWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpLHM9dGhpcy5vcHRpb25zO3JldHVybiBlPW51bGwhPT1zLm1pbj9zLm1pbjowLGk9dC1lLGk9TWF0aC5yb3VuZChpL3Muc3RlcCkqcy5zdGVwLHQ9ZStpLHQ9cGFyc2VGbG9hdCh0LnRvRml4ZWQodGhpcy5fcHJlY2lzaW9uKCkpKSxudWxsIT09cy5tYXgmJnQ+cy5tYXg/cy5tYXg6bnVsbCE9PXMubWluJiZzLm1pbj50P3MubWluOnR9LF9zdG9wOmZ1bmN0aW9uKHQpe3RoaXMuc3Bpbm5pbmcmJihjbGVhclRpbWVvdXQodGhpcy50aW1lciksY2xlYXJUaW1lb3V0KHRoaXMubW91c2V3aGVlbFRpbWVyKSx0aGlzLmNvdW50ZXI9MCx0aGlzLnNwaW5uaW5nPSExLHRoaXMuX3RyaWdnZXIoXCJzdG9wXCIsdCkpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7dmFyIGkscyxuO3JldHVyblwiY3VsdHVyZVwiPT09dHx8XCJudW1iZXJGb3JtYXRcIj09PXQ/KGk9dGhpcy5fcGFyc2UodGhpcy5lbGVtZW50LnZhbCgpKSx0aGlzLm9wdGlvbnNbdF09ZSx0aGlzLmVsZW1lbnQudmFsKHRoaXMuX2Zvcm1hdChpKSksdm9pZCAwKTooKFwibWF4XCI9PT10fHxcIm1pblwiPT09dHx8XCJzdGVwXCI9PT10KSYmXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXRoaXMuX3BhcnNlKGUpKSxcImljb25zXCI9PT10JiYocz10aGlzLmJ1dHRvbnMuZmlyc3QoKS5maW5kKFwiLnVpLWljb25cIiksdGhpcy5fcmVtb3ZlQ2xhc3MocyxudWxsLHRoaXMub3B0aW9ucy5pY29ucy51cCksdGhpcy5fYWRkQ2xhc3MocyxudWxsLGUudXApLG49dGhpcy5idXR0b25zLmxhc3QoKS5maW5kKFwiLnVpLWljb25cIiksdGhpcy5fcmVtb3ZlQ2xhc3MobixudWxsLHRoaXMub3B0aW9ucy5pY29ucy5kb3duKSx0aGlzLl9hZGRDbGFzcyhuLG51bGwsZS5kb3duKSksdGhpcy5fc3VwZXIodCxlKSx2b2lkIDApfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24odCl7dGhpcy5fc3VwZXIodCksdGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy51aVNwaW5uZXIsbnVsbCxcInVpLXN0YXRlLWRpc2FibGVkXCIsISF0KSx0aGlzLmVsZW1lbnQucHJvcChcImRpc2FibGVkXCIsISF0KSx0aGlzLmJ1dHRvbnMuYnV0dG9uKHQ/XCJkaXNhYmxlXCI6XCJlbmFibGVcIil9LF9zZXRPcHRpb25zOnIoZnVuY3Rpb24odCl7dGhpcy5fc3VwZXIodCl9KSxfcGFyc2U6ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQmJlwiXCIhPT10JiYodD13aW5kb3cuR2xvYmFsaXplJiZ0aGlzLm9wdGlvbnMubnVtYmVyRm9ybWF0P0dsb2JhbGl6ZS5wYXJzZUZsb2F0KHQsMTAsdGhpcy5vcHRpb25zLmN1bHR1cmUpOit0KSxcIlwiPT09dHx8aXNOYU4odCk/bnVsbDp0fSxfZm9ybWF0OmZ1bmN0aW9uKHQpe3JldHVyblwiXCI9PT10P1wiXCI6d2luZG93Lkdsb2JhbGl6ZSYmdGhpcy5vcHRpb25zLm51bWJlckZvcm1hdD9HbG9iYWxpemUuZm9ybWF0KHQsdGhpcy5vcHRpb25zLm51bWJlckZvcm1hdCx0aGlzLm9wdGlvbnMuY3VsdHVyZSk6dH0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cih7XCJhcmlhLXZhbHVlbWluXCI6dGhpcy5vcHRpb25zLm1pbixcImFyaWEtdmFsdWVtYXhcIjp0aGlzLm9wdGlvbnMubWF4LFwiYXJpYS12YWx1ZW5vd1wiOnRoaXMuX3BhcnNlKHRoaXMuZWxlbWVudC52YWwoKSl9KX0saXNWYWxpZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMudmFsdWUoKTtyZXR1cm4gbnVsbD09PXQ/ITE6dD09PXRoaXMuX2FkanVzdFZhbHVlKHQpfSxfdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaTtcIlwiIT09dCYmKGk9dGhpcy5fcGFyc2UodCksbnVsbCE9PWkmJihlfHwoaT10aGlzLl9hZGp1c3RWYWx1ZShpKSksdD10aGlzLl9mb3JtYXQoaSkpKSx0aGlzLmVsZW1lbnQudmFsKHQpLHRoaXMuX3JlZnJlc2goKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcChcImRpc2FibGVkXCIsITEpLnJlbW92ZUF0dHIoXCJhdXRvY29tcGxldGUgcm9sZSBhcmlhLXZhbHVlbWluIGFyaWEtdmFsdWVtYXggYXJpYS12YWx1ZW5vd1wiKSx0aGlzLnVpU3Bpbm5lci5yZXBsYWNlV2l0aCh0aGlzLmVsZW1lbnQpfSxzdGVwVXA6cihmdW5jdGlvbih0KXt0aGlzLl9zdGVwVXAodCl9KSxfc3RlcFVwOmZ1bmN0aW9uKHQpe3RoaXMuX3N0YXJ0KCkmJih0aGlzLl9zcGluKCh0fHwxKSp0aGlzLm9wdGlvbnMuc3RlcCksdGhpcy5fc3RvcCgpKX0sc3RlcERvd246cihmdW5jdGlvbih0KXt0aGlzLl9zdGVwRG93bih0KX0pLF9zdGVwRG93bjpmdW5jdGlvbih0KXt0aGlzLl9zdGFydCgpJiYodGhpcy5fc3BpbigodHx8MSkqLXRoaXMub3B0aW9ucy5zdGVwKSx0aGlzLl9zdG9wKCkpfSxwYWdlVXA6cihmdW5jdGlvbih0KXt0aGlzLl9zdGVwVXAoKHR8fDEpKnRoaXMub3B0aW9ucy5wYWdlKX0pLHBhZ2VEb3duOnIoZnVuY3Rpb24odCl7dGhpcy5fc3RlcERvd24oKHR8fDEpKnRoaXMub3B0aW9ucy5wYWdlKX0pLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyKHRoaXMuX3ZhbHVlKS5jYWxsKHRoaXMsdCksdm9pZCAwKTp0aGlzLl9wYXJzZSh0aGlzLmVsZW1lbnQudmFsKCkpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51aVNwaW5uZXJ9fSksdC51aUJhY2tDb21wYXQhPT0hMSYmdC53aWRnZXQoXCJ1aS5zcGlubmVyXCIsdC51aS5zcGlubmVyLHtfZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMudWlTcGlubmVyPXRoaXMuZWxlbWVudC5hdHRyKFwiYXV0b2NvbXBsZXRlXCIsXCJvZmZcIikud3JhcCh0aGlzLl91aVNwaW5uZXJIdG1sKCkpLnBhcmVudCgpLmFwcGVuZCh0aGlzLl9idXR0b25IdG1sKCkpfSxfdWlTcGlubmVySHRtbDpmdW5jdGlvbigpe3JldHVyblwiPHNwYW4+XCJ9LF9idXR0b25IdG1sOmZ1bmN0aW9uKCl7cmV0dXJuXCI8YT48L2E+PGE+PC9hPlwifX0pLHQudWkuc3Bpbm5lcix0LndpZGdldChcInVpLnRhYnNcIix7dmVyc2lvbjpcIjEuMTIuMVwiLGRlbGF5OjMwMCxvcHRpb25zOnthY3RpdmU6bnVsbCxjbGFzc2VzOntcInVpLXRhYnNcIjpcInVpLWNvcm5lci1hbGxcIixcInVpLXRhYnMtbmF2XCI6XCJ1aS1jb3JuZXItYWxsXCIsXCJ1aS10YWJzLXBhbmVsXCI6XCJ1aS1jb3JuZXItYm90dG9tXCIsXCJ1aS10YWJzLXRhYlwiOlwidWktY29ybmVyLXRvcFwifSxjb2xsYXBzaWJsZTohMSxldmVudDpcImNsaWNrXCIsaGVpZ2h0U3R5bGU6XCJjb250ZW50XCIsaGlkZTpudWxsLHNob3c6bnVsbCxhY3RpdmF0ZTpudWxsLGJlZm9yZUFjdGl2YXRlOm51bGwsYmVmb3JlTG9hZDpudWxsLGxvYWQ6bnVsbH0sX2lzTG9jYWw6ZnVuY3Rpb24oKXt2YXIgdD0vIy4qJC87cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBpLHM7aT1lLmhyZWYucmVwbGFjZSh0LFwiXCIpLHM9bG9jYXRpb24uaHJlZi5yZXBsYWNlKHQsXCJcIik7dHJ5e2k9ZGVjb2RlVVJJQ29tcG9uZW50KGkpfWNhdGNoKG4pe310cnl7cz1kZWNvZGVVUklDb21wb25lbnQocyl9Y2F0Y2gobil7fXJldHVybiBlLmhhc2gubGVuZ3RoPjEmJmk9PT1zfX0oKSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxpPXRoaXMub3B0aW9uczt0aGlzLnJ1bm5pbmc9ITEsdGhpcy5fYWRkQ2xhc3MoXCJ1aS10YWJzXCIsXCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnRcIiksdGhpcy5fdG9nZ2xlQ2xhc3MoXCJ1aS10YWJzLWNvbGxhcHNpYmxlXCIsbnVsbCxpLmNvbGxhcHNpYmxlKSx0aGlzLl9wcm9jZXNzVGFicygpLGkuYWN0aXZlPXRoaXMuX2luaXRpYWxBY3RpdmUoKSx0LmlzQXJyYXkoaS5kaXNhYmxlZCkmJihpLmRpc2FibGVkPXQudW5pcXVlKGkuZGlzYWJsZWQuY29uY2F0KHQubWFwKHRoaXMudGFicy5maWx0ZXIoXCIudWktc3RhdGUtZGlzYWJsZWRcIiksZnVuY3Rpb24odCl7cmV0dXJuIGUudGFicy5pbmRleCh0KX0pKSkuc29ydCgpKSx0aGlzLmFjdGl2ZT10aGlzLm9wdGlvbnMuYWN0aXZlIT09ITEmJnRoaXMuYW5jaG9ycy5sZW5ndGg/dGhpcy5fZmluZEFjdGl2ZShpLmFjdGl2ZSk6dCgpLHRoaXMuX3JlZnJlc2goKSx0aGlzLmFjdGl2ZS5sZW5ndGgmJnRoaXMubG9hZChpLmFjdGl2ZSl9LF9pbml0aWFsQWN0aXZlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcHRpb25zLmFjdGl2ZSxpPXRoaXMub3B0aW9ucy5jb2xsYXBzaWJsZSxzPWxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpO3JldHVybiBudWxsPT09ZSYmKHMmJnRoaXMudGFicy5lYWNoKGZ1bmN0aW9uKGksbil7cmV0dXJuIHQobikuYXR0cihcImFyaWEtY29udHJvbHNcIik9PT1zPyhlPWksITEpOnZvaWQgMH0pLG51bGw9PT1lJiYoZT10aGlzLnRhYnMuaW5kZXgodGhpcy50YWJzLmZpbHRlcihcIi51aS10YWJzLWFjdGl2ZVwiKSkpLChudWxsPT09ZXx8LTE9PT1lKSYmKGU9dGhpcy50YWJzLmxlbmd0aD8wOiExKSksZSE9PSExJiYoZT10aGlzLnRhYnMuaW5kZXgodGhpcy50YWJzLmVxKGUpKSwtMT09PWUmJihlPWk/ITE6MCkpLCFpJiZlPT09ITEmJnRoaXMuYW5jaG9ycy5sZW5ndGgmJihlPTApLGV9LF9nZXRDcmVhdGVFdmVudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm57dGFiOnRoaXMuYWN0aXZlLHBhbmVsOnRoaXMuYWN0aXZlLmxlbmd0aD90aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSk6dCgpfX0sX3RhYktleWRvd246ZnVuY3Rpb24oZSl7dmFyIGk9dCh0LnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pKS5jbG9zZXN0KFwibGlcIikscz10aGlzLnRhYnMuaW5kZXgoaSksbj0hMDtpZighdGhpcy5faGFuZGxlUGFnZU5hdihlKSl7c3dpdGNoKGUua2V5Q29kZSl7Y2FzZSB0LnVpLmtleUNvZGUuUklHSFQ6Y2FzZSB0LnVpLmtleUNvZGUuRE9XTjpzKys7YnJlYWs7Y2FzZSB0LnVpLmtleUNvZGUuVVA6Y2FzZSB0LnVpLmtleUNvZGUuTEVGVDpuPSExLHMtLTticmVhaztjYXNlIHQudWkua2V5Q29kZS5FTkQ6cz10aGlzLmFuY2hvcnMubGVuZ3RoLTE7YnJlYWs7Y2FzZSB0LnVpLmtleUNvZGUuSE9NRTpzPTA7YnJlYWs7Y2FzZSB0LnVpLmtleUNvZGUuU1BBQ0U6cmV0dXJuIGUucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSx0aGlzLl9hY3RpdmF0ZShzKSx2b2lkIDA7Y2FzZSB0LnVpLmtleUNvZGUuRU5URVI6cmV0dXJuIGUucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSx0aGlzLl9hY3RpdmF0ZShzPT09dGhpcy5vcHRpb25zLmFjdGl2ZT8hMTpzKSx2b2lkIDA7ZGVmYXVsdDpyZXR1cm59ZS5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLHM9dGhpcy5fZm9jdXNOZXh0VGFiKHMsbiksZS5jdHJsS2V5fHxlLm1ldGFLZXl8fChpLmF0dHIoXCJhcmlhLXNlbGVjdGVkXCIsXCJmYWxzZVwiKSx0aGlzLnRhYnMuZXEocykuYXR0cihcImFyaWEtc2VsZWN0ZWRcIixcInRydWVcIiksdGhpcy5hY3RpdmF0aW5nPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5vcHRpb24oXCJhY3RpdmVcIixzKX0sdGhpcy5kZWxheSkpfX0sX3BhbmVsS2V5ZG93bjpmdW5jdGlvbihlKXt0aGlzLl9oYW5kbGVQYWdlTmF2KGUpfHxlLmN0cmxLZXkmJmUua2V5Q29kZT09PXQudWkua2V5Q29kZS5VUCYmKGUucHJldmVudERlZmF1bHQoKSx0aGlzLmFjdGl2ZS50cmlnZ2VyKFwiZm9jdXNcIikpfSxfaGFuZGxlUGFnZU5hdjpmdW5jdGlvbihlKXtyZXR1cm4gZS5hbHRLZXkmJmUua2V5Q29kZT09PXQudWkua2V5Q29kZS5QQUdFX1VQPyh0aGlzLl9hY3RpdmF0ZSh0aGlzLl9mb2N1c05leHRUYWIodGhpcy5vcHRpb25zLmFjdGl2ZS0xLCExKSksITApOmUuYWx0S2V5JiZlLmtleUNvZGU9PT10LnVpLmtleUNvZGUuUEFHRV9ET1dOPyh0aGlzLl9hY3RpdmF0ZSh0aGlzLl9mb2N1c05leHRUYWIodGhpcy5vcHRpb25zLmFjdGl2ZSsxLCEwKSksITApOnZvaWQgMH0sX2ZpbmROZXh0VGFiOmZ1bmN0aW9uKGUsaSl7ZnVuY3Rpb24gcygpe3JldHVybiBlPm4mJihlPTApLDA+ZSYmKGU9biksZX1mb3IodmFyIG49dGhpcy50YWJzLmxlbmd0aC0xOy0xIT09dC5pbkFycmF5KHMoKSx0aGlzLm9wdGlvbnMuZGlzYWJsZWQpOyllPWk/ZSsxOmUtMTtyZXR1cm4gZX0sX2ZvY3VzTmV4dFRhYjpmdW5jdGlvbih0LGUpe3JldHVybiB0PXRoaXMuX2ZpbmROZXh0VGFiKHQsZSksdGhpcy50YWJzLmVxKHQpLnRyaWdnZXIoXCJmb2N1c1wiKSx0fSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJhY3RpdmVcIj09PXQ/KHRoaXMuX2FjdGl2YXRlKGUpLHZvaWQgMCk6KHRoaXMuX3N1cGVyKHQsZSksXCJjb2xsYXBzaWJsZVwiPT09dCYmKHRoaXMuX3RvZ2dsZUNsYXNzKFwidWktdGFicy1jb2xsYXBzaWJsZVwiLG51bGwsZSksZXx8dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExfHx0aGlzLl9hY3RpdmF0ZSgwKSksXCJldmVudFwiPT09dCYmdGhpcy5fc2V0dXBFdmVudHMoZSksXCJoZWlnaHRTdHlsZVwiPT09dCYmdGhpcy5fc2V0dXBIZWlnaHRTdHlsZShlKSx2b2lkIDApfSxfc2FuaXRpemVTZWxlY3RvcjpmdW5jdGlvbih0KXtyZXR1cm4gdD90LnJlcGxhY2UoL1shXCIkJSYnKCkqKywuXFwvOjs8PT4/QFxcW1xcXVxcXmB7fH1+XS9nLFwiXFxcXCQmXCIpOlwiXCJ9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnMsaT10aGlzLnRhYmxpc3QuY2hpbGRyZW4oXCI6aGFzKGFbaHJlZl0pXCIpO2UuZGlzYWJsZWQ9dC5tYXAoaS5maWx0ZXIoXCIudWktc3RhdGUtZGlzYWJsZWRcIiksZnVuY3Rpb24odCl7cmV0dXJuIGkuaW5kZXgodCl9KSx0aGlzLl9wcm9jZXNzVGFicygpLGUuYWN0aXZlIT09ITEmJnRoaXMuYW5jaG9ycy5sZW5ndGg/dGhpcy5hY3RpdmUubGVuZ3RoJiYhdC5jb250YWlucyh0aGlzLnRhYmxpc3RbMF0sdGhpcy5hY3RpdmVbMF0pP3RoaXMudGFicy5sZW5ndGg9PT1lLmRpc2FibGVkLmxlbmd0aD8oZS5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9dCgpKTp0aGlzLl9hY3RpdmF0ZSh0aGlzLl9maW5kTmV4dFRhYihNYXRoLm1heCgwLGUuYWN0aXZlLTEpLCExKSk6ZS5hY3RpdmU9dGhpcy50YWJzLmluZGV4KHRoaXMuYWN0aXZlKTooZS5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9dCgpKSx0aGlzLl9yZWZyZXNoKCl9LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fc2V0T3B0aW9uRGlzYWJsZWQodGhpcy5vcHRpb25zLmRpc2FibGVkKSx0aGlzLl9zZXR1cEV2ZW50cyh0aGlzLm9wdGlvbnMuZXZlbnQpLHRoaXMuX3NldHVwSGVpZ2h0U3R5bGUodGhpcy5vcHRpb25zLmhlaWdodFN0eWxlKSx0aGlzLnRhYnMubm90KHRoaXMuYWN0aXZlKS5hdHRyKHtcImFyaWEtc2VsZWN0ZWRcIjpcImZhbHNlXCIsXCJhcmlhLWV4cGFuZGVkXCI6XCJmYWxzZVwiLHRhYkluZGV4Oi0xfSksdGhpcy5wYW5lbHMubm90KHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKSkuaGlkZSgpLmF0dHIoe1wiYXJpYS1oaWRkZW5cIjpcInRydWVcIn0pLHRoaXMuYWN0aXZlLmxlbmd0aD8odGhpcy5hY3RpdmUuYXR0cih7XCJhcmlhLXNlbGVjdGVkXCI6XCJ0cnVlXCIsXCJhcmlhLWV4cGFuZGVkXCI6XCJ0cnVlXCIsdGFiSW5kZXg6MH0pLHRoaXMuX2FkZENsYXNzKHRoaXMuYWN0aXZlLFwidWktdGFicy1hY3RpdmVcIixcInVpLXN0YXRlLWFjdGl2ZVwiKSx0aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSkuc2hvdygpLmF0dHIoe1wiYXJpYS1oaWRkZW5cIjpcImZhbHNlXCJ9KSk6dGhpcy50YWJzLmVxKDApLmF0dHIoXCJ0YWJJbmRleFwiLDApfSxfcHJvY2Vzc1RhYnM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGk9dGhpcy50YWJzLHM9dGhpcy5hbmNob3JzLG49dGhpcy5wYW5lbHM7dGhpcy50YWJsaXN0PXRoaXMuX2dldExpc3QoKS5hdHRyKFwicm9sZVwiLFwidGFibGlzdFwiKSx0aGlzLl9hZGRDbGFzcyh0aGlzLnRhYmxpc3QsXCJ1aS10YWJzLW5hdlwiLFwidWktaGVscGVyLXJlc2V0IHVpLWhlbHBlci1jbGVhcmZpeCB1aS13aWRnZXQtaGVhZGVyXCIpLHRoaXMudGFibGlzdC5vbihcIm1vdXNlZG93blwiK3RoaXMuZXZlbnROYW1lc3BhY2UsXCI+IGxpXCIsZnVuY3Rpb24oZSl7dCh0aGlzKS5pcyhcIi51aS1zdGF0ZS1kaXNhYmxlZFwiKSYmZS5wcmV2ZW50RGVmYXVsdCgpfSkub24oXCJmb2N1c1wiK3RoaXMuZXZlbnROYW1lc3BhY2UsXCIudWktdGFicy1hbmNob3JcIixmdW5jdGlvbigpe3QodGhpcykuY2xvc2VzdChcImxpXCIpLmlzKFwiLnVpLXN0YXRlLWRpc2FibGVkXCIpJiZ0aGlzLmJsdXIoKX0pLHRoaXMudGFicz10aGlzLnRhYmxpc3QuZmluZChcIj4gbGk6aGFzKGFbaHJlZl0pXCIpLmF0dHIoe3JvbGU6XCJ0YWJcIix0YWJJbmRleDotMX0pLHRoaXMuX2FkZENsYXNzKHRoaXMudGFicyxcInVpLXRhYnMtdGFiXCIsXCJ1aS1zdGF0ZS1kZWZhdWx0XCIpLHRoaXMuYW5jaG9ycz10aGlzLnRhYnMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHQoXCJhXCIsdGhpcylbMF19KS5hdHRyKHtyb2xlOlwicHJlc2VudGF0aW9uXCIsdGFiSW5kZXg6LTF9KSx0aGlzLl9hZGRDbGFzcyh0aGlzLmFuY2hvcnMsXCJ1aS10YWJzLWFuY2hvclwiKSx0aGlzLnBhbmVscz10KCksdGhpcy5hbmNob3JzLmVhY2goZnVuY3Rpb24oaSxzKXt2YXIgbixvLGEscj10KHMpLnVuaXF1ZUlkKCkuYXR0cihcImlkXCIpLGg9dChzKS5jbG9zZXN0KFwibGlcIiksbD1oLmF0dHIoXCJhcmlhLWNvbnRyb2xzXCIpO2UuX2lzTG9jYWwocyk/KG49cy5oYXNoLGE9bi5zdWJzdHJpbmcoMSksbz1lLmVsZW1lbnQuZmluZChlLl9zYW5pdGl6ZVNlbGVjdG9yKG4pKSk6KGE9aC5hdHRyKFwiYXJpYS1jb250cm9sc1wiKXx8dCh7fSkudW5pcXVlSWQoKVswXS5pZCxuPVwiI1wiK2Esbz1lLmVsZW1lbnQuZmluZChuKSxvLmxlbmd0aHx8KG89ZS5fY3JlYXRlUGFuZWwoYSksby5pbnNlcnRBZnRlcihlLnBhbmVsc1tpLTFdfHxlLnRhYmxpc3QpKSxvLmF0dHIoXCJhcmlhLWxpdmVcIixcInBvbGl0ZVwiKSksby5sZW5ndGgmJihlLnBhbmVscz1lLnBhbmVscy5hZGQobykpLGwmJmguZGF0YShcInVpLXRhYnMtYXJpYS1jb250cm9sc1wiLGwpLGguYXR0cih7XCJhcmlhLWNvbnRyb2xzXCI6YSxcImFyaWEtbGFiZWxsZWRieVwiOnJ9KSxvLmF0dHIoXCJhcmlhLWxhYmVsbGVkYnlcIixyKX0pLHRoaXMucGFuZWxzLmF0dHIoXCJyb2xlXCIsXCJ0YWJwYW5lbFwiKSx0aGlzLl9hZGRDbGFzcyh0aGlzLnBhbmVscyxcInVpLXRhYnMtcGFuZWxcIixcInVpLXdpZGdldC1jb250ZW50XCIpLGkmJih0aGlzLl9vZmYoaS5ub3QodGhpcy50YWJzKSksdGhpcy5fb2ZmKHMubm90KHRoaXMuYW5jaG9ycykpLHRoaXMuX29mZihuLm5vdCh0aGlzLnBhbmVscykpKX0sX2dldExpc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YWJsaXN0fHx0aGlzLmVsZW1lbnQuZmluZChcIm9sLCB1bFwiKS5lcSgwKX0sX2NyZWF0ZVBhbmVsOmZ1bmN0aW9uKGUpe3JldHVybiB0KFwiPGRpdj5cIikuYXR0cihcImlkXCIsZSkuZGF0YShcInVpLXRhYnMtZGVzdHJveVwiLCEwKX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKGUpe3ZhciBpLHMsbjtmb3IodC5pc0FycmF5KGUpJiYoZS5sZW5ndGg/ZS5sZW5ndGg9PT10aGlzLmFuY2hvcnMubGVuZ3RoJiYoZT0hMCk6ZT0hMSksbj0wO3M9dGhpcy50YWJzW25dO24rKylpPXQocyksZT09PSEwfHwtMSE9PXQuaW5BcnJheShuLGUpPyhpLmF0dHIoXCJhcmlhLWRpc2FibGVkXCIsXCJ0cnVlXCIpLHRoaXMuX2FkZENsYXNzKGksbnVsbCxcInVpLXN0YXRlLWRpc2FibGVkXCIpKTooaS5yZW1vdmVBdHRyKFwiYXJpYS1kaXNhYmxlZFwiKSx0aGlzLl9yZW1vdmVDbGFzcyhpLG51bGwsXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiKSk7dGhpcy5vcHRpb25zLmRpc2FibGVkPWUsdGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy53aWRnZXQoKSx0aGlzLndpZGdldEZ1bGxOYW1lK1wiLWRpc2FibGVkXCIsbnVsbCxlPT09ITApfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24oZSl7dmFyIGk9e307ZSYmdC5lYWNoKGUuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKHQsZSl7aVtlXT1cIl9ldmVudEhhbmRsZXJcIn0pLHRoaXMuX29mZih0aGlzLmFuY2hvcnMuYWRkKHRoaXMudGFicykuYWRkKHRoaXMucGFuZWxzKSksdGhpcy5fb24oITAsdGhpcy5hbmNob3JzLHtjbGljazpmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCl9fSksdGhpcy5fb24odGhpcy5hbmNob3JzLGkpLHRoaXMuX29uKHRoaXMudGFicyx7a2V5ZG93bjpcIl90YWJLZXlkb3duXCJ9KSx0aGlzLl9vbih0aGlzLnBhbmVscyx7a2V5ZG93bjpcIl9wYW5lbEtleWRvd25cIn0pLHRoaXMuX2ZvY3VzYWJsZSh0aGlzLnRhYnMpLHRoaXMuX2hvdmVyYWJsZSh0aGlzLnRhYnMpfSxfc2V0dXBIZWlnaHRTdHlsZTpmdW5jdGlvbihlKXt2YXIgaSxzPXRoaXMuZWxlbWVudC5wYXJlbnQoKTtcImZpbGxcIj09PWU/KGk9cy5oZWlnaHQoKSxpLT10aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKS10aGlzLmVsZW1lbnQuaGVpZ2h0KCksdGhpcy5lbGVtZW50LnNpYmxpbmdzKFwiOnZpc2libGVcIikuZWFjaChmdW5jdGlvbigpe3ZhciBlPXQodGhpcykscz1lLmNzcyhcInBvc2l0aW9uXCIpO1wiYWJzb2x1dGVcIiE9PXMmJlwiZml4ZWRcIiE9PXMmJihpLT1lLm91dGVySGVpZ2h0KCEwKSl9KSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKS5ub3QodGhpcy5wYW5lbHMpLmVhY2goZnVuY3Rpb24oKXtpLT10KHRoaXMpLm91dGVySGVpZ2h0KCEwKX0pLHRoaXMucGFuZWxzLmVhY2goZnVuY3Rpb24oKXt0KHRoaXMpLmhlaWdodChNYXRoLm1heCgwLGktdCh0aGlzKS5pbm5lckhlaWdodCgpK3QodGhpcykuaGVpZ2h0KCkpKX0pLmNzcyhcIm92ZXJmbG93XCIsXCJhdXRvXCIpKTpcImF1dG9cIj09PWUmJihpPTAsdGhpcy5wYW5lbHMuZWFjaChmdW5jdGlvbigpe2k9TWF0aC5tYXgoaSx0KHRoaXMpLmhlaWdodChcIlwiKS5oZWlnaHQoKSl9KS5oZWlnaHQoaSkpfSxfZXZlbnRIYW5kbGVyOmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMub3B0aW9ucyxzPXRoaXMuYWN0aXZlLG49dChlLmN1cnJlbnRUYXJnZXQpLG89bi5jbG9zZXN0KFwibGlcIiksYT1vWzBdPT09c1swXSxyPWEmJmkuY29sbGFwc2libGUsaD1yP3QoKTp0aGlzLl9nZXRQYW5lbEZvclRhYihvKSxsPXMubGVuZ3RoP3RoaXMuX2dldFBhbmVsRm9yVGFiKHMpOnQoKSxjPXtvbGRUYWI6cyxvbGRQYW5lbDpsLG5ld1RhYjpyP3QoKTpvLG5ld1BhbmVsOmh9O2UucHJldmVudERlZmF1bHQoKSxvLmhhc0NsYXNzKFwidWktc3RhdGUtZGlzYWJsZWRcIil8fG8uaGFzQ2xhc3MoXCJ1aS10YWJzLWxvYWRpbmdcIil8fHRoaXMucnVubmluZ3x8YSYmIWkuY29sbGFwc2libGV8fHRoaXMuX3RyaWdnZXIoXCJiZWZvcmVBY3RpdmF0ZVwiLGUsYyk9PT0hMXx8KGkuYWN0aXZlPXI/ITE6dGhpcy50YWJzLmluZGV4KG8pLHRoaXMuYWN0aXZlPWE/dCgpOm8sdGhpcy54aHImJnRoaXMueGhyLmFib3J0KCksbC5sZW5ndGh8fGgubGVuZ3RofHx0LmVycm9yKFwialF1ZXJ5IFVJIFRhYnM6IE1pc21hdGNoaW5nIGZyYWdtZW50IGlkZW50aWZpZXIuXCIpLGgubGVuZ3RoJiZ0aGlzLmxvYWQodGhpcy50YWJzLmluZGV4KG8pLGUpLHRoaXMuX3RvZ2dsZShlLGMpKX0sX3RvZ2dsZTpmdW5jdGlvbihlLGkpe2Z1bmN0aW9uIHMoKXtvLnJ1bm5pbmc9ITEsby5fdHJpZ2dlcihcImFjdGl2YXRlXCIsZSxpKX1mdW5jdGlvbiBuKCl7by5fYWRkQ2xhc3MoaS5uZXdUYWIuY2xvc2VzdChcImxpXCIpLFwidWktdGFicy1hY3RpdmVcIixcInVpLXN0YXRlLWFjdGl2ZVwiKSxhLmxlbmd0aCYmby5vcHRpb25zLnNob3c/by5fc2hvdyhhLG8ub3B0aW9ucy5zaG93LHMpOihhLnNob3coKSxzKCkpfXZhciBvPXRoaXMsYT1pLm5ld1BhbmVsLHI9aS5vbGRQYW5lbDt0aGlzLnJ1bm5pbmc9ITAsci5sZW5ndGgmJnRoaXMub3B0aW9ucy5oaWRlP3RoaXMuX2hpZGUocix0aGlzLm9wdGlvbnMuaGlkZSxmdW5jdGlvbigpe28uX3JlbW92ZUNsYXNzKGkub2xkVGFiLmNsb3Nlc3QoXCJsaVwiKSxcInVpLXRhYnMtYWN0aXZlXCIsXCJ1aS1zdGF0ZS1hY3RpdmVcIiksbigpfSk6KHRoaXMuX3JlbW92ZUNsYXNzKGkub2xkVGFiLmNsb3Nlc3QoXCJsaVwiKSxcInVpLXRhYnMtYWN0aXZlXCIsXCJ1aS1zdGF0ZS1hY3RpdmVcIiksci5oaWRlKCksbigpKSxyLmF0dHIoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSxpLm9sZFRhYi5hdHRyKHtcImFyaWEtc2VsZWN0ZWRcIjpcImZhbHNlXCIsXCJhcmlhLWV4cGFuZGVkXCI6XCJmYWxzZVwifSksYS5sZW5ndGgmJnIubGVuZ3RoP2kub2xkVGFiLmF0dHIoXCJ0YWJJbmRleFwiLC0xKTphLmxlbmd0aCYmdGhpcy50YWJzLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiAwPT09dCh0aGlzKS5hdHRyKFwidGFiSW5kZXhcIil9KS5hdHRyKFwidGFiSW5kZXhcIiwtMSksYS5hdHRyKFwiYXJpYS1oaWRkZW5cIixcImZhbHNlXCIpLGkubmV3VGFiLmF0dHIoe1wiYXJpYS1zZWxlY3RlZFwiOlwidHJ1ZVwiLFwiYXJpYS1leHBhbmRlZFwiOlwidHJ1ZVwiLHRhYkluZGV4OjB9KX0sX2FjdGl2YXRlOmZ1bmN0aW9uKGUpe3ZhciBpLHM9dGhpcy5fZmluZEFjdGl2ZShlKTtzWzBdIT09dGhpcy5hY3RpdmVbMF0mJihzLmxlbmd0aHx8KHM9dGhpcy5hY3RpdmUpLGk9cy5maW5kKFwiLnVpLXRhYnMtYW5jaG9yXCIpWzBdLHRoaXMuX2V2ZW50SGFuZGxlcih7dGFyZ2V0OmksY3VycmVudFRhcmdldDppLHByZXZlbnREZWZhdWx0OnQubm9vcH0pKX0sX2ZpbmRBY3RpdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT0hMT90KCk6dGhpcy50YWJzLmVxKGUpfSxfZ2V0SW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXRoaXMuYW5jaG9ycy5pbmRleCh0aGlzLmFuY2hvcnMuZmlsdGVyKFwiW2hyZWYkPSdcIit0LnVpLmVzY2FwZVNlbGVjdG9yKGUpK1wiJ11cIikpKSxlfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpLHRoaXMudGFibGlzdC5yZW1vdmVBdHRyKFwicm9sZVwiKS5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSksdGhpcy5hbmNob3JzLnJlbW92ZUF0dHIoXCJyb2xlIHRhYkluZGV4XCIpLnJlbW92ZVVuaXF1ZUlkKCksdGhpcy50YWJzLmFkZCh0aGlzLnBhbmVscykuZWFjaChmdW5jdGlvbigpe3QuZGF0YSh0aGlzLFwidWktdGFicy1kZXN0cm95XCIpP3QodGhpcykucmVtb3ZlKCk6dCh0aGlzKS5yZW1vdmVBdHRyKFwicm9sZSB0YWJJbmRleCBhcmlhLWxpdmUgYXJpYS1idXN5IGFyaWEtc2VsZWN0ZWQgYXJpYS1sYWJlbGxlZGJ5IGFyaWEtaGlkZGVuIGFyaWEtZXhwYW5kZWRcIil9KSx0aGlzLnRhYnMuZWFjaChmdW5jdGlvbigpe3ZhciBlPXQodGhpcyksaT1lLmRhdGEoXCJ1aS10YWJzLWFyaWEtY29udHJvbHNcIik7aT9lLmF0dHIoXCJhcmlhLWNvbnRyb2xzXCIsaSkucmVtb3ZlRGF0YShcInVpLXRhYnMtYXJpYS1jb250cm9sc1wiKTplLnJlbW92ZUF0dHIoXCJhcmlhLWNvbnRyb2xzXCIpfSksdGhpcy5wYW5lbHMuc2hvdygpLFwiY29udGVudFwiIT09dGhpcy5vcHRpb25zLmhlaWdodFN0eWxlJiZ0aGlzLnBhbmVscy5jc3MoXCJoZWlnaHRcIixcIlwiKX0sZW5hYmxlOmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMub3B0aW9ucy5kaXNhYmxlZDtpIT09ITEmJih2b2lkIDA9PT1lP2k9ITE6KGU9dGhpcy5fZ2V0SW5kZXgoZSksaT10LmlzQXJyYXkoaSk/dC5tYXAoaSxmdW5jdGlvbih0KXtyZXR1cm4gdCE9PWU/dDpudWxsfSk6dC5tYXAodGhpcy50YWJzLGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGkhPT1lP2k6bnVsbH0pKSx0aGlzLl9zZXRPcHRpb25EaXNhYmxlZChpKSl9LGRpc2FibGU6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5vcHRpb25zLmRpc2FibGVkO2lmKGkhPT0hMCl7aWYodm9pZCAwPT09ZSlpPSEwO2Vsc2V7aWYoZT10aGlzLl9nZXRJbmRleChlKSwtMSE9PXQuaW5BcnJheShlLGkpKXJldHVybjtpPXQuaXNBcnJheShpKT90Lm1lcmdlKFtlXSxpKS5zb3J0KCk6W2VdfXRoaXMuX3NldE9wdGlvbkRpc2FibGVkKGkpfX0sbG9hZDpmdW5jdGlvbihlLGkpe2U9dGhpcy5fZ2V0SW5kZXgoZSk7dmFyIHM9dGhpcyxuPXRoaXMudGFicy5lcShlKSxvPW4uZmluZChcIi51aS10YWJzLWFuY2hvclwiKSxhPXRoaXMuX2dldFBhbmVsRm9yVGFiKG4pLHI9e3RhYjpuLHBhbmVsOmF9LGg9ZnVuY3Rpb24odCxlKXtcImFib3J0XCI9PT1lJiZzLnBhbmVscy5zdG9wKCExLCEwKSxzLl9yZW1vdmVDbGFzcyhuLFwidWktdGFicy1sb2FkaW5nXCIpLGEucmVtb3ZlQXR0cihcImFyaWEtYnVzeVwiKSx0PT09cy54aHImJmRlbGV0ZSBzLnhocn07dGhpcy5faXNMb2NhbChvWzBdKXx8KHRoaXMueGhyPXQuYWpheCh0aGlzLl9hamF4U2V0dGluZ3MobyxpLHIpKSx0aGlzLnhociYmXCJjYW5jZWxlZFwiIT09dGhpcy54aHIuc3RhdHVzVGV4dCYmKHRoaXMuX2FkZENsYXNzKG4sXCJ1aS10YWJzLWxvYWRpbmdcIiksYS5hdHRyKFwiYXJpYS1idXN5XCIsXCJ0cnVlXCIpLHRoaXMueGhyLmRvbmUoZnVuY3Rpb24odCxlLG4pe3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmh0bWwodCkscy5fdHJpZ2dlcihcImxvYWRcIixpLHIpLGgobixlKX0sMSl9KS5mYWlsKGZ1bmN0aW9uKHQsZSl7c2V0VGltZW91dChmdW5jdGlvbigpe2godCxlKX0sMSl9KSkpfSxfYWpheFNldHRpbmdzOmZ1bmN0aW9uKGUsaSxzKXt2YXIgbj10aGlzO3JldHVybnt1cmw6ZS5hdHRyKFwiaHJlZlwiKS5yZXBsYWNlKC8jLiokLyxcIlwiKSxiZWZvcmVTZW5kOmZ1bmN0aW9uKGUsbyl7cmV0dXJuIG4uX3RyaWdnZXIoXCJiZWZvcmVMb2FkXCIsaSx0LmV4dGVuZCh7anFYSFI6ZSxhamF4U2V0dGluZ3M6b30scykpfX19LF9nZXRQYW5lbEZvclRhYjpmdW5jdGlvbihlKXt2YXIgaT10KGUpLmF0dHIoXCJhcmlhLWNvbnRyb2xzXCIpO3JldHVybiB0aGlzLmVsZW1lbnQuZmluZCh0aGlzLl9zYW5pdGl6ZVNlbGVjdG9yKFwiI1wiK2kpKX19KSx0LnVpQmFja0NvbXBhdCE9PSExJiZ0LndpZGdldChcInVpLnRhYnNcIix0LnVpLnRhYnMse19wcm9jZXNzVGFiczpmdW5jdGlvbigpe3RoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKSx0aGlzLl9hZGRDbGFzcyh0aGlzLnRhYnMsXCJ1aS10YWJcIil9fSksdC51aS50YWJzLHQud2lkZ2V0KFwidWkudG9vbHRpcFwiLHt2ZXJzaW9uOlwiMS4xMi4xXCIsb3B0aW9uczp7Y2xhc3Nlczp7XCJ1aS10b29sdGlwXCI6XCJ1aS1jb3JuZXItYWxsIHVpLXdpZGdldC1zaGFkb3dcIn0sY29udGVudDpmdW5jdGlvbigpe3ZhciBlPXQodGhpcykuYXR0cihcInRpdGxlXCIpfHxcIlwiO3JldHVybiB0KFwiPGE+XCIpLnRleHQoZSkuaHRtbCgpfSxoaWRlOiEwLGl0ZW1zOlwiW3RpdGxlXTpub3QoW2Rpc2FibGVkXSlcIixwb3NpdGlvbjp7bXk6XCJsZWZ0IHRvcCsxNVwiLGF0OlwibGVmdCBib3R0b21cIixjb2xsaXNpb246XCJmbGlwZml0IGZsaXBcIn0sc2hvdzohMCx0cmFjazohMSxjbG9zZTpudWxsLG9wZW46bnVsbH0sX2FkZERlc2NyaWJlZEJ5OmZ1bmN0aW9uKGUsaSl7dmFyIHM9KGUuYXR0cihcImFyaWEtZGVzY3JpYmVkYnlcIil8fFwiXCIpLnNwbGl0KC9cXHMrLyk7cy5wdXNoKGkpLGUuZGF0YShcInVpLXRvb2x0aXAtaWRcIixpKS5hdHRyKFwiYXJpYS1kZXNjcmliZWRieVwiLHQudHJpbShzLmpvaW4oXCIgXCIpKSl9LF9yZW1vdmVEZXNjcmliZWRCeTpmdW5jdGlvbihlKXt2YXIgaT1lLmRhdGEoXCJ1aS10b29sdGlwLWlkXCIpLHM9KGUuYXR0cihcImFyaWEtZGVzY3JpYmVkYnlcIil8fFwiXCIpLnNwbGl0KC9cXHMrLyksbj10LmluQXJyYXkoaSxzKTstMSE9PW4mJnMuc3BsaWNlKG4sMSksZS5yZW1vdmVEYXRhKFwidWktdG9vbHRpcC1pZFwiKSxzPXQudHJpbShzLmpvaW4oXCIgXCIpKSxzP2UuYXR0cihcImFyaWEtZGVzY3JpYmVkYnlcIixzKTplLnJlbW92ZUF0dHIoXCJhcmlhLWRlc2NyaWJlZGJ5XCIpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fb24oe21vdXNlb3ZlcjpcIm9wZW5cIixmb2N1c2luOlwib3BlblwifSksdGhpcy50b29sdGlwcz17fSx0aGlzLnBhcmVudHM9e30sdGhpcy5saXZlUmVnaW9uPXQoXCI8ZGl2PlwiKS5hdHRyKHtyb2xlOlwibG9nXCIsXCJhcmlhLWxpdmVcIjpcImFzc2VydGl2ZVwiLFwiYXJpYS1yZWxldmFudFwiOlwiYWRkaXRpb25zXCJ9KS5hcHBlbmRUbyh0aGlzLmRvY3VtZW50WzBdLmJvZHkpLHRoaXMuX2FkZENsYXNzKHRoaXMubGl2ZVJlZ2lvbixudWxsLFwidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlXCIpLHRoaXMuZGlzYWJsZWRUaXRsZXM9dChbXSl9LF9zZXRPcHRpb246ZnVuY3Rpb24oZSxpKXt2YXIgcz10aGlzO3RoaXMuX3N1cGVyKGUsaSksXCJjb250ZW50XCI9PT1lJiZ0LmVhY2godGhpcy50b29sdGlwcyxmdW5jdGlvbih0LGUpe3MuX3VwZGF0ZUNvbnRlbnQoZS5lbGVtZW50KX0pfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24odCl7dGhpc1t0P1wiX2Rpc2FibGVcIjpcIl9lbmFibGVcIl0oKX0sX2Rpc2FibGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3QuZWFjaCh0aGlzLnRvb2x0aXBzLGZ1bmN0aW9uKGkscyl7dmFyIG49dC5FdmVudChcImJsdXJcIik7bi50YXJnZXQ9bi5jdXJyZW50VGFyZ2V0PXMuZWxlbWVudFswXSxlLmNsb3NlKG4sITApfSksdGhpcy5kaXNhYmxlZFRpdGxlcz10aGlzLmRpc2FibGVkVGl0bGVzLmFkZCh0aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmFkZEJhY2soKS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgZT10KHRoaXMpO3JldHVybiBlLmlzKFwiW3RpdGxlXVwiKT9lLmRhdGEoXCJ1aS10b29sdGlwLXRpdGxlXCIsZS5hdHRyKFwidGl0bGVcIikpLnJlbW92ZUF0dHIoXCJ0aXRsZVwiKTp2b2lkIDB9KSl9LF9lbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkVGl0bGVzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT10KHRoaXMpO2UuZGF0YShcInVpLXRvb2x0aXAtdGl0bGVcIikmJmUuYXR0cihcInRpdGxlXCIsZS5kYXRhKFwidWktdG9vbHRpcC10aXRsZVwiKSl9KSx0aGlzLmRpc2FibGVkVGl0bGVzPXQoW10pfSxvcGVuOmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMscz10KGU/ZS50YXJnZXQ6dGhpcy5lbGVtZW50KS5jbG9zZXN0KHRoaXMub3B0aW9ucy5pdGVtcyk7cy5sZW5ndGgmJiFzLmRhdGEoXCJ1aS10b29sdGlwLWlkXCIpJiYocy5hdHRyKFwidGl0bGVcIikmJnMuZGF0YShcInVpLXRvb2x0aXAtdGl0bGVcIixzLmF0dHIoXCJ0aXRsZVwiKSkscy5kYXRhKFwidWktdG9vbHRpcC1vcGVuXCIsITApLGUmJlwibW91c2VvdmVyXCI9PT1lLnR5cGUmJnMucGFyZW50cygpLmVhY2goZnVuY3Rpb24oKXt2YXIgZSxzPXQodGhpcyk7cy5kYXRhKFwidWktdG9vbHRpcC1vcGVuXCIpJiYoZT10LkV2ZW50KFwiYmx1clwiKSxlLnRhcmdldD1lLmN1cnJlbnRUYXJnZXQ9dGhpcyxpLmNsb3NlKGUsITApKSxzLmF0dHIoXCJ0aXRsZVwiKSYmKHMudW5pcXVlSWQoKSxpLnBhcmVudHNbdGhpcy5pZF09e2VsZW1lbnQ6dGhpcyx0aXRsZTpzLmF0dHIoXCJ0aXRsZVwiKX0scy5hdHRyKFwidGl0bGVcIixcIlwiKSl9KSx0aGlzLl9yZWdpc3RlckNsb3NlSGFuZGxlcnMoZSxzKSx0aGlzLl91cGRhdGVDb250ZW50KHMsZSkpfSxfdXBkYXRlQ29udGVudDpmdW5jdGlvbih0LGUpe3ZhciBpLHM9dGhpcy5vcHRpb25zLmNvbnRlbnQsbj10aGlzLG89ZT9lLnR5cGU6bnVsbDtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2Ygc3x8cy5ub2RlVHlwZXx8cy5qcXVlcnk/dGhpcy5fb3BlbihlLHQscyk6KGk9cy5jYWxsKHRbMF0sZnVuY3Rpb24oaSl7bi5fZGVsYXkoZnVuY3Rpb24oKXt0LmRhdGEoXCJ1aS10b29sdGlwLW9wZW5cIikmJihlJiYoZS50eXBlPW8pLHRoaXMuX29wZW4oZSx0LGkpKX0pfSksaSYmdGhpcy5fb3BlbihlLHQsaSksdm9pZCAwKX0sX29wZW46ZnVuY3Rpb24oZSxpLHMpe2Z1bmN0aW9uIG4odCl7bC5vZj10LGEuaXMoXCI6aGlkZGVuXCIpfHxhLnBvc2l0aW9uKGwpfXZhciBvLGEscixoLGw9dC5leHRlbmQoe30sdGhpcy5vcHRpb25zLnBvc2l0aW9uKTtpZihzKXtpZihvPXRoaXMuX2ZpbmQoaSkpcmV0dXJuIG8udG9vbHRpcC5maW5kKFwiLnVpLXRvb2x0aXAtY29udGVudFwiKS5odG1sKHMpLHZvaWQgMDtpLmlzKFwiW3RpdGxlXVwiKSYmKGUmJlwibW91c2VvdmVyXCI9PT1lLnR5cGU/aS5hdHRyKFwidGl0bGVcIixcIlwiKTppLnJlbW92ZUF0dHIoXCJ0aXRsZVwiKSksbz10aGlzLl90b29sdGlwKGkpLGE9by50b29sdGlwLHRoaXMuX2FkZERlc2NyaWJlZEJ5KGksYS5hdHRyKFwiaWRcIikpLGEuZmluZChcIi51aS10b29sdGlwLWNvbnRlbnRcIikuaHRtbChzKSx0aGlzLmxpdmVSZWdpb24uY2hpbGRyZW4oKS5oaWRlKCksaD10KFwiPGRpdj5cIikuaHRtbChhLmZpbmQoXCIudWktdG9vbHRpcC1jb250ZW50XCIpLmh0bWwoKSksaC5yZW1vdmVBdHRyKFwibmFtZVwiKS5maW5kKFwiW25hbWVdXCIpLnJlbW92ZUF0dHIoXCJuYW1lXCIpLGgucmVtb3ZlQXR0cihcImlkXCIpLmZpbmQoXCJbaWRdXCIpLnJlbW92ZUF0dHIoXCJpZFwiKSxoLmFwcGVuZFRvKHRoaXMubGl2ZVJlZ2lvbiksdGhpcy5vcHRpb25zLnRyYWNrJiZlJiYvXm1vdXNlLy50ZXN0KGUudHlwZSk/KHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse21vdXNlbW92ZTpufSksbihlKSk6YS5wb3NpdGlvbih0LmV4dGVuZCh7b2Y6aX0sdGhpcy5vcHRpb25zLnBvc2l0aW9uKSksYS5oaWRlKCksdGhpcy5fc2hvdyhhLHRoaXMub3B0aW9ucy5zaG93KSx0aGlzLm9wdGlvbnMudHJhY2smJnRoaXMub3B0aW9ucy5zaG93JiZ0aGlzLm9wdGlvbnMuc2hvdy5kZWxheSYmKHI9dGhpcy5kZWxheWVkU2hvdz1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2EuaXMoXCI6dmlzaWJsZVwiKSYmKG4obC5vZiksY2xlYXJJbnRlcnZhbChyKSl9LHQuZnguaW50ZXJ2YWwpKSx0aGlzLl90cmlnZ2VyKFwib3BlblwiLGUse3Rvb2x0aXA6YX0pfX0sX3JlZ2lzdGVyQ2xvc2VIYW5kbGVyczpmdW5jdGlvbihlLGkpe3ZhciBzPXtrZXl1cDpmdW5jdGlvbihlKXtpZihlLmtleUNvZGU9PT10LnVpLmtleUNvZGUuRVNDQVBFKXt2YXIgcz10LkV2ZW50KGUpO3MuY3VycmVudFRhcmdldD1pWzBdLHRoaXMuY2xvc2UocywhMCl9fX07aVswXSE9PXRoaXMuZWxlbWVudFswXSYmKHMucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlVG9vbHRpcCh0aGlzLl9maW5kKGkpLnRvb2x0aXApfSksZSYmXCJtb3VzZW92ZXJcIiE9PWUudHlwZXx8KHMubW91c2VsZWF2ZT1cImNsb3NlXCIpLGUmJlwiZm9jdXNpblwiIT09ZS50eXBlfHwocy5mb2N1c291dD1cImNsb3NlXCIpLHRoaXMuX29uKCEwLGkscyl9LGNsb3NlOmZ1bmN0aW9uKGUpe3ZhciBpLHM9dGhpcyxuPXQoZT9lLmN1cnJlbnRUYXJnZXQ6dGhpcy5lbGVtZW50KSxvPXRoaXMuX2ZpbmQobik7cmV0dXJuIG8/KGk9by50b29sdGlwLG8uY2xvc2luZ3x8KGNsZWFySW50ZXJ2YWwodGhpcy5kZWxheWVkU2hvdyksbi5kYXRhKFwidWktdG9vbHRpcC10aXRsZVwiKSYmIW4uYXR0cihcInRpdGxlXCIpJiZuLmF0dHIoXCJ0aXRsZVwiLG4uZGF0YShcInVpLXRvb2x0aXAtdGl0bGVcIikpLHRoaXMuX3JlbW92ZURlc2NyaWJlZEJ5KG4pLG8uaGlkaW5nPSEwLGkuc3RvcCghMCksdGhpcy5faGlkZShpLHRoaXMub3B0aW9ucy5oaWRlLGZ1bmN0aW9uKCl7cy5fcmVtb3ZlVG9vbHRpcCh0KHRoaXMpKX0pLG4ucmVtb3ZlRGF0YShcInVpLXRvb2x0aXAtb3BlblwiKSx0aGlzLl9vZmYobixcIm1vdXNlbGVhdmUgZm9jdXNvdXQga2V5dXBcIiksblswXSE9PXRoaXMuZWxlbWVudFswXSYmdGhpcy5fb2ZmKG4sXCJyZW1vdmVcIiksdGhpcy5fb2ZmKHRoaXMuZG9jdW1lbnQsXCJtb3VzZW1vdmVcIiksZSYmXCJtb3VzZWxlYXZlXCI9PT1lLnR5cGUmJnQuZWFjaCh0aGlzLnBhcmVudHMsZnVuY3Rpb24oZSxpKXt0KGkuZWxlbWVudCkuYXR0cihcInRpdGxlXCIsaS50aXRsZSksZGVsZXRlIHMucGFyZW50c1tlXVxyXG59KSxvLmNsb3Npbmc9ITAsdGhpcy5fdHJpZ2dlcihcImNsb3NlXCIsZSx7dG9vbHRpcDppfSksby5oaWRpbmd8fChvLmNsb3Npbmc9ITEpKSx2b2lkIDApOihuLnJlbW92ZURhdGEoXCJ1aS10b29sdGlwLW9wZW5cIiksdm9pZCAwKX0sX3Rvb2x0aXA6ZnVuY3Rpb24oZSl7dmFyIGk9dChcIjxkaXY+XCIpLmF0dHIoXCJyb2xlXCIsXCJ0b29sdGlwXCIpLHM9dChcIjxkaXY+XCIpLmFwcGVuZFRvKGkpLG49aS51bmlxdWVJZCgpLmF0dHIoXCJpZFwiKTtyZXR1cm4gdGhpcy5fYWRkQ2xhc3MocyxcInVpLXRvb2x0aXAtY29udGVudFwiKSx0aGlzLl9hZGRDbGFzcyhpLFwidWktdG9vbHRpcFwiLFwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50XCIpLGkuYXBwZW5kVG8odGhpcy5fYXBwZW5kVG8oZSkpLHRoaXMudG9vbHRpcHNbbl09e2VsZW1lbnQ6ZSx0b29sdGlwOml9fSxfZmluZDpmdW5jdGlvbih0KXt2YXIgZT10LmRhdGEoXCJ1aS10b29sdGlwLWlkXCIpO3JldHVybiBlP3RoaXMudG9vbHRpcHNbZV06bnVsbH0sX3JlbW92ZVRvb2x0aXA6ZnVuY3Rpb24odCl7dC5yZW1vdmUoKSxkZWxldGUgdGhpcy50b29sdGlwc1t0LmF0dHIoXCJpZFwiKV19LF9hcHBlbmRUbzpmdW5jdGlvbih0KXt2YXIgZT10LmNsb3Nlc3QoXCIudWktZnJvbnQsIGRpYWxvZ1wiKTtyZXR1cm4gZS5sZW5ndGh8fChlPXRoaXMuZG9jdW1lbnRbMF0uYm9keSksZX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3QuZWFjaCh0aGlzLnRvb2x0aXBzLGZ1bmN0aW9uKGkscyl7dmFyIG49dC5FdmVudChcImJsdXJcIiksbz1zLmVsZW1lbnQ7bi50YXJnZXQ9bi5jdXJyZW50VGFyZ2V0PW9bMF0sZS5jbG9zZShuLCEwKSx0KFwiI1wiK2kpLnJlbW92ZSgpLG8uZGF0YShcInVpLXRvb2x0aXAtdGl0bGVcIikmJihvLmF0dHIoXCJ0aXRsZVwiKXx8by5hdHRyKFwidGl0bGVcIixvLmRhdGEoXCJ1aS10b29sdGlwLXRpdGxlXCIpKSxvLnJlbW92ZURhdGEoXCJ1aS10b29sdGlwLXRpdGxlXCIpKX0pLHRoaXMubGl2ZVJlZ2lvbi5yZW1vdmUoKX19KSx0LnVpQmFja0NvbXBhdCE9PSExJiZ0LndpZGdldChcInVpLnRvb2x0aXBcIix0LnVpLnRvb2x0aXAse29wdGlvbnM6e3Rvb2x0aXBDbGFzczpudWxsfSxfdG9vbHRpcDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5vcHRpb25zLnRvb2x0aXBDbGFzcyYmdC50b29sdGlwLmFkZENsYXNzKHRoaXMub3B0aW9ucy50b29sdGlwQ2xhc3MpLHR9fSksdC51aS50b29sdGlwO3ZhciBmPVwidWktZWZmZWN0cy1cIixnPVwidWktZWZmZWN0cy1zdHlsZVwiLG09XCJ1aS1lZmZlY3RzLWFuaW1hdGVkXCIsXz10O3QuZWZmZWN0cz17ZWZmZWN0Ont9fSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCxlLGkpe3ZhciBzPXVbZS50eXBlXXx8e307cmV0dXJuIG51bGw9PXQ/aXx8IWUuZGVmP251bGw6ZS5kZWY6KHQ9cy5mbG9vcj9+fnQ6cGFyc2VGbG9hdCh0KSxpc05hTih0KT9lLmRlZjpzLm1vZD8odCtzLm1vZCklcy5tb2Q6MD50PzA6dD5zLm1heD9zLm1heDp0KX1mdW5jdGlvbiBzKGkpe3ZhciBzPWwoKSxuPXMuX3JnYmE9W107cmV0dXJuIGk9aS50b0xvd2VyQ2FzZSgpLGYoaCxmdW5jdGlvbih0LG8pe3ZhciBhLHI9by5yZS5leGVjKGkpLGg9ciYmby5wYXJzZShyKSxsPW8uc3BhY2V8fFwicmdiYVwiO3JldHVybiBoPyhhPXNbbF0oaCksc1tjW2xdLmNhY2hlXT1hW2NbbF0uY2FjaGVdLG49cy5fcmdiYT1hLl9yZ2JhLCExKTplfSksbi5sZW5ndGg/KFwiMCwwLDAsMFwiPT09bi5qb2luKCkmJnQuZXh0ZW5kKG4sby50cmFuc3BhcmVudCkscyk6b1tpXX1mdW5jdGlvbiBuKHQsZSxpKXtyZXR1cm4gaT0oaSsxKSUxLDE+NippP3QrNiooZS10KSppOjE+MippP2U6Mj4zKmk/dCs2KihlLXQpKigyLzMtaSk6dH12YXIgbyxhPVwiYmFja2dyb3VuZENvbG9yIGJvcmRlckJvdHRvbUNvbG9yIGJvcmRlckxlZnRDb2xvciBib3JkZXJSaWdodENvbG9yIGJvcmRlclRvcENvbG9yIGNvbG9yIGNvbHVtblJ1bGVDb2xvciBvdXRsaW5lQ29sb3IgdGV4dERlY29yYXRpb25Db2xvciB0ZXh0RW1waGFzaXNDb2xvclwiLHI9L14oW1xcLStdKT1cXHMqKFxcZCtcXC4/XFxkKikvLGg9W3tyZTovcmdiYT9cXChcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqLFxccyooXFxkezEsM30pXFxzKig/OixcXHMqKFxcZD8oPzpcXC5cXGQrKT8pXFxzKik/XFwpLyxwYXJzZTpmdW5jdGlvbih0KXtyZXR1cm5bdFsxXSx0WzJdLHRbM10sdFs0XV19fSx7cmU6L3JnYmE/XFwoXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyooPzosXFxzKihcXGQ/KD86XFwuXFxkKyk/KVxccyopP1xcKS8scGFyc2U6ZnVuY3Rpb24odCl7cmV0dXJuWzIuNTUqdFsxXSwyLjU1KnRbMl0sMi41NSp0WzNdLHRbNF1dfX0se3JlOi8jKFthLWYwLTldezJ9KShbYS1mMC05XXsyfSkoW2EtZjAtOV17Mn0pLyxwYXJzZTpmdW5jdGlvbih0KXtyZXR1cm5bcGFyc2VJbnQodFsxXSwxNikscGFyc2VJbnQodFsyXSwxNikscGFyc2VJbnQodFszXSwxNildfX0se3JlOi8jKFthLWYwLTldKShbYS1mMC05XSkoW2EtZjAtOV0pLyxwYXJzZTpmdW5jdGlvbih0KXtyZXR1cm5bcGFyc2VJbnQodFsxXSt0WzFdLDE2KSxwYXJzZUludCh0WzJdK3RbMl0sMTYpLHBhcnNlSW50KHRbM10rdFszXSwxNildfX0se3JlOi9oc2xhP1xcKFxccyooXFxkKyg/OlxcLlxcZCspPylcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqKD86LFxccyooXFxkPyg/OlxcLlxcZCspPylcXHMqKT9cXCkvLHNwYWNlOlwiaHNsYVwiLHBhcnNlOmZ1bmN0aW9uKHQpe3JldHVyblt0WzFdLHRbMl0vMTAwLHRbM10vMTAwLHRbNF1dfX1dLGw9dC5Db2xvcj1mdW5jdGlvbihlLGkscyxuKXtyZXR1cm4gbmV3IHQuQ29sb3IuZm4ucGFyc2UoZSxpLHMsbil9LGM9e3JnYmE6e3Byb3BzOntyZWQ6e2lkeDowLHR5cGU6XCJieXRlXCJ9LGdyZWVuOntpZHg6MSx0eXBlOlwiYnl0ZVwifSxibHVlOntpZHg6Mix0eXBlOlwiYnl0ZVwifX19LGhzbGE6e3Byb3BzOntodWU6e2lkeDowLHR5cGU6XCJkZWdyZWVzXCJ9LHNhdHVyYXRpb246e2lkeDoxLHR5cGU6XCJwZXJjZW50XCJ9LGxpZ2h0bmVzczp7aWR4OjIsdHlwZTpcInBlcmNlbnRcIn19fX0sdT17XCJieXRlXCI6e2Zsb29yOiEwLG1heDoyNTV9LHBlcmNlbnQ6e21heDoxfSxkZWdyZWVzOnttb2Q6MzYwLGZsb29yOiEwfX0sZD1sLnN1cHBvcnQ9e30scD10KFwiPHA+XCIpWzBdLGY9dC5lYWNoO3Auc3R5bGUuY3NzVGV4dD1cImJhY2tncm91bmQtY29sb3I6cmdiYSgxLDEsMSwuNSlcIixkLnJnYmE9cC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IuaW5kZXhPZihcInJnYmFcIik+LTEsZihjLGZ1bmN0aW9uKHQsZSl7ZS5jYWNoZT1cIl9cIit0LGUucHJvcHMuYWxwaGE9e2lkeDozLHR5cGU6XCJwZXJjZW50XCIsZGVmOjF9fSksbC5mbj10LmV4dGVuZChsLnByb3RvdHlwZSx7cGFyc2U6ZnVuY3Rpb24obixhLHIsaCl7aWYobj09PWUpcmV0dXJuIHRoaXMuX3JnYmE9W251bGwsbnVsbCxudWxsLG51bGxdLHRoaXM7KG4uanF1ZXJ5fHxuLm5vZGVUeXBlKSYmKG49dChuKS5jc3MoYSksYT1lKTt2YXIgdT10aGlzLGQ9dC50eXBlKG4pLHA9dGhpcy5fcmdiYT1bXTtyZXR1cm4gYSE9PWUmJihuPVtuLGEscixoXSxkPVwiYXJyYXlcIiksXCJzdHJpbmdcIj09PWQ/dGhpcy5wYXJzZShzKG4pfHxvLl9kZWZhdWx0KTpcImFycmF5XCI9PT1kPyhmKGMucmdiYS5wcm9wcyxmdW5jdGlvbih0LGUpe3BbZS5pZHhdPWkobltlLmlkeF0sZSl9KSx0aGlzKTpcIm9iamVjdFwiPT09ZD8obiBpbnN0YW5jZW9mIGw/ZihjLGZ1bmN0aW9uKHQsZSl7bltlLmNhY2hlXSYmKHVbZS5jYWNoZV09bltlLmNhY2hlXS5zbGljZSgpKX0pOmYoYyxmdW5jdGlvbihlLHMpe3ZhciBvPXMuY2FjaGU7ZihzLnByb3BzLGZ1bmN0aW9uKHQsZSl7aWYoIXVbb10mJnMudG8pe2lmKFwiYWxwaGFcIj09PXR8fG51bGw9PW5bdF0pcmV0dXJuO3Vbb109cy50byh1Ll9yZ2JhKX11W29dW2UuaWR4XT1pKG5bdF0sZSwhMCl9KSx1W29dJiYwPnQuaW5BcnJheShudWxsLHVbb10uc2xpY2UoMCwzKSkmJih1W29dWzNdPTEscy5mcm9tJiYodS5fcmdiYT1zLmZyb20odVtvXSkpKX0pLHRoaXMpOmV9LGlzOmZ1bmN0aW9uKHQpe3ZhciBpPWwodCkscz0hMCxuPXRoaXM7cmV0dXJuIGYoYyxmdW5jdGlvbih0LG8pe3ZhciBhLHI9aVtvLmNhY2hlXTtyZXR1cm4gciYmKGE9bltvLmNhY2hlXXx8by50byYmby50byhuLl9yZ2JhKXx8W10sZihvLnByb3BzLGZ1bmN0aW9uKHQsaSl7cmV0dXJuIG51bGwhPXJbaS5pZHhdP3M9cltpLmlkeF09PT1hW2kuaWR4XTplfSkpLHN9KSxzfSxfc3BhY2U6ZnVuY3Rpb24oKXt2YXIgdD1bXSxlPXRoaXM7cmV0dXJuIGYoYyxmdW5jdGlvbihpLHMpe2Vbcy5jYWNoZV0mJnQucHVzaChpKX0pLHQucG9wKCl9LHRyYW5zaXRpb246ZnVuY3Rpb24odCxlKXt2YXIgcz1sKHQpLG49cy5fc3BhY2UoKSxvPWNbbl0sYT0wPT09dGhpcy5hbHBoYSgpP2woXCJ0cmFuc3BhcmVudFwiKTp0aGlzLHI9YVtvLmNhY2hlXXx8by50byhhLl9yZ2JhKSxoPXIuc2xpY2UoKTtyZXR1cm4gcz1zW28uY2FjaGVdLGYoby5wcm9wcyxmdW5jdGlvbih0LG4pe3ZhciBvPW4uaWR4LGE9cltvXSxsPXNbb10sYz11W24udHlwZV18fHt9O251bGwhPT1sJiYobnVsbD09PWE/aFtvXT1sOihjLm1vZCYmKGwtYT5jLm1vZC8yP2ErPWMubW9kOmEtbD5jLm1vZC8yJiYoYS09Yy5tb2QpKSxoW29dPWkoKGwtYSkqZSthLG4pKSl9KSx0aGlzW25dKGgpfSxibGVuZDpmdW5jdGlvbihlKXtpZigxPT09dGhpcy5fcmdiYVszXSlyZXR1cm4gdGhpczt2YXIgaT10aGlzLl9yZ2JhLnNsaWNlKCkscz1pLnBvcCgpLG49bChlKS5fcmdiYTtyZXR1cm4gbCh0Lm1hcChpLGZ1bmN0aW9uKHQsZSl7cmV0dXJuKDEtcykqbltlXStzKnR9KSl9LHRvUmdiYVN0cmluZzpmdW5jdGlvbigpe3ZhciBlPVwicmdiYShcIixpPXQubWFwKHRoaXMuX3JnYmEsZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09dD9lPjI/MTowOnR9KTtyZXR1cm4gMT09PWlbM10mJihpLnBvcCgpLGU9XCJyZ2IoXCIpLGUraS5qb2luKCkrXCIpXCJ9LHRvSHNsYVN0cmluZzpmdW5jdGlvbigpe3ZhciBlPVwiaHNsYShcIixpPXQubWFwKHRoaXMuaHNsYSgpLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PXQmJih0PWU+Mj8xOjApLGUmJjM+ZSYmKHQ9TWF0aC5yb3VuZCgxMDAqdCkrXCIlXCIpLHR9KTtyZXR1cm4gMT09PWlbM10mJihpLnBvcCgpLGU9XCJoc2woXCIpLGUraS5qb2luKCkrXCIpXCJ9LHRvSGV4U3RyaW5nOmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuX3JnYmEuc2xpY2UoKSxzPWkucG9wKCk7cmV0dXJuIGUmJmkucHVzaCh+figyNTUqcykpLFwiI1wiK3QubWFwKGksZnVuY3Rpb24odCl7cmV0dXJuIHQ9KHR8fDApLnRvU3RyaW5nKDE2KSwxPT09dC5sZW5ndGg/XCIwXCIrdDp0fSkuam9pbihcIlwiKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuX3JnYmFbM10/XCJ0cmFuc3BhcmVudFwiOnRoaXMudG9SZ2JhU3RyaW5nKCl9fSksbC5mbi5wYXJzZS5wcm90b3R5cGU9bC5mbixjLmhzbGEudG89ZnVuY3Rpb24odCl7aWYobnVsbD09dFswXXx8bnVsbD09dFsxXXx8bnVsbD09dFsyXSlyZXR1cm5bbnVsbCxudWxsLG51bGwsdFszXV07dmFyIGUsaSxzPXRbMF0vMjU1LG49dFsxXS8yNTUsbz10WzJdLzI1NSxhPXRbM10scj1NYXRoLm1heChzLG4sbyksaD1NYXRoLm1pbihzLG4sbyksbD1yLWgsYz1yK2gsdT0uNSpjO3JldHVybiBlPWg9PT1yPzA6cz09PXI/NjAqKG4tbykvbCszNjA6bj09PXI/NjAqKG8tcykvbCsxMjA6NjAqKHMtbikvbCsyNDAsaT0wPT09bD8wOi41Pj11P2wvYzpsLygyLWMpLFtNYXRoLnJvdW5kKGUpJTM2MCxpLHUsbnVsbD09YT8xOmFdfSxjLmhzbGEuZnJvbT1mdW5jdGlvbih0KXtpZihudWxsPT10WzBdfHxudWxsPT10WzFdfHxudWxsPT10WzJdKXJldHVybltudWxsLG51bGwsbnVsbCx0WzNdXTt2YXIgZT10WzBdLzM2MCxpPXRbMV0scz10WzJdLG89dFszXSxhPS41Pj1zP3MqKDEraSk6cytpLXMqaSxyPTIqcy1hO3JldHVybltNYXRoLnJvdW5kKDI1NSpuKHIsYSxlKzEvMykpLE1hdGgucm91bmQoMjU1Km4ocixhLGUpKSxNYXRoLnJvdW5kKDI1NSpuKHIsYSxlLTEvMykpLG9dfSxmKGMsZnVuY3Rpb24ocyxuKXt2YXIgbz1uLnByb3BzLGE9bi5jYWNoZSxoPW4udG8sYz1uLmZyb207bC5mbltzXT1mdW5jdGlvbihzKXtpZihoJiYhdGhpc1thXSYmKHRoaXNbYV09aCh0aGlzLl9yZ2JhKSkscz09PWUpcmV0dXJuIHRoaXNbYV0uc2xpY2UoKTt2YXIgbixyPXQudHlwZShzKSx1PVwiYXJyYXlcIj09PXJ8fFwib2JqZWN0XCI9PT1yP3M6YXJndW1lbnRzLGQ9dGhpc1thXS5zbGljZSgpO3JldHVybiBmKG8sZnVuY3Rpb24odCxlKXt2YXIgcz11W1wib2JqZWN0XCI9PT1yP3Q6ZS5pZHhdO251bGw9PXMmJihzPWRbZS5pZHhdKSxkW2UuaWR4XT1pKHMsZSl9KSxjPyhuPWwoYyhkKSksblthXT1kLG4pOmwoZCl9LGYobyxmdW5jdGlvbihlLGkpe2wuZm5bZV18fChsLmZuW2VdPWZ1bmN0aW9uKG4pe3ZhciBvLGE9dC50eXBlKG4pLGg9XCJhbHBoYVwiPT09ZT90aGlzLl9oc2xhP1wiaHNsYVwiOlwicmdiYVwiOnMsbD10aGlzW2hdKCksYz1sW2kuaWR4XTtyZXR1cm5cInVuZGVmaW5lZFwiPT09YT9jOihcImZ1bmN0aW9uXCI9PT1hJiYobj1uLmNhbGwodGhpcyxjKSxhPXQudHlwZShuKSksbnVsbD09biYmaS5lbXB0eT90aGlzOihcInN0cmluZ1wiPT09YSYmKG89ci5leGVjKG4pLG8mJihuPWMrcGFyc2VGbG9hdChvWzJdKSooXCIrXCI9PT1vWzFdPzE6LTEpKSksbFtpLmlkeF09bix0aGlzW2hdKGwpKSl9KX0pfSksbC5ob29rPWZ1bmN0aW9uKGUpe3ZhciBpPWUuc3BsaXQoXCIgXCIpO2YoaSxmdW5jdGlvbihlLGkpe3QuY3NzSG9va3NbaV09e3NldDpmdW5jdGlvbihlLG4pe3ZhciBvLGEscj1cIlwiO2lmKFwidHJhbnNwYXJlbnRcIiE9PW4mJihcInN0cmluZ1wiIT09dC50eXBlKG4pfHwobz1zKG4pKSkpe2lmKG49bChvfHxuKSwhZC5yZ2JhJiYxIT09bi5fcmdiYVszXSl7Zm9yKGE9XCJiYWNrZ3JvdW5kQ29sb3JcIj09PWk/ZS5wYXJlbnROb2RlOmU7KFwiXCI9PT1yfHxcInRyYW5zcGFyZW50XCI9PT1yKSYmYSYmYS5zdHlsZTspdHJ5e3I9dC5jc3MoYSxcImJhY2tncm91bmRDb2xvclwiKSxhPWEucGFyZW50Tm9kZX1jYXRjaChoKXt9bj1uLmJsZW5kKHImJlwidHJhbnNwYXJlbnRcIiE9PXI/cjpcIl9kZWZhdWx0XCIpfW49bi50b1JnYmFTdHJpbmcoKX10cnl7ZS5zdHlsZVtpXT1ufWNhdGNoKGgpe319fSx0LmZ4LnN0ZXBbaV09ZnVuY3Rpb24oZSl7ZS5jb2xvckluaXR8fChlLnN0YXJ0PWwoZS5lbGVtLGkpLGUuZW5kPWwoZS5lbmQpLGUuY29sb3JJbml0PSEwKSx0LmNzc0hvb2tzW2ldLnNldChlLmVsZW0sZS5zdGFydC50cmFuc2l0aW9uKGUuZW5kLGUucG9zKSl9fSl9LGwuaG9vayhhKSx0LmNzc0hvb2tzLmJvcmRlckNvbG9yPXtleHBhbmQ6ZnVuY3Rpb24odCl7dmFyIGU9e307cmV0dXJuIGYoW1wiVG9wXCIsXCJSaWdodFwiLFwiQm90dG9tXCIsXCJMZWZ0XCJdLGZ1bmN0aW9uKGkscyl7ZVtcImJvcmRlclwiK3MrXCJDb2xvclwiXT10fSksZX19LG89dC5Db2xvci5uYW1lcz17YXF1YTpcIiMwMGZmZmZcIixibGFjazpcIiMwMDAwMDBcIixibHVlOlwiIzAwMDBmZlwiLGZ1Y2hzaWE6XCIjZmYwMGZmXCIsZ3JheTpcIiM4MDgwODBcIixncmVlbjpcIiMwMDgwMDBcIixsaW1lOlwiIzAwZmYwMFwiLG1hcm9vbjpcIiM4MDAwMDBcIixuYXZ5OlwiIzAwMDA4MFwiLG9saXZlOlwiIzgwODAwMFwiLHB1cnBsZTpcIiM4MDAwODBcIixyZWQ6XCIjZmYwMDAwXCIsc2lsdmVyOlwiI2MwYzBjMFwiLHRlYWw6XCIjMDA4MDgwXCIsd2hpdGU6XCIjZmZmZmZmXCIseWVsbG93OlwiI2ZmZmYwMFwiLHRyYW5zcGFyZW50OltudWxsLG51bGwsbnVsbCwwXSxfZGVmYXVsdDpcIiNmZmZmZmZcIn19KF8pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt2YXIgaSxzLG49ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3P2Uub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGUsbnVsbCk6ZS5jdXJyZW50U3R5bGUsbz17fTtpZihuJiZuLmxlbmd0aCYmblswXSYmbltuWzBdXSlmb3Iocz1uLmxlbmd0aDtzLS07KWk9bltzXSxcInN0cmluZ1wiPT10eXBlb2YgbltpXSYmKG9bdC5jYW1lbENhc2UoaSldPW5baV0pO2Vsc2UgZm9yKGkgaW4gbilcInN0cmluZ1wiPT10eXBlb2YgbltpXSYmKG9baV09bltpXSk7cmV0dXJuIG99ZnVuY3Rpb24gaShlLGkpe3ZhciBzLG8sYT17fTtmb3IocyBpbiBpKW89aVtzXSxlW3NdIT09byYmKG5bc118fCh0LmZ4LnN0ZXBbc118fCFpc05hTihwYXJzZUZsb2F0KG8pKSkmJihhW3NdPW8pKTtyZXR1cm4gYX12YXIgcz1bXCJhZGRcIixcInJlbW92ZVwiLFwidG9nZ2xlXCJdLG49e2JvcmRlcjoxLGJvcmRlckJvdHRvbToxLGJvcmRlckNvbG9yOjEsYm9yZGVyTGVmdDoxLGJvcmRlclJpZ2h0OjEsYm9yZGVyVG9wOjEsYm9yZGVyV2lkdGg6MSxtYXJnaW46MSxwYWRkaW5nOjF9O3QuZWFjaChbXCJib3JkZXJMZWZ0U3R5bGVcIixcImJvcmRlclJpZ2h0U3R5bGVcIixcImJvcmRlckJvdHRvbVN0eWxlXCIsXCJib3JkZXJUb3BTdHlsZVwiXSxmdW5jdGlvbihlLGkpe3QuZnguc3RlcFtpXT1mdW5jdGlvbih0KXsoXCJub25lXCIhPT10LmVuZCYmIXQuc2V0QXR0cnx8MT09PXQucG9zJiYhdC5zZXRBdHRyKSYmKF8uc3R5bGUodC5lbGVtLGksdC5lbmQpLHQuc2V0QXR0cj0hMCl9fSksdC5mbi5hZGRCYWNrfHwodC5mbi5hZGRCYWNrPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFkZChudWxsPT10P3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKHQpKX0pLHQuZWZmZWN0cy5hbmltYXRlQ2xhc3M9ZnVuY3Rpb24obixvLGEscil7dmFyIGg9dC5zcGVlZChvLGEscik7cmV0dXJuIHRoaXMucXVldWUoZnVuY3Rpb24oKXt2YXIgbyxhPXQodGhpcykscj1hLmF0dHIoXCJjbGFzc1wiKXx8XCJcIixsPWguY2hpbGRyZW4/YS5maW5kKFwiKlwiKS5hZGRCYWNrKCk6YTtsPWwubWFwKGZ1bmN0aW9uKCl7dmFyIGk9dCh0aGlzKTtyZXR1cm57ZWw6aSxzdGFydDplKHRoaXMpfX0pLG89ZnVuY3Rpb24oKXt0LmVhY2gocyxmdW5jdGlvbih0LGUpe25bZV0mJmFbZStcIkNsYXNzXCJdKG5bZV0pfSl9LG8oKSxsPWwubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kPWUodGhpcy5lbFswXSksdGhpcy5kaWZmPWkodGhpcy5zdGFydCx0aGlzLmVuZCksdGhpc30pLGEuYXR0cihcImNsYXNzXCIsciksbD1sLm1hcChmdW5jdGlvbigpe3ZhciBlPXRoaXMsaT10LkRlZmVycmVkKCkscz10LmV4dGVuZCh7fSxoLHtxdWV1ZTohMSxjb21wbGV0ZTpmdW5jdGlvbigpe2kucmVzb2x2ZShlKX19KTtyZXR1cm4gdGhpcy5lbC5hbmltYXRlKHRoaXMuZGlmZixzKSxpLnByb21pc2UoKX0pLHQud2hlbi5hcHBseSh0LGwuZ2V0KCkpLmRvbmUoZnVuY3Rpb24oKXtvKCksdC5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWw7dC5lYWNoKHRoaXMuZGlmZixmdW5jdGlvbih0KXtlLmNzcyh0LFwiXCIpfSl9KSxoLmNvbXBsZXRlLmNhbGwoYVswXSl9KX0pfSx0LmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGkscyxuLG8pe3JldHVybiBzP3QuZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHthZGQ6aX0scyxuLG8pOmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0odC5mbi5hZGRDbGFzcykscmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGkscyxuLG8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjE/dC5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKHRoaXMse3JlbW92ZTppfSxzLG4sbyk6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSh0LmZuLnJlbW92ZUNsYXNzKSx0b2dnbGVDbGFzczpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oaSxzLG4sbyxhKXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIHN8fHZvaWQgMD09PXM/bj90LmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyxzP3thZGQ6aX06e3JlbW92ZTppfSxuLG8sYSk6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dC5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKHRoaXMse3RvZ2dsZTppfSxzLG4sbyl9fSh0LmZuLnRvZ2dsZUNsYXNzKSxzd2l0Y2hDbGFzczpmdW5jdGlvbihlLGkscyxuLG8pe3JldHVybiB0LmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyx7YWRkOmkscmVtb3ZlOmV9LHMsbixvKX19KX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSxpLHMsbil7cmV0dXJuIHQuaXNQbGFpbk9iamVjdChlKSYmKGk9ZSxlPWUuZWZmZWN0KSxlPXtlZmZlY3Q6ZX0sbnVsbD09aSYmKGk9e30pLHQuaXNGdW5jdGlvbihpKSYmKG49aSxzPW51bGwsaT17fSksKFwibnVtYmVyXCI9PXR5cGVvZiBpfHx0LmZ4LnNwZWVkc1tpXSkmJihuPXMscz1pLGk9e30pLHQuaXNGdW5jdGlvbihzKSYmKG49cyxzPW51bGwpLGkmJnQuZXh0ZW5kKGUsaSkscz1zfHxpLmR1cmF0aW9uLGUuZHVyYXRpb249dC5meC5vZmY/MDpcIm51bWJlclwiPT10eXBlb2Ygcz9zOnMgaW4gdC5meC5zcGVlZHM/dC5meC5zcGVlZHNbc106dC5meC5zcGVlZHMuX2RlZmF1bHQsZS5jb21wbGV0ZT1ufHxpLmNvbXBsZXRlLGV9ZnVuY3Rpb24gaShlKXtyZXR1cm4hZXx8XCJudW1iZXJcIj09dHlwZW9mIGV8fHQuZnguc3BlZWRzW2VdPyEwOlwic3RyaW5nXCIhPXR5cGVvZiBlfHx0LmVmZmVjdHMuZWZmZWN0W2VdP3QuaXNGdW5jdGlvbihlKT8hMDpcIm9iamVjdFwiIT10eXBlb2YgZXx8ZS5lZmZlY3Q/ITE6ITA6ITB9ZnVuY3Rpb24gcyh0LGUpe3ZhciBpPWUub3V0ZXJXaWR0aCgpLHM9ZS5vdXRlckhlaWdodCgpLG49L15yZWN0XFwoKC0/XFxkKlxcLj9cXGQqcHh8LT9cXGQrJXxhdXRvKSw/XFxzKigtP1xcZCpcXC4/XFxkKnB4fC0/XFxkKyV8YXV0byksP1xccyooLT9cXGQqXFwuP1xcZCpweHwtP1xcZCslfGF1dG8pLD9cXHMqKC0/XFxkKlxcLj9cXGQqcHh8LT9cXGQrJXxhdXRvKVxcKSQvLG89bi5leGVjKHQpfHxbXCJcIiwwLGkscywwXTtyZXR1cm57dG9wOnBhcnNlRmxvYXQob1sxXSl8fDAscmlnaHQ6XCJhdXRvXCI9PT1vWzJdP2k6cGFyc2VGbG9hdChvWzJdKSxib3R0b206XCJhdXRvXCI9PT1vWzNdP3M6cGFyc2VGbG9hdChvWzNdKSxsZWZ0OnBhcnNlRmxvYXQob1s0XSl8fDB9fXQuZXhwciYmdC5leHByLmZpbHRlcnMmJnQuZXhwci5maWx0ZXJzLmFuaW1hdGVkJiYodC5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiEhdChpKS5kYXRhKG0pfHxlKGkpfX0odC5leHByLmZpbHRlcnMuYW5pbWF0ZWQpKSx0LnVpQmFja0NvbXBhdCE9PSExJiZ0LmV4dGVuZCh0LmVmZmVjdHMse3NhdmU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9MCxzPWUubGVuZ3RoO3M+aTtpKyspbnVsbCE9PWVbaV0mJnQuZGF0YShmK2VbaV0sdFswXS5zdHlsZVtlW2ldXSl9LHJlc3RvcmU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkscz0wLG49ZS5sZW5ndGg7bj5zO3MrKyludWxsIT09ZVtzXSYmKGk9dC5kYXRhKGYrZVtzXSksdC5jc3MoZVtzXSxpKSl9LHNldE1vZGU6ZnVuY3Rpb24odCxlKXtyZXR1cm5cInRvZ2dsZVwiPT09ZSYmKGU9dC5pcyhcIjpoaWRkZW5cIik/XCJzaG93XCI6XCJoaWRlXCIpLGV9LGNyZWF0ZVdyYXBwZXI6ZnVuY3Rpb24oZSl7aWYoZS5wYXJlbnQoKS5pcyhcIi51aS1lZmZlY3RzLXdyYXBwZXJcIikpcmV0dXJuIGUucGFyZW50KCk7dmFyIGk9e3dpZHRoOmUub3V0ZXJXaWR0aCghMCksaGVpZ2h0OmUub3V0ZXJIZWlnaHQoITApLFwiZmxvYXRcIjplLmNzcyhcImZsb2F0XCIpfSxzPXQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcInVpLWVmZmVjdHMtd3JhcHBlclwiKS5jc3Moe2ZvbnRTaXplOlwiMTAwJVwiLGJhY2tncm91bmQ6XCJ0cmFuc3BhcmVudFwiLGJvcmRlcjpcIm5vbmVcIixtYXJnaW46MCxwYWRkaW5nOjB9KSxuPXt3aWR0aDplLndpZHRoKCksaGVpZ2h0OmUuaGVpZ2h0KCl9LG89ZG9jdW1lbnQuYWN0aXZlRWxlbWVudDt0cnl7by5pZH1jYXRjaChhKXtvPWRvY3VtZW50LmJvZHl9cmV0dXJuIGUud3JhcChzKSwoZVswXT09PW98fHQuY29udGFpbnMoZVswXSxvKSkmJnQobykudHJpZ2dlcihcImZvY3VzXCIpLHM9ZS5wYXJlbnQoKSxcInN0YXRpY1wiPT09ZS5jc3MoXCJwb3NpdGlvblwiKT8ocy5jc3Moe3Bvc2l0aW9uOlwicmVsYXRpdmVcIn0pLGUuY3NzKHtwb3NpdGlvbjpcInJlbGF0aXZlXCJ9KSk6KHQuZXh0ZW5kKGkse3Bvc2l0aW9uOmUuY3NzKFwicG9zaXRpb25cIiksekluZGV4OmUuY3NzKFwiei1pbmRleFwiKX0pLHQuZWFjaChbXCJ0b3BcIixcImxlZnRcIixcImJvdHRvbVwiLFwicmlnaHRcIl0sZnVuY3Rpb24odCxzKXtpW3NdPWUuY3NzKHMpLGlzTmFOKHBhcnNlSW50KGlbc10sMTApKSYmKGlbc109XCJhdXRvXCIpfSksZS5jc3Moe3Bvc2l0aW9uOlwicmVsYXRpdmVcIix0b3A6MCxsZWZ0OjAscmlnaHQ6XCJhdXRvXCIsYm90dG9tOlwiYXV0b1wifSkpLGUuY3NzKG4pLHMuY3NzKGkpLnNob3coKX0scmVtb3ZlV3JhcHBlcjpmdW5jdGlvbihlKXt2YXIgaT1kb2N1bWVudC5hY3RpdmVFbGVtZW50O3JldHVybiBlLnBhcmVudCgpLmlzKFwiLnVpLWVmZmVjdHMtd3JhcHBlclwiKSYmKGUucGFyZW50KCkucmVwbGFjZVdpdGgoZSksKGVbMF09PT1pfHx0LmNvbnRhaW5zKGVbMF0saSkpJiZ0KGkpLnRyaWdnZXIoXCJmb2N1c1wiKSksZX19KSx0LmV4dGVuZCh0LmVmZmVjdHMse3ZlcnNpb246XCIxLjEyLjFcIixkZWZpbmU6ZnVuY3Rpb24oZSxpLHMpe3JldHVybiBzfHwocz1pLGk9XCJlZmZlY3RcIiksdC5lZmZlY3RzLmVmZmVjdFtlXT1zLHQuZWZmZWN0cy5lZmZlY3RbZV0ubW9kZT1pLHN9LHNjYWxlZERpbWVuc2lvbnM6ZnVuY3Rpb24odCxlLGkpe2lmKDA9PT1lKXJldHVybntoZWlnaHQ6MCx3aWR0aDowLG91dGVySGVpZ2h0OjAsb3V0ZXJXaWR0aDowfTt2YXIgcz1cImhvcml6b250YWxcIiE9PWk/KGV8fDEwMCkvMTAwOjEsbj1cInZlcnRpY2FsXCIhPT1pPyhlfHwxMDApLzEwMDoxO3JldHVybntoZWlnaHQ6dC5oZWlnaHQoKSpuLHdpZHRoOnQud2lkdGgoKSpzLG91dGVySGVpZ2h0OnQub3V0ZXJIZWlnaHQoKSpuLG91dGVyV2lkdGg6dC5vdXRlcldpZHRoKCkqc319LGNsaXBUb0JveDpmdW5jdGlvbih0KXtyZXR1cm57d2lkdGg6dC5jbGlwLnJpZ2h0LXQuY2xpcC5sZWZ0LGhlaWdodDp0LmNsaXAuYm90dG9tLXQuY2xpcC50b3AsbGVmdDp0LmNsaXAubGVmdCx0b3A6dC5jbGlwLnRvcH19LHVuc2hpZnQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXQucXVldWUoKTtlPjEmJnMuc3BsaWNlLmFwcGx5KHMsWzEsMF0uY29uY2F0KHMuc3BsaWNlKGUsaSkpKSx0LmRlcXVldWUoKX0sc2F2ZVN0eWxlOmZ1bmN0aW9uKHQpe3QuZGF0YShnLHRbMF0uc3R5bGUuY3NzVGV4dCl9LHJlc3RvcmVTdHlsZTpmdW5jdGlvbih0KXt0WzBdLnN0eWxlLmNzc1RleHQ9dC5kYXRhKGcpfHxcIlwiLHQucmVtb3ZlRGF0YShnKX0sbW9kZTpmdW5jdGlvbih0LGUpe3ZhciBpPXQuaXMoXCI6aGlkZGVuXCIpO3JldHVyblwidG9nZ2xlXCI9PT1lJiYoZT1pP1wic2hvd1wiOlwiaGlkZVwiKSwoaT9cImhpZGVcIj09PWU6XCJzaG93XCI9PT1lKSYmKGU9XCJub25lXCIpLGV9LGdldEJhc2VsaW5lOmZ1bmN0aW9uKHQsZSl7dmFyIGkscztzd2l0Y2godFswXSl7Y2FzZVwidG9wXCI6aT0wO2JyZWFrO2Nhc2VcIm1pZGRsZVwiOmk9LjU7YnJlYWs7Y2FzZVwiYm90dG9tXCI6aT0xO2JyZWFrO2RlZmF1bHQ6aT10WzBdL2UuaGVpZ2h0fXN3aXRjaCh0WzFdKXtjYXNlXCJsZWZ0XCI6cz0wO2JyZWFrO2Nhc2VcImNlbnRlclwiOnM9LjU7YnJlYWs7Y2FzZVwicmlnaHRcIjpzPTE7YnJlYWs7ZGVmYXVsdDpzPXRbMV0vZS53aWR0aH1yZXR1cm57eDpzLHk6aX19LGNyZWF0ZVBsYWNlaG9sZGVyOmZ1bmN0aW9uKGUpe3ZhciBpLHM9ZS5jc3MoXCJwb3NpdGlvblwiKSxuPWUucG9zaXRpb24oKTtyZXR1cm4gZS5jc3Moe21hcmdpblRvcDplLmNzcyhcIm1hcmdpblRvcFwiKSxtYXJnaW5Cb3R0b206ZS5jc3MoXCJtYXJnaW5Cb3R0b21cIiksbWFyZ2luTGVmdDplLmNzcyhcIm1hcmdpbkxlZnRcIiksbWFyZ2luUmlnaHQ6ZS5jc3MoXCJtYXJnaW5SaWdodFwiKX0pLm91dGVyV2lkdGgoZS5vdXRlcldpZHRoKCkpLm91dGVySGVpZ2h0KGUub3V0ZXJIZWlnaHQoKSksL14oc3RhdGljfHJlbGF0aXZlKS8udGVzdChzKSYmKHM9XCJhYnNvbHV0ZVwiLGk9dChcIjxcIitlWzBdLm5vZGVOYW1lK1wiPlwiKS5pbnNlcnRBZnRlcihlKS5jc3Moe2Rpc3BsYXk6L14oaW5saW5lfHJ1YnkpLy50ZXN0KGUuY3NzKFwiZGlzcGxheVwiKSk/XCJpbmxpbmUtYmxvY2tcIjpcImJsb2NrXCIsdmlzaWJpbGl0eTpcImhpZGRlblwiLG1hcmdpblRvcDplLmNzcyhcIm1hcmdpblRvcFwiKSxtYXJnaW5Cb3R0b206ZS5jc3MoXCJtYXJnaW5Cb3R0b21cIiksbWFyZ2luTGVmdDplLmNzcyhcIm1hcmdpbkxlZnRcIiksbWFyZ2luUmlnaHQ6ZS5jc3MoXCJtYXJnaW5SaWdodFwiKSxcImZsb2F0XCI6ZS5jc3MoXCJmbG9hdFwiKX0pLm91dGVyV2lkdGgoZS5vdXRlcldpZHRoKCkpLm91dGVySGVpZ2h0KGUub3V0ZXJIZWlnaHQoKSkuYWRkQ2xhc3MoXCJ1aS1lZmZlY3RzLXBsYWNlaG9sZGVyXCIpLGUuZGF0YShmK1wicGxhY2Vob2xkZXJcIixpKSksZS5jc3Moe3Bvc2l0aW9uOnMsbGVmdDpuLmxlZnQsdG9wOm4udG9wfSksaX0scmVtb3ZlUGxhY2Vob2xkZXI6ZnVuY3Rpb24odCl7dmFyIGU9ZitcInBsYWNlaG9sZGVyXCIsaT10LmRhdGEoZSk7aSYmKGkucmVtb3ZlKCksdC5yZW1vdmVEYXRhKGUpKX0sY2xlYW5VcDpmdW5jdGlvbihlKXt0LmVmZmVjdHMucmVzdG9yZVN0eWxlKGUpLHQuZWZmZWN0cy5yZW1vdmVQbGFjZWhvbGRlcihlKX0sc2V0VHJhbnNpdGlvbjpmdW5jdGlvbihlLGkscyxuKXtyZXR1cm4gbj1ufHx7fSx0LmVhY2goaSxmdW5jdGlvbih0LGkpe3ZhciBvPWUuY3NzVW5pdChpKTtvWzBdPjAmJihuW2ldPW9bMF0qcytvWzFdKX0pLG59fSksdC5mbi5leHRlbmQoe2VmZmVjdDpmdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7ZnVuY3Rpb24gaSgpe3IucmVtb3ZlRGF0YShtKSx0LmVmZmVjdHMuY2xlYW5VcChyKSxcImhpZGVcIj09PXMubW9kZSYmci5oaWRlKCksYSgpfWZ1bmN0aW9uIGEoKXt0LmlzRnVuY3Rpb24oaCkmJmguY2FsbChyWzBdKSx0LmlzRnVuY3Rpb24oZSkmJmUoKX12YXIgcj10KHRoaXMpO3MubW9kZT1jLnNoaWZ0KCksdC51aUJhY2tDb21wYXQ9PT0hMXx8bz9cIm5vbmVcIj09PXMubW9kZT8ocltsXSgpLGEoKSk6bi5jYWxsKHJbMF0scyxpKTooci5pcyhcIjpoaWRkZW5cIik/XCJoaWRlXCI9PT1sOlwic2hvd1wiPT09bCk/KHJbbF0oKSxhKCkpOm4uY2FsbChyWzBdLHMsYSl9dmFyIHM9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksbj10LmVmZmVjdHMuZWZmZWN0W3MuZWZmZWN0XSxvPW4ubW9kZSxhPXMucXVldWUscj1hfHxcImZ4XCIsaD1zLmNvbXBsZXRlLGw9cy5tb2RlLGM9W10sdT1mdW5jdGlvbihlKXt2YXIgaT10KHRoaXMpLHM9dC5lZmZlY3RzLm1vZGUoaSxsKXx8bztpLmRhdGEobSwhMCksYy5wdXNoKHMpLG8mJihcInNob3dcIj09PXN8fHM9PT1vJiZcImhpZGVcIj09PXMpJiZpLnNob3coKSxvJiZcIm5vbmVcIj09PXN8fHQuZWZmZWN0cy5zYXZlU3R5bGUoaSksdC5pc0Z1bmN0aW9uKGUpJiZlKCl9O3JldHVybiB0LmZ4Lm9mZnx8IW4/bD90aGlzW2xdKHMuZHVyYXRpb24saCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7aCYmaC5jYWxsKHRoaXMpfSk6YT09PSExP3RoaXMuZWFjaCh1KS5lYWNoKGkpOnRoaXMucXVldWUocix1KS5xdWV1ZShyLGkpfSxzaG93OmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihzKXtpZihpKHMpKXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgbj1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbi5tb2RlPVwic2hvd1wiLHRoaXMuZWZmZWN0LmNhbGwodGhpcyxuKX19KHQuZm4uc2hvdyksaGlkZTpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYoaShzKSlyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIG49ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG4ubW9kZT1cImhpZGVcIix0aGlzLmVmZmVjdC5jYWxsKHRoaXMsbil9fSh0LmZuLmhpZGUpLHRvZ2dsZTpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYoaShzKXx8XCJib29sZWFuXCI9PXR5cGVvZiBzKXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgbj1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbi5tb2RlPVwidG9nZ2xlXCIsdGhpcy5lZmZlY3QuY2FsbCh0aGlzLG4pfX0odC5mbi50b2dnbGUpLGNzc1VuaXQ6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5jc3MoZSkscz1bXTtyZXR1cm4gdC5lYWNoKFtcImVtXCIsXCJweFwiLFwiJVwiLFwicHRcIl0sZnVuY3Rpb24odCxlKXtpLmluZGV4T2YoZSk+MCYmKHM9W3BhcnNlRmxvYXQoaSksZV0pfSksc30sY3NzQ2xpcDpmdW5jdGlvbih0KXtyZXR1cm4gdD90aGlzLmNzcyhcImNsaXBcIixcInJlY3QoXCIrdC50b3ArXCJweCBcIit0LnJpZ2h0K1wicHggXCIrdC5ib3R0b20rXCJweCBcIit0LmxlZnQrXCJweClcIik6cyh0aGlzLmNzcyhcImNsaXBcIiksdGhpcyl9LHRyYW5zZmVyOmZ1bmN0aW9uKGUsaSl7dmFyIHM9dCh0aGlzKSxuPXQoZS50byksbz1cImZpeGVkXCI9PT1uLmNzcyhcInBvc2l0aW9uXCIpLGE9dChcImJvZHlcIikscj1vP2Euc2Nyb2xsVG9wKCk6MCxoPW8/YS5zY3JvbGxMZWZ0KCk6MCxsPW4ub2Zmc2V0KCksYz17dG9wOmwudG9wLXIsbGVmdDpsLmxlZnQtaCxoZWlnaHQ6bi5pbm5lckhlaWdodCgpLHdpZHRoOm4uaW5uZXJXaWR0aCgpfSx1PXMub2Zmc2V0KCksZD10KFwiPGRpdiBjbGFzcz0ndWktZWZmZWN0cy10cmFuc2Zlcic+PC9kaXY+XCIpLmFwcGVuZFRvKFwiYm9keVwiKS5hZGRDbGFzcyhlLmNsYXNzTmFtZSkuY3NzKHt0b3A6dS50b3AtcixsZWZ0OnUubGVmdC1oLGhlaWdodDpzLmlubmVySGVpZ2h0KCksd2lkdGg6cy5pbm5lcldpZHRoKCkscG9zaXRpb246bz9cImZpeGVkXCI6XCJhYnNvbHV0ZVwifSkuYW5pbWF0ZShjLGUuZHVyYXRpb24sZS5lYXNpbmcsZnVuY3Rpb24oKXtkLnJlbW92ZSgpLHQuaXNGdW5jdGlvbihpKSYmaSgpfSl9fSksdC5meC5zdGVwLmNsaXA9ZnVuY3Rpb24oZSl7ZS5jbGlwSW5pdHx8KGUuc3RhcnQ9dChlLmVsZW0pLmNzc0NsaXAoKSxcInN0cmluZ1wiPT10eXBlb2YgZS5lbmQmJihlLmVuZD1zKGUuZW5kLGUuZWxlbSkpLGUuY2xpcEluaXQ9ITApLHQoZS5lbGVtKS5jc3NDbGlwKHt0b3A6ZS5wb3MqKGUuZW5kLnRvcC1lLnN0YXJ0LnRvcCkrZS5zdGFydC50b3AscmlnaHQ6ZS5wb3MqKGUuZW5kLnJpZ2h0LWUuc3RhcnQucmlnaHQpK2Uuc3RhcnQucmlnaHQsYm90dG9tOmUucG9zKihlLmVuZC5ib3R0b20tZS5zdGFydC5ib3R0b20pK2Uuc3RhcnQuYm90dG9tLGxlZnQ6ZS5wb3MqKGUuZW5kLmxlZnQtZS5zdGFydC5sZWZ0KStlLnN0YXJ0LmxlZnR9KX19KCksZnVuY3Rpb24oKXt2YXIgZT17fTt0LmVhY2goW1wiUXVhZFwiLFwiQ3ViaWNcIixcIlF1YXJ0XCIsXCJRdWludFwiLFwiRXhwb1wiXSxmdW5jdGlvbih0LGkpe2VbaV09ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgucG93KGUsdCsyKX19KSx0LmV4dGVuZChlLHtTaW5lOmZ1bmN0aW9uKHQpe3JldHVybiAxLU1hdGguY29zKHQqTWF0aC5QSS8yKX0sQ2lyYzpmdW5jdGlvbih0KXtyZXR1cm4gMS1NYXRoLnNxcnQoMS10KnQpfSxFbGFzdGljOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dHx8MT09PXQ/dDotTWF0aC5wb3coMiw4Kih0LTEpKSpNYXRoLnNpbigoODAqKHQtMSktNy41KSpNYXRoLlBJLzE1KX0sQmFjazpmdW5jdGlvbih0KXtyZXR1cm4gdCp0KigzKnQtMil9LEJvdW5jZTpmdW5jdGlvbih0KXtmb3IodmFyIGUsaT00OygoZT1NYXRoLnBvdygyLC0taSkpLTEpLzExPnQ7KTtyZXR1cm4gMS9NYXRoLnBvdyg0LDMtaSktNy41NjI1Kk1hdGgucG93KCgzKmUtMikvMjItdCwyKX19KSx0LmVhY2goZSxmdW5jdGlvbihlLGkpe3QuZWFzaW5nW1wiZWFzZUluXCIrZV09aSx0LmVhc2luZ1tcImVhc2VPdXRcIitlXT1mdW5jdGlvbih0KXtyZXR1cm4gMS1pKDEtdCl9LHQuZWFzaW5nW1wiZWFzZUluT3V0XCIrZV09ZnVuY3Rpb24odCl7cmV0dXJuLjU+dD9pKDIqdCkvMjoxLWkoLTIqdCsyKS8yfX0pfSgpO3ZhciB2PXQuZWZmZWN0czt0LmVmZmVjdHMuZGVmaW5lKFwiYmxpbmRcIixcImhpZGVcIixmdW5jdGlvbihlLGkpe3ZhciBzPXt1cDpbXCJib3R0b21cIixcInRvcFwiXSx2ZXJ0aWNhbDpbXCJib3R0b21cIixcInRvcFwiXSxkb3duOltcInRvcFwiLFwiYm90dG9tXCJdLGxlZnQ6W1wicmlnaHRcIixcImxlZnRcIl0saG9yaXpvbnRhbDpbXCJyaWdodFwiLFwibGVmdFwiXSxyaWdodDpbXCJsZWZ0XCIsXCJyaWdodFwiXX0sbj10KHRoaXMpLG89ZS5kaXJlY3Rpb258fFwidXBcIixhPW4uY3NzQ2xpcCgpLHI9e2NsaXA6dC5leHRlbmQoe30sYSl9LGg9dC5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKG4pO3IuY2xpcFtzW29dWzBdXT1yLmNsaXBbc1tvXVsxXV0sXCJzaG93XCI9PT1lLm1vZGUmJihuLmNzc0NsaXAoci5jbGlwKSxoJiZoLmNzcyh0LmVmZmVjdHMuY2xpcFRvQm94KHIpKSxyLmNsaXA9YSksaCYmaC5hbmltYXRlKHQuZWZmZWN0cy5jbGlwVG9Cb3gociksZS5kdXJhdGlvbixlLmVhc2luZyksbi5hbmltYXRlKHIse3F1ZXVlOiExLGR1cmF0aW9uOmUuZHVyYXRpb24sZWFzaW5nOmUuZWFzaW5nLGNvbXBsZXRlOml9KX0pLHQuZWZmZWN0cy5kZWZpbmUoXCJib3VuY2VcIixmdW5jdGlvbihlLGkpe3ZhciBzLG4sbyxhPXQodGhpcykscj1lLm1vZGUsaD1cImhpZGVcIj09PXIsbD1cInNob3dcIj09PXIsYz1lLmRpcmVjdGlvbnx8XCJ1cFwiLHU9ZS5kaXN0YW5jZSxkPWUudGltZXN8fDUscD0yKmQrKGx8fGg/MTowKSxmPWUuZHVyYXRpb24vcCxnPWUuZWFzaW5nLG09XCJ1cFwiPT09Y3x8XCJkb3duXCI9PT1jP1widG9wXCI6XCJsZWZ0XCIsXz1cInVwXCI9PT1jfHxcImxlZnRcIj09PWMsdj0wLGI9YS5xdWV1ZSgpLmxlbmd0aDtmb3IodC5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKGEpLG89YS5jc3MobSksdXx8KHU9YVtcInRvcFwiPT09bT9cIm91dGVySGVpZ2h0XCI6XCJvdXRlcldpZHRoXCJdKCkvMyksbCYmKG49e29wYWNpdHk6MX0sblttXT1vLGEuY3NzKFwib3BhY2l0eVwiLDApLmNzcyhtLF8/MiotdToyKnUpLmFuaW1hdGUobixmLGcpKSxoJiYodS89TWF0aC5wb3coMixkLTEpKSxuPXt9LG5bbV09bztkPnY7disrKXM9e30sc1ttXT0oXz9cIi09XCI6XCIrPVwiKSt1LGEuYW5pbWF0ZShzLGYsZykuYW5pbWF0ZShuLGYsZyksdT1oPzIqdTp1LzI7aCYmKHM9e29wYWNpdHk6MH0sc1ttXT0oXz9cIi09XCI6XCIrPVwiKSt1LGEuYW5pbWF0ZShzLGYsZykpLGEucXVldWUoaSksdC5lZmZlY3RzLnVuc2hpZnQoYSxiLHArMSl9KSx0LmVmZmVjdHMuZGVmaW5lKFwiY2xpcFwiLFwiaGlkZVwiLGZ1bmN0aW9uKGUsaSl7dmFyIHMsbj17fSxvPXQodGhpcyksYT1lLmRpcmVjdGlvbnx8XCJ2ZXJ0aWNhbFwiLHI9XCJib3RoXCI9PT1hLGg9cnx8XCJob3Jpem9udGFsXCI9PT1hLGw9cnx8XCJ2ZXJ0aWNhbFwiPT09YTtzPW8uY3NzQ2xpcCgpLG4uY2xpcD17dG9wOmw/KHMuYm90dG9tLXMudG9wKS8yOnMudG9wLHJpZ2h0Omg/KHMucmlnaHQtcy5sZWZ0KS8yOnMucmlnaHQsYm90dG9tOmw/KHMuYm90dG9tLXMudG9wKS8yOnMuYm90dG9tLGxlZnQ6aD8ocy5yaWdodC1zLmxlZnQpLzI6cy5sZWZ0fSx0LmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIobyksXCJzaG93XCI9PT1lLm1vZGUmJihvLmNzc0NsaXAobi5jbGlwKSxuLmNsaXA9cyksby5hbmltYXRlKG4se3F1ZXVlOiExLGR1cmF0aW9uOmUuZHVyYXRpb24sZWFzaW5nOmUuZWFzaW5nLGNvbXBsZXRlOml9KX0pLHQuZWZmZWN0cy5kZWZpbmUoXCJkcm9wXCIsXCJoaWRlXCIsZnVuY3Rpb24oZSxpKXt2YXIgcyxuPXQodGhpcyksbz1lLm1vZGUsYT1cInNob3dcIj09PW8scj1lLmRpcmVjdGlvbnx8XCJsZWZ0XCIsaD1cInVwXCI9PT1yfHxcImRvd25cIj09PXI/XCJ0b3BcIjpcImxlZnRcIixsPVwidXBcIj09PXJ8fFwibGVmdFwiPT09cj9cIi09XCI6XCIrPVwiLGM9XCIrPVwiPT09bD9cIi09XCI6XCIrPVwiLHU9e29wYWNpdHk6MH07dC5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKG4pLHM9ZS5kaXN0YW5jZXx8bltcInRvcFwiPT09aD9cIm91dGVySGVpZ2h0XCI6XCJvdXRlcldpZHRoXCJdKCEwKS8yLHVbaF09bCtzLGEmJihuLmNzcyh1KSx1W2hdPWMrcyx1Lm9wYWNpdHk9MSksbi5hbmltYXRlKHUse3F1ZXVlOiExLGR1cmF0aW9uOmUuZHVyYXRpb24sZWFzaW5nOmUuZWFzaW5nLGNvbXBsZXRlOml9KX0pLHQuZWZmZWN0cy5kZWZpbmUoXCJleHBsb2RlXCIsXCJoaWRlXCIsZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBzKCl7Yi5wdXNoKHRoaXMpLGIubGVuZ3RoPT09dSpkJiZuKCl9ZnVuY3Rpb24gbigpe3AuY3NzKHt2aXNpYmlsaXR5OlwidmlzaWJsZVwifSksdChiKS5yZW1vdmUoKSxpKCl9dmFyIG8sYSxyLGgsbCxjLHU9ZS5waWVjZXM/TWF0aC5yb3VuZChNYXRoLnNxcnQoZS5waWVjZXMpKTozLGQ9dSxwPXQodGhpcyksZj1lLm1vZGUsZz1cInNob3dcIj09PWYsbT1wLnNob3coKS5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIikub2Zmc2V0KCksXz1NYXRoLmNlaWwocC5vdXRlcldpZHRoKCkvZCksdj1NYXRoLmNlaWwocC5vdXRlckhlaWdodCgpL3UpLGI9W107Zm9yKG89MDt1Pm87bysrKWZvcihoPW0udG9wK28qdixjPW8tKHUtMSkvMixhPTA7ZD5hO2ErKylyPW0ubGVmdCthKl8sbD1hLShkLTEpLzIscC5jbG9uZSgpLmFwcGVuZFRvKFwiYm9keVwiKS53cmFwKFwiPGRpdj48L2Rpdj5cIikuY3NzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsdmlzaWJpbGl0eTpcInZpc2libGVcIixsZWZ0Oi1hKl8sdG9wOi1vKnZ9KS5wYXJlbnQoKS5hZGRDbGFzcyhcInVpLWVmZmVjdHMtZXhwbG9kZVwiKS5jc3Moe3Bvc2l0aW9uOlwiYWJzb2x1dGVcIixvdmVyZmxvdzpcImhpZGRlblwiLHdpZHRoOl8saGVpZ2h0OnYsbGVmdDpyKyhnP2wqXzowKSx0b3A6aCsoZz9jKnY6MCksb3BhY2l0eTpnPzA6MX0pLmFuaW1hdGUoe2xlZnQ6cisoZz8wOmwqXyksdG9wOmgrKGc/MDpjKnYpLG9wYWNpdHk6Zz8xOjB9LGUuZHVyYXRpb258fDUwMCxlLmVhc2luZyxzKX0pLHQuZWZmZWN0cy5kZWZpbmUoXCJmYWRlXCIsXCJ0b2dnbGVcIixmdW5jdGlvbihlLGkpe3ZhciBzPVwic2hvd1wiPT09ZS5tb2RlO3QodGhpcykuY3NzKFwib3BhY2l0eVwiLHM/MDoxKS5hbmltYXRlKHtvcGFjaXR5OnM/MTowfSx7cXVldWU6ITEsZHVyYXRpb246ZS5kdXJhdGlvbixlYXNpbmc6ZS5lYXNpbmcsY29tcGxldGU6aX0pfSksdC5lZmZlY3RzLmRlZmluZShcImZvbGRcIixcImhpZGVcIixmdW5jdGlvbihlLGkpe3ZhciBzPXQodGhpcyksbj1lLm1vZGUsbz1cInNob3dcIj09PW4sYT1cImhpZGVcIj09PW4scj1lLnNpemV8fDE1LGg9LyhbMC05XSspJS8uZXhlYyhyKSxsPSEhZS5ob3JpekZpcnN0LGM9bD9bXCJyaWdodFwiLFwiYm90dG9tXCJdOltcImJvdHRvbVwiLFwicmlnaHRcIl0sdT1lLmR1cmF0aW9uLzIsZD10LmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIocykscD1zLmNzc0NsaXAoKSxmPXtjbGlwOnQuZXh0ZW5kKHt9LHApfSxnPXtjbGlwOnQuZXh0ZW5kKHt9LHApfSxtPVtwW2NbMF1dLHBbY1sxXV1dLF89cy5xdWV1ZSgpLmxlbmd0aDtoJiYocj1wYXJzZUludChoWzFdLDEwKS8xMDAqbVthPzA6MV0pLGYuY2xpcFtjWzBdXT1yLGcuY2xpcFtjWzBdXT1yLGcuY2xpcFtjWzFdXT0wLG8mJihzLmNzc0NsaXAoZy5jbGlwKSxkJiZkLmNzcyh0LmVmZmVjdHMuY2xpcFRvQm94KGcpKSxnLmNsaXA9cCkscy5xdWV1ZShmdW5jdGlvbihpKXtkJiZkLmFuaW1hdGUodC5lZmZlY3RzLmNsaXBUb0JveChmKSx1LGUuZWFzaW5nKS5hbmltYXRlKHQuZWZmZWN0cy5jbGlwVG9Cb3goZyksdSxlLmVhc2luZyksaSgpfSkuYW5pbWF0ZShmLHUsZS5lYXNpbmcpLmFuaW1hdGUoZyx1LGUuZWFzaW5nKS5xdWV1ZShpKSx0LmVmZmVjdHMudW5zaGlmdChzLF8sNCl9KSx0LmVmZmVjdHMuZGVmaW5lKFwiaGlnaGxpZ2h0XCIsXCJzaG93XCIsZnVuY3Rpb24oZSxpKXt2YXIgcz10KHRoaXMpLG49e2JhY2tncm91bmRDb2xvcjpzLmNzcyhcImJhY2tncm91bmRDb2xvclwiKX07XCJoaWRlXCI9PT1lLm1vZGUmJihuLm9wYWNpdHk9MCksdC5lZmZlY3RzLnNhdmVTdHlsZShzKSxzLmNzcyh7YmFja2dyb3VuZEltYWdlOlwibm9uZVwiLGJhY2tncm91bmRDb2xvcjplLmNvbG9yfHxcIiNmZmZmOTlcIn0pLmFuaW1hdGUobix7cXVldWU6ITEsZHVyYXRpb246ZS5kdXJhdGlvbixlYXNpbmc6ZS5lYXNpbmcsY29tcGxldGU6aX0pfSksdC5lZmZlY3RzLmRlZmluZShcInNpemVcIixmdW5jdGlvbihlLGkpe3ZhciBzLG4sbyxhPXQodGhpcykscj1bXCJmb250U2l6ZVwiXSxoPVtcImJvcmRlclRvcFdpZHRoXCIsXCJib3JkZXJCb3R0b21XaWR0aFwiLFwicGFkZGluZ1RvcFwiLFwicGFkZGluZ0JvdHRvbVwiXSxsPVtcImJvcmRlckxlZnRXaWR0aFwiLFwiYm9yZGVyUmlnaHRXaWR0aFwiLFwicGFkZGluZ0xlZnRcIixcInBhZGRpbmdSaWdodFwiXSxjPWUubW9kZSx1PVwiZWZmZWN0XCIhPT1jLGQ9ZS5zY2FsZXx8XCJib3RoXCIscD1lLm9yaWdpbnx8W1wibWlkZGxlXCIsXCJjZW50ZXJcIl0sZj1hLmNzcyhcInBvc2l0aW9uXCIpLGc9YS5wb3NpdGlvbigpLG09dC5lZmZlY3RzLnNjYWxlZERpbWVuc2lvbnMoYSksXz1lLmZyb218fG0sdj1lLnRvfHx0LmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyhhLDApO3QuZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlcihhKSxcInNob3dcIj09PWMmJihvPV8sXz12LHY9byksbj17ZnJvbTp7eTpfLmhlaWdodC9tLmhlaWdodCx4Ol8ud2lkdGgvbS53aWR0aH0sdG86e3k6di5oZWlnaHQvbS5oZWlnaHQseDp2LndpZHRoL20ud2lkdGh9fSwoXCJib3hcIj09PWR8fFwiYm90aFwiPT09ZCkmJihuLmZyb20ueSE9PW4udG8ueSYmKF89dC5lZmZlY3RzLnNldFRyYW5zaXRpb24oYSxoLG4uZnJvbS55LF8pLHY9dC5lZmZlY3RzLnNldFRyYW5zaXRpb24oYSxoLG4udG8ueSx2KSksbi5mcm9tLnghPT1uLnRvLngmJihfPXQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGEsbCxuLmZyb20ueCxfKSx2PXQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGEsbCxuLnRvLngsdikpKSwoXCJjb250ZW50XCI9PT1kfHxcImJvdGhcIj09PWQpJiZuLmZyb20ueSE9PW4udG8ueSYmKF89dC5lZmZlY3RzLnNldFRyYW5zaXRpb24oYSxyLG4uZnJvbS55LF8pLHY9dC5lZmZlY3RzLnNldFRyYW5zaXRpb24oYSxyLG4udG8ueSx2KSkscCYmKHM9dC5lZmZlY3RzLmdldEJhc2VsaW5lKHAsbSksXy50b3A9KG0ub3V0ZXJIZWlnaHQtXy5vdXRlckhlaWdodCkqcy55K2cudG9wLF8ubGVmdD0obS5vdXRlcldpZHRoLV8ub3V0ZXJXaWR0aCkqcy54K2cubGVmdCx2LnRvcD0obS5vdXRlckhlaWdodC12Lm91dGVySGVpZ2h0KSpzLnkrZy50b3Asdi5sZWZ0PShtLm91dGVyV2lkdGgtdi5vdXRlcldpZHRoKSpzLngrZy5sZWZ0KSxhLmNzcyhfKSwoXCJjb250ZW50XCI9PT1kfHxcImJvdGhcIj09PWQpJiYoaD1oLmNvbmNhdChbXCJtYXJnaW5Ub3BcIixcIm1hcmdpbkJvdHRvbVwiXSkuY29uY2F0KHIpLGw9bC5jb25jYXQoW1wibWFyZ2luTGVmdFwiLFwibWFyZ2luUmlnaHRcIl0pLGEuZmluZChcIipbd2lkdGhdXCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgaT10KHRoaXMpLHM9dC5lZmZlY3RzLnNjYWxlZERpbWVuc2lvbnMoaSksbz17aGVpZ2h0OnMuaGVpZ2h0Km4uZnJvbS55LHdpZHRoOnMud2lkdGgqbi5mcm9tLngsb3V0ZXJIZWlnaHQ6cy5vdXRlckhlaWdodCpuLmZyb20ueSxvdXRlcldpZHRoOnMub3V0ZXJXaWR0aCpuLmZyb20ueH0sYT17aGVpZ2h0OnMuaGVpZ2h0Km4udG8ueSx3aWR0aDpzLndpZHRoKm4udG8ueCxvdXRlckhlaWdodDpzLmhlaWdodCpuLnRvLnksb3V0ZXJXaWR0aDpzLndpZHRoKm4udG8ueH07bi5mcm9tLnkhPT1uLnRvLnkmJihvPXQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGksaCxuLmZyb20ueSxvKSxhPXQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGksaCxuLnRvLnksYSkpLG4uZnJvbS54IT09bi50by54JiYobz10LmVmZmVjdHMuc2V0VHJhbnNpdGlvbihpLGwsbi5mcm9tLngsbyksYT10LmVmZmVjdHMuc2V0VHJhbnNpdGlvbihpLGwsbi50by54LGEpKSx1JiZ0LmVmZmVjdHMuc2F2ZVN0eWxlKGkpLGkuY3NzKG8pLGkuYW5pbWF0ZShhLGUuZHVyYXRpb24sZS5lYXNpbmcsZnVuY3Rpb24oKXt1JiZ0LmVmZmVjdHMucmVzdG9yZVN0eWxlKGkpfSl9KSksYS5hbmltYXRlKHYse3F1ZXVlOiExLGR1cmF0aW9uOmUuZHVyYXRpb24sZWFzaW5nOmUuZWFzaW5nLGNvbXBsZXRlOmZ1bmN0aW9uKCl7dmFyIGU9YS5vZmZzZXQoKTswPT09di5vcGFjaXR5JiZhLmNzcyhcIm9wYWNpdHlcIixfLm9wYWNpdHkpLHV8fChhLmNzcyhcInBvc2l0aW9uXCIsXCJzdGF0aWNcIj09PWY/XCJyZWxhdGl2ZVwiOmYpLm9mZnNldChlKSx0LmVmZmVjdHMuc2F2ZVN0eWxlKGEpKSxpKCl9fSl9KSx0LmVmZmVjdHMuZGVmaW5lKFwic2NhbGVcIixmdW5jdGlvbihlLGkpe3ZhciBzPXQodGhpcyksbj1lLm1vZGUsbz1wYXJzZUludChlLnBlcmNlbnQsMTApfHwoMD09PXBhcnNlSW50KGUucGVyY2VudCwxMCk/MDpcImVmZmVjdFwiIT09bj8wOjEwMCksYT10LmV4dGVuZCghMCx7ZnJvbTp0LmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyhzKSx0bzp0LmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyhzLG8sZS5kaXJlY3Rpb258fFwiYm90aFwiKSxvcmlnaW46ZS5vcmlnaW58fFtcIm1pZGRsZVwiLFwiY2VudGVyXCJdfSxlKTtlLmZhZGUmJihhLmZyb20ub3BhY2l0eT0xLGEudG8ub3BhY2l0eT0wKSx0LmVmZmVjdHMuZWZmZWN0LnNpemUuY2FsbCh0aGlzLGEsaSl9KSx0LmVmZmVjdHMuZGVmaW5lKFwicHVmZlwiLFwiaGlkZVwiLGZ1bmN0aW9uKGUsaSl7dmFyIHM9dC5leHRlbmQoITAse30sZSx7ZmFkZTohMCxwZXJjZW50OnBhcnNlSW50KGUucGVyY2VudCwxMCl8fDE1MH0pO3QuZWZmZWN0cy5lZmZlY3Quc2NhbGUuY2FsbCh0aGlzLHMsaSl9KSx0LmVmZmVjdHMuZGVmaW5lKFwicHVsc2F0ZVwiLFwic2hvd1wiLGZ1bmN0aW9uKGUsaSl7dmFyIHM9dCh0aGlzKSxuPWUubW9kZSxvPVwic2hvd1wiPT09bixhPVwiaGlkZVwiPT09bixyPW98fGEsaD0yKihlLnRpbWVzfHw1KSsocj8xOjApLGw9ZS5kdXJhdGlvbi9oLGM9MCx1PTEsZD1zLnF1ZXVlKCkubGVuZ3RoO2Zvcigob3x8IXMuaXMoXCI6dmlzaWJsZVwiKSkmJihzLmNzcyhcIm9wYWNpdHlcIiwwKS5zaG93KCksYz0xKTtoPnU7dSsrKXMuYW5pbWF0ZSh7b3BhY2l0eTpjfSxsLGUuZWFzaW5nKSxjPTEtYztzLmFuaW1hdGUoe29wYWNpdHk6Y30sbCxlLmVhc2luZykscy5xdWV1ZShpKSx0LmVmZmVjdHMudW5zaGlmdChzLGQsaCsxKX0pLHQuZWZmZWN0cy5kZWZpbmUoXCJzaGFrZVwiLGZ1bmN0aW9uKGUsaSl7dmFyIHM9MSxuPXQodGhpcyksbz1lLmRpcmVjdGlvbnx8XCJsZWZ0XCIsYT1lLmRpc3RhbmNlfHwyMCxyPWUudGltZXN8fDMsaD0yKnIrMSxsPU1hdGgucm91bmQoZS5kdXJhdGlvbi9oKSxjPVwidXBcIj09PW98fFwiZG93blwiPT09bz9cInRvcFwiOlwibGVmdFwiLHU9XCJ1cFwiPT09b3x8XCJsZWZ0XCI9PT1vLGQ9e30scD17fSxmPXt9LGc9bi5xdWV1ZSgpLmxlbmd0aDtmb3IodC5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKG4pLGRbY109KHU/XCItPVwiOlwiKz1cIikrYSxwW2NdPSh1P1wiKz1cIjpcIi09XCIpKzIqYSxmW2NdPSh1P1wiLT1cIjpcIis9XCIpKzIqYSxuLmFuaW1hdGUoZCxsLGUuZWFzaW5nKTtyPnM7cysrKW4uYW5pbWF0ZShwLGwsZS5lYXNpbmcpLmFuaW1hdGUoZixsLGUuZWFzaW5nKTtuLmFuaW1hdGUocCxsLGUuZWFzaW5nKS5hbmltYXRlKGQsbC8yLGUuZWFzaW5nKS5xdWV1ZShpKSx0LmVmZmVjdHMudW5zaGlmdChuLGcsaCsxKX0pLHQuZWZmZWN0cy5kZWZpbmUoXCJzbGlkZVwiLFwic2hvd1wiLGZ1bmN0aW9uKGUsaSl7dmFyIHMsbixvPXQodGhpcyksYT17dXA6W1wiYm90dG9tXCIsXCJ0b3BcIl0sZG93bjpbXCJ0b3BcIixcImJvdHRvbVwiXSxsZWZ0OltcInJpZ2h0XCIsXCJsZWZ0XCJdLHJpZ2h0OltcImxlZnRcIixcInJpZ2h0XCJdfSxyPWUubW9kZSxoPWUuZGlyZWN0aW9ufHxcImxlZnRcIixsPVwidXBcIj09PWh8fFwiZG93blwiPT09aD9cInRvcFwiOlwibGVmdFwiLGM9XCJ1cFwiPT09aHx8XCJsZWZ0XCI9PT1oLHU9ZS5kaXN0YW5jZXx8b1tcInRvcFwiPT09bD9cIm91dGVySGVpZ2h0XCI6XCJvdXRlcldpZHRoXCJdKCEwKSxkPXt9O3QuZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlcihvKSxzPW8uY3NzQ2xpcCgpLG49by5wb3NpdGlvbigpW2xdLGRbbF09KGM/LTE6MSkqdStuLGQuY2xpcD1vLmNzc0NsaXAoKSxkLmNsaXBbYVtoXVsxXV09ZC5jbGlwW2FbaF1bMF1dLFwic2hvd1wiPT09ciYmKG8uY3NzQ2xpcChkLmNsaXApLG8uY3NzKGwsZFtsXSksZC5jbGlwPXMsZFtsXT1uKSxvLmFuaW1hdGUoZCx7cXVldWU6ITEsZHVyYXRpb246ZS5kdXJhdGlvbixlYXNpbmc6ZS5lYXNpbmcsY29tcGxldGU6aX0pfSk7dmFyIHY7dC51aUJhY2tDb21wYXQhPT0hMSYmKHY9dC5lZmZlY3RzLmRlZmluZShcInRyYW5zZmVyXCIsZnVuY3Rpb24oZSxpKXt0KHRoaXMpLnRyYW5zZmVyKGUsaSl9KSl9KTsiLCIvKiFcclxuICogalF1ZXJ5IFVJIFRvdWNoIFB1bmNoIDAuMi4zXHJcbiAqXHJcbiAqIENvcHlyaWdodCAyMDEx4oCTMjAxNCwgRGF2ZSBGdXJmZXJvXHJcbiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLlxyXG4gKlxyXG4gKiBEZXBlbmRzOlxyXG4gKiAganF1ZXJ5LnVpLndpZGdldC5qc1xyXG4gKiAganF1ZXJ5LnVpLm1vdXNlLmpzXHJcbiAqL1xyXG4hZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZihhLGIpe2lmKCEoYS5vcmlnaW5hbEV2ZW50LnRvdWNoZXMubGVuZ3RoPjEpKXthLnByZXZlbnREZWZhdWx0KCk7dmFyIGM9YS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLGQ9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJNb3VzZUV2ZW50c1wiKTtkLmluaXRNb3VzZUV2ZW50KGIsITAsITAsd2luZG93LDEsYy5zY3JlZW5YLGMuc2NyZWVuWSxjLmNsaWVudFgsYy5jbGllbnRZLCExLCExLCExLCExLDAsbnVsbCksYS50YXJnZXQuZGlzcGF0Y2hFdmVudChkKX19aWYoYS5zdXBwb3J0LnRvdWNoPVwib250b3VjaGVuZFwiaW4gZG9jdW1lbnQsYS5zdXBwb3J0LnRvdWNoKXt2YXIgZSxiPWEudWkubW91c2UucHJvdG90eXBlLGM9Yi5fbW91c2VJbml0LGQ9Yi5fbW91c2VEZXN0cm95O2IuX3RvdWNoU3RhcnQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczshZSYmYi5fbW91c2VDYXB0dXJlKGEub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXSkmJihlPSEwLGIuX3RvdWNoTW92ZWQ9ITEsZihhLFwibW91c2VvdmVyXCIpLGYoYSxcIm1vdXNlbW92ZVwiKSxmKGEsXCJtb3VzZWRvd25cIikpfSxiLl90b3VjaE1vdmU9ZnVuY3Rpb24oYSl7ZSYmKHRoaXMuX3RvdWNoTW92ZWQ9ITAsZihhLFwibW91c2Vtb3ZlXCIpKX0sYi5fdG91Y2hFbmQ9ZnVuY3Rpb24oYSl7ZSYmKGYoYSxcIm1vdXNldXBcIiksZihhLFwibW91c2VvdXRcIiksdGhpcy5fdG91Y2hNb3ZlZHx8ZihhLFwiY2xpY2tcIiksZT0hMSl9LGIuX21vdXNlSW5pdD1mdW5jdGlvbigpe3ZhciBiPXRoaXM7Yi5lbGVtZW50LmJpbmQoe3RvdWNoc3RhcnQ6YS5wcm94eShiLFwiX3RvdWNoU3RhcnRcIiksdG91Y2htb3ZlOmEucHJveHkoYixcIl90b3VjaE1vdmVcIiksdG91Y2hlbmQ6YS5wcm94eShiLFwiX3RvdWNoRW5kXCIpfSksYy5jYWxsKGIpfSxiLl9tb3VzZURlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgYj10aGlzO2IuZWxlbWVudC51bmJpbmQoe3RvdWNoc3RhcnQ6YS5wcm94eShiLFwiX3RvdWNoU3RhcnRcIiksdG91Y2htb3ZlOmEucHJveHkoYixcIl90b3VjaE1vdmVcIiksdG91Y2hlbmQ6YS5wcm94eShiLFwiX3RvdWNoRW5kXCIpfSksZC5jYWxsKGIpfX19KGpRdWVyeSk7IiwiXHJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcblNDT1JNIHdyYXBwZXIgdjEuMS43IGJ5IFBoaWxpcCBIdXRjaGlzb24sIE1heSAyMDA4IChodHRwOi8vcGlwd2Vya3MuY29tKS5cclxuXHJcbkNvcHlyaWdodCAoYykgMjAwOCBQaGlsaXAgSHV0Y2hpc29uXHJcbk1JVC1zdHlsZSBsaWNlbnNlLiBGdWxsIGxpY2Vuc2UgdGV4dCBjYW4gYmUgZm91bmQgYXQgXHJcbmh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblxyXG5UaGlzIHdyYXBwZXIgaXMgZGVzaWduZWQgdG8gd29yayB3aXRoIGJvdGggU0NPUk0gMS4yIGFuZCBTQ09STSAyMDA0LlxyXG5cclxuQmFzZWQgb24gQVBJV3JhcHBlci5qcywgY3JlYXRlZCBieSB0aGUgQURMIGFuZCBDb25jdXJyZW50IFRlY2hub2xvZ2llc1xyXG5Db3Jwb3JhdGlvbiwgZGlzdHJpYnV0ZWQgYnkgdGhlIEFETCAoaHR0cDovL3d3dy5hZGxuZXQuZ292L3Njb3JtKS5cclxuXHJcblNDT1JNLkFQSS5maW5kKCkgYW5kIFNDT1JNLkFQSS5nZXQoKSBmdW5jdGlvbnMgYmFzZWQgb24gQURMIGNvZGUsXHJcbm1vZGlmaWVkIGJ5IE1pa2UgUnVzdGljaSAoaHR0cDovL3d3dy5zY29ybS5jb20vcmVzb3VyY2VzL2FwaWZpbmRlci9TQ09STUFQSUZpbmRlci5odG0pLFxyXG5mdXJ0aGVyIG1vZGlmaWVkIGJ5IFBoaWxpcCBIdXRjaGlzb25cclxuXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuXHJcblxyXG52YXIgcGlwd2Vya3MgPSB7fTtcdFx0XHRcdFx0XHRcdFx0XHQvL3BpcHdlcmtzICduYW1lc3BhY2UnIGhlbHBzIGVuc3VyZSBubyBjb25mbGljdHMgd2l0aCBwb3NzaWJsZSBvdGhlciBcIlNDT1JNXCIgdmFyaWFibGVzXHJcbnBpcHdlcmtzLlVUSUxTID0ge307XHRcdFx0XHRcdFx0XHRcdC8vRm9yIGhvbGRpbmcgVVRJTFMgZnVuY3Rpb25zXHJcbnBpcHdlcmtzLmRlYnVnID0geyBpc0FjdGl2ZTogdHJ1ZSB9OyBcdFx0XHRcdC8vRW5hYmxlICh0cnVlKSBvciBkaXNhYmxlIChmYWxzZSkgZm9yIGRlYnVnIG1vZGVcclxuXHJcbnBpcHdlcmtzLlNDT1JNID0ge1x0XHRcdFx0XHRcdFx0XHRcdC8vRGVmaW5lIHRoZSBTQ09STSBvYmplY3RcclxuICAgIHZlcnNpb246IFwiMS4yXCIsICAgICAgICAgICAgICBcdFx0XHQgICAgLy9TdG9yZSBTQ09STSB2ZXJzaW9uLlxyXG4gICAgaGFuZGxlQ29tcGxldGlvblN0YXR1czogdHJ1ZSxcdFx0XHRcdFx0Ly9XaGV0aGVyIG9yIG5vdCB0aGUgd3JhcHBlciBzaG91bGQgYXV0b21hdGljYWxseSBoYW5kbGUgdGhlIGluaXRpYWwgY29tcGxldGlvbiBzdGF0dXNcclxuICAgIGhhbmRsZUV4aXRNb2RlOiB0cnVlLFx0XHRcdFx0XHRcdFx0Ly9XaGV0aGVyIG9yIG5vdCB0aGUgd3JhcHBlciBzaG91bGQgYXV0b21hdGljYWxseSBoYW5kbGUgdGhlIGV4aXQgbW9kZVxyXG4gICAgQVBJOiB7XHJcbiAgICAgICAgaGFuZGxlOiBudWxsLFxyXG4gICAgICAgIGlzRm91bmQ6IGZhbHNlXHJcbiAgICB9LFx0XHRcdFx0XHQvL0NyZWF0ZSBBUEkgY2hpbGQgb2JqZWN0XHJcbiAgICBjb25uZWN0aW9uOiB7IGlzQWN0aXZlOiBmYWxzZSB9LFx0XHRcdFx0Ly9DcmVhdGUgY29ubmVjdGlvbiBjaGlsZCBvYmplY3RcclxuICAgIGRhdGE6IHtcclxuICAgICAgICBjb21wbGV0aW9uU3RhdHVzOiBudWxsLFxyXG4gICAgICAgIGV4aXRTdGF0dXM6IG51bGxcclxuICAgIH0sXHRcdFx0XHQvL0NyZWF0ZSBkYXRhIGNoaWxkIG9iamVjdFxyXG4gICAgZGVidWc6IHt9ICAgICAgICAgICAgICAgICBcdFx0XHRcdFx0Ly9DcmVhdGUgZGVidWcgY2hpbGQgb2JqZWN0XHJcbn07XHJcblxyXG5cclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIHBpcHdlcmtzLlNDT1JNLmlzQXZhaWxhYmxlXHJcbiAgIEEgc2ltcGxlIGZ1bmN0aW9uIHRvIGFsbG93IEZsYXNoIEV4dGVybmFsSW50ZXJmYWNlIHRvIGNvbmZpcm0gXHJcbiAgIHByZXNlbmNlIG9mIEpTIHdyYXBwZXIgYmVmb3JlIGF0dGVtcHRpbmcgYW55IExNUyBjb21tdW5pY2F0aW9uLlxyXG5cclxuICAgUGFyYW1ldGVyczogbm9uZVxyXG4gICBSZXR1cm5zOiAgICBCb29sZWFuICh0cnVlKVxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxucGlwd2Vya3MuU0NPUk0uaXNBdmFpbGFibGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcblxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xyXG4vLyAtLS0gU0NPUk0uQVBJIGZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cclxuXHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIHBpcHdlcmtzLlNDT1JNLkFQSS5maW5kKHdpbmRvdylcclxuICAgTG9va3MgZm9yIGFuIG9iamVjdCBuYW1lZCBBUEkgaW4gcGFyZW50IGFuZCBvcGVuZXIgd2luZG93c1xyXG4gICBcclxuICAgUGFyYW1ldGVyczogd2luZG93ICh0aGUgYnJvd3NlciB3aW5kb3cgb2JqZWN0KS5cclxuICAgUmV0dXJuczogICAgT2JqZWN0IGlmIEFQSSBpcyBmb3VuZCwgbnVsbCBpZiBubyBBUEkgZm91bmRcclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxucGlwd2Vya3MuU0NPUk0uQVBJLmZpbmQgPSBmdW5jdGlvbiAod2luKSB7XHJcblxyXG4gICAgdmFyIEFQSSA9IG51bGwsXHJcbiAgICAgICAgZmluZEF0dGVtcHRzID0gMCxcclxuICAgICAgICBmaW5kQXR0ZW1wdExpbWl0ID0gNTAwLFxyXG4gICAgICAgIHRyYWNlTXNnUHJlZml4ID0gXCJTQ09STS5BUEkuZmluZFwiLFxyXG4gICAgICAgIHRyYWNlID0gcGlwd2Vya3MuVVRJTFMudHJhY2UsXHJcbiAgICAgICAgc2Nvcm0gPSBwaXB3ZXJrcy5TQ09STTtcclxuXHJcbiAgICB3aGlsZSAoKCF3aW4uQVBJICYmICF3aW4uQVBJXzE0ODRfMTEpICYmXHJcbiAgICAgICAgKHdpbi5wYXJlbnQpICYmXHJcbiAgICAgICAgKHdpbi5wYXJlbnQgIT0gd2luKSAmJlxyXG4gICAgICAgIChmaW5kQXR0ZW1wdHMgPD0gZmluZEF0dGVtcHRMaW1pdCkpIHtcclxuXHJcbiAgICAgICAgZmluZEF0dGVtcHRzKys7XHJcbiAgICAgICAgd2luID0gd2luLnBhcmVudDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNjb3JtLnZlcnNpb24pIHtcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly9JZiBTQ09STSB2ZXJzaW9uIGlzIHNwZWNpZmllZCBieSB1c2VyLCBsb29rIGZvciBzcGVjaWZpYyBBUElcclxuXHJcbiAgICAgICAgc3dpdGNoIChzY29ybS52ZXJzaW9uKSB7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFwiMjAwNFwiOlxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh3aW4uQVBJXzE0ODRfMTEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgQVBJID0gd2luLkFQSV8xNDg0XzExO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRyYWNlKHRyYWNlTXNnUHJlZml4ICsgXCI6IFNDT1JNIHZlcnNpb24gMjAwNCB3YXMgc3BlY2lmaWVkIGJ5IHVzZXIsIGJ1dCBBUElfMTQ4NF8xMSBjYW5ub3QgYmUgZm91bmQuXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCIxLjJcIjpcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAod2luLkFQSSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBBUEkgPSB3aW4uQVBJO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRyYWNlKHRyYWNlTXNnUHJlZml4ICsgXCI6IFNDT1JNIHZlcnNpb24gMS4yIHdhcyBzcGVjaWZpZWQgYnkgdXNlciwgYnV0IEFQSSBjYW5ub3QgYmUgZm91bmQuXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0gZWxzZSB7XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvL0lmIFNDT1JNIHZlcnNpb24gbm90IHNwZWNpZmllZCBieSB1c2VyLCBsb29rIGZvciBBUElzXHJcblxyXG4gICAgICAgIGlmICh3aW4uQVBJXzE0ODRfMTEpIHtcdFx0XHRcdFx0XHRcdFx0XHQvL1NDT1JNIDIwMDQtc3BlY2lmaWMgQVBJLlxyXG5cclxuICAgICAgICAgICAgc2Nvcm0udmVyc2lvbiA9IFwiMjAwNFwiO1x0XHRcdFx0XHRcdFx0XHQvL1NldCB2ZXJzaW9uXHJcbiAgICAgICAgICAgIEFQSSA9IHdpbi5BUElfMTQ4NF8xMTtcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmICh3aW4uQVBJKSB7XHRcdFx0XHRcdFx0XHRcdFx0XHQvL1NDT1JNIDEuMi1zcGVjaWZpYyBBUElcclxuXHJcbiAgICAgICAgICAgIHNjb3JtLnZlcnNpb24gPSBcIjEuMlwiO1x0XHRcdFx0XHRcdFx0XHQvL1NldCB2ZXJzaW9uXHJcbiAgICAgICAgICAgIEFQSSA9IHdpbi5BUEk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKEFQSSkge1xyXG5cclxuICAgICAgICB0cmFjZSh0cmFjZU1zZ1ByZWZpeCArIFwiOiBBUEkgZm91bmQuIFZlcnNpb246IFwiICsgc2Nvcm0udmVyc2lvbik7XHJcbiAgICAgICAgdHJhY2UoXCJBUEk6IFwiICsgQVBJKTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICB0cmFjZSh0cmFjZU1zZ1ByZWZpeCArIFwiOiBFcnJvciBmaW5kaW5nIEFQSS4gXFxuRmluZCBhdHRlbXB0czogXCIgKyBmaW5kQXR0ZW1wdHMgKyBcIi4gXFxuRmluZCBhdHRlbXB0IGxpbWl0OiBcIiArIGZpbmRBdHRlbXB0TGltaXQpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gQVBJO1xyXG5cclxufTtcclxuXHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIHBpcHdlcmtzLlNDT1JNLkFQSS5nZXQoKVxyXG4gICBMb29rcyBmb3IgYW4gb2JqZWN0IG5hbWVkIEFQSSwgZmlyc3QgaW4gdGhlIGN1cnJlbnQgd2luZG93J3MgZnJhbWVcclxuICAgaGllcmFyY2h5IGFuZCB0aGVuLCBpZiBuZWNlc3NhcnksIGluIHRoZSBjdXJyZW50IHdpbmRvdydzIG9wZW5lciB3aW5kb3dcclxuICAgaGllcmFyY2h5IChpZiB0aGVyZSBpcyBhbiBvcGVuZXIgd2luZG93KS5cclxuXHJcbiAgIFBhcmFtZXRlcnM6ICBOb25lLiBcclxuICAgUmV0dXJuczogICAgIE9iamVjdCBpZiBBUEkgZm91bmQsIG51bGwgaWYgbm8gQVBJIGZvdW5kXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbnBpcHdlcmtzLlNDT1JNLkFQSS5nZXQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgdmFyIEFQSSA9IG51bGwsXHJcbiAgICAgICAgd2luID0gd2luZG93LFxyXG4gICAgICAgIGZpbmQgPSBwaXB3ZXJrcy5TQ09STS5BUEkuZmluZCxcclxuICAgICAgICB0cmFjZSA9IHBpcHdlcmtzLlVUSUxTLnRyYWNlO1xyXG5cclxuICAgIGlmICh3aW4ucGFyZW50ICYmIHdpbi5wYXJlbnQgIT0gd2luKSB7XHJcblxyXG4gICAgICAgIEFQSSA9IGZpbmQod2luLnBhcmVudCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGlmICghQVBJICYmIHdpbi50b3Aub3BlbmVyKSB7XHJcblxyXG4gICAgICAgIEFQSSA9IGZpbmQod2luLnRvcC5vcGVuZXIpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBpZiAoQVBJKSB7XHJcblxyXG4gICAgICAgIHBpcHdlcmtzLlNDT1JNLkFQSS5pc0ZvdW5kID0gdHJ1ZTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICB0cmFjZShcIkFQSS5nZXQgZmFpbGVkOiBDYW4ndCBmaW5kIHRoZSBBUEkhXCIpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gQVBJO1xyXG5cclxufTtcclxuXHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIHBpcHdlcmtzLlNDT1JNLkFQSS5nZXRIYW5kbGUoKVxyXG4gICBSZXR1cm5zIHRoZSBoYW5kbGUgdG8gQVBJIG9iamVjdCBpZiBpdCB3YXMgcHJldmlvdXNseSBzZXRcclxuXHJcbiAgIFBhcmFtZXRlcnM6ICBOb25lLlxyXG4gICBSZXR1cm5zOiAgICAgT2JqZWN0ICh0aGUgcGlwd2Vya3MuU0NPUk0uQVBJLmhhbmRsZSB2YXJpYWJsZSkuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbnBpcHdlcmtzLlNDT1JNLkFQSS5nZXRIYW5kbGUgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgdmFyIEFQSSA9IHBpcHdlcmtzLlNDT1JNLkFQSTtcclxuXHJcbiAgICBpZiAoIUFQSS5oYW5kbGUgJiYgIUFQSS5pc0ZvdW5kKSB7XHJcblxyXG4gICAgICAgIEFQSS5oYW5kbGUgPSBBUEkuZ2V0KCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBBUEkuaGFuZGxlO1xyXG5cclxufTtcclxuXHJcblxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xyXG4vLyAtLS0gcGlwd2Vya3MuU0NPUk0uY29ubmVjdGlvbiBmdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cclxuXHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIHBpcHdlcmtzLlNDT1JNLmNvbm5lY3Rpb24uaW5pdGlhbGl6ZSgpXHJcbiAgIFRlbGxzIHRoZSBMTVMgdG8gaW5pdGlhdGUgdGhlIGNvbW11bmljYXRpb24gc2Vzc2lvbi5cclxuXHJcbiAgIFBhcmFtZXRlcnM6ICBOb25lXHJcbiAgIFJldHVybnM6ICAgICBCb29sZWFuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbnBpcHdlcmtzLlNDT1JNLmNvbm5lY3Rpb24uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB2YXIgc3VjY2VzcyA9IGZhbHNlLFxyXG4gICAgICAgIHNjb3JtID0gcGlwd2Vya3MuU0NPUk0sXHJcbiAgICAgICAgY29tcGxldGlvblN0YXR1cyA9IHBpcHdlcmtzLlNDT1JNLmRhdGEuY29tcGxldGlvblN0YXR1cyxcclxuICAgICAgICB0cmFjZSA9IHBpcHdlcmtzLlVUSUxTLnRyYWNlLFxyXG4gICAgICAgIG1ha2VCb29sZWFuID0gcGlwd2Vya3MuVVRJTFMuU3RyaW5nVG9Cb29sZWFuLFxyXG4gICAgICAgIGRlYnVnID0gcGlwd2Vya3MuU0NPUk0uZGVidWcsXHJcbiAgICAgICAgdHJhY2VNc2dQcmVmaXggPSBcIlNDT1JNLmNvbm5lY3Rpb24uaW5pdGlhbGl6ZSBcIjtcclxuXHJcbiAgICB0cmFjZShcImNvbm5lY3Rpb24uaW5pdGlhbGl6ZSBjYWxsZWQuXCIpO1xyXG5cclxuICAgIGlmICghc2Nvcm0uY29ubmVjdGlvbi5pc0FjdGl2ZSkge1xyXG5cclxuICAgICAgICB2YXIgQVBJID0gc2Nvcm0uQVBJLmdldEhhbmRsZSgpLFxyXG4gICAgICAgICAgICBlcnJvckNvZGUgPSAwO1xyXG5cclxuICAgICAgICBpZiAoQVBJKSB7XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKHNjb3JtLnZlcnNpb24pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCIxLjJcIjogc3VjY2VzcyA9IG1ha2VCb29sZWFuKEFQSS5MTVNJbml0aWFsaXplKFwiXCIpKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiMjAwNFwiOiBzdWNjZXNzID0gbWFrZUJvb2xlYW4oQVBJLkluaXRpYWxpemUoXCJcIikpOyBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvL0RvdWJsZS1jaGVjayB0aGF0IGNvbm5lY3Rpb24gaXMgYWN0aXZlIGFuZCB3b3JraW5nIGJlZm9yZSByZXR1cm5pbmcgJ3RydWUnIGJvb2xlYW5cclxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSA9IGRlYnVnLmdldENvZGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3JDb2RlICE9PSBudWxsICYmIGVycm9yQ29kZSA9PT0gMCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzY29ybS5jb25uZWN0aW9uLmlzQWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3JtLmhhbmRsZUNvbXBsZXRpb25TdGF0dXMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vQXV0b21hdGljYWxseSBzZXQgbmV3IGxhdW5jaGVzIHRvIGluY29tcGxldGUgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRpb25TdGF0dXMgPSBwaXB3ZXJrcy5TQ09STS5zdGF0dXMoXCJnZXRcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGlvblN0YXR1cykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY29tcGxldGlvblN0YXR1cykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0JvdGggU0NPUk0gMS4yIGFuZCAyMDA0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5vdCBhdHRlbXB0ZWRcIjogcGlwd2Vya3MuU0NPUk0uc3RhdHVzKFwic2V0XCIsIFwiaW5jb21wbGV0ZVwiKTsgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vU0NPUk0gMjAwNCBvbmx5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVua25vd25cIjogcGlwd2Vya3MuU0NPUk0uc3RhdHVzKFwic2V0XCIsIFwiaW5jb21wbGV0ZVwiKTsgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQWRkaXRpb25hbCBvcHRpb25zLCBwcmVzZW50ZWQgaGVyZSBpbiBjYXNlIHlvdSdkIGxpa2UgdG8gdXNlIHRoZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2Nhc2UgXCJjb21wbGV0ZWRcIiAgOiBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2Nhc2UgXCJpbmNvbXBsZXRlXCIgOiBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2Nhc2UgXCJwYXNzZWRcIiAgICAgOiBicmVhaztcdC8vU0NPUk0gMS4yIG9ubHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2Nhc2UgXCJmYWlsZWRcIiAgICAgOiBicmVhaztcdC8vU0NPUk0gMS4yIG9ubHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2Nhc2UgXCJicm93c2VkXCIgICAgOiBicmVhaztcdC8vU0NPUk0gMS4yIG9ubHlcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhY2UodHJhY2VNc2dQcmVmaXggKyBcImZhaWxlZC4gXFxuRXJyb3IgY29kZTogXCIgKyBlcnJvckNvZGUgKyBcIiBcXG5FcnJvciBpbmZvOiBcIiArIGRlYnVnLmdldEluZm8oZXJyb3JDb2RlKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUgPSBkZWJ1Zy5nZXRDb2RlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yQ29kZSAhPT0gbnVsbCAmJiBlcnJvckNvZGUgIT09IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhY2UodHJhY2VNc2dQcmVmaXggKyBcImZhaWxlZC4gXFxuRXJyb3IgY29kZTogXCIgKyBlcnJvckNvZGUgKyBcIiBcXG5FcnJvciBpbmZvOiBcIiArIGRlYnVnLmdldEluZm8oZXJyb3JDb2RlKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhY2UodHJhY2VNc2dQcmVmaXggKyBcImZhaWxlZDogTm8gcmVzcG9uc2UgZnJvbSBzZXJ2ZXIuXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgdHJhY2UodHJhY2VNc2dQcmVmaXggKyBcImZhaWxlZDogQVBJIGlzIG51bGwuXCIpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgdHJhY2UodHJhY2VNc2dQcmVmaXggKyBcImFib3J0ZWQ6IENvbm5lY3Rpb24gYWxyZWFkeSBhY3RpdmUuXCIpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc3VjY2VzcztcclxuXHJcbn07XHJcblxyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICBwaXB3ZXJrcy5TQ09STS5jb25uZWN0aW9uLnRlcm1pbmF0ZSgpXHJcbiAgIFRlbGxzIHRoZSBMTVMgdG8gdGVybWluYXRlIHRoZSBjb21tdW5pY2F0aW9uIHNlc3Npb25cclxuXHJcbiAgIFBhcmFtZXRlcnM6ICBOb25lXHJcbiAgIFJldHVybnM6ICAgICBCb29sZWFuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbnBpcHdlcmtzLlNDT1JNLmNvbm5lY3Rpb24udGVybWluYXRlID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciBzdWNjZXNzID0gZmFsc2UsXHJcbiAgICAgICAgc2Nvcm0gPSBwaXB3ZXJrcy5TQ09STSxcclxuICAgICAgICBleGl0U3RhdHVzID0gcGlwd2Vya3MuU0NPUk0uZGF0YS5leGl0U3RhdHVzLFxyXG4gICAgICAgIGNvbXBsZXRpb25TdGF0dXMgPSBwaXB3ZXJrcy5TQ09STS5kYXRhLmNvbXBsZXRpb25TdGF0dXMsXHJcbiAgICAgICAgdHJhY2UgPSBwaXB3ZXJrcy5VVElMUy50cmFjZSxcclxuICAgICAgICBtYWtlQm9vbGVhbiA9IHBpcHdlcmtzLlVUSUxTLlN0cmluZ1RvQm9vbGVhbixcclxuICAgICAgICBkZWJ1ZyA9IHBpcHdlcmtzLlNDT1JNLmRlYnVnLFxyXG4gICAgICAgIHRyYWNlTXNnUHJlZml4ID0gXCJTQ09STS5jb25uZWN0aW9uLnRlcm1pbmF0ZSBcIjtcclxuXHJcblxyXG4gICAgaWYgKHNjb3JtLmNvbm5lY3Rpb24uaXNBY3RpdmUpIHtcclxuXHJcbiAgICAgICAgdmFyIEFQSSA9IHNjb3JtLkFQSS5nZXRIYW5kbGUoKSxcclxuICAgICAgICAgICAgZXJyb3JDb2RlID0gMDtcclxuXHJcbiAgICAgICAgaWYgKEFQSSkge1xyXG5cclxuICAgICAgICAgICAgaWYgKHNjb3JtLmhhbmRsZUV4aXRNb2RlICYmICFleGl0U3RhdHVzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRpb25TdGF0dXMgIT09IFwiY29tcGxldGVkXCIgJiYgY29tcGxldGlvblN0YXR1cyAhPT0gXCJwYXNzZWRcIikge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHNjb3JtLnZlcnNpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjEuMlwiOiBzdWNjZXNzID0gc2Nvcm0uc2V0KFwiY21pLmNvcmUuZXhpdFwiLCBcInN1c3BlbmRcIik7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiMjAwNFwiOiBzdWNjZXNzID0gc2Nvcm0uc2V0KFwiY21pLmV4aXRcIiwgXCJzdXNwZW5kXCIpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzY29ybS52ZXJzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIxLjJcIjogc3VjY2VzcyA9IHNjb3JtLnNldChcImNtaS5jb3JlLmV4aXRcIiwgXCJsb2dvdXRcIik7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiMjAwNFwiOiBzdWNjZXNzID0gc2Nvcm0uc2V0KFwiY21pLmV4aXRcIiwgXCJub3JtYWxcIik7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKHNjb3JtLnZlcnNpb24pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCIxLjJcIjogc3VjY2VzcyA9IG1ha2VCb29sZWFuKEFQSS5MTVNGaW5pc2goXCJcIikpOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCIyMDA0XCI6IHN1Y2Nlc3MgPSBtYWtlQm9vbGVhbihBUEkuVGVybWluYXRlKFwiXCIpKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgc2Nvcm0uY29ubmVjdGlvbi5pc0FjdGl2ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUgPSBkZWJ1Zy5nZXRDb2RlKCk7XHJcbiAgICAgICAgICAgICAgICB0cmFjZSh0cmFjZU1zZ1ByZWZpeCArIFwiZmFpbGVkLiBcXG5FcnJvciBjb2RlOiBcIiArIGVycm9yQ29kZSArIFwiIFxcbkVycm9yIGluZm86IFwiICsgZGVidWcuZ2V0SW5mbyhlcnJvckNvZGUpKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIHRyYWNlKHRyYWNlTXNnUHJlZml4ICsgXCJmYWlsZWQ6IEFQSSBpcyBudWxsLlwiKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIHRyYWNlKHRyYWNlTXNnUHJlZml4ICsgXCJhYm9ydGVkOiBDb25uZWN0aW9uIGFscmVhZHkgdGVybWluYXRlZC5cIik7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzdWNjZXNzO1xyXG5cclxufTtcclxuXHJcblxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xyXG4vLyAtLS0gcGlwd2Vya3MuU0NPUk0uZGF0YSBmdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cclxuXHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIHBpcHdlcmtzLlNDT1JNLmRhdGEuZ2V0KHBhcmFtZXRlcilcclxuICAgUmVxdWVzdHMgaW5mb3JtYXRpb24gZnJvbSB0aGUgTE1TLlxyXG5cclxuICAgUGFyYW1ldGVyOiBwYXJhbWV0ZXIgKHN0cmluZywgbmFtZSBvZiB0aGUgU0NPUk0gZGF0YSBtb2RlbCBlbGVtZW50KVxyXG4gICBSZXR1cm5zOiAgIHN0cmluZyAodGhlIHZhbHVlIG9mIHRoZSBzcGVjaWZpZWQgZGF0YSBtb2RlbCBlbGVtZW50KVxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG5waXB3ZXJrcy5TQ09STS5kYXRhLmdldCA9IGZ1bmN0aW9uIChwYXJhbWV0ZXIpIHtcclxuXHJcbiAgICB2YXIgdmFsdWUgPSBudWxsLFxyXG4gICAgICAgIHNjb3JtID0gcGlwd2Vya3MuU0NPUk0sXHJcbiAgICAgICAgdHJhY2UgPSBwaXB3ZXJrcy5VVElMUy50cmFjZSxcclxuICAgICAgICBkZWJ1ZyA9IHBpcHdlcmtzLlNDT1JNLmRlYnVnLFxyXG4gICAgICAgIHRyYWNlTXNnUHJlZml4ID0gXCJTQ09STS5kYXRhLmdldChcIiArIHBhcmFtZXRlciArIFwiKSBcIjtcclxuXHJcbiAgICBpZiAoc2Nvcm0uY29ubmVjdGlvbi5pc0FjdGl2ZSkge1xyXG5cclxuICAgICAgICB2YXIgQVBJID0gc2Nvcm0uQVBJLmdldEhhbmRsZSgpLFxyXG4gICAgICAgICAgICBlcnJvckNvZGUgPSAwO1xyXG5cclxuICAgICAgICBpZiAoQVBJKSB7XHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChzY29ybS52ZXJzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjEuMlwiOiB2YWx1ZSA9IEFQSS5MTVNHZXRWYWx1ZShwYXJhbWV0ZXIpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiMjAwNFwiOiB2YWx1ZSA9IEFQSS5HZXRWYWx1ZShwYXJhbWV0ZXIpOyBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHsgdWlDb250cm9sbGVyLnNob3dDb25FcnIoKTsgfVxyXG5cclxuICAgICAgICAgICAgZXJyb3JDb2RlID0gZGVidWcuZ2V0Q29kZSgpO1xyXG5cclxuICAgICAgICAgICAgLy9HZXRWYWx1ZSByZXR1cm5zIGFuIGVtcHR5IHN0cmluZyBvbiBlcnJvcnNcclxuICAgICAgICAgICAgLy9Eb3VibGUtY2hlY2sgZXJyb3JDb2RlIHRvIG1ha2Ugc3VyZSBlbXB0eSBzdHJpbmdcclxuICAgICAgICAgICAgLy9pcyByZWFsbHkgYW4gZXJyb3IgYW5kIG5vdCBmaWVsZCB2YWx1ZVxyXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IFwiXCIgJiYgZXJyb3JDb2RlID09PSAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChwYXJhbWV0ZXIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNtaS5jb3JlLmxlc3Nvbl9zdGF0dXNcIjpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY21pLmNvbXBsZXRpb25fc3RhdHVzXCI6IHNjb3JtLmRhdGEuY29tcGxldGlvblN0YXR1cyA9IHZhbHVlOyBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNtaS5jb3JlLmV4aXRcIjpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY21pLmV4aXRcIjogc2Nvcm0uZGF0YS5leGl0U3RhdHVzID0gdmFsdWU7IGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdHJhY2UodHJhY2VNc2dQcmVmaXggKyBcImZhaWxlZC4gXFxuRXJyb3IgY29kZTogXCIgKyBlcnJvckNvZGUgKyBcIlxcbkVycm9yIGluZm86IFwiICsgZGVidWcuZ2V0SW5mbyhlcnJvckNvZGUpKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIHRyYWNlKHRyYWNlTXNnUHJlZml4ICsgXCJmYWlsZWQ6IEFQSSBpcyBudWxsLlwiKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIHRyYWNlKHRyYWNlTXNnUHJlZml4ICsgXCJmYWlsZWQ6IEFQSSBjb25uZWN0aW9uIGlzIGluYWN0aXZlLlwiKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdHJhY2UodHJhY2VNc2dQcmVmaXggKyBcIiB2YWx1ZTogXCIgKyB2YWx1ZSk7XHJcblxyXG4gICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XHJcblxyXG59O1xyXG5cclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgcGlwd2Vya3MuU0NPUk0uZGF0YS5zZXQoKVxyXG4gICBUZWxscyB0aGUgTE1TIHRvIGFzc2lnbiB0aGUgdmFsdWUgdG8gdGhlIG5hbWVkIGRhdGEgbW9kZWwgZWxlbWVudC5cclxuICAgQWxzbyBzdG9yZXMgdGhlIFNDTydzIGNvbXBsZXRpb24gc3RhdHVzIGluIGEgdmFyaWFibGUgbmFtZWRcclxuICAgcGlwd2Vya3MuU0NPUk0uZGF0YS5jb21wbGV0aW9uU3RhdHVzLiBUaGlzIHZhcmlhYmxlIGlzIGNoZWNrZWQgd2hlbmV2ZXJcclxuICAgcGlwd2Vya3MuU0NPUk0uY29ubmVjdGlvbi50ZXJtaW5hdGUoKSBpcyBpbnZva2VkLlxyXG5cclxuICAgUGFyYW1ldGVyczogcGFyYW1ldGVyIChzdHJpbmcpLiBUaGUgZGF0YSBtb2RlbCBlbGVtZW50XHJcbiAgICAgICAgICAgICAgIHZhbHVlIChzdHJpbmcpLiBUaGUgdmFsdWUgZm9yIHRoZSBkYXRhIG1vZGVsIGVsZW1lbnRcclxuICAgUmV0dXJuczogICAgQm9vbGVhblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG5waXB3ZXJrcy5TQ09STS5kYXRhLnNldCA9IGZ1bmN0aW9uIChwYXJhbWV0ZXIsIHZhbHVlKSB7XHJcblxyXG4gICAgdmFyIHN1Y2Nlc3MgPSBmYWxzZSxcclxuICAgICAgICBzY29ybSA9IHBpcHdlcmtzLlNDT1JNLFxyXG4gICAgICAgIHRyYWNlID0gcGlwd2Vya3MuVVRJTFMudHJhY2UsXHJcbiAgICAgICAgbWFrZUJvb2xlYW4gPSBwaXB3ZXJrcy5VVElMUy5TdHJpbmdUb0Jvb2xlYW4sXHJcbiAgICAgICAgZGVidWcgPSBwaXB3ZXJrcy5TQ09STS5kZWJ1ZyxcclxuICAgICAgICB0cmFjZU1zZ1ByZWZpeCA9IFwiU0NPUk0uZGF0YS5zZXQoXCIgKyBwYXJhbWV0ZXIgKyBcIikgXCI7XHJcblxyXG5cclxuICAgIGlmIChzY29ybS5jb25uZWN0aW9uLmlzQWN0aXZlKSB7XHJcblxyXG4gICAgICAgIHZhciBBUEkgPSBzY29ybS5BUEkuZ2V0SGFuZGxlKCksXHJcbiAgICAgICAgICAgIGVycm9yQ29kZSA9IDA7XHJcblxyXG4gICAgICAgIGlmIChBUEkpIHtcclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHNjb3JtLnZlcnNpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiMS4yXCI6IHN1Y2Nlc3MgPSBtYWtlQm9vbGVhbihBUEkuTE1TU2V0VmFsdWUocGFyYW1ldGVyLCB2YWx1ZSkpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiMjAwNFwiOiBzdWNjZXNzID0gbWFrZUJvb2xlYW4oQVBJLlNldFZhbHVlKHBhcmFtZXRlciwgdmFsdWUpKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7IHVpQ29udHJvbGxlci5zaG93Q29uRXJyKCk7IH1cclxuXHJcbiAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtZXRlciA9PT0gXCJjbWkuY29yZS5sZXNzb25fc3RhdHVzXCIgfHwgcGFyYW1ldGVyID09PSBcImNtaS5jb21wbGV0aW9uX3N0YXR1c1wiKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3JtLmRhdGEuY29tcGxldGlvblN0YXR1cyA9IHZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdHJhY2UodHJhY2VNc2dQcmVmaXggKyBcImZhaWxlZC4gXFxuRXJyb3IgY29kZTogXCIgKyBlcnJvckNvZGUgKyBcIi4gXFxuRXJyb3IgaW5mbzogXCIgKyBkZWJ1Zy5nZXRJbmZvKGVycm9yQ29kZSkpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgdHJhY2UodHJhY2VNc2dQcmVmaXggKyBcImZhaWxlZDogQVBJIGlzIG51bGwuXCIpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgdHJhY2UodHJhY2VNc2dQcmVmaXggKyBcImZhaWxlZDogQVBJIGNvbm5lY3Rpb24gaXMgaW5hY3RpdmUuXCIpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc3VjY2VzcztcclxuXHJcbn07XHJcblxyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICBwaXB3ZXJrcy5TQ09STS5kYXRhLnNhdmUoKVxyXG4gICBJbnN0cnVjdHMgdGhlIExNUyB0byBwZXJzaXN0IGFsbCBkYXRhIHRvIHRoaXMgcG9pbnQgaW4gdGhlIHNlc3Npb25cclxuXHJcbiAgIFBhcmFtZXRlcnM6IE5vbmVcclxuICAgUmV0dXJuczogICAgQm9vbGVhblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG5waXB3ZXJrcy5TQ09STS5kYXRhLnNhdmUgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgdmFyIHN1Y2Nlc3MgPSBmYWxzZSxcclxuICAgICAgICBzY29ybSA9IHBpcHdlcmtzLlNDT1JNLFxyXG4gICAgICAgIHRyYWNlID0gcGlwd2Vya3MuVVRJTFMudHJhY2UsXHJcbiAgICAgICAgbWFrZUJvb2xlYW4gPSBwaXB3ZXJrcy5VVElMUy5TdHJpbmdUb0Jvb2xlYW4sXHJcbiAgICAgICAgdHJhY2VNc2dQcmVmaXggPSBcIlNDT1JNLmRhdGEuc2F2ZSBmYWlsZWRcIjtcclxuXHJcbiAgICBpZiAoc2Nvcm0uY29ubmVjdGlvbi5pc0FjdGl2ZSkge1xyXG5cclxuICAgICAgICB2YXIgQVBJID0gc2Nvcm0uQVBJLmdldEhhbmRsZSgpO1xyXG5cclxuICAgICAgICBpZiAoQVBJKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHNjb3JtLnZlcnNpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiMS4yXCI6IHN1Y2Nlc3MgPSBtYWtlQm9vbGVhbihBUEkuTE1TQ29tbWl0KFwiXCIpKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjIwMDRcIjogc3VjY2VzcyA9IG1ha2VCb29sZWFuKEFQSS5Db21taXQoXCJcIikpOyBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHsgdWlDb250cm9sbGVyLnNob3dDb25FcnIoKTsgfVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgdHJhY2UodHJhY2VNc2dQcmVmaXggKyBcIjogQVBJIGlzIG51bGwuXCIpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgdHJhY2UodHJhY2VNc2dQcmVmaXggKyBcIjogQVBJIGNvbm5lY3Rpb24gaXMgaW5hY3RpdmUuXCIpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvL0NoZWNrIGlmIHdlIGdvdCBhbiBlcnJvclxyXG4gICAgdmFyIHNjb3JtQ29kZSA9IHBpcHdlcmtzLlNDT1JNLmRlYnVnLmdldENvZGUoKTtcclxuICAgIGNvbnNvbGUubG9nKFwiU0FWSU5HIFdJVEggQSBDT0RFIE9GIDpcIiArIHNjb3JtQ29kZSk7XHJcblxyXG4gICAgaWYgKHNjb3JtQ29kZSAhPT0gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU0hPV0lORyBDT05UUk9MTEVSIDpcIiArIHNjb3JtQ29kZSk7XHJcbiAgICAgICAgdWlDb250cm9sbGVyLnNob3dDb25FcnIoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc3VjY2VzcztcclxuXHJcbn07XHJcblxyXG5cclxucGlwd2Vya3MuU0NPUk0uc3RhdHVzID0gZnVuY3Rpb24gKGFjdGlvbiwgc3RhdHVzKSB7XHJcblxyXG4gICAgdmFyIHN1Y2Nlc3MgPSBmYWxzZSxcclxuICAgICAgICBzY29ybSA9IHBpcHdlcmtzLlNDT1JNLFxyXG4gICAgICAgIHRyYWNlID0gcGlwd2Vya3MuVVRJTFMudHJhY2UsXHJcbiAgICAgICAgdHJhY2VNc2dQcmVmaXggPSBcIlNDT1JNLmdldFN0YXR1cyBmYWlsZWRcIixcclxuICAgICAgICBjbWkgPSBcIlwiO1xyXG5cclxuICAgIGlmIChhY3Rpb24gIT09IG51bGwpIHtcclxuXHJcbiAgICAgICAgc3dpdGNoIChzY29ybS52ZXJzaW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCIxLjJcIjogY21pID0gXCJjbWkuY29yZS5sZXNzb25fc3RhdHVzXCI7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiMjAwNFwiOiBjbWkgPSBcImNtaS5jb21wbGV0aW9uX3N0YXR1c1wiOyBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN3aXRjaCAoYWN0aW9uKSB7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFwiZ2V0XCI6IHN1Y2Nlc3MgPSBwaXB3ZXJrcy5TQ09STS5kYXRhLmdldChjbWkpOyBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJzZXRcIjogaWYgKHN0YXR1cyAhPT0gbnVsbCkge1xyXG5cclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSBwaXB3ZXJrcy5TQ09STS5kYXRhLnNldChjbWksIHN0YXR1cyk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRyYWNlKHRyYWNlTXNnUHJlZml4ICsgXCI6IHN0YXR1cyB3YXMgbm90IHNwZWNpZmllZC5cIik7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OiBzdWNjZXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0cmFjZSh0cmFjZU1zZ1ByZWZpeCArIFwiOiBubyB2YWxpZCBhY3Rpb24gd2FzIHNwZWNpZmllZC5cIik7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICB0cmFjZSh0cmFjZU1zZ1ByZWZpeCArIFwiOiBhY3Rpb24gd2FzIG5vdCBzcGVjaWZpZWQuXCIpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc3VjY2VzcztcclxuXHJcbn07XHJcblxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xyXG4vLyAtLS0gcGlwd2Vya3MuU0NPUk0uZGVidWcgZnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cclxuXHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIHBpcHdlcmtzLlNDT1JNLmRlYnVnLmdldENvZGVcclxuICAgUmVxdWVzdHMgdGhlIGVycm9yIGNvZGUgZm9yIHRoZSBjdXJyZW50IGVycm9yIHN0YXRlIGZyb20gdGhlIExNU1xyXG5cclxuICAgUGFyYW1ldGVyczogTm9uZVxyXG4gICBSZXR1cm5zOiAgICBJbnRlZ2VyICh0aGUgbGFzdCBlcnJvciBjb2RlKS5cclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxucGlwd2Vya3MuU0NPUk0uZGVidWcuZ2V0Q29kZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB2YXIgQVBJID0gcGlwd2Vya3MuU0NPUk0uQVBJLmdldEhhbmRsZSgpLFxyXG4gICAgICAgIHNjb3JtID0gcGlwd2Vya3MuU0NPUk0sXHJcbiAgICAgICAgdHJhY2UgPSBwaXB3ZXJrcy5VVElMUy50cmFjZSxcclxuICAgICAgICBjb2RlID0gMDtcclxuXHJcbiAgICBpZiAoQVBJKSB7XHJcblxyXG4gICAgICAgIHN3aXRjaCAoc2Nvcm0udmVyc2lvbikge1xyXG4gICAgICAgICAgICBjYXNlIFwiMS4yXCI6IGNvZGUgPSBwYXJzZUludChBUEkuTE1TR2V0TGFzdEVycm9yKCksIDEwKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCIyMDA0XCI6IGNvZGUgPSBwYXJzZUludChBUEkuR2V0TGFzdEVycm9yKCksIDEwKTsgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIHRyYWNlKFwiU0NPUk0uZGVidWcuZ2V0Q29kZSBmYWlsZWQ6IEFQSSBpcyBudWxsLlwiKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNvZGU7XHJcblxyXG59O1xyXG5cclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgcGlwd2Vya3MuU0NPUk0uZGVidWcuZ2V0SW5mbygpXHJcbiAgIFwiVXNlZCBieSBhIFNDTyB0byByZXF1ZXN0IHRoZSB0ZXh0dWFsIGRlc2NyaXB0aW9uIGZvciB0aGUgZXJyb3IgY29kZVxyXG4gICBzcGVjaWZpZWQgYnkgdGhlIHZhbHVlIG9mIFtlcnJvckNvZGVdLlwiXHJcblxyXG4gICBQYXJhbWV0ZXJzOiBlcnJvckNvZGUgKGludGVnZXIpLiAgXHJcbiAgIFJldHVybnM6ICAgIFN0cmluZy5cclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbnBpcHdlcmtzLlNDT1JNLmRlYnVnLmdldEluZm8gPSBmdW5jdGlvbiAoZXJyb3JDb2RlKSB7XHJcblxyXG4gICAgdmFyIEFQSSA9IHBpcHdlcmtzLlNDT1JNLkFQSS5nZXRIYW5kbGUoKSxcclxuICAgICAgICBzY29ybSA9IHBpcHdlcmtzLlNDT1JNLFxyXG4gICAgICAgIHRyYWNlID0gcGlwd2Vya3MuVVRJTFMudHJhY2UsXHJcbiAgICAgICAgcmVzdWx0ID0gXCJcIjtcclxuXHJcblxyXG4gICAgaWYgKEFQSSkge1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHNjb3JtLnZlcnNpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBcIjEuMlwiOiByZXN1bHQgPSBBUEkuTE1TR2V0RXJyb3JTdHJpbmcoZXJyb3JDb2RlLnRvU3RyaW5nKCkpOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIjIwMDRcIjogcmVzdWx0ID0gQVBJLkdldEVycm9yU3RyaW5nKGVycm9yQ29kZS50b1N0cmluZygpKTsgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIHRyYWNlKFwiU0NPUk0uZGVidWcuZ2V0SW5mbyBmYWlsZWQ6IEFQSSBpcyBudWxsLlwiKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFN0cmluZyhyZXN1bHQpO1xyXG5cclxufTtcclxuXHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIHBpcHdlcmtzLlNDT1JNLmRlYnVnLmdldERpYWdub3N0aWNJbmZvXHJcbiAgIFwiRXhpc3RzIGZvciBMTVMgc3BlY2lmaWMgdXNlLiBJdCBhbGxvd3MgdGhlIExNUyB0byBkZWZpbmUgYWRkaXRpb25hbFxyXG4gICBkaWFnbm9zdGljIGluZm9ybWF0aW9uIHRocm91Z2ggdGhlIEFQSSBJbnN0YW5jZS5cIlxyXG5cclxuICAgUGFyYW1ldGVyczogZXJyb3JDb2RlIChpbnRlZ2VyKS4gIFxyXG4gICBSZXR1cm5zOiAgICBTdHJpbmcgKEFkZGl0aW9uYWwgZGlhZ25vc3RpYyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZ2l2ZW4gZXJyb3IgY29kZSkuXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbnBpcHdlcmtzLlNDT1JNLmRlYnVnLmdldERpYWdub3N0aWNJbmZvID0gZnVuY3Rpb24gKGVycm9yQ29kZSkge1xyXG5cclxuICAgIHZhciBBUEkgPSBwaXB3ZXJrcy5TQ09STS5BUEkuZ2V0SGFuZGxlKCksXHJcbiAgICAgICAgc2Nvcm0gPSBwaXB3ZXJrcy5TQ09STSxcclxuICAgICAgICB0cmFjZSA9IHBpcHdlcmtzLlVUSUxTLnRyYWNlLFxyXG4gICAgICAgIHJlc3VsdCA9IFwiXCI7XHJcblxyXG4gICAgaWYgKEFQSSkge1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHNjb3JtLnZlcnNpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBcIjEuMlwiOiByZXN1bHQgPSBBUEkuTE1TR2V0RGlhZ25vc3RpYyhlcnJvckNvZGUpOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIjIwMDRcIjogcmVzdWx0ID0gQVBJLkdldERpYWdub3N0aWMoZXJyb3JDb2RlKTsgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIHRyYWNlKFwiU0NPUk0uZGVidWcuZ2V0RGlhZ25vc3RpY0luZm8gZmFpbGVkOiBBUEkgaXMgbnVsbC5cIik7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBTdHJpbmcocmVzdWx0KTtcclxuXHJcbn07XHJcblxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xyXG4vLyAtLS0gU2hvcnRjdXRzISAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cclxuXHJcbi8vIEJlY2F1c2Ugbm9ib2R5IGxpa2VzIHR5cGluZyB2ZXJib3NlIGNvZGUuXHJcblxyXG5waXB3ZXJrcy5TQ09STS5pbml0ID0gcGlwd2Vya3MuU0NPUk0uY29ubmVjdGlvbi5pbml0aWFsaXplO1xyXG5waXB3ZXJrcy5TQ09STS5nZXQgPSBwaXB3ZXJrcy5TQ09STS5kYXRhLmdldDtcclxucGlwd2Vya3MuU0NPUk0uc2V0ID0gcGlwd2Vya3MuU0NPUk0uZGF0YS5zZXQ7XHJcbnBpcHdlcmtzLlNDT1JNLnNhdmUgPSBwaXB3ZXJrcy5TQ09STS5kYXRhLnNhdmU7XHJcbnBpcHdlcmtzLlNDT1JNLnF1aXQgPSBwaXB3ZXJrcy5TQ09STS5jb25uZWN0aW9uLnRlcm1pbmF0ZTtcclxuXHJcblxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xyXG4vLyAtLS0gcGlwd2Vya3MuVVRJTFMgZnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cclxuXHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIHBpcHdlcmtzLlVUSUxTLlN0cmluZ1RvQm9vbGVhbigpXHJcbiAgIENvbnZlcnRzICdib29sZWFuIHN0cmluZ3MnIGludG8gYWN0dWFsIHZhbGlkIGJvb2xlYW5zLlxyXG4gICBcclxuICAgKE1vc3QgdmFsdWVzIHJldHVybmVkIGZyb20gdGhlIEFQSSBhcmUgdGhlIHN0cmluZ3MgXCJ0cnVlXCIgYW5kIFwiZmFsc2VcIi4pXHJcblxyXG4gICBQYXJhbWV0ZXJzOiBTdHJpbmdcclxuICAgUmV0dXJuczogICAgQm9vbGVhblxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG5waXB3ZXJrcy5VVElMUy5TdHJpbmdUb0Jvb2xlYW4gPSBmdW5jdGlvbiAoc3RyaW5nKSB7XHJcbiAgICBzd2l0Y2ggKHN0cmluZy50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgY2FzZSBcInRydWVcIjogY2FzZSBcInllc1wiOiBjYXNlIFwiMVwiOiByZXR1cm4gdHJ1ZTtcclxuICAgICAgICBjYXNlIFwiZmFsc2VcIjogY2FzZSBcIm5vXCI6IGNhc2UgXCIwXCI6IGNhc2UgbnVsbDogcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGRlZmF1bHQ6IHJldHVybiBCb29sZWFuKHN0cmluZyk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgcGlwd2Vya3MuVVRJTFMudHJhY2UoKVxyXG4gICBEaXNwbGF5cyBlcnJvciBtZXNzYWdlcyB3aGVuIGluIGRlYnVnIG1vZGUuXHJcblxyXG4gICBQYXJhbWV0ZXJzOiBtc2cgKHN0cmluZykgIFxyXG4gICBSZXR1cm46ICAgICBOb25lXHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbnBpcHdlcmtzLlVUSUxTLnRyYWNlID0gZnVuY3Rpb24gKG1zZykge1xyXG5cclxuICAgIGlmIChwaXB3ZXJrcy5kZWJ1Zy5pc0FjdGl2ZSkge1xyXG5cclxuICAgICAgICAvL0ZpcmVmb3ggdXNlcnMgY2FuIHVzZSB0aGUgJ0ZpcmVidWcnIGV4dGVuc2lvbidzIGNvbnNvbGUuXHJcbiAgICAgICAgaWYgKHdpbmRvdy5jb25zb2xlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1zZyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy9hbGVydChtc2cpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn07IiwidmFyIGlzSW5pdCA9IGZhbHNlO1xyXG52YXIgcGdUcmFuc2xhdGVkID0gZmFsc2U7XHJcbnZhciBwZ05vLCBlcGdObywgbCwgbGFuZywgbGFuZ0lELCBjdXJMYW5nLCBsTGFuZ1BhZ2UsIGxGaWVsZHMsIGxOYXYsIGxTY29ybSwgbEtjLCBsR2VuXHJcblxyXG5mdW5jdGlvbiBpbml0TGFuZygpIHtcclxuICAgIC8vIHBnTm8gPSBuYXZpZ2F0aW9uQ29udHJvbGxlci5hY3RpdmVQYWdlQXNObygpO1xyXG4gICAgcGdVcmwgPSBuYXZpZ2F0aW9uQ29udHJvbGxlci5jdXJyZW50UGFnZVVybDtcclxuICAgIFxyXG4gICAgLy9jb25zb2xlLmxvZyhlcGdObyk7XHJcblxyXG4gICAgbCA9IHNjb3JtQ29udHJvbGxlci5sYW5nKCk7XHJcbiAgICBsYW5nID0gbGFuZ3VhZ2VDb250cm9sbGVyLmxhbmc7XHJcbiAgICBsYW5nSUQgPSAwO1xyXG4gICAgJC5lYWNoKGxhbmcsIGZ1bmN0aW9uIChpLCB2KSB7XHJcbiAgICAgICAgaWYgKGwgPT09IGxhbmdbaV0uaXNvY29kZSkgeyBsYW5nSUQgPSBpIH1cclxuICAgIH0pO1xyXG4gICAgY3VyTGFuZyA9IGxhbmc7XHJcbiAgICBsTGFuZ1BhZ2UgPSBsYW5nLnBhZ2VzWzBdO1xyXG4gICAgbEZpZWxkcyA9IGxhbmcucGFnZXNbMF0uZmllbGRzO1xyXG4gICAgLy9jb25zb2xlLmxvZyhsRmllbGRzKVxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgdmFyIGN1cnJlbnRQYWdlID0gbGFuZy5wYWdlcy5maWx0ZXIoZnVuY3Rpb24ocGFnZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFnZS5GaWxlID09IHBnVXJsXHJcbiAgICAgICAgfSlbMF07XHJcbiAgICAgICAgXHJcbiAgICAgICAgbExhbmdQYWdlID0gY3VycmVudFBhZ2U7XHJcbiAgICAgICAgbEZpZWxkcyA9IGN1cnJlbnRQYWdlLmZpZWxkcztcclxuXHJcbiAgICAgICAgLy8gbExhbmdQYWdlID0gbGFuZy5wYWdlc1twZ05vXTtcclxuICAgICAgICAvLyBsRmllbGRzID0gbGFuZy5wYWdlc1twZ05vXS5maWVsZHM7XHJcbiAgICB9IGNhdGNoIChleCkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXgpO1xyXG4gICAgfVxyXG5cclxuICAgIGxOYXYgPSBsYW5nLm5hdi5maWVsZHM7XHJcbiAgICBsU2Nvcm0gPSBsYW5nLnNjb3JtLmZpZWxkcztcclxuICAgIGxLYyA9IGxhbmcua2MuZmllbGRzO1xyXG4gICAgbEdlbiA9IGxhbmcuZ2VuZXJhbDtcclxuICAgIGlzSW5pdCA9IHRydWU7XHJcbn1cclxuXHJcbnRyeSB7XHJcbiAgICBpbml0TGFuZygpO1xyXG59IGNhdGNoIChlcnIpIHtcclxuICAgIGlzSW5pdCA9IGZhbHNlO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0cmFuc2xhdGVQYWdlKCkge1xyXG4gICAgbGFuZyA9IGxhbmd1YWdlQ29udHJvbGxlci5sYW5nO1xyXG4gICAgLy9UaGVyZSBzaG91bGQgYmUgdGhlIHNhbWUgYW1vdW50IG9mIGZpZWxkcyBhcyBjb250cm9scyBzbyB3ZSBjYW4gZG8gdGhlc2UgbW9yZSBlZmZlY2llbnRseSBieSBnb2luZyBsaXN0IGZpcnN0XHJcbiAgICB2YXIgY291bnQgPSAwO1xyXG4gICAgJC5lYWNoKGxGaWVsZHMsIGZ1bmN0aW9uIChpLCBqKSB7XHJcbiAgICAgICAgbGV0IHRyYW5zbGF0ZUVsZW0gPSAkKCdbZGF0YS1pMThuX2FwPVwiJyArIGoua2V5ICsgJ1wiXScpO1xyXG5cclxuICAgICAgICBpZiAoai5JbWFnZVVSTCAhPT0gbnVsbCAmJiBqLkltYWdlVVJMICE9PSAnJykge1xyXG4gICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICB0cmFuc2xhdGVFbGVtLmF0dHIoJ3NyYycsIGouSW1hZ2VVUkwpO1xyXG4gICAgICAgIH0gZWxzZSB7ICAgICAgICAgICBcclxuICAgICAgICAgICAgY291bnQrKztcclxuICAgICAgICAgICAgdHJhbnNsYXRlRWxlbS5odG1sKGouVGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdkYXRhLWkxOG4gZmllbGQ6ICcsIGoua2V5ICwgIHRyYW5zbGF0ZUVsZW0pO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiY291bnRcIiwgY291bnQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vQ2hlY2sgZm9yIG5vdGVzIGVuYWJsZWQgdGV4dFxyXG4gICAgICAgIGlmIChqLm4gPT09IDEpIHtcclxuICAgICAgICAgICAgLy90aGlzIGlzIGEgbm90ZVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZJRDpcIiArIGouZklEKTtcclxuICAgICAgICAgICAgdHJhbnNsYXRlRWxlbS5hdHRyKFwiZGF0YS1uaWRcIiwgai5mSUQpO1xyXG4gICAgICAgICAgICB0cmFuc2xhdGVFbGVtLmFkZENsYXNzKFwibmljb25cIik7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcGdUcmFuc2xhdGVkID0gdHJ1ZTtcclxuICAgIHRyYW5zbGF0ZUFkZGl0aW9uYWxzKCk7XHJcblxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gdHJhbnNsYXRlQWRkaXRpb25hbHMoKSB7XHJcbiAgICAkKCdbZGF0YS1pMThuX25dJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGtleSA9ICQodGhpcykuYXR0cihcImRhdGEtaTE4bl9uXCIpO1xyXG4gICAgICAgICQuZWFjaChsTmF2LCBmdW5jdGlvbiAoaSwgaikge1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09IGoua2V5KSB7XHJcbiAgICAgICAgICAgICAgICAkKCdbZGF0YS1pMThuX249XCInICsgai5rZXkgKyAnXCJdJykuaHRtbChqLlRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL3NhbWUgd2l0aCBnZW5lcmFsIGl0ZW1zXHJcbiAgICAkKCdbZGF0YS1pMThuX2ddJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGtleSA9ICQodGhpcykuYXR0cihcImRhdGEtaTE4bl9nXCIpO1xyXG4gICAgICAgICQuZWFjaChsR2VuLCBmdW5jdGlvbiAoaSwgaikge1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSBqLmtleSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGoubiA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJ1tkYXRhLWkxOG5fZz1cIicgKyBqLmtleSArICdcIl0nKS5odG1sKFwiPHNwYW4gY2xhc3M9J25pY29uJyBkYXRhLW5pZD0nXCIgKyBqLmZJRCArIFwiJz5cIiArIGouVGV4dCArIFwiPC9zcGFuPlwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnW2RhdGEtaTE4bl9nPVwiJyArIGoua2V5ICsgJ1wiXScpLmh0bWwoai5UZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRyYW5zbGF0ZU5hdigpIHtcclxuICAgICQuZWFjaChsTmF2LCBmdW5jdGlvbiAoaSwgaikge1xyXG4gICAgICAgICQoJ1tkYXRhLWkxOG5fbj1cIicgKyBqLmtleSArICdcIl0nKS5odG1sKGouVGV4dCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldEdlbmVyYWxUVGV4dChrKSB7XHJcbiAgICB2YXIgdGcgPSBcIlwiOyAkLmVhY2gobEdlbiwgZnVuY3Rpb24gKGksIGopIHtcclxuICAgICAgICBpZiAoai5rZXkgPT09IGspIHtcclxuICAgICAgICAgICAgaWYgKGoubiA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGcgPSBcIjxzcGFuIGNsYXNzPSduaWNvbicgZGF0YS1uaWQ9J1wiICsgai5mSUQgKyBcIic+XCIgKyBqLnRleHQgKyBcIjwvc3Bhbj5cIjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRnID0gai5UZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7IHJldHVybiB0ZztcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0R2VuZXJhbFRJbWFnZShrZXkpIHsgdmFyIHRnID0gXCJcIjsgJC5lYWNoKGxHZW4sIGZ1bmN0aW9uIChpLCBqKSB7IGlmIChqLmtleSA9PSBrZXkpIHsgdGcgPSBqLmltYWdldXJsOyB9IH0pOyByZXR1cm4gdGc7IH1cclxuIiwiLy9TZXQgdXAgdGhlIHBhZ2VzLCBtYWtlIHN1cmUgdGhlIElkJ3MgbWF0Y2ggdGhvc2UgaW4gdGhlIGxhbmd1YWdlIGZpbGVcclxudmFyIHBhZ2VzID0gW1xyXG4gICAgeyBwYWdlaWQ6IDAsIHRpdGxlOiAnaW50cm8nLCB1cmw6ICdjb250ZW50L2ludHJvLmh0bWwnLCBzZWN0aW9uOiAwIH0sXHJcbl07IiwiLy9TZXQgdXAgYW55IGludGVyYWN0aW9ucyB5b3Ugd2FudCB3aXRoaW4gdGhlIG1vZHVsZVxyXG52YXIgbW9kdWxlX2ludGVyYWN0aW9ucyA9IFtdO1xyXG5cclxuLy9TZXQgdXAgYW55IG9iamVjdGl2ZXMsIG9iamVjdGl2ZSBJRCdzIGNhbiBiZSB1c2VkIGluIHRoZSBwYWdlcyB0byBnaXZlIGF1dG9tYXRpYyBvYmplY3RpdmUgcHJvZ3Jlc3MgaWYgb2JqZWN0aXZlIHNldHRpbmcgaXMgdHJ1ZSBhYm92ZSAoc29tZSBMTVMncyBkb24ndCBzdXBwb3J0IG9iamVjdGl2ZXMgcHJvcGVybHkpXHJcbnZhciBtb2R1bGVfb2JqZWN0aXZlcyA9IFtdOyIsInZhciBERUJVRyA9IHRydWUsXHJcbiAgICBwcm9qZWN0SUQgPSBwcm9qZWN0U2V0dGluZ3MuUHJvamVjdElELFxyXG4gICAgUFJPRFVDVElPTiA9IGZhbHNlLFxyXG4gICAgVVNFX09CSkVDVElWRVMgPSBmYWxzZTsiLCJjb25zdCBjb3Vyc2VEYXRhID0gZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgbGV0IHRlbXBEYXRhID0gbmV3IEFycmF5KCk7XHJcbiAgICBsZXQgc3VzcGVuZERhdGEgPSBuZXcgQXJyYXkoKTtcclxuICAgIGxldCBkYXRhSXRlbSA9IGZ1bmN0aW9uICgpIHsgdGhpcy5rZXkgPSBcIlwiLCB0aGlzLnZhbHVlID0gXCJcIiB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgICAgICBzZWxmLnJlc3RvcmUoKTtcclxuICAgIH1cclxuICAgIHRoaXMuZ2V0RGF0YSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICBsZXQgcmV0dXJuVmFsID0gbnVsbDtcclxuICAgICAgICAkLmVhY2godGVtcERhdGEsIGZ1bmN0aW9uIChpLCBvKSB7XHJcbiAgICAgICAgICAgIGlmIChvLmtleSA9PSBrZXkpIHsgcmV0dXJuVmFsID0gby52YWx1ZSB9O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL2NoZWNrIGlmIHdlIG5lZWQgdG8gY29udmVydCBiYWNrIHRvIGFuIGFycmF5XHJcbiAgICAgICAgaWYgKHJldHVyblZhbCAhPT0gbnVsbCAmJiByZXR1cm5WYWwgIT09ICcnKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXR1cm5WYWwudG9TdHJpbmcoKS5pbmRleE9mKFwiOlwiKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsID0gcmV0dXJuVmFsLnNwbGl0KFwiOlwiKTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmV0dXJuZWQgZGF0YSBub3QgdmFsaWQgZm9yIHNwbGl0XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXR1cm5WYWw7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNldERhdGEgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIC8vZmlyc3QgY29udmVydCBhbiBhcnJheSBpZiB3ZSBoYXZlIG9uZVxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmpvaW4oJzonKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy90aGVuIHNhdmUgaXRcclxuICAgICAgICBmb3VuZCA9IGZhbHNlO1xyXG4gICAgICAgICQuZWFjaCh0ZW1wRGF0YSwgZnVuY3Rpb24gKGksIG8pIHtcclxuICAgICAgICAgICAgaWYgKG8ua2V5ID09IGtleSkgeyBvLnZhbHVlID0gdmFsdWU7IGZvdW5kID0gdHJ1ZTsgfTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoIWZvdW5kKSB7XHJcbiAgICAgICAgICAgIHZhciBkID0gbmV3IGRhdGFJdGVtO1xyXG4gICAgICAgICAgICBkLmtleSA9IGtleTtcclxuICAgICAgICAgICAgZC52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB0ZW1wRGF0YS5wdXNoKGQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy9jbGVhciBkb3duXHJcbiAgICAgICAgdGVtcERhdGEgPSBbXTtcclxuICAgICAgICBzdXNwZW5kRGF0YSA9IFtdO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zYXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vY2hlY2sgaWYgd2UgbmVlZCB0byBzYXZlIHRvIExNUyBpZiBhdmFpbGFibGUsIG9yIHRvIGxvY2FsU3RvcmFnZSBpZiBub3QuXHJcbiAgICAgICAgbGV0IGQgPSBKU09OLnN0cmluZ2lmeSh0ZW1wRGF0YSk7XHJcbiAgICAgICAgZCA9IGQucmVwbGFjZSgvWyddL2csIFwiwqxcIik7XHJcbiAgICAgICAgZCA9IGQucmVwbGFjZSgvW1wiXS9nLCBcIn5cIik7XHJcbiAgICAgICAgZCA9IGQucmVwbGFjZSgvW1xcW1xcXV0rL2csIFwiXCIpO1xyXG4gICAgICAgIGQgPSBkLnJlcGxhY2UoL1ssXS9nLCBcInxcIik7XHJcbiAgICAgICAgaWYgKHNjb3JtQ29udHJvbGxlci5fc2Nvcm1Db25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgLy90b2RvIFVORE8gLSB0ZW1wb3JhcmlseSBkaXNhYmxlIHNhdmluZyBzdXNwZW5kIGRhdGFcclxuICAgICAgICAgICAgc2Nvcm1Db250cm9sbGVyLmluc3RhbmNlLnNldFN1c3BlbmREYXRhKGQpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKERFQlVHID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHByb2plY3RJRCwgZCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLnJlc3RvcmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy9jaGVjayBpZiB3ZSBuZWVkIHRvIHNhdmUgdG8gTE1TIGlmIGF2YWlsYWJsZSwgb3IgdG8gbG9jYWxTdG9yYWdlIGlmIG5vdC5cclxuICAgICAgICBpZiAoc2Nvcm1Db250cm9sbGVyLl9zY29ybUNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAvL1JFU1RPUklORyBEQVRBIEZST00gTE1TXHJcbiAgICAgICAgICAgIGxldCBwID0gc2Nvcm1Db250cm9sbGVyLmluc3RhbmNlLmdldFN1c3BlbmREYXRhKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAocCAhPSBudWxsICYmIHAgIT0gJycpIHtcclxuICAgICAgICAgICAgICAgIHAgPSBwLnJlcGxhY2UoL1t+XS9nLCBcIlxcXCJcIik7IHAgPSBwLnJlcGxhY2UoL1t8XS9nLCBcIixcIik7IHAgPSBwLnJlcGxhY2UoL1vCrF0vZywgXCInXCIpOyBwID0gJ1snICsgcCArICddJztcclxuICAgICAgICAgICAgICAgIHRlbXBEYXRhID0gSlNPTi5wYXJzZShwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vUkVTVE9SSU5HIERBVEEgRlJPTSBMT0NBTCBTVE9SQUdFXHJcbiAgICAgICAgICAgIGxldCBwID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0ocHJvamVjdElEKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChwICE9IG51bGwgJiYgcCAhPSAnJykge1xyXG4gICAgICAgICAgICAgICAgcCA9IHAucmVwbGFjZSgvW35dL2csIFwiXFxcIlwiKTsgcCA9IHAucmVwbGFjZSgvW3xdL2csIFwiLFwiKTsgcCA9IHAucmVwbGFjZSgvW8KsXS9nLCBcIidcIik7IHAgPSAnWycgKyBwICsgJ10nO1xyXG5cclxuICAgICAgICAgICAgICAgIHRlbXBEYXRhID0gSlNPTi5wYXJzZShwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpbml0KCk7XHJcbn0iLCJjb25zdCBEZXZPcHNDb250cm9sbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLmVuZFBvaW50ID0gJyc7XHJcbiAgICB0aGlzLndvcmtJdGVtcyA9IG5ldyBBcnJheSgpO1xyXG4gICAgdGhpcy50b2tlbiA9ICcnOyAvLyBWaXN1YWwgU3R1ZGlvIFBlcnNvbmFsIEFjY2VzcyBUb2tlbiwgdGhpcyB3aWxsIGJlIHVzZWQgYXMgYSBsb2dpbi5cclxuICAgIHRoaXMudGVhbSA9IG5ldyBBcnJheSgpO1xyXG5cclxuICAgIHRoaXMubG9nZ2VkSW4gPSBmYWxzZTtcclxuICAgIHRoaXMubG9naW4gPSAkKFwiI2Rldk9wc0xvZ2luXCIpO1xyXG4gICAgdGhpcy5sb2dpbkJ1dHRvbiA9IG51bGw7XHJcbiAgICB0aGlzLmxvZ2luU3RhdGUgPSBudWxsO1xyXG5cclxuICAgICQuZ2V0KFwiZWRpdC9hamF4L19kZXZPcHNMb2dpbi5odG1sXCIsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgc2VsZi5sb2dpbi5odG1sKGRhdGEpO1xyXG5cclxuICAgICAgICBzZWxmLmxvZ2luQnV0dG9uID0gJChcIiNkZXZPcHNMb2dpbkJ0blwiKTtcclxuICAgICAgICBzZWxmLmxvZ2luU3RhdGUgPSAkKFwiI2Rldk9wc0xvZ2luQnRuIC5zdGF0ZVwiKTtcclxuXHJcbiAgICAgICAgbGV0IGxvZ2luUHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgICAgICQoXCIjZGV2T3BzTG9naW4gLmRlYnVnLWxvZ2luX19jbG9zZVwiKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGYubG9naW4uZmFkZU91dCgyNTApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiI2Rldk9wc0xvZ2luIC5kZWJ1Zy1sb2dpbl9fZm9ybVwiKS5vbignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBpZiAobG9naW5Qcm9jZXNzaW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsb2dpblByb2Nlc3NpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlbGYubG9naW5CdXR0b24uYWRkQ2xhc3MoJ2xvYWRpbmcnKTtcclxuICAgICAgICAgICAgc2VsZi5sb2dpblN0YXRlLmh0bWwoJ0F1dGhlbnRpY2F0aW5nJyk7XHJcbiAgICAgICAgICAgIHNlbGYuZG9Mb2dpbigkKCcjZGV2T3BzUEFUJykudmFsKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIHRoaXMuZG9Mb2dpbiA9IGZ1bmN0aW9uIChwYXQpIHtcclxuXHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgdXJsOiAnJyxcclxuICAgICAgICAgICAgYXN5bmM6IHRydWUsXHJcbiAgICAgICAgICAgIGNyb3NzRG9tYWluOiB0cnVlLFxyXG4gICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbiAoeGhyKSB7XHJcbiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgXCJCYXNpYyBcIiArIGJ0b2EoXCI6XCIgKyBwYXQpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChyZXMpIHtcclxuXHJcbiAgICAgICAgICAgIHNlbGYubG9naW5CdXR0b24uYWRkQ2xhc3MoJ29rJyk7XHJcbiAgICAgICAgICAgIHNlbGYubG9naW5TdGF0ZS5odG1sKCdXZWxjb21lIGJhY2shJyk7XHJcbiAgICAgICAgICAgIHNlbGYubG9naW4uZmFkZU91dCgyNTApO1xyXG4gICAgICAgICAgICBzZWxmLmxvZ2dlZEluID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2VsZi50b2tlbiA9IHBhdDtcclxuXHJcbiAgICAgICAgICAgIC8vIFNhdmUgdG9rZW4gZm9yIG5leHQgc2Vzc2lvblxyXG4gICAgICAgICAgICBkYXRhQ29udHJvbGxlci5zZXREYXRhKFwiRGV2T3BzUEFUXCIsIHBhdCk7XHJcbiAgICAgICAgICAgIGRhdGFDb250cm9sbGVyLnNhdmUoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEluaXRpYWxpc2UgRGV2T3BzLlxyXG4gICAgICAgICAgICBzZWxmLmluaXQoKTtcclxuXHJcbiAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoeGhyLCB0ZXh0LCBlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh4aHIgKyBcIiwgXCIgKyB0ZXh0ICsgXCIsIFwiICsgZXJyb3IpO1xyXG5cclxuICAgICAgICAgICAgc2VsZi5sb2dpbkJ1dHRvbi5hZGRDbGFzcygnb2snKTtcclxuICAgICAgICAgICAgc2VsZi5sb2dpblN0YXRlLmh0bWwoJ0xvZ2luIGZhaWxlZCwgcGxlYXNlIGNoZWNrIHlvdXIgRGV2T3BzIFBlcnNvbmFsIEFjY2VzcyBUb2tlbiBpcyBzdGlsbCB2YWxpZC4nKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmxvZ2luU3RhdGUuaHRtbCgnTG9nIGluJyk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmxvZ2luQnV0dG9uLnJlbW92ZUNsYXNzKCdvayBsb2FkaW5nJyk7XHJcbiAgICAgICAgICAgICAgICBsb2dpblByb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSwgMzAwMCk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCBhbGwgdXNlcnMgYXNzaWduZWQgdG8gcHJvamVjdC5cclxuICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgdXJsOiAnJyArIG1vZHVsZUNvbnRyb2xsZXIucHJvamVjdFVSTCArICcvdGVhbXM/YXBpLXZlcnNpb249NS4xJyxcclxuICAgICAgICAgICAgYXN5bmM6IHRydWUsXHJcbiAgICAgICAgICAgIGNyb3NzRG9tYWluOiB0cnVlLFxyXG4gICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbiAoeGhyKSB7XHJcbiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgXCJCYXNpYyBcIiArIGJ0b2EoXCI6XCIgKyBzZWxmLnRva2VuKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBsZXQgdGVhbUlkID0gZGF0YS52YWx1ZVswXS5pZDtcclxuXHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgdXJsOiAnJyArIG1vZHVsZUNvbnRyb2xsZXIucHJvamVjdFVSTCArICcvdGVhbXMvJyArIHRlYW1JZCArICcvbWVtYmVycz9hcGktdmVyc2lvbj01LjEnLFxyXG4gICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjcm9zc0RvbWFpbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uICh4aHIpIHtcclxuICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgXCJCYXNpYyBcIiArIGJ0b2EoXCI6XCIgKyBzZWxmLnRva2VuKSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRlYW0gPSBbXTtcclxuICAgICAgICAgICAgICAgIC8vIFN0b3JlIGFsbCB0ZWFtIG1lbWJlcnMgaW4gZGV2T3BzLnRlYW1cclxuICAgICAgICAgICAgICAgICQoXCIjcHJvamVjdFRlYW1cIikuaHRtbChcIlwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChtb2R1bGVDb250cm9sbGVyLmNsaWVudE1vZGUgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI3Byb2plY3RUZWFtXCIpLmFwcGVuZCgnUHJvamVjdCBUZWFtIGlzblxcJ3QgYXZhaWxhYmxlIHdoaWxzdCB2aWV3aW5nIGluIENsaWVudCBNb2RlLicpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEudmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVzZXIgPSBkYXRhLnZhbHVlW2ldLmlkZW50aXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnRlYW0ucHVzaCh1c2VyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVzZXJTdHIgPSAnPHRyPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJTdHIgKz0gJzx0ZD4nICsgdXNlci5kaXNwbGF5TmFtZSArICc8L3RkPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJTdHIgKz0gJzx0ZD4nICsgdXNlci51bmlxdWVOYW1lICsgJzwvdGQ+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlclN0ciArPSAnPC90cj4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3Byb2plY3RUZWFtXCIpLmFwcGVuZCh1c2VyU3RyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUHVsbCBhbGwgV29yayBJdGVtc1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZ2V0QWxsSXRlbXMoJChcIiNkZWJ1Z1dvcmtJdGVtcyB0Ym9keVwiKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuYWRkVGVhbSA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIGxldCAkZWwgPSAkKFwiI1wiICsgaWQpO1xyXG4gICAgICAgICRlbC5odG1sKFwiXCIpO1xyXG5cclxuICAgICAgICBpZiAobW9kdWxlQ29udHJvbGxlci5jbGllbnRNb2RlID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICRlbC5hcHBlbmQoJzxvcHRpb24gZGF0YS11c2VyaWQ9XCJlMTAwN2MwMy0yOGI4LTQwMjUtODZjNC04YTk5MzAyMWJhODNcIiB2YWx1ZT1cIkNsaWVudCBSZXZpZXcgPHBtZGV2ZWxvcGVyc0BwdXJwbGVtZWRpYS5jby51a1wiPkRldmVsb3BtZW50PC9vcHRpb24+Jyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJGVsLmFwcGVuZChcIjxvcHRpb24gc2VsZWN0ZWQgZGlzYWJsZWQgZGVmYXVsdD5TZWxlY3QgVXNlcjwvb3B0aW9uXCIpXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZi50ZWFtLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdXNlciA9IHNlbGYudGVhbVtpXTtcclxuICAgICAgICAgICAgICAgICRlbC5hcHBlbmQoXCI8b3B0aW9uIGRhdGEtdXNlcmlkPSdcIiArIHVzZXIuaWQgKyBcIicgdmFsdWU9J1wiICsgdXNlci5kaXNwbGF5TmFtZSArIFwiIDxcIiArIHVzZXIudW5pcXVlTmFtZSArIFwiPic+XCIgKyB1c2VyLmRpc3BsYXlOYW1lICsgXCI8L29wdGlvblwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gR2V0cyBldmVyeSByZXZpc2lvbiBvZiBhbGwgd29yayBpdGVtcy5cclxuICAgIHRoaXMuZ2V0QWxsSXRlbXMgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICBzZWxmLndvcmtJdGVtcyA9IFtdO1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIHVybDogc2VsZi5lbmRQb2ludCArICcvX2FwaXMvd2l0L3JlcG9ydGluZy93b3JraXRlbXJldmlzaW9ucz9hcGktdmVyc2lvbj01LjEtcHJldmlldy4xJyxcclxuICAgICAgICAgICAgYXN5bmM6IHRydWUsXHJcbiAgICAgICAgICAgIGNyb3NzRG9tYWluOiB0cnVlLFxyXG4gICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbiAoeGhyKSB7XHJcbiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgXCJCYXNpYyBcIiArIGJ0b2EoXCI6XCIgKyBzZWxmLnRva2VuKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAkKFwiI2RlYnVnV29ya0l0ZW1zIHRib2R5XCIpLmh0bWwoXCJcIik7IC8vIEVtcHR5IHRhYmxlIHRvIHN0b3AgZHVwbGljYXRpb24uXHJcbiAgICAgICAgICAgIGlmIChkYXRhLnZhbHVlcy5sZW5ndGggPT09IDApIHJldHVybiBcIk5vV29ya0l0ZW1zXCI7XHJcbiAgICAgICAgICAgIGRhdGEgPSBkYXRhLnZhbHVlcztcclxuICAgICAgICAgICAgbGV0IHRlbXAgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBmaWx0ZXIgdGhlIHJldmlzaW9ucyBhbmQgbWFrZSBzdXJlIHdlIGhhdmUgdGhlIGxhdGVzdC5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGRhdGEubGVuZ3RoOyBpID4gMDsgLS1pKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgV0kgPSBkYXRhW2kgLSAxXS5maWVsZHM7XHJcbiAgICAgICAgICAgICAgICBpZiAodGVtcC5pbmRleE9mKFdJW1wiU3lzdGVtLklkXCJdKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goV0lbXCJTeXN0ZW0uSWRcIl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYud29ya0l0ZW1zLnVuc2hpZnQoV0kpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZXNlIHdvcmsgaXRlbXMgYW5kIGFkZCB0aGVtIHRvIHRoZSB0YWJsZS5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxmLndvcmtJdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGQgPSBzZWxmLndvcmtJdGVtc1tpXTtcclxuICAgICAgICAgICAgICAgIGxldCBzdHIgPSBcIjx0ciBjbGFzcz0nd29ya0l0ZW0nIGRhdGEtd29ya2l0ZW10eXBlPSdcIiArIGRbJ1N5c3RlbS5Xb3JrSXRlbVR5cGUnXSArIFwiJyBkYXRhLXdvcmtpdGVtc3RhdGU9J1wiICsgZFsnU3lzdGVtLlN0YXRlJ10gKyBcIicgZGF0YS13b3JraXRlbWFzc2lnbmVkdG89J1wiICsgZFsnU3lzdGVtLkFzc2lnbmVkVG8nXSArIFwiJz5cIjtcclxuICAgICAgICAgICAgICAgIHN0ciArPSBcIjx0ZD5cIiArIGRbJ1N5c3RlbS5JZCddICsgXCI8L3RkPlwiO1xyXG4gICAgICAgICAgICAgICAgc3RyICs9IFwiPHRkIGNsYXNzPSd3b3JrSXRlbV9fUGFnZScgb25jbGljaz0nb3BuLm5hdmlnYXRpb25Db250cm9sbGVyLmdvVG9QYWdlV2l0aFRpdGxlKFxcXCJcIiArIGRbJ1N5c3RlbS5UYWdzJ10gKyBcIlxcXCIpJz5cIiArIGRbJ1N5c3RlbS5UYWdzJ10gKyBcIjwvdGQ+XCI7XHJcbiAgICAgICAgICAgICAgICBzdHIgKz0gXCI8dGQgZGF0YS13b3JraXRlbWlkPSdcIiArIGRbJ1N5c3RlbS5JZCddICsgXCInIGNsYXNzPSd3b3JrSXRlbV9fVGl0bGUgd29ya0l0ZW0tLVwiICsgZFsnU3lzdGVtLldvcmtJdGVtVHlwZSddICsgXCInPlwiICsgZFsnU3lzdGVtLlRpdGxlJ10gKyBcIjwvdGQ+XCI7XHJcbiAgICAgICAgICAgICAgICBzdHIgKz0gXCI8dGQ+XCIgKyBkWydTeXN0ZW0uQXNzaWduZWRUbyddICsgXCI8L3RkPlwiO1xyXG4gICAgICAgICAgICAgICAgc3RyICs9IFwiPHRkPlwiICsgZFsnU3lzdGVtLlN0YXRlJ10gKyBcIjwvdGQ+XCI7XHJcbiAgICAgICAgICAgICAgICBzdHIgKz0gXCI8dGQ+XCIgKyAoZFsnU3lzdGVtLkJvYXJkQ29sdW1uJ10gIT09IHVuZGVmaW5lZCA/IGRbJ1N5c3RlbS5Cb2FyZENvbHVtbiddIDogJ1VuYXNzaWduZWQnKSArIFwiPC90ZD5cIjtcclxuICAgICAgICAgICAgICAgIHN0ciArPSBcIjx0ZD48YSBocmVmPSdcIiArIHNlbGYuZW5kUG9pbnQgKyBcIi9fd29ya2l0ZW1zL2VkaXQvXCIgKyBkWydTeXN0ZW0uSWQnXSArIFwiJyB0YXJnZXQ9J19ibGFuayc+T3BlbiBpbiBEZXZPcHM8L2E+PC90ZD5cIjtcclxuICAgICAgICAgICAgICAgIHN0ciArPSBcIjwvdHI+XCI7XHJcbiAgICAgICAgICAgICAgICBlbC5hcHBlbmQoc3RyKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGdldCBEZXZPcHMgV29ya0l0ZW1zOiBcIiArIGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBHZXQgbW9yZSBpbmZvIG9uIGEgc3BlY2lmaWMgd29yayBpdGVtLlxyXG4gICAgdGhpcy5nZXRXb3JrSXRlbUluZm8gPSBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICBsZXQgaW5mbyA9IFtdO1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIHVybDogc2VsZi5lbmRQb2ludCArICcvX2FwaXMvd2l0L3dvcmtpdGVtcz9pZHM9JyArIGlkICsgJyYkZXhwYW5kPWFsbCZhcGktdmVyc2lvbj01LjEnLFxyXG4gICAgICAgICAgICBhc3luYzogdHJ1ZSxcclxuICAgICAgICAgICAgY3Jvc3NEb21haW46IHRydWUsXHJcbiAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uICh4aHIpIHtcclxuICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLCBcIkJhc2ljIFwiICsgYnRvYShcIjpcIiArIHNlbGYudG9rZW4pKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtID0gZGF0YS52YWx1ZVswXS5maWVsZHM7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoaXRlbVtcIlN5c3RlbS5Xb3JrSXRlbVR5cGVcIl0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1Rhc2snOlxyXG4gICAgICAgICAgICAgICAgICAgIGluZm8ucHVzaChpdGVtW1wiU3lzdGVtLkRlc2NyaXB0aW9uXCJdKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0J1Zyc6XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mby5wdXNoKGl0ZW1bXCJNaWNyb3NvZnQuVlNUUy5UQ00uUmVwcm9TdGVwc1wiXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mby5wdXNoKGl0ZW1bXCJNaWNyb3NvZnQuVlNUUy5UQ00uU3lzdGVtSW5mb1wiXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5mby5wdXNoKGl0ZW1bJ1N5c3RlbS5UYWdzJ10pO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGYud29ya0l0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi53b3JrSXRlbXNbaV1bJ1N5c3RlbS5JZCddID09PSBOdW1iZXIoaWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi53b3JrSXRlbXNbaV0uaW5mbyA9IGluZm87XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlbGYuZ2V0V29ya0l0ZW1Db21tZW50cyhpZCk7XHJcbiAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGdldCBEZXZPcHMgV29ya0l0ZW06IFwiICsgZSk7XHJcbiAgICAgICAgfSk7O1xyXG4gICAgfVxyXG4gICAgLy8gR2V0IG1vcmUgaW5mbyBvbiBhIHNwZWNpZmljIHdvcmsgaXRlbS5cclxuICAgIHRoaXMuZ2V0V29ya0l0ZW1Db21tZW50cyA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIGxldCBjb21tZW50cyA9IFtdO1xyXG5cclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICB1cmw6IHNlbGYuZW5kUG9pbnQgKyAnL19hcGlzL3dpdC93b3JraXRlbXMvJyArIGlkICsgJy9jb21tZW50cz9hcGktdmVyc2lvbj01LjEtcHJldmlldy4zJyxcclxuICAgICAgICAgICAgYXN5bmM6IHRydWUsXHJcbiAgICAgICAgICAgIGNyb3NzRG9tYWluOiB0cnVlLFxyXG4gICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbiAoeGhyKSB7XHJcbiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgXCJCYXNpYyBcIiArIGJ0b2EoXCI6XCIgKyBzZWxmLnRva2VuKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBjb21tZW50cyA9IGRhdGEuY29tbWVudHM7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi53b3JrSXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxmLndvcmtJdGVtc1tpXVsnU3lzdGVtLklkJ10gPT09IE51bWJlcihpZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLndvcmtJdGVtc1tpXS5jb21tZW50cyA9IGNvbW1lbnRzO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkLnB1Ymxpc2goXCIvd29ya2l0ZW0vbG9hZGVkXCIsIFtpZF0pO1xyXG4gICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBnZXQgRGV2T3BzIFdvcmtJdGVtOiBcIiArIGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWF0ZSBEZXZPcHMgV29yayBJdGVtXHJcbiAgICB0aGlzLmNyZWF0ZVdvcmtJdGVtID0gZnVuY3Rpb24gKGltYWdlLCB0eXBlLCB0aXRsZSwgYXNzaWduZWQsIGRlc2NyaXB0aW9uLCBzeXN0ZW0pIHtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIFR5cGUgICAgICAgICA9ICd0YXNrJyB8IGJ1ZydcclxuICAgICAgICAgKiBUaXRsZSAgICAgICAgPSAnc3RyaW5nJ1xyXG4gICAgICAgICAqIERlc2NyaXB0aW9uICA9ICdzdHJpbmcnICpUaGlzIGlzIFtEZXNjcmlwdGlvbl0gZm9yIFRhc2tzIGJ1dCBbUmVwcm9TdGVwc10gZm9yIEJ1Z3NcclxuICAgICAgICAgKiBTeXN0ZW0gICAgICAgPSAnc3RyaW5nJyAqTm90ZSB0aGlzIGlzIFN5c3RlbSBJbmZvLCBvbmx5IHVzZWQgaW4gQnVncy5cclxuICAgICAgICAgKiAqL1xyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgaW1hZ2VcclxuICAgICAgICBpZiAoaW1hZ2UgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgZGVzY3JpcHRpb24gKz0gJzwvZGl2PjxpbWcgc3JjPVwiJyArIGltYWdlICsgJ1wiLz4nXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGVzY3JpcHRpb24gKz0gJzwvZGl2PidcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJvZHkgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFwib3BcIjogXCJhZGRcIixcclxuICAgICAgICAgICAgICAgIFwicGF0aFwiOiBcIi9maWVsZHMvU3lzdGVtLlRpdGxlXCIsXHJcbiAgICAgICAgICAgICAgICBcInZhbHVlXCI6IHRpdGxlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFwib3BcIjogXCJhZGRcIixcclxuICAgICAgICAgICAgICAgIFwicGF0aFwiOiBcIi9maWVsZHMvU3lzdGVtLkFzc2lnbmVkVG9cIixcclxuICAgICAgICAgICAgICAgIFwidmFsdWVcIjogYXNzaWduZWRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICd0YXNrJykge1xyXG4gICAgICAgICAgICAvLyBUeXBlIGlzIHRhc2suXHJcbiAgICAgICAgICAgIGJvZHkucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBcIm9wXCI6IFwiYWRkXCIsXHJcbiAgICAgICAgICAgICAgICBcInBhdGhcIjogXCIvZmllbGRzL1N5c3RlbS5EZXNjcmlwdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcIjxkaXY+XCIgKyBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBUeXBlIGlzIGJ1Z1xyXG4gICAgICAgICAgICBib2R5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgXCJvcFwiOiBcImFkZFwiLFxyXG4gICAgICAgICAgICAgICAgXCJwYXRoXCI6IFwiL2ZpZWxkcy9NaWNyb3NvZnQuVlNUUy5UQ00uUmVwcm9TdGVwc1wiLFxyXG4gICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcIjxkaXY+XCIgKyBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYm9keS5wdXNoKHtcclxuICAgICAgICAgICAgICAgIFwib3BcIjogXCJhZGRcIixcclxuICAgICAgICAgICAgICAgIFwicGF0aFwiOiBcIi9maWVsZHMvTWljcm9zb2Z0LlZTVFMuVENNLlN5c3RlbUluZm9cIixcclxuICAgICAgICAgICAgICAgIFwidmFsdWVcIjogc3lzdGVtXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhpbWFnZSlcclxuICAgICAgICAvL3JldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogc2VsZi5lbmRQb2ludCArICcvX2FwaXMvd2l0L3dvcmtpdGVtcy8kJyArIHR5cGUgKyAnP2FwaS12ZXJzaW9uPTUuMScsXHJcbiAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uICh4aHIpIHsgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsIFwiQmFzaWMgXCIgKyBidG9hKFwiOlwiICsgc2VsZi50b2tlbikpIH0sXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uLXBhdGNoK2pzb24nIH0sXHJcbiAgICAgICAgICAgIGNyb3NzRG9tYWluOiB0cnVlLFxyXG4gICAgICAgICAgICBhc3luYzogdHJ1ZSxcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoYm9keSksXHJcbiAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2UgPSBkYXRhLmlkO1xyXG4gICAgICAgICAgICB0ZXN0Q29udHJvbGxlci5hbGVydChcIldvcmtJdGVtIGFkZGVkLlwiKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlc2V0IGZpZWxkc1xyXG4gICAgICAgICAgICAkKFwiLm5ld0l0ZW1fX3JhZGlvW25hbWU9dHlwZV1cIikucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgJChcIiNpc3N1ZVRpdGxlXCIpLnZhbCgnJyk7XHJcbiAgICAgICAgICAgICQoXCIjaXNzdWVEZXNjcmlwdGlvblwiKS52YWwoJycpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlzc3VlQXNzaWduZWRUb1wiKS5zZWxlY3RlZEluZGV4ID0gMDtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHRlc3RDb250cm9sbGVyLmFsZXJ0KFwiUmVwb3J0IGZhaWxlZCwgcGxlYXNlIHRyeSBhZ2Fpbi5cIilcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBwb3N0IERldk9wcyBXb3JrSXRlbTogXCIgKyBlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmZpbHRlciA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgLy8gVGhpcyBpcyBjYWxsZWQgZnJvbSB0aGUgY2hlY2tib3hlcyBvbiB0aGUgV29ya0l0ZW1zIEZpbHRlciBwYW5lbC5cclxuICAgICAgICBsZXQgdG9nZ2xlID0gJChmKS5hdHRyKFwiZGF0YS10b2dnbGVWaWV3XCIpO1xyXG4gICAgICAgIGxldCBmaWx0ZXIgPSAkKGYpLmF0dHIoXCJ2YWx1ZVwiKTtcclxuICAgICAgICAkKFwiLndvcmtJdGVtXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKFwiZGF0YS1cIiArIHRvZ2dsZSkgPT09IGZpbHRlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCQoZikuaXMoXCI6Y2hlY2tlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICB0aGlzLmFkZENvbW1lbnQgPSBmdW5jdGlvbiAoaWQsIGNvbW1lbnQpIHtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgdXJsOiBzZWxmLmVuZFBvaW50ICsgJy9fYXBpcy93aXQvd29ya2l0ZW1zLycgKyBpZCArICcvY29tbWVudHM/YXBpLXZlcnNpb249NS4xLXByZXZpZXcuMycsXHJcbiAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uICh4aHIpIHsgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsIFwiQmFzaWMgXCIgKyBidG9hKFwiOlwiICsgc2VsZi50b2tlbikpIH0sXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgICAgICBjcm9zc0RvbWFpbjogdHJ1ZSxcclxuICAgICAgICAgICAgYXN5bmM6IHRydWUsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsgXCJ0ZXh0XCI6IGNvbW1lbnQgfSlcclxuICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29tbWVudCBhZGRlZCBzdWNjZXNzZnVsbHlcIik7XHJcbiAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB0ZXN0Q29udHJvbGxlci5hbGVydChcIkZhaWxlZCB0byBwb3N0IGNvbW1lbnQsIHBsZWFzZSB0cnkgYWdhaW4uXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnVwZGF0ZVdvcmtJdGVtID0gZnVuY3Rpb24gKHJldiwgaWQsIHR5cGUsIHRpdGxlLCBkZXNjLCBhc3NpZ25lZCwgY2FsbGJhY2spIHtcclxuICAgICAgICBsZXQgYm9keSA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgXCJvcFwiOiBcInRlc3RcIixcclxuICAgICAgICAgICAgICAgIFwicGF0aFwiOiBcIi9yZXZcIixcclxuICAgICAgICAgICAgICAgIFwidmFsdWVcIjogcmV2XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFwib3BcIjogXCJhZGRcIixcclxuICAgICAgICAgICAgICAgIFwicGF0aFwiOiBcIi9maWVsZHMvU3lzdGVtLlRpdGxlXCIsXHJcbiAgICAgICAgICAgICAgICBcInZhbHVlXCI6IHRpdGxlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFwib3BcIjogXCJhZGRcIixcclxuICAgICAgICAgICAgICAgIFwicGF0aFwiOiBcIi9maWVsZHMvU3lzdGVtLkFzc2lnbmVkVG9cIixcclxuICAgICAgICAgICAgICAgIFwidmFsdWVcIjogYXNzaWduZWRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF1cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ1Rhc2snKSB7XHJcbiAgICAgICAgICAgIGJvZHkucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBcIm9wXCI6IFwiYWRkXCIsXHJcbiAgICAgICAgICAgICAgICBcInBhdGhcIjogXCIvZmllbGRzL1N5c3RlbS5EZXNjcmlwdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiBkZXNjXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYm9keS5wdXNoKHtcclxuICAgICAgICAgICAgICAgIFwib3BcIjogXCJhZGRcIixcclxuICAgICAgICAgICAgICAgIFwicGF0aFwiOiBcIi9maWVsZHMvTWljcm9zb2Z0LlZTVFMuVENNLlJlcHJvU3RlcHNcIixcclxuICAgICAgICAgICAgICAgIFwidmFsdWVcIjogZGVzY1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoYm9keSkpXHJcblxyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUEFUQ0hcIixcclxuICAgICAgICAgICAgdXJsOiBzZWxmLmVuZFBvaW50ICsgJy9fYXBpcy93aXQvd29ya2l0ZW1zLycgKyBpZCArICc/YXBpLXZlcnNpb249NS4xJyxcclxuICAgICAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24gKHhocikgeyB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgXCJCYXNpYyBcIiArIGJ0b2EoXCI6XCIgKyBzZWxmLnRva2VuKSkgfSxcclxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24tcGF0Y2granNvbicgfSxcclxuICAgICAgICAgICAgY3Jvc3NEb21haW46IHRydWUsXHJcbiAgICAgICAgICAgIGFzeW5jOiB0cnVlLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShib2R5KVxyXG4gICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgdGVzdENvbnRyb2xsZXIuYWxlcnQoXCJXb3JrIEl0ZW0gdXBkYXRlZC5cIik7XHJcbiAgICAgICAgICAgICQoXCIuZWRpdFdvcmtJdGVtXCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICBzZWxmLmdldEFsbEl0ZW1zKCQoXCIjZGVidWdXb3JrSXRlbXMgdGJvZHlcIikpO1xyXG5cclxuICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHRlc3RDb250cm9sbGVyLmFsZXJ0KFwiRmFpbGVkIHRvIHVwZGF0ZSB3b3JrIGl0ZW0sIHBsZWFzZSB0cnkgYWdhaW4uXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufSIsImNvbnN0IExhbmd1YWdlQ29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgdGhpcy5sYW5nTG9jYXRpb24gPSAyOyAvLzEgPSBmcm9tIHNlcnZlciwgMiA9IGZyb20gZmlsZVxyXG4gICAgdGhpcy5sYW5nID0gZW47XHJcbiAgICB0aGlzLmxhbmdJRCA9IDA7XHJcbiAgICB0aGlzLmxhbmdJU08gPSBcIlwiO1xyXG4gICAgdGhpcy5sYW5nTmFtZSA9IFwiXCI7XHJcbiAgICB0aGlzLmltZ0FycmF5ID0gbnVsbDtcclxuICAgIHRoaXMuaW1nQXJyYXlDcmVhdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmxvY2FsQ29weSA9IHNlbGYubGFuZy5wYWdlcztcclxuXHJcbiAgICAvKlxyXG5cclxuICAgIHRoaXMuY2hhbmdlQWN0aXZlTGFuZyA9IGZ1bmN0aW9uIChsYW5nKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRMYW5nSVNPID0gZGF0YUNvbnRyb2xsZXIuZ2V0RGF0YShcImxhbmd1YWdlSVNPXCIpO1xyXG4gICAgICAgIHZhciBjdXJyZW50TGFuZ05hbWUgPSBkYXRhQ29udHJvbGxlci5nZXREYXRhKFwibGFuZ3VhZ2VOYW1lXCIpO1xyXG4gICAgICAgIGlmIChjdXJyZW50TGFuZ0lTTyA9PSBudWxsIHx8IGN1cnJlbnRMYW5nSVNPID09IFwibnVsbFwiKSB7XHJcbiAgICAgICAgICAgICQoXCIjbGFuZ1NlbGVjdG9yT3ZlcmxheVwiKS5mYWRlSW4oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWxmLmxhbmdOYW1lID0gY3VycmVudExhbmdOYW1lO1xyXG4gICAgICAgICAgICBzZWxmLmxhbmdJU08gPSBjdXJyZW50TGFuZ0lTTztcclxuICAgICAgICAgICAgJChcIi5sYW5ndWFnZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgJChcIiNsYW5ndWFnZUJ1dHRvblwiKS5odG1sKHNlbGYubGFuZ05hbWUpO1xyXG4gICAgICAgICAgICAkKFwiLmxhbmd1YWdlLlwiICsgc2VsZi5sYW5nSVNPKS5hZGRDbGFzcyhcImFjdGl2ZVwiKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAqL1xyXG5cclxuICAgIHRoaXMuYnVpbGRJbWFnZUFycmF5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCBhcnIgPSBuZXcgQXJyYXkoKSxcclxuICAgICAgICAgICAgcCA9IHNlbGYubGFuZy5wYWdlcztcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBmID0gcFtpXS5maWVsZHM7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgZi5sZW5ndGg7IGlpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChmW2lpXS5UZXh0ID09PSBcIlwiICYmIGZbaWldLkltYWdlVVJMICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG8gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVJbmRleDogaSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZTogcFtpXS5GaWxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogcFtpXS50aXRsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBmW2lpXS5rZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYzogZltpaV0uSW1hZ2VVUkwsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RzID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgYXJyLmxlbmd0aDsgYysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShhcnJbY10pID09PSBKU09OLnN0cmluZ2lmeShvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0cyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2gobyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxmLmltZ0FycmF5Q3JlYXRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIHJldHVybiBhcnI7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRMYW5nKCkge1xyXG4gICAgICAgIGlmIChzZWxmLmltZ0FycmF5Q3JlYXRlZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgc2VsZi5pbWdBcnJheSA9IHNlbGYuYnVpbGRJbWFnZUFycmF5KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc2VsZi5sYW5nTG9jYXRpb24gPT0gMSkge1xyXG4gICAgICAgICAgICAvL2dldCBmcm9tIHNlcnZlciBpZiB3ZSBoYXZlIHJlbW90ZSBsYW5nIGVuYWJsZWRcclxuICAgICAgICAgICAgLy9HRVQgTkFWXHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgdXJsOiBcIlwiICsgc2VsZi5sYW5nSUQgKyBcIiZ0eXBlPTEmcHJvamVjdGlkPVwiICsgcHJvamVjdElELFxyXG4gICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjcm9zc0RvbWFpbjogdHJ1ZSxcclxuICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAobmF2KSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmxhbmcubmF2ID0gbmF2O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy9HRVQgU0NPUk1cclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgICB1cmw6IFwiXCIgKyBzZWxmLmxhbmdJRCArIFwiJnR5cGU9MiZwcm9qZWN0aWQ9XCIgKyBwcm9qZWN0SUQsXHJcbiAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNyb3NzRG9tYWluOiB0cnVlLFxyXG4gICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChzY29ybSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5sYW5nLnNjb3JtID0gc2Nvcm07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvL0dFVCBLQ1xyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgIHVybDogXCJcIiArIHNlbGYubGFuZ0lEICsgXCImdHlwZT0zJnByb2plY3RpZD1cIiArIHByb2plY3RJRCxcclxuICAgICAgICAgICAgICAgIGFzeW5jOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY3Jvc3NEb21haW46IHRydWUsXHJcbiAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKGtjKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmxhbmcua2MgPSBrYztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vR0VUIEdFTkVSQUxcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgICB1cmw6IFwiXCIgKyBzZWxmLmxhbmdJRCArIFwiJnR5cGU9NCZwcm9qZWN0aWQ9XCIgKyBwcm9qZWN0SUQsXHJcbiAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNyb3NzRG9tYWluOiB0cnVlLFxyXG4gICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChnZW5lcmFsKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmxhbmcuZ2VuZXJhbCA9IGdlbmVyYWw7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvL0dFVCBQQUdFU1xyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgIHVybDogXCJcIiArIHNlbGYubGFuZ0lEICsgXCImcHJvamVjdGlkPVwiICsgcHJvamVjdElELFxyXG4gICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjcm9zc0RvbWFpbjogdHJ1ZSxcclxuICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAocGFnZXMpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYubGFuZy5wYWdlcyA9IHBhZ2VzO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy51cGRhdGVDdXJyZW50UGFnZVRleHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy9maXJzdCBnZXQgdGhlIGZpZWxkc1xyXG4gICAgICAgIGxldCBwYWdlSXRlbXMgPSBbXTtcclxuICAgICAgICAkLmVhY2goc2VsZi5sYW5nLnBhZ2VzLCBmdW5jdGlvbiAoaSwgcCkge1xyXG4gICAgICAgICAgICBpZiAocC5GaWxlID09IG5hdmlnYXRpb25Db250cm9sbGVyLmN1cnJlbnRQYWdlVXJsKSB7XHJcbiAgICAgICAgICAgICAgICBwYWdlSXRlbXMgPSBwLmZpZWxkcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vTm93IHJlcGxhY2UgYW55dGhpbmcgd2UgbmVlZCB0b1xyXG4gICAgICAgICQuZWFjaChwYWdlSXRlbXMsIGZ1bmN0aW9uIChpLCBqKSB7XHJcbiAgICAgICAgICAgIGlmIChqLkltYWdlVVJMICE9IFwiXCIgJiYgai5JbWFnZVVSTCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAkKCdbZGF0YS1zcmM9XCInICsgai5rZXkgKyAnXCJdJykuYXR0cihcInNyY1wiLCBqLkltYWdlVVJMKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoai5UZXh0ICE9IFwiXCIgJiYgai5UZXh0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICQoJ1tkYXRhLXRleHQ9XCInICsgai5rZXkgKyAnXCJdJykuaHRtbChqLlRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChqLlZpZGVvVVJMICE9IFwiXCIgJiYgai5WaWRlb1VSTCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAkKCdbZGF0YS1zcmM9XCInICsgai5rZXkgKyAnXCJdJykuYXR0cihcInNyY1wiLCBqLlZpZGVvVVJMKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnVwZGF0ZURlYnVnUGFnZVRleHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy9pZiAoc2VsZi5sYW5nTG9jYXRpb24gPT09IDIpIHJldHVybjtcclxuXHJcbiAgICAgICAgJChcIiNkZWJ1Z0NvbnNvbGVUZXh0IHRhYmxlIHRib2R5IHRyXCIpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICBsZXQgcGFnZUl0ZW1zID0gW107XHJcbiAgICAgICAgbGV0IHRoaXNQYWdlID0gbnVsbDtcclxuICAgICAgICAkLmVhY2goc2VsZi5sYW5nLnBhZ2VzLCBmdW5jdGlvbiAoaSwgcCkge1xyXG4gICAgICAgICAgICBpZiAocC5GaWxlID09IG5hdmlnYXRpb25Db250cm9sbGVyLmN1cnJlbnRQYWdlVXJsKSB7XHJcbiAgICAgICAgICAgICAgICBwYWdlSXRlbXMgPSBwLmZpZWxkcztcclxuICAgICAgICAgICAgICAgIHRoaXNQYWdlID0gcDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL05vdyByZXBsYWNlIGFueXRoaW5nIHdlIG5lZWQgdG9cclxuICAgICAgICAkLmVhY2gocGFnZUl0ZW1zLCBmdW5jdGlvbiAoaSwgaikge1xyXG4gICAgICAgICAgICBpZiAoai5JbWFnZVVSTCAhPSBcIlwiICYmIGouSW1hZ2VVUkwgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgJChcIiNkZWJ1Z0NvbnNvbGVUZXh0IHRhYmxlIHRib2R5XCIpLmFwcGVuZChcclxuICAgICAgICAgICAgICAgICAgICBcIjx0cj48dGQgY2xhc3M9J2ltYWdlSWNvbic+JnRoZXJlNDs8L3RkPjx0ZD5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgai5rZXkgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPC90ZD5cXFxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZD48aW1nIGNsYXNzPSdkZWJ1Zy1jb250ZW50LS1idG4gZGVidWdJbWFnZVNlbGVjdCcgaWQ9J2ltZ19cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgai5Db250ZW50SWQgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiJyBkYXRhLWNsYXNzPSdcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgai5DbGFzcyArXHJcbiAgICAgICAgICAgICAgICAgICAgXCInIGRhdGEta2V5PSdcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgai5rZXkgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiJyBkYXRhLXR5cGU9J1wiICtcclxuICAgICAgICAgICAgICAgICAgICBqLlR5cGUgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiJyBkYXRhLUxhbmd1YWdlPSdcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgai5MYW5ndWFnZSArXHJcbiAgICAgICAgICAgICAgICAgICAgXCInIGRhdGEtcGFnZWlkPSdcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgai5QYWdlSUQgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiJyBkYXRhLUNvbnRlbnRJRD0nXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIGouQ29udGVudElkICtcclxuICAgICAgICAgICAgICAgICAgICBcIicgZGF0YS1Qcm9qZWN0SUQ9J1wiICtcclxuICAgICAgICAgICAgICAgICAgICBqLlByb2plY3RJRCArXHJcbiAgICAgICAgICAgICAgICAgICAgXCInIG9uY2xpY2s9J2xhbmd1YWdlQ29udHJvbGxlci51cGRhdGVJbWFnZUl0ZW0odGhpcyknIHNyYz0nXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIGouSW1hZ2VVUkwgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiJyBkYXRhLXNyYz0nXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIGouSW1hZ2VVUkwgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiJy8+PC90ZD5cXFxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZD48ZGl2IGNsYXNzPSdkZWJ1Zy1jb250ZW50LS1idG4nIGRhdGEtY2xhc3M9J1wiICtcclxuICAgICAgICAgICAgICAgICAgICBqLkNsYXNzICtcclxuICAgICAgICAgICAgICAgICAgICBcIicgZGF0YS1rZXk9J1wiICtcclxuICAgICAgICAgICAgICAgICAgICBqLmtleSArXHJcbiAgICAgICAgICAgICAgICAgICAgXCInIGRhdGEtdHlwZT0nXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIGouVHlwZSArXHJcbiAgICAgICAgICAgICAgICAgICAgXCInIGRhdGEtTGFuZ3VhZ2U9J1wiICtcclxuICAgICAgICAgICAgICAgICAgICBqLkxhbmd1YWdlICtcclxuICAgICAgICAgICAgICAgICAgICBcIicgZGF0YS1wYWdlaWQ9J1wiICtcclxuICAgICAgICAgICAgICAgICAgICBqLlBhZ2VJRCArXHJcbiAgICAgICAgICAgICAgICAgICAgXCInIGRhdGEtQ29udGVudElEPSdcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgai5Db250ZW50SWQgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiJyBkYXRhLXNyYz0nXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIGouSW1hZ2VVUkwgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiJ2RhdGEtUHJvamVjdElEPSdcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgai5Qcm9qZWN0SUQgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiJyBvbmNsaWNrPSdsYW5ndWFnZUNvbnRyb2xsZXIuc2VlRWRpdEhpc3RvcnkodGhpcyknPkVkaXQgaGlzdG9yeTwvZGl2PjwvdGQ+PC90cj5cIlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoai5WaWRlb1VSTCAhPSBcIlwiICYmIGouVmlkZW9VUkwgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgLy8kKCcjZGVidWdDb25zb2xlVGV4dCB0YWJsZSB0Ym9keScpLmFwcGVuZChcIjx0cj48dGQgY2xhc3M9J3ZpZGVvSWNvbic+JiM5NjU1OzwvdGQ+PHRkPlwiICsgdGhpc1BhZ2UuRmlsZSArIFwiPC90ZD48dGQ+XCIgKyBqLmtleSArIFwiPC90ZD48dGQgY29udGVudGVkaXRhYmxlIGlkPSd2aWRfXCIgKyBqLkNvbnRlbnRJZCArIFwiJz5cIiArIGouVmlkZW9VUkwgKyBcIjwvdGQ+PHRkPjxkaXYgY2xhc3M9J2RlYnVncm5kYnRuJyBkYXRhLWNsYXNzPSdcIiArIGouQ2xhc3MgKyBcIicgZGF0YS1rZXk9J1wiICsgai5rZXkgKyBcIicgZGF0YS10eXBlPSdcIiArIGouVHlwZSArIFwiJyBkYXRhLUxhbmd1YWdlPSdcIiArIGouTGFuZ3VhZ2UgKyBcIicgZGF0YS1wYWdlaWQ9J1wiICsgai5QYWdlSUQgKyBcIicgZGF0YS1Db250ZW50SUQ9J1wiICsgai5Db250ZW50SWQgKyBcIicgZGF0YS1Qcm9qZWN0SUQ9J1wiICsgai5Qcm9qZWN0SUQgK1wiJyBvbmNsaWNrPSdsYW5ndWFnZUNvbnRyb2xsZXIudXBkYXRlVmlkZW9JdGVtKHRoaXMpJz4+PC9kaXY+PC90ZD48L3RyPlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoai5UZXh0ICE9IFwiXCIgJiYgai5UZXh0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICQoXCIjZGVidWdDb25zb2xlVGV4dCB0YWJsZSB0Ym9keVwiKS5hcHBlbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8dHI+PHRkIGNsYXNzPSd0ZXh0SWNvbic+VDwvdGQ+PHRkPlwiICtcclxuICAgICAgICAgICAgICAgICAgICBqLmtleSArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8L3RkPjx0ZCBjbGFzcz0nZGVidWctY29udGVudC0tYnRuJyBpZD0ndHh0X1wiICtcclxuICAgICAgICAgICAgICAgICAgICBqLkNvbnRlbnRJZCArXHJcbiAgICAgICAgICAgICAgICAgICAgXCInIGRhdGEtY2xhc3M9J1wiICtcclxuICAgICAgICAgICAgICAgICAgICBqLkNsYXNzICtcclxuICAgICAgICAgICAgICAgICAgICBcIicgZGF0YS1rZXk9J1wiICtcclxuICAgICAgICAgICAgICAgICAgICBqLmtleSArXHJcbiAgICAgICAgICAgICAgICAgICAgXCInIGRhdGEtdHlwZT0nXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIGouVHlwZSArXHJcbiAgICAgICAgICAgICAgICAgICAgXCInIGRhdGEtTGFuZ3VhZ2U9J1wiICtcclxuICAgICAgICAgICAgICAgICAgICBqLkxhbmd1YWdlICtcclxuICAgICAgICAgICAgICAgICAgICBcIicgZGF0YS1wYWdlaWQ9J1wiICtcclxuICAgICAgICAgICAgICAgICAgICBqLlBhZ2VJRCArXHJcbiAgICAgICAgICAgICAgICAgICAgXCInIGRhdGEtQ29udGVudElEPSdcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgai5Db250ZW50SWQgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiJyBkYXRhLVByb2plY3RJRD0nXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIGouUHJvamVjdElEICtcclxuICAgICAgICAgICAgICAgICAgICBcIicgb25jbGljaz0nbGFuZ3VhZ2VDb250cm9sbGVyLnVwZGF0ZVRleHRJdGVtKHRoaXMpJz5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgai5UZXh0ICtcclxuICAgICAgICAgICAgICAgICAgICBcIjwvdGQ+XFxcclxuICAgICAgICAgICAgICAgICAgICA8dGQ+PGRpdiBjbGFzcz0nZGVidWctY29udGVudC0tYnRuJyBkYXRhLWNsYXNzPSdcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgai5DbGFzcyArXHJcbiAgICAgICAgICAgICAgICAgICAgXCInIGRhdGEta2V5PSdcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgai5rZXkgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiJyBkYXRhLXR5cGU9J1wiICtcclxuICAgICAgICAgICAgICAgICAgICBqLlR5cGUgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiJyBkYXRhLUxhbmd1YWdlPSdcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgai5MYW5ndWFnZSArXHJcbiAgICAgICAgICAgICAgICAgICAgXCInIGRhdGEtcGFnZWlkPSdcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgai5QYWdlSUQgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiJyBkYXRhLUNvbnRlbnRJRD0nXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIGouQ29udGVudElkICtcclxuICAgICAgICAgICAgICAgICAgICBcIicgZGF0YS1Qcm9qZWN0SUQ9J1wiICtcclxuICAgICAgICAgICAgICAgICAgICBqLlByb2plY3RJRCArXHJcbiAgICAgICAgICAgICAgICAgICAgXCInIG9uY2xpY2s9J2xhbmd1YWdlQ29udHJvbGxlci5zZWVFZGl0SGlzdG9yeSh0aGlzKSc+RWRpdCBoaXN0b3J5PC9kaXY+PC90ZD48L3RyPlwiXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudXBkYXRlSW1hZ2VJdGVtID0gZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAvL2lmIChzZWxmLmxhbmdMb2NhdGlvbiA9PT0gMikge1xyXG4gICAgICAgIC8vICAgIHRlc3RDb250cm9sbGVyLmFsZXJ0KFwiTGl2ZSBpbWFnZSBlZGl0aW5nIGlzIGRpc2FibGUgZHVyaW5nIGRldmVsb3BtZW50LiBGb3IgYW55IGltYWdlIHVwZGF0ZXMsIGxpc3QgdGhlc2UgYXMgJ0J1Z3MnIGluIERldk9wcyBXb3JrIEl0ZW1zLlwiKVxyXG4gICAgICAgIC8vICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAvL31cclxuXHJcbiAgICAgICAgLy8gTG9hZCB0ZXh0IGVkaXRvclxyXG5cclxuICAgICAgICAvLyBMb2FkIHRleHQgZWRpdG9yXHJcbiAgICAgICAgJC5nZXQoXCJlZGl0L2FqYXgvX2ltYWdlRWRpdG9yLmh0bWxcIiwgZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgICAgICAgICQoXCJib2R5XCIpLmFwcGVuZChkYXRhKTtcclxuICAgICAgICAgICAgJChcIi5lZGl0b3JcIikuZmFkZUluKDI1MCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgY3VycmVudEltYWdlSUQgPSAkKFwiI2ltZ19cIiArICQoaSkuZGF0YShcImNvbnRlbnRpZFwiKSk7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50SW1hZ2VVUkwgPSAkKGkpLmRhdGEoXCJzcmNcIilcclxuXHJcbiAgICAgICAgICAgIC8vIFBvcHVsYXRlIGltYWdlIHBhbmVcclxuICAgICAgICAgICAgbGV0IGltZ0FyciA9IHNlbGYuaW1nQXJyYXk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IGltZ0Fyci5sZW5ndGg7IHMrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHVybCA9IGltZ0FycltzXS5zcmM7XHJcbiAgICAgICAgICAgICAgICAkKFwiLmltYWdlLWVkaXRvcl9fcGFuZVwiKS5hcHBlbmQoXCI8ZGl2IGNsYXNzPSdpbWFnZS1lZGl0b3JfX2ltZycgZGF0YS11cmw9J1wiICsgdXJsICsgXCInIHN0eWxlPSdiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIgKyB1cmwgKyBcIiknPjwvZGl2PlwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJChcIi5pbWFnZS1lZGl0b3JfX2ltZ1wiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQoXCIuaW1hZ2UtZWRpdG9yX19pbWdcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICQoXCIjZWRpdG9yLWNsb3NlXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJChcIi5lZGl0b3JcIikuZmFkZU91dCgyNTAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmVkaXRvclwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICQoXCIuaW1hZ2UtZWRpdG9yX19idG5cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5sYW5nTG9jYXRpb24gPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXN0Q29udHJvbGxlci5hbGVydChcIkxpdmUgaW1hZ2UgZWRpdGluZyBpcyBkaXNhYmxlIGR1cmluZyBkZXZlbG9wbWVudC4gRm9yIGFueSB0ZXh0IHVwZGF0ZXMsIGxpc3QgdGhlc2UgYXMgJ0J1Z3MnIGluIERldk9wcyBXb3JrIEl0ZW1zLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCQoXCIuaW1hZ2UtZWRpdG9yX19pbWcuYWN0aXZlXCIpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlc3RDb250cm9sbGVyLmFsZXJ0KFwiUGxlYXNlIHNlbGVjdCBhbiBpbWFnZS5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCAkdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAgICAgZCA9IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgY3VyRGF0ZSA9IGQudG9VVENTdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDbGFzczogJChpKS5kYXRhKFwiY2xhc3NcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFR5cGU6ICQoaSkuZGF0YShcInR5cGVcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRleHQ6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFZpZGVvVVJMOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBJbWFnZVVSTDogJChcIi5pbWFnZS1lZGl0b3JfX2ltZy5hY3RpdmVcIikuZGF0YShcInVybFwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgTGFuZ3VhZ2U6ICQoaSkuZGF0YShcImxhbmd1YWdlXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBQcm9qZWN0SUQ6ICQoaSkuZGF0YShcInByb2plY3RpZFwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgUGFnZUlEOiAkKGkpLmRhdGEoXCJwYWdlaWRcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENvbnRlbnRJZDogJChpKS5kYXRhKFwiY29udGVudGlkXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICQoaSkuZGF0YShcImtleVwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklEOiB3aW5kb3cudGVzdENvbnRyb2xsZXIudXNlcklELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkOiBjdXJEYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkdGhpcy5hZGRDbGFzcyhcImxvYWRpbmdcIik7XHJcbiAgICAgICAgICAgICAgICAkdGhpcy5odG1sKFwiQXV0aGVudGljYXRpbmdcIik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbml0TGFuZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIuaW1hZ2UtZWRpdG9yXCIpLmFkZENsYXNzKFwib2tcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMuaHRtbChcIkltYWdlIHVwZGF0ZWQhXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb25Db250cm9sbGVyLmdvVG9QYWdlKG5hdmlnYXRpb25Db250cm9sbGVyLmFjdGl2ZVBhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmVkaXRvclwiKS5mYWRlT3V0KDI1MCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5lZGl0b3JcIikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDE1MDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBmYWlsdXJlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmh0bWwoXCJGYWlsZWQgdG8gdXBkYXRlIGltYWdlLCBwbGVhc2UgdHJ5IGFnYWluLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDI1MDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHNlbGYucG9zdEltYWdlVXBkYXRlKGRhdGEsIHN1Y2Nlc3MsIGZhaWx1cmUpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudXBkYXRlVmlkZW9JdGVtID0gZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICBsZXQgZCA9IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgIGN1ckRhdGUgPSBkLnRvVVRDU3RyaW5nKCksXHJcbiAgICAgICAgICAgIGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBDbGFzczogJChpKS5kYXRhKFwiY2xhc3NcIiksXHJcbiAgICAgICAgICAgICAgICBUeXBlOiAkKGkpLmRhdGEoXCJ0eXBlXCIpLFxyXG4gICAgICAgICAgICAgICAgVGV4dDogXCJcIixcclxuICAgICAgICAgICAgICAgIFZpZGVvVVJMOiAkKFwiI3ZpZF9cIiArICQoaSkuZGF0YShcIkNvbnRlbnRJRFwiKSkuaHRtbCgpLFxyXG4gICAgICAgICAgICAgICAgSW1hZ2VVUkw6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBMYW5ndWFnZTogJChpKS5kYXRhKFwibGFuZ3VhZ2VcIiksXHJcbiAgICAgICAgICAgICAgICBQcm9qZWN0SUQ6ICQoaSkuZGF0YShcInByb2plY3RpZFwiKSxcclxuICAgICAgICAgICAgICAgIFBhZ2VJRDogJChpKS5kYXRhKFwicGFnZWlkXCIpLFxyXG4gICAgICAgICAgICAgICAgQ29udGVudElkOiAkKGkpLmRhdGEoXCJDb250ZW50SURcIiksXHJcbiAgICAgICAgICAgICAgICBrZXk6ICQoaSkuZGF0YShcImtleVwiKSxcclxuICAgICAgICAgICAgICAgIHVzZXJJRDogd2luZG93LnRlc3RDb250cm9sbGVyLnVzZXJJRCxcclxuICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IGN1ckRhdGVcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAgIHVybDogXCJcIixcclxuICAgICAgICAgICAgYXN5bmM6IHRydWUsXHJcbiAgICAgICAgICAgIGNyb3NzRG9tYWluOiB0cnVlLFxyXG4gICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKHBhZ2VzKSB7XHJcbiAgICAgICAgICAgIGluaXRMYW5nKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnVwZGF0ZVRleHRJdGVtID0gZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICBpZiAoc2VsZi5sYW5nTG9jYXRpb24gPT09IDIpIHtcclxuICAgICAgICAgICAgdGVzdENvbnRyb2xsZXIuYWxlcnQoXCJMaXZlIHRleHQgZWRpdGluZyBpcyBkaXNhYmxlIGR1cmluZyBkZXZlbG9wbWVudC4gRm9yIGFueSB0ZXh0IHVwZGF0ZXMsIGxpc3QgdGhlc2UgYXMgJ1Rhc2tzJyBpbiBEZXZPcHMgV29yayBJdGVtcy5cIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTG9hZCB0ZXh0IGVkaXRvclxyXG4gICAgICAgICQuZ2V0KFwiZWRpdC9hamF4L190ZXh0RWRpdG9yLmh0bWxcIiwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgJChcImJvZHlcIikuYXBwZW5kKGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgJChcIi5lZGl0b3JcIikuZmFkZUluKDI1MCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgY3VycmVudFRleHQgPSAkKFwiI3R4dF9cIiArICQoaSkuZGF0YShcImNvbnRlbnRpZFwiKSksXHJcbiAgICAgICAgICAgICAgICBodG1sID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAkKFwiI3RleHRlZGl0XCIpLnZhbChjdXJyZW50VGV4dC50ZXh0KCkpO1xyXG5cclxuICAgICAgICAgICAgJChcIi50ZXh0LWVkaXRvcl9faHRtbFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChodG1sID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjdGV4dGVkaXRcIikudmFsKGN1cnJlbnRUZXh0Lmh0bWwoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5odG1sKFwiPGI+SFRNTDwvYj4vVGV4dFwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiN0ZXh0ZWRpdFwiKS52YWwoY3VycmVudFRleHQudGV4dCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmh0bWwoXCJIVE1MLzxiPlRleHQ8L2I+XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaHRtbCA9ICFodG1sO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgJChcIiNlZGl0b3ItY2xvc2VcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiLmVkaXRvclwiKS5mYWRlT3V0KDI1MCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIuZWRpdG9yXCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJChcIi50ZXh0LWVkaXRvcl9fYnRuXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbGV0ICR0aGlzID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgICAgICAgICBkID0gbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgICAgICAgICBjdXJEYXRlID0gZC50b1VUQ1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENsYXNzOiAkKGkpLmRhdGEoXCJjbGFzc1wiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgVHlwZTogJChpKS5kYXRhKFwidHlwZVwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGV4dDogJChcIiN0ZXh0ZWRpdFwiKS52YWwoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgVmlkZW9VUkw6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEltYWdlVVJMOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBMYW5ndWFnZTogJChpKS5kYXRhKFwibGFuZ3VhZ2VcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFByb2plY3RJRDogJChpKS5kYXRhKFwicHJvamVjdGlkXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBQYWdlSUQ6ICQoaSkuZGF0YShcInBhZ2VpZFwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ29udGVudElkOiAkKGkpLmRhdGEoXCJjb250ZW50aWRcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJChpKS5kYXRhKFwia2V5XCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VySUQ6IHdpbmRvdy50ZXN0Q29udHJvbGxlci51c2VySUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IGN1ckRhdGVcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKFwibG9hZGluZ1wiKTtcclxuICAgICAgICAgICAgICAgICR0aGlzLmh0bWwoXCJBdXRoZW50aWNhdGluZ1wiKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBzdWNjZXNzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluaXRMYW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5nZXRDb250ZW50SGlzdG9yeShkYXRhLkNvbnRlbnRJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi50ZXh0LWVkaXRvclwiKS5hZGRDbGFzcyhcIm9rXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmh0bWwoXCJUZXh0IHVwZGF0ZWQhXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb25Db250cm9sbGVyLmdvVG9QYWdlKG5hdmlnYXRpb25Db250cm9sbGVyLmFjdGl2ZVBhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmVkaXRvclwiKS5mYWRlT3V0KDI1MCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5lZGl0b3JcIikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDE1MDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBmYWlsdXJlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmh0bWwoXCJGYWlsZWQgdG8gdXBkYXRlIHRleHQsIHBsZWFzZSB0cnkgYWdhaW4uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMjUwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc2VsZi5wb3N0VGV4dFVwZGF0ZShkYXRhLCBzdWNjZXNzLCBmYWlsdXJlKTtcclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnBvc3RJbWFnZVVwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhLCBzdWNjZXNzLCBmYWlsdXJlKSB7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAgIHVybDogXCJodHRwczovL3BtcHJvamVjdHYzLnB1cnBsZW1lZGlhaG9zdGluZy5jby51ay9jbGFzc3Jvb21BUEkvTGFuZ3VhZ2VBUEkvdXBkYXRlQ29udGVudFwiLFxyXG4gICAgICAgICAgICBhc3luYzogdHJ1ZSxcclxuICAgICAgICAgICAgY3Jvc3NEb21haW46IHRydWUsXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmRvbmUoZnVuY3Rpb24gKHBhZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTdWNjZXNzIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5mYWlsKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBmYWlsZWQgdG8gdXBkYXRlIHRleHRcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgLy8gRmFpbHVyZSBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgZmFpbHVyZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHRoaXMucG9zdFRleHRVcGRhdGUgPSBmdW5jdGlvbiAoZGF0YSwgc3VjY2VzcywgZmFpbHVyZSkge1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly9wbXByb2plY3R2My5wdXJwbGVtZWRpYWhvc3RpbmcuY28udWsvY2xhc3Nyb29tQVBJL0xhbmd1YWdlQVBJL3VwZGF0ZUNvbnRlbnRcIixcclxuICAgICAgICAgICAgYXN5bmM6IHRydWUsXHJcbiAgICAgICAgICAgIGNyb3NzRG9tYWluOiB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmRvbmUoZnVuY3Rpb24gKHBhZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5mYWlsKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBmYWlsZWQgdG8gdXBkYXRlIHRleHRcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgLy8gRmFpbHVyZSBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgZmFpbHVyZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmdldENvbnRlbnRIaXN0b3J5ID0gZnVuY3Rpb24gKGNvbnRlbnRJRCkge1xyXG5cclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly9wbXByb2plY3R2My5wdXJwbGVtZWRpYWhvc3RpbmcuY28udWsvY2xhc3Nyb29tQVBJL0xhbmd1YWdlQVBJL2dldENvbnRlbnRIaXN0b3J5P2NvbnRlbnRJRD1cIiArIGNvbnRlbnRJRCxcclxuICAgICAgICAgICAgYXN5bmM6IHRydWUsXHJcbiAgICAgICAgICAgIGNyb3NzRG9tYWluOiB0cnVlXHJcbiAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcylcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2VlRWRpdEhpc3RvcnkgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGxldCBjb250ZW50SUQgPSAkKGRhdGEpLmRhdGEoXCJjb250ZW50aWRcIiksXHJcbiAgICAgICAgICAgIGNvbnRlbnRLZXkgPSAkKGRhdGEpLmRhdGEoXCJrZXlcIiksXHJcbiAgICAgICAgICAgIGN1ckRhdGUgPSBuZXcgRGF0ZSgpLnRvVVRDU3RyaW5nKCk7XHJcblxyXG4gICAgICAgICQuZ2V0KCdlZGl0L2FqYXgvX2VkaXRIaXN0b3J5Lmh0bWwnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAkKFwiYm9keVwiKS5hcHBlbmQoZGF0YSk7XHJcbiAgICAgICAgICAgICQoXCIjZWRpdG9yLWNsb3NlXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJChcIi5lZGl0b3JcIikuZmFkZU91dCgyNTAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmVkaXRvclwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBsb2NhbFBhZ2VGaWVsZHMgPSBzZWxmLmxvY2FsQ29weVtuYXZpZ2F0aW9uQ29udHJvbGxlci5hY3RpdmVQYWdlXS5maWVsZHMsXHJcbiAgICAgICAgICAgICAgICBsb2NhbFBhZ2VJdGVtID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGwgPSAwOyBsIDwgbG9jYWxQYWdlRmllbGRzLmxlbmd0aDsgbCsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxQYWdlRmllbGRzW2xdLmtleSA9PT0gY29udGVudEtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsUGFnZUl0ZW0gPSBsb2NhbFBhZ2VGaWVsZHNbbF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8vcG1wcm9qZWN0djMucHVycGxlbWVkaWFob3N0aW5nLmNvLnVrL2NsYXNzcm9vbUFQSS9MYW5ndWFnZUFQSS9nZXRDb250ZW50SGlzdG9yeT9jb250ZW50SUQ9XCIgKyBjb250ZW50SUQsXHJcbiAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNyb3NzRG9tYWluOiB0cnVlXHJcbiAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCBBUEkgaGFzIHJldHVybmVkIEpTT04gYXJyYXkuXHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXMpICYmIHJlcy5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdWNjZXNzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0TGFuZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uQ29udHJvbGxlci5nb1RvUGFnZShuYXZpZ2F0aW9uQ29udHJvbGxlci5hY3RpdmVQYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVzdENvbnRyb2xsZXIuYWxlcnQoXCJDb250ZW50IHN1Y2Nlc2Z1bGx5IHJldmVydGVkIGZyb20gaGlzdG9yeS5cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5lZGl0b3JcIikuZmFkZU91dCgyNTAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIuZWRpdG9yXCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZhaWx1cmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlc3RDb250cm9sbGVyLmFsZXJ0KFwiRmFpbGVkIHRvIHJldmVydCBjb250ZW50IHVwZGF0ZSBmcm9tIGhpc3RvcnkuXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJOYW1lXCI6IFwiT3JpZ2luYWwgQ29weVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkRhdGVkXCI6IFwiTi9BXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidGV4dFwiOiBsb2NhbFBhZ2VJdGVtLkltYWdlVVJMID09PSAnJyA/IGxvY2FsUGFnZUl0ZW0uVGV4dCA6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaW1hZ2VVUkxcIjogbG9jYWxQYWdlSXRlbS5UZXh0ID09PSAnJyA/IGxvY2FsUGFnZUl0ZW0uSW1hZ2VVUkwgOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnRJRFwiOiBjb250ZW50SURcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlcy5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJuZyA9IE1hdGguZmxvb3IoMTAwMDAwICsgTWF0aC5yYW5kb20oKSAqIDkwMDAwMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gcmVzW2ldLnRleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcgPSByZXNbaV0uaW1hZ2VVUkw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzW2ldLnRleHQgIT09IG51bGwpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmVkaXRIaXN0b3J5IHRib2R5XCIpLmFwcGVuZChcIjx0cj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+XCIgKyByZXNbaV0uTmFtZSArIFwiPC90ZD5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+XCIgKyBuZXcgRGF0ZShyZXNbaV0uRGF0ZWQpLnRvTG9jYWxlU3RyaW5nKCkgKyBcIjwvdGQ+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSdlZGl0SGlzdG9yeV9fY29udGVudCc+XCIgKyB0ICsgXCI8L3RkPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0nZWRpdEhpc3RvcnlfX3JldmVydCcgaWQ9J2VkaXRIaXN0b3J5LVwiKyBybmcgKyBcIidcXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1Db250ZW50SUQ9J1wiICsgcmVzW2ldLkNvbnRlbnRJRCArIFwiJ1xcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+UmV2ZXJ0PC90ZD5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI2VkaXRIaXN0b3J5LVwiICsgcm5nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlQ29udHJvbGxlci5wb3N0VGV4dFVwZGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENsYXNzOiAkKGRhdGEpLmRhdGEoXCJjbGFzc1wiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZTogJChkYXRhKS5kYXRhKFwidHlwZVwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGV4dDogJCh0aGlzKS5zaWJsaW5ncyhcIi5lZGl0SGlzdG9yeV9fY29udGVudFwiKS5odG1sKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZpZGVvVVJMOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbWFnZVVSTDogXCJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGFuZ3VhZ2U6ICQoZGF0YSkuZGF0YShcImxhbmd1YWdlXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9qZWN0SUQ6ICQoZGF0YSkuZGF0YShcInByb2plY3RpZFwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFnZUlEOiAkKGRhdGEpLmRhdGEoXCJwYWdlaWRcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbnRlbnRJZDogY29udGVudElELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IGNvbnRlbnRLZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJRDogd2luZG93LnRlc3RDb250cm9sbGVyLnVzZXJJRCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZDogY3VyRGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHN1Y2Nlc3MsIGZhaWx1cmUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmVkaXRIaXN0b3J5IHRib2R5XCIpLmFwcGVuZChcIjx0cj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+XCIgKyByZXNbaV0uTmFtZSArIFwiPC90ZD5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+XCIgKyBuZXcgRGF0ZShyZXNbaV0uRGF0ZWQpLnRvTG9jYWxlU3RyaW5nKCkgKyBcIjwvdGQ+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSdlZGl0SGlzdG9yeV9fY29udGVudCc+PGltZyBzcmM9J1wiICsgaW1nICsgXCInLz48L3RkPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0nZWRpdEhpc3RvcnlfX3JldmVydCcgaWQ9J2VkaXRIaXN0b3J5LVwiKyBybmcgKyBcIidcXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1Db250ZW50SUQ9J1wiICsgcmVzW2ldLkNvbnRlbnRJRCArIFwiJ1xcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXNyYz0nXCIgKyBpbWcgKyBcIidcXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlJldmVydDwvdGQ+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cIilcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI2VkaXRIaXN0b3J5LVwiICsgcm5nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlQ29udHJvbGxlci5wb3N0SW1hZ2VVcGRhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDbGFzczogJChkYXRhKS5kYXRhKFwiY2xhc3NcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGU6ICQoZGF0YSkuZGF0YShcInR5cGVcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRleHQ6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZpZGVvVVJMOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbWFnZVVSTDogJCh0aGlzKS5zaWJsaW5ncyhcIi5lZGl0SGlzdG9yeV9fY29udGVudFwiKS5maW5kKFwiaW1nXCIpLmF0dHIoXCJzcmNcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExhbmd1YWdlOiAkKGRhdGEpLmRhdGEoXCJsYW5ndWFnZVwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvamVjdElEOiAkKGRhdGEpLmRhdGEoXCJwcm9qZWN0aWRcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhZ2VJRDogJChkYXRhKS5kYXRhKFwicGFnZWlkXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb250ZW50SWQ6IGNvbnRlbnRJRCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBjb250ZW50S2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VySUQ6IHdpbmRvdy50ZXN0Q29udHJvbGxlci51c2VySUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IGN1ckRhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBzdWNjZXNzLCBmYWlsdXJlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQoXCIuZWRpdG9yXCIpLmZhZGVJbigyNTApO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRlc3RDb250cm9sbGVyLmFsZXJ0KFwiVGhpcyBpdGVtIGhhcyBub3QgYmVlbiBlZGl0ZWQgcHJldmlvdXNseS5cIilcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmVkaXRvclwiKS5mYWRlT3V0KDI1MCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmVkaXRvclwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0ZXN0Q29udHJvbGxlci5hbGVydChcIkZhaWxlZCB0byByZXRyaWV2ZSBlZGl0IGRhdGEsIHBsZWFzZSBjb250YWN0IGFkbWluaXN0cmF0b3JzLlwiKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcblxyXG5cclxuICAgIH07XHJcblxyXG4gICAgaW5pdExhbmcoKTtcclxufTtcclxuIiwiY29uc3QgTW9kdWxlQ29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgdGhpcy5sb3dQZXJmb3JtYW5jZU1vZGUgPSBmYWxzZTtcclxuICAgIHRoaXMudW5sb2NrQWxsID0gZmFsc2U7XHJcbiAgICB0aGlzLm5vdGVzUGFnZSA9ICQoXCIjZGVidWdOb3RlTGlzdFwiKTtcclxuICAgIHRoaXMucHJvamVjdFVSTCA9ICcwMDAlMjBQcm9qZWN0JTIwVGVtcGxhdGVzJztcclxuICAgIHRoaXMuY2xpZW50TW9kZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5vYmplY3RpdmVzID0gWyAvLyBEZWZpbmUgYW55IFNDT1JNIG9iamVjdGl2ZXMgaGVyZS5cclxuICAgIF07XHJcbiAgICAvL1RoZXNlIGFyZSBiYXNpYyBwYXRjaCBub3RlcyB0aGF0IGFyZSB2aXNpYmxlIHdpdGhpbiB0aGUgRWRpdCBTdWl0ZS5cclxuICAgIHRoaXMubm90ZXMgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2ZXJzaW9uOiBcInYwLjAuMVwiLFxyXG4gICAgICAgICAgICBvYmplY3RzOiBbXHJcbiAgICAgICAgICAgICAgICBcIkluaXRcIlxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfVxyXG4gICAgXTtcclxuICAgIC8vIFRoaXMgaXMgYXBwZW5kZWQgdG8gdGhlIHNldHRpbmdzIHRhYiBvZiB0aGUgRWRpdCBTdWl0ZS4gSXQgY29udGFpbnMgYWR2YW5jZWQgZnVuY3Rpb25zIGFuZCBtZXRob2RzIGZvciB0ZXN0aW5nIHRoZSBtb2R1bGUuIFNvbWUgdGhpbmdzIGhlcmUgYXJlIG1vZHVsZSBzcGVjaWZpYyBidXQgbW9zdCBhcmUgdXNlZnVsIGZvciB0ZXN0aW5nIGFueSBTQ09STSBwYWNrYWdlLlxyXG4gICAgdGhpcy5jb25zb2xlRnVuY3Rpb25zID0gJ1xcXHJcbiAgICAgICAgPHRyPjx0ZCBjb2xzcGFuPVwiMlwiPiZuYnNwOzwvdGQ+PC90cj5cXFxyXG4gICAgICAgIDx0ciBjbGFzcz1cInRhYmxlU3ViSGVhZGVyXCI+PHRkIGNvbHNwYW49XCIyXCI+TW9kdWxlIEZ1bmN0aW9uczo8L3RkPjwvdHI+XFxcclxuICAgICAgICA8dHI+PHRkIGNvbHNwYW49XCIyXCI+PGRpdiBvbmNsaWNrPVwibmF2aWdhdGlvbkNvbnRyb2xsZXIuZ29Ub1BhZ2UoMClcIiBjbGFzcz1cImRCdXR0b25cIiBzdHlsZT1cInRleHQtYWxpZ246IGxlZnQ7XCI+R28gdG8gZmlyc3QgcGFnZTwvZGl2PjwvdGQ+PC90cj5cXFxyXG4gICAgICAgIDx0cj48dGQgY29sc3Bhbj1cIjJcIj48ZGl2IG9uY2xpY2s9XCJuYXZpZ2F0aW9uQ29udHJvbGxlci5nb1RvUGFnZShuYXZpZ2F0aW9uQ29udHJvbGxlci5hY3RpdmVQYWdlKVwiIGNsYXNzPVwiZEJ1dHRvblwiIHN0eWxlPVwidGV4dC1hbGlnbjogbGVmdDtcIj5SZWxvYWQgY3VycmVudCBwYWdlPC9kaXY+PC90ZD48L3RyPlxcXHJcbiAgICAgICAgPHRyPjx0ZCBjb2xzcGFuPVwiMlwiPjxkaXYgb25jbGljaz1cInNjb3JtQ29udHJvbGxlci5pbnN0YW5jZS5zZXRDb21wbGV0ZSh0cnVlKVwiIGNsYXNzPVwiZEJ1dHRvblwiIHN0eWxlPVwidGV4dC1hbGlnbjogbGVmdDtcIj5TZXQgU0NPUk0gY29tcGxldGU8L2Rpdj48L3RkPjwvdHI+XFxcclxuICAgICAgICA8dHI+PHRkIGNvbHNwYW49XCIyXCI+Jm5ic3A7PC90ZD48L3RyPlxcXHJcbiAgICAgICAgPHRyIGNsYXNzPVwidGFibGVTdWJIZWFkZXJcIj48dGQgY29sc3Bhbj1cIjJcIj5BZHZhbmNlZCBGdW5jdGlvbnM6PC90ZD48L3RyPlxcXHJcbiAgICAgICAgPHRyPjx0ZCBjb2xzcGFuPVwiMlwiPjxkaXYgb25jbGljaz1cInRlc3RDb250cm9sbGVyLmNsZWFyRGF0YSgpXCIgY2xhc3M9XCJkQnV0dG9uXCIgc3R5bGU9XCJ0ZXh0LWFsaWduOiBsZWZ0O1wiPjxzcGFuIGNsYXNzPVwidGV4dC1kYW5nZXJcIj5XQVJOSU5HOiBJUlJFVkVSU0FCTEU8L3NwYW4+IC0gQ2xlYXIgY291cnNlIGRhdGEgKFBsZWFzZSBub3RlIHRoaXMgd2lsbCByZWxvYWQgdGhlIG1vZHVsZSBhbmQgYWxzbyBsb2cgeW91IG91dCBvZiB0aGUgUHVycGxlTWVkaWEgRWRpdCBTdWl0ZSk8L2Rpdj48L3RkPjwvdHI+XFxcclxuICAgICAgICA8dHI+PHRkIGNvbHNwYW49XCIyXCI+PGRpdiBvbmNsaWNrPVwidGVzdENvbnRyb2xsZXIuQ3JlYXRlUGFnZXNJbkRCKClcIiBjbGFzcz1cImRCdXR0b25cIiBzdHlsZT1cInRleHQtYWxpZ246IGxlZnQ7XCI+PHNwYW4gY2xhc3M9XCJ0ZXh0LWRhbmdlclwiPldBUk5JTkc6IElSUkVWRVJTQUJMRTwvc3Bhbj4gLSBVcGxvYWQgdGV4dCB0byBkYXRhYmFzZSAoUGxlYXNlIG5vdGUgdGhpcyB3aWxsIG92ZXJyaWRlIGFsbCBjdXJyZW50IHRleHQgb24gZGF0YWJhc2UgYW5kIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIGltcG9ydHMuKTwvZGl2PjwvdGQ+PC90cj5cXFxyXG4gICAgJztcclxuXHJcbiAgICAvLyBQb3B1bGF0ZSB0byBub3RlcyB0YWIgb2YgRWRpdFN1aXRlIGZyb20gdGhlIG5vdGVzIGFycmF5LlxyXG4gICAgdGhpcy5wb3B1bGF0ZU5vdGVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYubm90ZXNQYWdlID0gJChcIiNkZWJ1Z05vdGVMaXN0XCIpO1xyXG4gICAgICAgIHNlbGYubm90ZXNQYWdlLmFwcGVuZCgnPGg0PlBhdGNoIE5vdGVzPC9oND4nKTtcclxuICAgICAgICBmb3IgKHZhciB2ID0gMDsgdiA8IHNlbGYubm90ZXMubGVuZ3RoOyB2KyspIHtcclxuICAgICAgICAgICAgc2VsZi5ub3Rlc1BhZ2UuYXBwZW5kKCc8aDUgY2xhc3M9XCJkZWJ1Z1ZlcnNpb25cIj4nICsgc2VsZi5ub3Rlc1t2XS52ZXJzaW9uICsgJzwvaDU+PHVsPicpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBvID0gMDsgbyA8IHNlbGYubm90ZXNbdl0ub2JqZWN0cy5sZW5ndGg7IG8rKykge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5ub3Rlc1BhZ2UuYXBwZW5kKCc8bGkgY2xhc3M9XCJkZWJ1Z05vdGVcIj4nICsgc2VsZi5ub3Rlc1t2XS5vYmplY3RzW29dICsgJzwvbGk+Jyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHNlbGYubm90ZXNQYWdlLmFwcGVuZCgnPC91bD4nKTtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgICAgIFxyXG5cclxuICAgIC8vIENhbGxlZCBmcm9tIG5hdmlnYXRpb25Db250cm9sbGVyIG9uIGNoYW5nZVBhZ2UuXHJcbiAgICB0aGlzLnBhZ2VDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICQoXCJodG1sLCBib2R5XCIpLnNjcm9sbFRvcCgwKTtcclxuICAgICAgICBcclxuICAgIH07XHJcblxyXG59OyIsIlxyXG4vKiBOQVZJR0FUSU9OIENPTlRST0xMRVIgKi9cclxuY29uc3QgTmF2aWdhdGlvbkNvbnRyb2xsZXIgPSBmdW5jdGlvbiAob3B0cykge1xyXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLmFjdGl2ZVBhZ2UgPSAob3B0cy5hY3RpdmVQYWdlID09ICdudWxsJykgPyAwIDogcGFyc2VJbnQob3B0cy5hY3RpdmVQYWdlKTtcclxuICAgIHRoaXMuY3VycmVudFBhZ2VVcmwgPSAnJztcclxuICAgIHRoaXMudXNlQ0ROID0gdHJ1ZTtcclxuICAgIHRoaXMuY2FjaGVQYWdlcyA9IGZhbHNlO1xyXG4gICAgdGhpcy5maXJzdExhdW5jaCA9IHRydWU7XHJcbiAgICB0aGlzLnZpZGVvUmVzID0gMDtcclxuICAgIHRoaXMucmVnaW9uID0gMTtcclxuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRzO1xyXG4gICAgdGhpcy5fYW5zd2VycztcclxuICAgIHRoaXMuX2tjMVNjb3JlID0gMDtcclxuICAgIHRoaXMuX3RvdGFsU2NvcmUgPSAwO1xyXG4gICAgdGhpcy5fYWx0cHJvZ3Jlc3MgPSAwO1xyXG4gICAgdGhpcy5fY29udHJvbHMgPSB0aGlzLl9vcHRpb25zLmNvbnRyb2xzO1xyXG4gICAgdGhpcy5fcGFnZXMgPSBvcHRzLnBhZ2VzIHx8IFtdO1xyXG4gICAgdGhpcy5fc3RhZ2UgPSBvcHRzLnN0YWdlO1xyXG4gICAgdGhpcy5fcHJvZ3Jlc3NCYXIgPSAkKCcjYnJlYWRjcnVtYiAjYnJlYWRjcnVtYl9iYXInKTtcclxuICAgIHRoaXMuX3BlcnNvbkFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5fdGl0bGUgPSAkKCcjc2xpZGV0aXRsZScpO1xyXG4gICAgdGhpcy5fZGVidWd0ZXh0ID0gJCgnI2RlYnVnX3RleHQnKTtcclxuICAgIHRoaXMuX3NsaWRlSGFzQ29udHJvbCA9IGZhbHNlO1xyXG4gICAgdGhpcy5fc2xpZGVDYW5DaGFuZ2UgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9O1xyXG4gICAgdGhpcy5zY29yZTtcclxuICAgIHRoaXMucmVkb01vZHMgPSBbXTtcclxuICAgIHRoaXMuYXR0ZW1wdCA9IDE7XHJcblxyXG4gICAgLy8gUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHJcbiAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ05hdmlnYXRpb25Db250cm9sbGVyOjppbml0Jywgc2VsZi5fb3B0aW9ucyk7XHJcbiAgICAgICAgLy9zZWxmLl9jb250cm9scy5vbignY2xpY2snLCBzZWxmLmNoYW5nZVBhZ2UpO1xyXG4gICAgICAgIGxhdW5jaEluaXRpYWxQYWdlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbGF1bmNoSW5pdGlhbFBhZ2UoKSB7XHJcbiAgICAgICAgY2hhbmdlUGFnZShzZWxmLl9wYWdlc1tzZWxmLmFjdGl2ZVBhZ2VdKTtcclxuICAgICAgICBzZWxmLl90aXRsZS5odG1sKHNlbGYuX3BhZ2VzW3NlbGYuYWN0aXZlUGFnZV0udGl0bGUpO1xyXG4gICAgICAgICQoJyNwcmVsb2FkJykuZmFkZUluKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkUGFnZVRvRGVidWdIaXN0b3J5KHRpdGxlLCB1cmwsIHR5cGUpIHtcclxuXHJcbiAgICAgICAgY29uc3QgZCA9IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgIGggPSBkLmdldEhvdXJzKCksXHJcbiAgICAgICAgICAgIG0gPSBkLmdldE1pbnV0ZXMoKSxcclxuICAgICAgICAgICAgcyA9IGQuZ2V0U2Vjb25kcygpOyAvLyA9PiA1MVxyXG5cclxuICAgICAgICAvLyBUZXJuYXJ5IG9wZXJhdG9ycyBhcmUgaW4gdXNlIHRvIGVuc3VyZSB0aW1lIGRpc3BsYXlzIGNvcnJlY3RseSBpZiBhbnkgdmFsdWUgaXMgbGVzcyB0aGFuIDEwLiBcclxuICAgICAgICAvLyBlZy4gOTo1OjIgaXMgY29udmVydGVkIHRvIDA5OjA1OjAyXHJcbiAgICAgICAgY29uc3QgZHQgPSAoaCA8IDEwID8gXCIwXCIgKyBoIDogaCkgKyBcIjpcIiArIChtIDwgMTAgPyBcIjBcIiArIG0gOiBtKSArIFwiOlwiICsgKHMgPCAxMCA/IFwiMFwiICsgcyA6IHMpO1xyXG5cclxuICAgICAgICAkKCcjZGVidWdMb2NhdGlvbkhpc3RvcnkgdGFibGUgdGJvZHknKS5wcmVwZW5kKFwiPHRyPjx0ZD5cIiArIGR0ICsgXCI8L3RkPjx0ZD5cIiArIHRpdGxlICsgXCI8L3RkPjx0ZD5cIiArIHVybCArIFwiPC90ZD48dGQ+PGRpdiBjbGFzcz0nZGVidWctY29udGVudC0tYnRuJyAgZGF0YS11cmw9J1wiICsgdXJsICsgXCInIGRhdGEtcGFnZXR5cGU9J1wiICsgdHlwZSArIFwiJyBvbmNsaWNrPSd0ZXN0Q29udHJvbGxlci5nb3RvUGFnZSh0aGlzKSc+R28gdG8gcGFnZTwvZGl2PjwvdGQ+PC90cj5cIilcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2hhbmdlUGFnZShuZXh0UGFnZSkge1xyXG4gICAgICAgIC8vIElmIHRoZSBuZXh0IHBhZ2UgZXhpc3RzLCBnbyB0byBpdC5cclxuICAgICAgICBpZiAobmV4dFBhZ2UpIHtcclxuICAgICAgICAgICAgJCgnLnBhZ2UtbmF2Lm5leHQnKS5yZW1vdmVDbGFzcygnaGlkZXRoaXMnKTtcclxuICAgICAgICAgICAgLy8gTm90aWZ5IGxpc3RlbmVycyB0aGF0IHRoZSBwYWdlIGlzIGFib3V0IHRvIGNoYW5nZVxyXG4gICAgICAgICAgICAkLnB1Ymxpc2goJ25hdmlnYXRpb25Db250cm9sbGVyL3BhZ2VXaWxsQ2hhbmdlJyk7XHJcbiAgICAgICAgICAgIC8vIENoYW5nZSB0aGUgcGFnZVxyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRQYWdlVXJsID0gbmV4dFBhZ2UudXJsO1xyXG5cclxuICAgICAgICAgICAgLy8gRGlzcG9zZSB2aWRlb3MgYWZ0ZXIgdXNlXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFnZXMubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBWaWRlb3MgYXJlIGNyZWF0ZWQgZnJvbSB0aGUgdGl0bGUgb2YgdGhlIHBhZ2UgdGhleSBzaXQgb24uXHJcbiAgICAgICAgICAgICAgICAvLyBXZSBjYW4gdXNlIHRoaXMgdGl0bGUgcmVmZXJlbmNlIHRvIGRpc3Bvc2UgZnJvbSB2aWRlb2pzIG1lbW9yeS5cclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZpZGVvanMuZ2V0UGxheWVycygpW3BhZ2VzW2ldLnRpdGxlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWRlb2pzKHBhZ2VzW2ldLnRpdGxlKS5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy92aWRlb2pzIGlzIHN0aWxsIGluaXRpYWxpc2luZyBvciBub3QgcGFja2FnZWQuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAkKFwiLnBhZ2UtbmF2XCIpLnJlbW92ZUNsYXNzKFwidGVtcGZsYXNoM1wiKTtcclxuICAgICAgICAgICAgJChcIiNvdmVybGF5Z2xvd1wiKS5jc3MoXCJiYWNrZ3JvdW5kXCIsIFwiXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnI3N0YWdlJykuYW5pbWF0ZSh7IG9wYWNpdHk6IDAgfSwgNTAwLCBcInN3aW5nXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQoXCIjc3RhZ2VcIikubG9hZChuZXh0UGFnZS51cmwsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlQ29udHJvbGxlci5wYWdlQ2hhbmdlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vQ2FsbCB0aGUgc3RydCBtZXRob2QgZm9yIHRoZSBwYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdExhbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJChcImh0bWwsIGJvZHlcIikuc2Nyb2xsVG9wKDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJC5wdWJsaXNoKFwiL3BhZ2UvbG9hZGVkXCIsIFtuZXh0UGFnZV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUNvbnRyb2xsZXIuc2F2ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2VDb250cm9sbGVyLnVwZGF0ZUN1cnJlbnRQYWdlVGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RvZG8gVU5ETyAtIHRlbXBvcmFyaWx5IGRpc2FibGUgYWxsIGJvb2ttYXJraW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JtQ29udHJvbGxlci5pbnN0YW5jZS5zZXRMb2NhdGlvbihzZWxmLmFjdGl2ZVBhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0NoYW5nZSB0aGUgdmlkZW8gc3RpbGwgaWYgbmVlZGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0UGFnZS52aWRlb3N0aWxsY2xhc3MgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjdmlkZW9TdGlsbCcpLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MobmV4dFBhZ2UudmlkZW9zdGlsbGNsYXNzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9PTkxZIElGIFdFUkUgREVCVUdHSU5HXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChERUJVRykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlc3RDb250cm9sbGVyLmVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3NldCB0aGUgcGFnZSBoaXN0b3J5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUGFnZVRvRGVidWdIaXN0b3J5KG5leHRQYWdlLnRpdGxlLCBuZXh0UGFnZS51cmwsIFwibWFpblwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NsZWFyIHRoZSBsb2cgaWYgaXQgaXMgc2V0IHRvIGNsZWFyIG9uIHBhZ2UgY2hhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlc3RDb250cm9sbGVyLmNsZWFyRXJyb3JzT25QYWdlQ2hhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNkZWJ1Z0NvbnNvbGVMb2cgdGFibGUgdGJvZHkgdHInKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgdGhlIHRleHQgc2VjdGlvbiB3aXRoIHRoZSB0ZXh0IG9uIHRoaXMgcGFnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlQ29udHJvbGxlci51cGRhdGVEZWJ1Z1BhZ2VUZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl90aXRsZS5odG1sKHNlbGYuX3BhZ2VzW3NlbGYuYWN0aXZlUGFnZV0udGl0bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMjUwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNzdGFnZScpLmFuaW1hdGUoeyBvcGFjaXR5OiAxIH0sIDUwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMjUwKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLndhcm4oJ05vIHBhZ2UgdG8gbmF2aWdhdGUgdG8nKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBQdWJsaWMgbWV0aG9kc1xyXG5cclxuICAgIC8vIFB1YmxpYyBtZXRob2RzXHJcbiAgICBsZXQgQ29udGVudFBhZ2UgPSB7XHJcbiAgICAgICAgXCJQcm9qZWN0SWRcIjogXCJcIixcclxuICAgICAgICBcIlRpdGxlXCI6IFwiXCIsXHJcbiAgICAgICAgXCJVcmxcIjogXCJcIixcclxuICAgICAgICBcIkVuYWJsZWRcIjogMSxcclxuICAgICAgICBcIk9yZGVySURcIjogMCxcclxuICAgICAgICBcIkJhY2tncm91bmRcIjogXCJcIixcclxuICAgICAgICBcIlNlY3Rpb25cIjogXCJcIixcclxuICAgICAgICBcIlN1YlNlY3Rpb25cIjogXCJcIixcclxuICAgICAgICBcIlByZXZQYWdlXCI6IFwiXCIsXHJcbiAgICAgICAgXCJOZXh0UGFnZVwiOiBcIlwiLFxyXG4gICAgICAgIFwiQ3VzdG9tXCI6IFwiXCJcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5nZXRQYWdlT2JqZWN0QnlGaWxlID0gZnVuY3Rpb24gKGZuKSB7XHJcbiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2UsXHJcbiAgICAgICAgICAgIHBncyA9IHNlbGYuX3BhZ2VzLFxyXG4gICAgICAgICAgICBjcCA9IENvbnRlbnRQYWdlO1xyXG4gICAgICAgICQuZWFjaChwZ3MsIGZ1bmN0aW9uIChpLCBwKSB7XHJcbiAgICAgICAgICAgIGlmIChwLnVybC50b0xvd2VyQ2FzZSgpID09PSBmbi50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjcC5wcm9qZWN0SWQgPSBwcm9qZWN0SUQ7XHJcbiAgICAgICAgICAgICAgICBjcC5UaXRsZSA9IHAudGl0bGU7XHJcbiAgICAgICAgICAgICAgICBjcC5VcmwgPSBwLnVybDtcclxuICAgICAgICAgICAgICAgIGNwLkVuYWJsZWQgPSAxO1xyXG4gICAgICAgICAgICAgICAgY3AuT3JkZXJJRCA9IHAucGFnZWlkO1xyXG4gICAgICAgICAgICAgICAgY3AuQmFja2dyb3VuZCA9IHAuYmFja2dyb3VuZDtcclxuICAgICAgICAgICAgICAgIGNwLlNlY3Rpb24gPSBwLnNlY3Rpb247XHJcbiAgICAgICAgICAgICAgICBjcC5TdWJTZWN0aW9uID0gcC5zdWJzZWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgY3AuUHJldlBhZ2UgPSBwLnByZXZwYWdlO1xyXG4gICAgICAgICAgICAgICAgY3AuTmV4dFBhZ2UgPSBwLm5leHRwYWdlO1xyXG4gICAgICAgICAgICAgICAgY3AuQ3VzdG9tID0gcC5jdXN0b207XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoZm91bmQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy51cGRhdGVTY29yZSA9IGZ1bmN0aW9uIChRSUQsIFNDT1JFLCBNVUxUSVBMSUVSLCBDT1JSRUNUKSB7XHJcbiAgICAgICAgLy9SZXNldCBtb2R1bGUgc2NvcmVzXHJcbiAgICAgICAgJC5lYWNoKHNlbGYuX21vZHVsZVNjb3JlLCBmdW5jdGlvbiAoaSwgcSkge1xyXG4gICAgICAgICAgICBxID0gMDtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvL0xvb3AgYWxsIHNjb3JlcywgdXBkYXRpbmcgdGhlIG9uZSB3ZSBqdXN0IGdvdCBhcyB3ZSBwYXNzXHJcbiAgICAgICAgJC5lYWNoKHNlbGYuX2ludGVyYWN0aW9ucywgZnVuY3Rpb24gKGksIHEpIHtcclxuICAgICAgICAgICAgaWYgKHFbMF0gPT09IFFJRCkge1xyXG4gICAgICAgICAgICAgICAgcVsxXSA9IFNDT1JFO1xyXG4gICAgICAgICAgICAgICAgcVsyXSA9IE1VTFRJUExJRVI7XHJcbiAgICAgICAgICAgICAgICBxWzNdID0gQ09SUkVDVDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKHFbMl0gPT09IDApIHsgcVsyXSA9IDEgfTtcclxuICAgICAgICAgICAgc2VsZi5fbW9kdWxlU2NvcmVbTnVtYmVyKHFbNF0pXSA9IChOdW1iZXIoc2VsZi5fbW9kdWxlU2NvcmVbTnVtYmVyKHFbNF0pXSkgKyBOdW1iZXIoTnVtYmVyKHFbMV0pICogTnVtYmVyKHFbMl0pKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMubGF1bmNoSW5pdGlhbFBhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGF1bmNoSW5pdGlhbFBhZ2UoKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5nZXRDdXJyZW50UGFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gc2VsZi5fcGFnZXNbc2VsZi5hY3RpdmVQYWdlXTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNoYW5nZVBhZ2UgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGNvbnN0IGlzRm9yd2FyZCA9ICQoZS50YXJnZXQpLmlzKCcubmV4dCcpO1xyXG5cclxuICAgICAgICBpZiAoc2VsZi5fc2xpZGVIYXNDb250cm9sICYmIHNlbGYuX3NsaWRlQ2FuQ2hhbmdlKGlzRm9yd2FyZCkgJiYgaXNGb3J3YXJkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2UgaWYgKCFpc0ZvcndhcmQpIHtcclxuICAgICAgICAgICAgc2VsZi5fc2xpZGVIYXNDb250cm9sID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEdldCBhIHJlZmVyZW5jZSB0byB0aGUgbmV4dCBwYWdlXHJcbiAgICAgICAgY29uc3QgbmV4dFBhZ2UgPSBpc0ZvcndhcmQgPyBzZWxmLl9wYWdlc1tzZWxmLmFjdGl2ZVBhZ2UgKyAxXSA6IHNlbGYuX3BhZ2VzW3NlbGYuYWN0aXZlUGFnZSAtIDFdO1xyXG5cclxuICAgICAgICBpZiAoY2hhbmdlUGFnZShuZXh0UGFnZSkpIHtcclxuICAgICAgICAgICAgJChlLnRhcmdldCkuaXMoJy5uZXh0JykgPyBzZWxmLmFjdGl2ZVBhZ2UrKyA6IHNlbGYuYWN0aXZlUGFnZS0tO1xyXG4gICAgICAgICAgICAvLyBIb29rIGZvciBBRlRFUiB0aGUgcGFnZSBjaGFuZ2VzXHJcbiAgICAgICAgICAgICQucHVibGlzaCgnbmF2aWdhdGlvbkNvbnRyb2xsZXIvcGFnZURpZENoYW5nZScsIHNlbGYuYWN0aXZlUGFnZSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoc2Nvcm1Db250cm9sbGVyLmNhblNhdmUpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvL2dhbWVDb250cm9sbGVyLnNhdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZWxmLl90aXRsZS5odG1sKHNlbGYuX3BhZ2VzW3NlbGYuYWN0aXZlUGFnZV0udGl0bGUpO1xyXG4gICAgICAgICAgICAkKCdoZWFkZXInKS5yZW1vdmVDbGFzcyhcInNsaWRldXBoZWFkZXJcIilcclxuXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmdvVG9QYWdlID0gZnVuY3Rpb24gKGlkLCBzY3JvbGwpIHtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiAoc2VsZi5fcGFnZXNbaWRdKSAhPT0gJ3VuZGVmaW5lZCcgJiYgY2hhbmdlUGFnZShzZWxmLl9wYWdlc1tpZF0pKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYWN0aXZlUGFnZSA9IGlkO1xyXG5cclxuICAgICAgICAgICAgLy8gSG9vayBmb3IgQUZURVIgdGhlIHBhZ2UgY2hhbmdlc1xyXG4gICAgICAgICAgICAkLnB1Ymxpc2goJ25hdmlnYXRpb25Db250cm9sbGVyL3BhZ2VEaWRDaGFuZ2UnLCBzZWxmLmFjdGl2ZVBhZ2UpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNjcm9sbCAhPT0gJycpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUbygkKHNjcm9sbCkpO1xyXG4gICAgICAgICAgICAgICAgfSwgMjUwKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChzY29ybUNvbnRyb2xsZXIuY2FuU2F2ZSkge1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5nb1RvUGFnZVdpdGhGaWxlbmFtZSA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgc2Nyb2xsKSB7XHJcblxyXG4gICAgICAgIHZhciAkcGFnZUluZGV4O1xyXG5cclxuICAgICAgICAkLmVhY2goc2VsZi5fcGFnZXMsIGZ1bmN0aW9uIChpLCBsKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAobC51cmwgPT09IGZpbGVuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAkcGFnZUluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzZWxmLmdvVG9QYWdlKCRwYWdlSW5kZXgsIHNjcm9sbCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZ29Ub1BhZ2VXaXRoVGl0bGUgPSBmdW5jdGlvbiAobmFtZSwgc2Nyb2xsKSB7XHJcblxyXG4gICAgICAgIHZhciAkcGFnZUluZGV4O1xyXG5cclxuICAgICAgICAkLmVhY2goc2VsZi5fcGFnZXMsIGZ1bmN0aW9uIChpLCBsKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAobC50aXRsZSA9PT0gbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgJHBhZ2VJbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc2VsZi5nb1RvUGFnZSgkcGFnZUluZGV4LCBzY3JvbGwpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdvVG9OZXh0UGFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLmFjdGl2ZVBhZ2UgPCBzZWxmLl9wYWdlcy5sZW5ndGggLSAxID8gc2VsZi5hY3RpdmVQYWdlKysgOiBzZWxmLmFjdGl2ZVBhZ2U7XHJcbiAgICAgICAgaWYgKGNoYW5nZVBhZ2Uoc2VsZi5fcGFnZXNbc2VsZi5hY3RpdmVQYWdlXSkpIHtcclxuICAgICAgICAgICAgLy8gSG9vayBmb3IgQUZURVIgdGhlIHBhZ2UgY2hhbmdlc1xyXG4gICAgICAgICAgICAkLnB1Ymxpc2goJ25hdmlnYXRpb25Db250cm9sbGVyL3BhZ2VEaWRDaGFuZ2UnLCBzZWxmLmFjdGl2ZVBhZ2UpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNjb3JtQ29udHJvbGxlci5jYW5TYXZlKSB7XHJcbiAgICAgICAgICAgICAgICAvL3RvZG8gZml4IHNhdmluZ1xyXG4gICAgICAgICAgICAgICAgLy9nYW1lQ29udHJvbGxlci5zYXZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5hY3RpdmVQYWdlQXNUZXh0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChERUJVRykge1xyXG4gICAgICAgICAgICBjb25zdCB0eHQgPSBcIlwiO1xyXG4gICAgICAgICAgICB0eHQgPSBcIlRoZSBjdXJyZW50IHBhZ2UgaXMgXCIgKyB0aGlzLl9wYWdlc1tzZWxmLmFjdGl2ZVBhZ2VdLnVybDtcclxuICAgICAgICAgICAgcmV0dXJuIHR4dDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5hY3RpdmVQYWdlQXNObyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gc2VsZi5hY3RpdmVQYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIExhc3RseSwgY2FsbCBpbml0IHNvIHdlJ3JlIHJlYWR5IHRvIGdvIGFzIHNvb24gYXMgdGhlIGNvbnRyb2xsZXIgaXMgY3JlYXRlZFxyXG4gICAgaW5pdCgpO1xyXG59OyIsImNvbnN0IFNjb3JtQ29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgdGhpcy5pbnN0YW5jZSA9IG51bGw7XHJcbiAgICB0aGlzLnZlcnNpb24gPSAxLjI7XHJcbiAgICB0aGlzLl9zY29ybUNvbm5lY3RlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5jYW5TYXZlID0gdHJ1ZTtcclxuICAgIHRoaXMub2JqZWN0aXZlcyA9IG1vZHVsZV9vYmplY3RpdmVzO1xyXG4gICAgdGhpcy5zdHVkZW50SUQgPSAnJztcclxuICAgIHRoaXMudXNlT2JqZWN0aXZlcyA9IHRydWU7XHJcblxyXG4gICAgZnVuY3Rpb24gRm9ybWF0Q2hvaWNlUmVzcG9uc2UodmFsdWUpIHtcclxuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IG5ldyBTdHJpbmcodmFsdWUpO1xyXG5cclxuICAgICAgICAvL3JlcGxhY2UgYWxsIHdoaXRlc3BhY2VcclxuICAgICAgICBuZXdWYWx1ZSA9IG5ld1ZhbHVlLnJlcGxhY2UoL1xcVy9nLCBcIl9cIik7XHJcbiAgICAgICAgcmV0dXJuIG5ld1ZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFByaXZhdGUgRnVuY3Rpb25zXHJcbiAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgKHBpcHdlcmtzKSAhPT0gJ3VuZGVmaW5lZCcgJiYgIXNlbGYuX3Njb3JtQ29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgIHZhciBzY29ybSA9IHBpcHdlcmtzLlNDT1JNO1xyXG4gICAgICAgICAgICBzZWxmLl9zY29ybUNvbm5lY3RlZCA9IHNjb3JtLmluaXQoKTtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgd2UncmUgYWN0dWFsbHkgY29ubmVjdGVkXHJcbiAgICAgICAgICAgIGlmIChzZWxmLl9zY29ybUNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKCdTQ09STTo6Q29ubmVjdGVkJyk7XHJcbiAgICAgICAgICAgICAgICAvL0xldCdzIGNoZWNrIGlmIHdlJ3JlICdyZWFsbHknIGNvbm5lY3RlZCBieSB0cnlpbmcgdG8gZ2V0IHRoZSBzdHVkZW50IElEXHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi52ZXJzaW9uID09IDEuMikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3R1ZGVudElEID0gc2Nvcm0uZ2V0KCdjbWkuY29yZS5zdHVkZW50X2lkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuc3R1ZGVudElEID09ICcnIHx8IHNlbGYuc3R1ZGVudElEID09IG51bGwpIHsgc2VsZi5jYW5TYXZlID0gZmFsc2U7IGNvbnNvbGUubG9nKFwiUmVsb2FkaW5nIGF0IG5vIHN0dWRlbnQgSURcIik7IH0gZWxzZSB7IHNlbGYuY2FuU2F2ZSA9IHRydWU7IH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbGVzc29uIGlzIGNvbXBsZXRlIHRoZW4gZGlzY29ubmVjdCwgb3RoZXJ3aXNlIHNldCBpbmNvbXBsZXRlXHJcbiAgICAgICAgICAgICAgICAgICAgLy9zY29ybS5nZXQoXCJjbWkuY29yZS5sZXNzb25fc3RhdHVzXCIpID09PSAnY29tcGxldGVkJyA/IHNjb3JtLnF1aXQgOiBzY29ybS5zZXQoJ2NtaS5jb3JlLmxlc3Nvbl9zdGF0dXMnLCAnaW5jb21wbGV0ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy52ZXJzaW9uID0gc2Nvcm0uZ2V0KFwiY21pLmNvcmUubGVzc29uX3N0YXR1c1wiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zdHVkZW50SUQgPSBzY29ybS5nZXQoJ2NtaS5sZWFybmVyX2lkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuc3R1ZGVudElEID09ICcnIHx8IHNlbGYuc3R1ZGVudElEID09IG51bGwpIHsgc2VsZi5jYW5TYXZlID0gZmFsc2U7IGNvbnNvbGUubG9nKFwiUmVsb2FkaW5nIGF0IG5vIHN0dWRlbnQgSURcIik7IH0gZWxzZSB7IHNlbGYuY2FuU2F2ZSA9IHRydWU7IH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbGVzc29uIGlzIGNvbXBsZXRlIHRoZW4gZGlzY29ubmVjdCwgb3RoZXJ3aXNlIHNldCBpbmNvbXBsZXRlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2Nvcm0uZ2V0KFwiY21pLmNvbXBsZXRpb25fc3RhdHVzXCIpID09PSAnY29tcGxldGVkJyA/IHNjb3JtLnF1aXQgOiBzY29ybS5zZXQoJ2NtaS5jb21wbGV0aW9uX3N0YXR1cycsICdpbmNvbXBsZXRlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLnZlcnNpb24gPSBzY29ybS5nZXQoXCJjbWkuY29tcGxldGlvbl9zdGF0dXNcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzY29ybUluc3RhbmNlID0ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbG9jYXRpb24gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi52ZXJzaW9uID09PSAxLjIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gc2Nvcm0uZ2V0KCdjbWkuY29yZS5sZXNzb25fbG9jYXRpb24nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgbG9jYXRpb24gPSBzY29ybS5nZXQoJ2NtaS5sb2NhdGlvbicpOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGxvY2F0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvY2F0aW9uID09PSBcIlwiID8gMCA6IGxvY2F0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0SXRlbTogZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjb3JtLmdldChpdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGdldFNjb3JlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzY29yZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnZlcnNpb24gPT0gMS4yKSB7IHNjb3JlID0gc2Nvcm0uZ2V0KCdjbWkuY29yZS5zY29yZS5yYXcnKSB9IGVsc2UgeyBzY29yZSA9IHNjb3JtLmdldCgnY21pLnNjb3JlLnJhdycpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChzY29yZSA9PT0gXCJcIikgPyAwIDogc2NvcmU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBnZXRTdHVkZW50TmFtZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc25hbWUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi52ZXJzaW9uID09IDEuMikgeyBzbmFtZSA9IHNjb3JtLmdldCgnY21pLmNvcmUuc3R1ZGVudF9uYW1lJykgfSBlbHNlIHsgc25hbWUgPSBzY29ybS5nZXQoJ2NtaS5sZWFybmVyX25hbWUnKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzbmFtZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0U3R1ZGVudElEOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc25hbWUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi52ZXJzaW9uID09IDEuMikgeyBzbmFtZSA9IHNjb3JtLmdldCgnY21pLmNvcmUuc3R1ZGVudF9pZCcpIH0gZWxzZSB7IHNuYW1lID0gc2Nvcm0uZ2V0KCdjbWkubGVhcm5lcl9pZCcpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNuYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBnZXRTdXNwZW5kRGF0YTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2RhdGEgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi52ZXJzaW9uID09IDEuMikgeyBzZGF0YSA9IHNjb3JtLmdldCgnY21pLnN1c3BlbmRfZGF0YScpIH0gZWxzZSB7IHNkYXRhID0gc2Nvcm0uZ2V0KCdjbWkuc3VzcGVuZF9kYXRhJykgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2RhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBnZXRMYW5ndWFnZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGFuZyA9IFwiZW5cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYudmVyc2lvbiA9PSAxLjIpIHsgbGFuZyA9IHNjb3JtLmdldCgnY21pLnN0dWRlbnRfcHJlZmVyZW5jZS5sYW5ndWFnZScpIH0gZWxzZSB7IGxhbmcgPSBzY29ybS5nZXQoJ2NtaS5sZWFybmVyX3ByZWZlcmVuY2UubGFuZ3VhZ2UnKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsYW5nXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzZXRJdGVtOiBmdW5jdGlvbiAoaXRlbSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjb3JtLnNldChpdGVtLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzZXRMb2NhdGlvbjogZnVuY3Rpb24gKGludExvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBib29rbWFyayA9IGludExvY2F0aW9uICsgXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxvY2F0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi52ZXJzaW9uID09IDEuMikgeyBsb2NhdCA9IHNjb3JtLnNldCgnY21pLmNvcmUubGVzc29uX2xvY2F0aW9uJywgYm9va21hcmspIH0gZWxzZSB7IGxvY2F0ID0gc2Nvcm0uc2V0KCdjbWkubG9jYXRpb24nLCBib29rbWFyaykgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHNldFNjb3JlOiBmdW5jdGlvbiAoaW50U2NvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNjb3JlID0gaW50U2NvcmUgKyBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi52ZXJzaW9uID09IDEuMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nvcm0uc2V0KCdjbWkuY29yZS5zY29yZS5taW4nLCAnMCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nvcm0uc2V0KCdjbWkuY29yZS5zY29yZS5tYXgnLCAnMTAwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29ybS5zZXQoJ2NtaS5jb3JlLnNjb3JlLnJhdycsIHNjb3JlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JtLnNldCgnY21pLnNjb3JlLm1pbicsICcwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29ybS5zZXQoJ2NtaS5zY29yZS5tYXgnLCAnMTAwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29ybS5zZXQoJ2NtaS5zY29yZS5yYXcnLCBzY29yZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3JtQ29udHJvbGxlci5jYW5TYXZlKSB7IHNjb3JtLnNhdmUoKTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0U3VzcGVuZERhdGE6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnZlcnNpb24gPT0gMS4yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29ybS5zZXQoJ2NtaS5zdXNwZW5kX2RhdGEnLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JtLnNldCgnY21pLnN1c3BlbmRfZGF0YScsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY29ybUNvbnRyb2xsZXIuY2FuU2F2ZSkgeyBzY29ybS5zYXZlKCk7IH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHNldENvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0dXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnZlcnNpb24gPT0gMS4yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSBzY29ybS5zZXQoJ2NtaS5jb3JlLmxlc3Nvbl9zdGF0dXMnLCAnY29tcGxldGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSBzY29ybS5zZXQoJ2NtaS5jb21wbGV0aW9uX3N0YXR1cycsICdjb21wbGV0ZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2Nvcm1Db250cm9sbGVyLmNhblNhdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JtLnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0U3VjY2VzczogZnVuY3Rpb24gKHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0dXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnZlcnNpb24gPT0gMS4yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25vdCBpbiBzY29ybSAxLjJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cyA9IHNjb3JtLnNldCgnY21pLnN1Y2Nlc3Nfc3RhdHVzJywgJ3Bhc3NlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY29ybUNvbnRyb2xsZXIuY2FuU2F2ZSkgeyBzY29ybS5zYXZlKCk7IH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHNldExhbmd1YWdlOiBmdW5jdGlvbiAoaXNvbGFuZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3JldHVybiBzY29ybS5zZXQoJ2NtaS5zdHVkZW50X3ByZWZlcmVuY2UubGFuZ3VhZ2UnLCBpc29sYW5nKVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgU2Nvcm1Qcm9jZXNzR2V0VmFsdWU6IGZ1bmN0aW9uIChjbWkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbCA9IHNjb3JtLmdldChjbWkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBTY29ybVByb2Nlc3NTZXRWYWx1ZTogZnVuY3Rpb24gKGNtaSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXR1cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzID0gc2Nvcm0uc2V0KGNtaSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29ybS5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBxdWl0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0dXMgPSBzY29ybS5xdWl0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0dXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzYXZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JtLnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZFF1ZXN0aW9uOiBmdW5jdGlvbiAocXVlc3Rpb25SZWYsIHF1ZXN0aW9uVGV4dCwgcXVlc3Rpb25UeXBlLCBsZWFybmVyUmVzcG9uc2UsIGNvcnJlY3RBbnN3ZXIsIHdhc0NvcnJlY3QsIG9iamVjdGl2ZUlkLCBpbnRlcmFjdGlvbklEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnZlcnNpb24gPT0gMS4yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3F1ZXN0aW9uIGlkIG11c3QgYmUgdGhlIGZpcnN0IGl0ZW0gc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29ybS5zZXQoXCJjbWkuaW50ZXJhY3Rpb25zLlwiICsgaW50ZXJhY3Rpb25JRCArIFwiLmlkXCIsIHF1ZXN0aW9uUmVmKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0Fzc29jaWF0ZSB0aGlzIHF1ZXN0aW9uIHdpdGggb25lIG9mIG91ciBmb3VyIGRlZmluZWQgbGVhcm5pbmcgb2plY3RpdmVzIHRvIGVuYWJsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGUgTE1TIHRvIHByb3ZpZGUgZGV0YWlsZWQgcmVwb3J0aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29ybS5zZXQoXCJjbWkuaW50ZXJhY3Rpb25zLlwiICsgaW50ZXJhY3Rpb25JRCArIFwiLm9iamVjdGl2ZXMuMC5pZFwiLCBvYmplY3RpdmVJZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9UaGUgcXVlc3Rpb24gdHlwZSBzaG91bGQgYmUgc2V0IGJlZm9yZSBkZXRhaWxlZCByZXNwb25zZSBpbmZvcm1hdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nvcm0uc2V0KFwiY21pLmludGVyYWN0aW9ucy5cIiArIGludGVyYWN0aW9uSUQgKyBcIi50eXBlXCIsIHF1ZXN0aW9uVHlwZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9BbGwgaW50ZXJhY3Rpb24gcmVzcG9uc2VzIGhhdmUgYSB2ZXJ5IHNwZWNpZmljIGZvcm1hdCB0aGV5IG11c3QgYWhlcmUgdG8gYmFzZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vb24gdGhlIGludGVyYWN0aW9uIHR5cGUuIEluIHRoaXMgZXhhbXBsZSwgb25seSBtdWx0aXBsZSBjaG9pY2UgcmVwb25zZXMgbmVlZCB0byBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYmUgbWFzc2FnZWQgdG8gYWRoZXJlIHRvIHRoYXQgdHlwaW5nLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHF1ZXN0aW9uVHlwZSA9PSBcImNob2ljZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVhcm5lclJlc3BvbnNlID0gRm9ybWF0Q2hvaWNlUmVzcG9uc2UobGVhcm5lclJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0QW5zd2VyID0gRm9ybWF0Q2hvaWNlUmVzcG9uc2UoY29ycmVjdEFuc3dlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlYXJuZXJSZXNwb25zZSAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9SZWNvcmQgdGhlIHJlc3BvbnNlIHRoZSBsZWFybmVyIGdhdmUgKGlmIG9uZSB3YXMgcHJvdmlkZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nvcm0uc2V0KFwiY21pLmludGVyYWN0aW9ucy5cIiArIGludGVyYWN0aW9uSUQgKyBcIi5zdHVkZW50X3Jlc3BvbnNlXCIsIGxlYXJuZXJSZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9SZWNvcmQgdGhlIGNvcnJlY3QgYW5zd2VyLCBldmVuIGlmIGl0IGlzIHRoZSBzYW1lIGFzIHRoZSBsZWFybmVyIHJlc3BvbnNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29ybS5zZXQoXCJjbWkuaW50ZXJhY3Rpb25zLlwiICsgaW50ZXJhY3Rpb25JRCArIFwiLmNvcnJlY3RfcmVzcG9uc2VzLjAucGF0dGVyblwiLCBjb3JyZWN0QW5zd2VyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0ZpbmFsbHkgcmVjb3JkIHdoZXRoZXIgb3Igbm90IHRoZSBsZWFybmVyJ3MgcmVzcG9uc2Ugd2FzIGNvcnJlY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3YXNDb3JyZWN0ID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29ybS5zZXQoXCJjbWkuaW50ZXJhY3Rpb25zLlwiICsgaW50ZXJhY3Rpb25JRCArIFwiLnJlc3VsdFwiLCBcImNvcnJlY3RcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29ybS5zZXQoXCJjbWkuaW50ZXJhY3Rpb25zLlwiICsgaW50ZXJhY3Rpb25JRCArIFwiLnJlc3VsdFwiLCBcIndyb25nXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcXVlc3Rpb24gaWQgbXVzdCBiZSB0aGUgZmlyc3QgaXRlbSBzZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JtLnNldChcImNtaS5pbnRlcmFjdGlvbnMuXCIgKyBpbnRlcmFjdGlvbklEICsgXCIuaWRcIiwgcXVlc3Rpb25SZWYpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vVXNlIHRoZSBxdWVzdGlvbiB0ZXh0IGFzIHRoZSBpbnRlcmFjdGlvbidzIGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29ybS5zZXQoXCJjbWkuaW50ZXJhY3Rpb25zLlwiICsgaW50ZXJhY3Rpb25JRCArIFwiLmRlc2NyaXB0aW9uXCIsIHF1ZXN0aW9uVGV4dCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9Bc3NvY2lhdGUgdGhpcyBxdWVzdGlvbiB3aXRoIG9uZSBvZiBvdXIgZm91ciBkZWZpbmVkIGxlYXJuaW5nIG9qZWN0aXZlcyB0byBlbmFibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlIExNUyB0byBwcm92aWRlIGRldGFpbGVkIHJlcG9ydGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nvcm0uc2V0KFwiY21pLmludGVyYWN0aW9ucy5cIiArIGludGVyYWN0aW9uSUQgKyBcIi5vYmplY3RpdmVzLjAuaWRcIiwgb2JqZWN0aXZlSWQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vVGhlIHF1ZXN0aW9uIHR5cGUgc2hvdWxkIGJlIHNldCBiZWZvcmUgZGV0YWlsZWQgcmVzcG9uc2UgaW5mb3JtYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JtLnNldChcImNtaS5pbnRlcmFjdGlvbnMuXCIgKyBpbnRlcmFjdGlvbklEICsgXCIudHlwZVwiLCBxdWVzdGlvblR5cGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQWxsIGludGVyYWN0aW9uIHJlc3BvbnNlcyBoYXZlIGEgdmVyeSBzcGVjaWZpYyBmb3JtYXQgdGhleSBtdXN0IGFoZXJlIHRvIGJhc2VkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL29uIHRoZSBpbnRlcmFjdGlvbiB0eXBlLiBJbiB0aGlzIGV4YW1wbGUsIG9ubHkgbXVsdGlwbGUgY2hvaWNlIHJlcG9uc2VzIG5lZWQgdG8gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2JlIG1hc3NhZ2VkIHRvIGFkaGVyZSB0byB0aGF0IHR5cGluZy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChxdWVzdGlvblR5cGUgPT0gXCJjaG9pY2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlYXJuZXJSZXNwb25zZSA9IEZvcm1hdENob2ljZVJlc3BvbnNlKGxlYXJuZXJSZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdEFuc3dlciA9IEZvcm1hdENob2ljZVJlc3BvbnNlKGNvcnJlY3RBbnN3ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsZWFybmVyUmVzcG9uc2UgIT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vUmVjb3JkIHRoZSByZXNwb25zZSB0aGUgbGVhcm5lciBnYXZlIChpZiBvbmUgd2FzIHByb3ZpZGVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JtLnNldChcImNtaS5pbnRlcmFjdGlvbnMuXCIgKyBpbnRlcmFjdGlvbklEICsgXCIubGVhcm5lcl9yZXNwb25zZVwiLCBsZWFybmVyUmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vUmVjb3JkIHRoZSBjb3JyZWN0IGFuc3dlciwgZXZlbiBpZiBpdCBpcyB0aGUgc2FtZSBhcyB0aGUgbGVhcm5lciByZXNwb25zZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nvcm0uc2V0KFwiY21pLmludGVyYWN0aW9ucy5cIiArIGludGVyYWN0aW9uSUQgKyBcIi5jb3JyZWN0X3Jlc3BvbnNlcy4wLnBhdHRlcm5cIiwgY29ycmVjdEFuc3dlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9GaW5hbGx5IHJlY29yZCB3aGV0aGVyIG9yIG5vdCB0aGUgbGVhcm5lcidzIHJlc3BvbnNlIHdhcyBjb3JyZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2FzQ29ycmVjdCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nvcm0uc2V0KFwiY21pLmludGVyYWN0aW9ucy5cIiArIGludGVyYWN0aW9uSUQgKyBcIi5yZXN1bHRcIiwgXCJjb3JyZWN0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nvcm0uc2V0KFwiY21pLmludGVyYWN0aW9ucy5cIiArIGludGVyYWN0aW9uSUQgKyBcIi5yZXN1bHRcIiwgXCJpbmNvcnJlY3RcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzZXRPYmplY3RpdmVTY29yZTogZnVuY3Rpb24gKGksIHNjb3JlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnVzZU9iamVjdGl2ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnZlcnNpb24gPT0gMS4yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXR1cyA9IHNjb3JtLnNldChcImNtaS5vYmplY3RpdmVzLlwiICsgaSArIFwiLnNjb3JlLnJhd1wiLCBzY29yZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdHVzID0gc2Nvcm0uc2V0KFwiY21pLm9iamVjdGl2ZXMuXCIgKyBpICsgXCIuc2NvcmUubWluXCIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0dXMgPSBzY29ybS5zZXQoXCJjbWkub2JqZWN0aXZlcy5cIiArIGkgKyBcIi5zY29yZS5tYXhcIiwgMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdHVzID0gc2Nvcm0uc2V0KFwiY21pLm9iamVjdGl2ZXMuXCIgKyBpICsgXCIuc2NvcmUucmF3XCIsIHNjb3JlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0T2JqZWN0aXZlQ29tcGxldGlvbjogZnVuY3Rpb24gKGksIGNvbXBsZXRpb25fc3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnVzZU9iamVjdGl2ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnZlcnNpb24gPT0gMS4yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXR1cyA9IHNjb3JtLnNldChcImNtaS5vYmplY3RpdmVzLlwiICsgaSArIFwiLnN0YXR1c1wiLCBjb21wbGV0aW9uX3N0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdHVzID0gc2Nvcm0uc2V0KFwiY21pLm9iamVjdGl2ZXMuXCIgKyBpICsgXCIuY29tcGxldGlvbl9zdGF0dXNcIiwgY29tcGxldGlvbl9zdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzZXRPYmplY3RpdmVQcm9ncmVzczogZnVuY3Rpb24gKGksIHByb2dyZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnVzZU9iamVjdGl2ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnZlcnNpb24gPT0gMS4yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8xLjIgaGFzIG5vIHByb2dyZXNzIGZvciBvYmplY3RpdmVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdHVzID0gc2Nvcm0uc2V0KFwiY21pLm9iamVjdGl2ZXMuXCIgKyBpICsgXCIucHJvZ3Jlc3NfbWVhc3VyZVwiLCBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGluaXRPYmplY3RpdmVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnVzZU9iamVjdGl2ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQ2hlY2tzIGlmIHRoZSBvYmplY3RpdmVzIHdlcmUgcmVnaXN0ZWVyZCBieSB0aGUgTE1TIGFuZCBpZiBub3QgY3JlYXRlcyB0aGVtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm9PZk9iamVjdGl2ZXNSZWdpc3RlcmVkID0gc2Nvcm0uZ2V0KFwiY21pLm9iamVjdGl2ZXMuX2NvdW50XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vT2ZPYmplY3RpdmVzID0gc2VsZi5vYmplY3RpdmVzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZUludChub09mT2JqZWN0aXZlc1JlZ2lzdGVyZWQpICE9IHBhcnNlSW50KG5vT2ZPYmplY3RpdmVzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnZlcnNpb24gPT0gMS4yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChzZWxmLm9iamVjdGl2ZXMsIGZ1bmN0aW9uIChpLCBvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29ybS5zZXQoXCJjbWkub2JqZWN0aXZlcy5cIiArIGkgKyBcIi5pZFwiLCBvLm9iamVjdGl2ZUlEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JtLnNldChcImNtaS5vYmplY3RpdmVzLlwiICsgaSArIFwiLnNjb3JlLnJhd1wiLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JtLnNldChcImNtaS5vYmplY3RpdmVzLlwiICsgaSArIFwiLnN0YXR1c1wiLCBcImluY29tcGxldGVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9TQ09STSAyMDA0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChzZWxmLm9iamVjdGl2ZXMsIGZ1bmN0aW9uIChpLCBvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29ybS5zZXQoXCJjbWkub2JqZWN0aXZlcy5cIiArIGkgKyBcIi5pZFwiLCBvLm9iamVjdGl2ZUlEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JtLnNldChcImNtaS5vYmplY3RpdmVzLlwiICsgaSArIFwiLnNjb3JlLnJhd1wiLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JtLnNldChcImNtaS5vYmplY3RpdmVzLlwiICsgaSArIFwiLmNvbXBsZXRpb25fc3RhdHVzXCIsIFwiaW5jb21wbGV0ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JtLnNldChcImNtaS5vYmplY3RpdmVzLlwiICsgaSArIFwiLnByb2dyZXNzX21lYXN1cmVcIiwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29ybS5zZXQoXCJjbWkub2JqZWN0aXZlcy5cIiArIGkgKyBcIi5kZXNjcmlwdGlvblwiLCBvLmRlc2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nvcm0uc2F2ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFBST0RVQ1RJT04gJiYgIURFQlVHKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5TYXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdWlDb250cm9sbGVyLnNob3dDb25FcnIoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5TYXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTQ09STSB3b24ndCBjb25uZWN0LCBzbyBtYWtlIGV2ZXJ5dGhpbmcgYSBuby1vcFxyXG4gICAgICAgICAgICAgICAgdmFyIHNjb3JtSW5zdGFuY2UgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxvYyA9ICdudWxsJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHV0aWxzLnN0b3JhZ2VBdmFpbGFibGUoJ3Nlc3Npb25TdG9yYWdlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdG9yZSA9IHdpbmRvd1snc2Vzc2lvblN0b3JhZ2UnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYyA9IHN0b3JlLmdldEl0ZW0oXCJib29rbWFya1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2MgPT0gJ3VuZGVmaW5lZCcgfHwgbG9jID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2MgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9jO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3JldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0U2NvcmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBnZXRTdHVkZW50TmFtZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ251bGwnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0U3R1ZGVudElEOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcmV0dXJuICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBnZXRTdXNwZW5kRGF0YTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ251bGwnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0TGFuZ3VhZ2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdudWxsJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0TG9jYXRpb246IGZ1bmN0aW9uIChpbnRMb2NhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYm9va21hcmsgPSBpbnRMb2NhdGlvbiArIFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1dGlscy5zdG9yYWdlQXZhaWxhYmxlKCdzZXNzaW9uU3RvcmFnZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3RvcmUgPSB3aW5kb3dbJ3Nlc3Npb25TdG9yYWdlJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZS5zZXRJdGVtKFwiYm9va21hcmtcIiwgYm9va21hcmspO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnRMb2NhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHNldFNjb3JlOiBmdW5jdGlvbiAoaW50U2NvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNjb3JlID0gaW50U2NvcmUgKyBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ251bGwnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0U3VzcGVuZERhdGE6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLmNhbnRTYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnbnVsbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzZXRDb21wbGV0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ251bGwnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0TGFuZ3VhZ2U6IGZ1bmN0aW9uIChpc29sYW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnbnVsbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBTY29ybVByb2Nlc3NHZXRWYWx1ZTogZnVuY3Rpb24gKGNtaSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9sZXQgdmFsID0gc2Nvcm0uZ2V0KGNtaSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgU2Nvcm1Qcm9jZXNzU2V0VmFsdWU6IGZ1bmN0aW9uIChjbWksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbGV0IHN0YXR1cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9zdGF0dXMgPSBzY29ybS5zZXQoY21pLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgcXVpdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHNhdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICByZWNvcmRRdWVzdGlvbjogZnVuY3Rpb24gKHF1ZXN0aW9uUmVmLCBxdWVzdGlvblRleHQsIHF1ZXN0aW9uVHlwZSwgbGVhcm5lclJlc3BvbnNlLCBjb3JyZWN0QW5zd2VyLCB3YXNDb3JyZWN0LCBvYmplY3RpdmVJZCwgaW50ZXJhY3Rpb25JRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHNldE9iamVjdGl2ZVNjb3JlOiBmdW5jdGlvbiAoaSwgc2NvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzZXRPYmplY3RpdmVDb21wbGV0aW9uOiBmdW5jdGlvbiAoaSwgY29tcGxldGlvbl9zdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzZXRPYmplY3RpdmVQcm9ncmVzczogZnVuY3Rpb24gKGksIHByb2dyZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdE9iamVjdGl2ZXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9DaGVja3MgaWYgdGhlIG9iamVjdGl2ZXMgd2VyZSByZWdpc3RlZXJkIGJ5IHRoZSBMTVMgYW5kIGlmIG5vdCBjcmVhdGVzIHRoZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gU2V0IHRoZSBpbnN0YW5jZVxyXG4gICAgICAgICAgICBzZWxmLmluc3RhbmNlID0gc2Nvcm1JbnN0YW5jZTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBzZWxmLnNjb3JtO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiAoc2VsZi5zY29ybSkgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIC8vIFRoZXJlJ3MgYWxyZWFkeSBhbiBpbnN0YW5jZSwgcmV0dXJuIGl0LlxyXG4gICAgICAgICAgICByZXR1cm4gc2VsZi5zY29ybTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gUGlwd2Vya3MgaXNuJ3QgbG9hZGVkXHJcbiAgICAgICAgICAgIGxldCBlID0gbmV3IEVycm9yO1xyXG4gICAgICAgICAgICBlLm1lc3NhZ2UgPSBcIlNDT1JNIG5vdCBsb2FkZWRcIjtcclxuICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMubGFuZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gKHNlbGYuaW5zdGFuY2UuZ2V0TGFuZ3VhZ2UoKSA9PSAnbnVsbCcpID8gJ2VuLUdCJyA6IHNlbGYuaW5zdGFuY2UuZ2V0TGFuZ3VhZ2UoKVxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKTtcclxufTsiLCJmdW5jdGlvbiBnZW5lcmF0ZUd1aWQoKSB7XHJcbiAgICBsZXQgcmVzdWx0LCBpLCBqO1xyXG4gICAgcmVzdWx0ID0gJyc7XHJcbiAgICBmb3IgKGogPSAwOyBqIDwgMzI7IGorKykge1xyXG4gICAgICAgIGlmIChqID09IDggfHwgaiA9PSAxMiB8fCBqID09IDE2IHx8IGogPT0gMjApXHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCArICctJztcclxuICAgICAgICBpID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTYpLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdCArIGk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5jb25zdCBUZXN0Q29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLnB1Ymxpc2hlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5kaXNhYmxlTG9nZ2luZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5sb2dUb0RlZmF1bHQgPSB0cnVlO1xyXG4gICAgdGhpcy5sb2dUb1JlbW90ZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5sb2dUb0luZm9XaW5kb3cgPSBmYWxzZTtcclxuICAgIHRoaXMuc2Vzc2lvbmlkID0gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgIHZhciByID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMCwgdiA9IGMgPT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KTtcclxuICAgICAgICByZXR1cm4gdi50b1N0cmluZygxNik7XHJcbiAgICB9KTtcclxuICAgIHRoaXMudXNlcklEID0gJ2VmODYzYWU5LTQ4NzAtNDdkZC05NzdmLWU0NWViMmQ5N2NlOCdcclxuICAgIHRoaXMuc3RhZ2VJRCA9IDY7XHJcbiAgICB0aGlzLmxvZ1dhcm5pbmdzID0gdHJ1ZTtcclxuICAgIHRoaXMubG9nRXJyb3JzID0gdHJ1ZTtcclxuICAgIHRoaXMubG9nSW5mbyA9IHRydWU7XHJcbiAgICB0aGlzLmxvZ0xvZ3MgPSB0cnVlO1xyXG4gICAgdGhpcy5kZWJ1Z09wZW4gPSBmYWxzZTtcclxuXHJcblxyXG4gICAgdGhpcy5vcGVuQnRuID0gJCgnLm9wZW4tZGVidWcnKTtcclxuICAgIHRoaXMuY2xvc2VCdG4gPSAkKCcuY2xvc2UtZGVidWcnKTtcclxuICAgIHRoaXMuY2xvc2VQYW5lQnRuID0gJCgnLmNsb3NlLWRlYnVnd2luZG93Jyk7XHJcbiAgICB0aGlzLmNsZWFyRXJyb3JzT25QYWdlQ2hhbmdlID0gdHJ1ZTtcclxuICAgIHRoaXMucmVxdWlyZXNMb2dpbiA9IHRydWU7XHJcbiAgICB0aGlzLnVzZXJEZXRhaWwgPSBudWxsO1xyXG4gICAgdGhpcy5sb2dpbkJ1dHRvbiA9ICQoXCIjZGVidWdMb2dpbkJ0blwiKTtcclxuICAgIHRoaXMubG9naW5TdGF0ZSA9ICQoXCIjZGVidWdMb2dpbkJ0biAuc3RhdGVcIik7XHJcbiAgICB0aGlzLmxvZ2luQnV0dG9uID0gJChcIiNkZWJ1Z0xvZ2luQnRuXCIpO1xyXG4gICAgdGhpcy5sb2dpblN0YXRlID0gJChcIiNkZWJ1Z0xvZ2luQnRuIC5zdGF0ZVwiKTtcclxuICAgIHRoaXMubG9naW5Ub2tlbiA9IG51bGw7XHJcbiAgICB0aGlzLmxvZ2luRmVlZGJhY2sgPSAkKCcjdHh0TG9naW5GZWVkYmFjaycpO1xyXG4gICAgLy9XaGF0IHNob3VsZCBiZSBzZW50IGFzIHBhcnQgb2YgdGhlIGJ1ZyByZXBvcnRzXHJcbiAgICB0aGlzLnNlbmRjb25zb2xlbG9nID0gdHJ1ZTtcclxuICAgIHRoaXMuc2VuZGh0bWwgPSBmYWxzZTtcclxuICAgIHRoaXMuc2VuZGRldmljZWluZm8gPSB0cnVlO1xyXG4gICAgdGhpcy5zZW5kc2NyZWVuc2hvdCA9IHRydWU7XHJcbiAgICB0aGlzLnNjcmVlbnNob3RRdWFsaXR5ID0gMC4yXHJcbiAgICB0aGlzLnNlbmRzb3VyY2UgPSB0cnVlO1xyXG4gICAgdGhpcy5kZWJ1Z0RldGFpbFdpbmRvdyA9IG51bGw7XHJcbiAgICB0aGlzLnNldmVyaXR5ZmlsdGVyID0gMDtcclxuICAgIHRoaXMuc3RhdHVzZmlsdGVyID0gMDtcclxuICAgIHRoaXMudXBkYXRlVGV4dCA9IHRydWU7XHJcbiAgICB0aGlzLnVzZXJuYW1lID0gbnVsbDtcclxuXHJcbiAgICBpZiAoc2VsZi5lbmFibGVkKSB7XHJcbiAgICAgICAgc2VsZi5vcGVuQnRuLnNob3coKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gR2V0IGNvbnNvbGUgZnJvbSBwYXJ0aWFsIGFuZCBhZGQgdG8gaW5kZXhcclxuICAgIHRoaXMuY29uc29sZSA9ICQoJyNkZWJ1Z0NvbnNvbGUnKTtcclxuICAgICQuZ2V0KFwiZWRpdC9hamF4L19kZWJ1Z0NvbnNvbGUuaHRtbFwiLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIHNlbGYuY29uc29sZS5odG1sKGRhdGEpO1xyXG5cclxuICAgICAgICBsZXQgbG9naW5JRCA9IGRhdGFDb250cm9sbGVyLmdldERhdGEoXCJsb2dpblVzZXJJRFwiKTtcclxuICAgICAgICBsZXQgbG9naW5OYW1lID0gZGF0YUNvbnRyb2xsZXIuZ2V0RGF0YShcImxvZ2luVXNlcm5hbWVcIik7XHJcbiAgICAgICAgaWYgKGxvZ2luSUQgPT0gbnVsbCB8fCBsb2dpbklEID09ICcnKSB7IH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYubG9nUm9ja2V0VXNlcihsb2dpbklELCBsb2dpbk5hbWUpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQoJy5vcGVuLWRlYnVnJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKCcub3Blbi1kZWJ1ZycpLmZhZGVPdXQoKTtcclxuICAgICAgICAgICAgaWYgKGxvZ2luSUQgPT0gbnVsbCB8fCBsb2dpbklEID09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnNob3dMb2dpbigpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9vcGVuIGRlYnVnXHJcbiAgICAgICAgICAgICAgICBzZWxmLmNvbnNvbGUuZmFkZUluKDI1MCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzdG9yZWRQQVQgPSBkYXRhQ29udHJvbGxlci5nZXREYXRhKFwiRGV2T3BzUEFUXCIpXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdG9yZWRQQVQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXZPcHMuZG9Mb2dpbihyZXN0b3JlZFBBVCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobW9kdWxlQ29udHJvbGxlci5jbGllbnRNb2RlID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV2T3BzLmRvTG9naW4oJ3IzZHNxbHB1Y29pYm16Mm5xNXJvenZvdWh0cm55amxja3BoaXJlZW9xam56cnV0dWR4enEnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJy5jbG9zZS1kZWJ1ZycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCgnLm9wZW4tZGVidWcnKS5mYWRlSW4oKTtcclxuXHJcbiAgICAgICAgICAgIHNlbGYuY29uc29sZS5mYWRlT3V0KDI1MClcclxuICAgICAgICAgICAgc2VsZi5jb25zb2xlLmNzcyhcInRvcFwiLCBcImF1dG9cIilcclxuICAgICAgICB9KVxyXG4gICAgICAgICQoJy5jbG9zZS1kZWJ1Z3dpbmRvdycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJChcIiNkZWJ1Z0NvbnNvbGVMb2dXaW5kb3dcIikuZmFkZU91dCgyNTApO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgICQoJy5kZWJ1Z0J0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbGV0IHRhcmdldCA9ICQodGhpcykuYXR0cihcImFsdFwiKTtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykuaXMoXCIjYnRuQ29uc29sZVN1Ym1pdFByb2JsZW1cIikgfHwgJCh0aGlzKS5pcyhcIiNidG5Xb3JrSXRlbXNcIikpIHtcclxuICAgICAgICAgICAgICAgIC8vQ2hlY2sgRGV2T3BzIGxvZ2luXHJcbiAgICAgICAgICAgICAgICBpZiAoZGV2T3BzLmxvZ2dlZEluICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV2T3BzLmxvZ2luLmZhZGVJbigyNTApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkKFwiLmVkaXRXb3JrSXRlbVwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gJ2RlYnVnV29ya0l0ZW1zJykge1xyXG4gICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oXCJlZGl0L3dvcmtpdGVtcy5odG1sXCIsIFwiV29yayBJdGVtc1wiLCBcIndpZHRoPTEwMDAsaGVpZ2h0PTYwMCx0b3A9NTAsIGxlZnQ9NTBcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gJ2RlYnVnQ29uc29sZVN1Ym1pdFByb2JsZW0nKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihcImVkaXQvbmV3aXRlbS5odG1sXCIsIFwiV29yayBJdGVtc1wiLCBcIndpZHRoPTEwMDAsaGVpZ2h0PTYwMCx0b3A9NTAsIGxlZnQ9NTBcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJzZWxlY3RlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgJChcIiNkZWJ1Z0NvbnNvbGVMb2dXaW5kb3dcIikuZmFkZU91dCgyNTApO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcInNlbGVjdGVkXCIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnLmRlYnVnQnRuLnNlbGVjdGVkJykucmVtb3ZlQ2xhc3MoXCJzZWxlY3RlZFwiKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJzZWxlY3RlZFwiKTtcclxuICAgICAgICAgICAgICAgICQoJy5kZWJ1Z1BhbmUnKS5mYWRlT3V0KDI1MCk7XHJcbiAgICAgICAgICAgICAgICAkKCcjJyArIHRhcmdldCkuZGVsYXkoMjUwKS5mYWRlSW4oKTtcclxuICAgICAgICAgICAgICAgICQoXCIjZGVidWdDb25zb2xlTG9nV2luZG93XCIpLmRlbGF5KDI1MCkuZmFkZUluKDI1MCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGV2T3BzLmxvZ2dlZEluICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdkZWJ1Z0NvbnNvbGVTdWJtaXRQcm9ibGVtJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGV2T3BzLmFkZFRlYW0oXCJpc3N1ZUFzc2lnbmVkVG9cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAkKFwiI21vZHVsZUZ1bmN0aW9uc1wiKS5hcHBlbmQobW9kdWxlQ29udHJvbGxlci5jb25zb2xlRnVuY3Rpb25zKTtcclxuICAgICAgICBtb2R1bGVDb250cm9sbGVyLnBvcHVsYXRlTm90ZXMoKTtcclxuXHJcblxyXG4gICAgICAgIGlmIChzZWxmLnVwZGF0ZVRleHQgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgJCgnI2J0bkNvbnNvbGVUZXh0JykuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2VsZi5lbmFibGVkID09IHRydWUpIHtcclxuICAgICAgICAgICAgJCgnLm9wZW4tZGVidWcnKS5zaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFnZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgJCgnI2RlYnVnUGFnZUxpc3QgdGFibGUgdGJvZHknKS5hcHBlbmQoXCI8dHI+PHRkPlwiICsgcGFnZXNbaV0ucGFnZWlkICsgXCI8L3RkPjx0ZD5cIiArIHBhZ2VzW2ldLnRpdGxlICsgXCI8L3RkPjx0ZD5cIiArIHBhZ2VzW2ldLnVybCArIFwiPC90ZD48dGQ+PGRpdiBjbGFzcz0nZGVidWdybmRidG4gcGFnZUp1bXBCdG4nICBkYXRhLXVybD0nXCIgKyBwYWdlc1tpXS51cmwgKyBcIicgZGF0YS1wYWdldHlwZT0nbWFpbicgb25jbGljaz0ndGVzdENvbnRyb2xsZXIuZ290b1BhZ2UodGhpcyknPj48L2Rpdj48L3RkPjwvdHI+XCIpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobW9kdWxlQ29udHJvbGxlci5jbGllbnRNb2RlID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICQoXCIjYnRuV29ya0l0ZW1zXCIpLmhpZGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcbiAgICAvL3NlbGYuY29uc29sZS5odG1sKGRlYnVnQ29uc29sZSk7XHJcblxyXG5cclxuICAgIC8vIEdldCBjb25zb2xlbG9naW4gZnJvbSBwYXJ0aWFsIGFuZCBhZGQgdG8gaW5kZXhcclxuICAgIHRoaXMuY29uc29sZUxvZ2luID0gJCgnI3BtTG9naW4nKTtcclxuXHJcbiAgICBsZXQgbG9naW5Qcm9jZXNzaW5nID0gZmFsc2U7XHJcbiAgICAkLmdldChcImVkaXQvYWpheC9fZGVidWdMb2dpbi5odG1sXCIsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgc2VsZi5jb25zb2xlTG9naW4uaHRtbChkYXRhKTtcclxuXHJcblxyXG4gICAgICAgICQoXCIjcG1Mb2dpbiAuZGVidWctbG9naW5fX2Nsb3NlXCIpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCgnLm9wZW4tZGVidWcnKS5mYWRlSW4oKTtcclxuICAgICAgICAgICAgJChcIi5kZWJ1Zy1sb2dpblwiKS5mYWRlT3V0KDI1MCk7XHJcbiAgICAgICAgICAgIGxvZ2luUHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgJChcIiNwbUxvZ2luIC5kZWJ1Zy1sb2dpbl9fZm9ybVwiKS5vbignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBpZiAobG9naW5Qcm9jZXNzaW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsb2dpblByb2Nlc3NpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlbGYubG9naW5CdXR0b24uYWRkQ2xhc3MoJ2xvYWRpbmcnKTtcclxuICAgICAgICAgICAgc2VsZi5sb2dpblN0YXRlLmh0bWwoJ0F1dGhlbnRpY2F0aW5nJyk7XHJcbiAgICAgICAgICAgIHNlbGYuZG9Mb2dpbigkKCcjdHh0VXNlcm5hbWUnKS52YWwoKSwgJCgnI3R4dFBhc3N3b3JkJykudmFsKCkpO1xyXG5cclxuICAgICAgICB9KVxyXG5cclxuICAgIH0pO1xyXG4gICAgLy9zZWxmLmNvbnNvbGVMb2dpbi5odG1sKGRlYnVnTG9naW4pO1xyXG5cclxuXHJcblxyXG5cclxuICAgIHRoaXMuaGlkZUFsZXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCBwb3AgPSAkKFwiLnBtLXBvcFwiKTtcclxuICAgICAgICBwb3AucmVtb3ZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5hbGVydCA9IGZ1bmN0aW9uICh0eHQpIHtcclxuICAgICAgICBzZWxmLmhpZGVBbGVydCgpO1xyXG5cclxuICAgICAgICAkLmdldChcImVkaXQvYWpheC9fYWxlcnQuaHRtbFwiLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAkKFwiYm9keVwiKS5hcHBlbmQoZGF0YSk7XHJcbiAgICAgICAgICAgIGxldCBwb3AgPSAkKFwiLnBtLXBvcFwiKTtcclxuICAgICAgICAgICAgJChcIiNhbGVydC10ZXh0XCIpLmh0bWwodHh0KTtcclxuICAgICAgICAgICAgcG9wLmZhZGVJbigyNTApO1xyXG4gICAgICAgICAgICAkKFwiI2FsZXJ0Y2xvc2VcIikub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcG9wLmZhZGVPdXQoMjUwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9wLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB0aGlzLmNvbmZpcm0gPSBmdW5jdGlvbiAodHh0LCBzdWNjZXNzLCBmYWlsKSB7XHJcbiAgICAgICAgc2VsZi5oaWRlQWxlcnQoKTtcclxuXHJcbiAgICAgICAgJC5nZXQoXCJlZGl0L2FqYXgvX2NvbmZpcm0uaHRtbFwiLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAkKFwiYm9keVwiKS5hcHBlbmQoZGF0YSk7XHJcbiAgICAgICAgICAgIGxldCBwb3AgPSAkKFwiLnBtLXBvcFwiKTtcclxuICAgICAgICAgICAgJChcIiNjb25maXJtLXRleHRcIikuaHRtbCh0eHQpO1xyXG4gICAgICAgICAgICBwb3AuZmFkZUluKDI1MCk7XHJcbiAgICAgICAgICAgICQoXCIjY29uZmlybVwiKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBwb3AuZmFkZU91dCgyNTAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3AucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdWNjZXNzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkKFwiI2NvbmZpcm1jbG9zZVwiKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBwb3AuZmFkZU91dCgyNTAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3AucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmYWlsICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBzZWxmLnVwZGF0ZVNldmVyaXR5RmlsdGVyID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICBzZWxmLnNldmVyaXR5ZmlsdGVyID0gbm9kZS52YWx1ZTtcclxuICAgICAgICBzZWxmLmdldEN1cnJlbnRJc3N1ZXMoKTtcclxuICAgIH07XHJcblxyXG4gICAgc2VsZi51cGRhdGVTdGF0dXNGaWx0ZXIgPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgIHNlbGYuc3RhdHVzZmlsdGVyID0gbm9kZS52YWx1ZTtcclxuICAgICAgICBzZWxmLmdldEN1cnJlbnRJc3N1ZXMoKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy50b2dnbGVDb25zb2xlTG9nID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuc2VuZGNvbnNvbGVsb2cgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgc2VsZi5zZW5kY29uc29sZWxvZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvL2VsLmlubmVySFRNTCA9IFwiQ09OU09MRSBMT0cgT0ZGXCI7XHJcbiAgICAgICAgICAgICQoZWwpLmFkZENsYXNzKFwiZG9mZlwiKS5yZW1vdmVDbGFzcyhcImRvblwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWxmLnNlbmRjb25zb2xlbG9nID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy9lbC5pbm5lckhUTUwgPSBcIkNPTlNPTEUgTE9HIE9OXCI7XHJcbiAgICAgICAgICAgICQoZWwpLmFkZENsYXNzKFwiZG9uXCIpLnJlbW92ZUNsYXNzKFwiZG9mZlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudG9nZ2xlSFRNTCA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIGlmIChzZWxmLnNlbmRodG1sID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHNlbGYuc2VuZGh0bWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy9lbC5pbm5lckhUTUwgPSBcIkhUTUwgT0ZGXCI7XHJcbiAgICAgICAgICAgICQoZWwpLmFkZENsYXNzKFwiZG9mZlwiKS5yZW1vdmVDbGFzcyhcImRvblwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWxmLnNlbmRodG1sID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy9lbC5pbm5lckhUTUwgPSBcIkhUTUwgT05cIjtcclxuICAgICAgICAgICAgJChlbCkuYWRkQ2xhc3MoXCJkb25cIikucmVtb3ZlQ2xhc3MoXCJkb2ZmXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy50b2dnbGVEZXZpY2VJbmZvID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuc2VuZGRldmljZWluZm8gPT09IHRydWUpIHtcclxuICAgICAgICAgICAgc2VsZi5zZW5kZGV2aWNlaW5mbyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvL2VsLmlubmVySFRNTCA9IFwiREVWSUNFIElORk8gT0ZGXCI7XHJcbiAgICAgICAgICAgICQoZWwpLmFkZENsYXNzKFwiZG9mZlwiKS5yZW1vdmVDbGFzcyhcImRvblwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWxmLnNlbmRkZXZpY2VpbmZvID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy9lbC5pbm5lckhUTUwgPSBcIkRFVklDRSBJTkZPIE9OXCI7XHJcbiAgICAgICAgICAgICQoZWwpLmFkZENsYXNzKFwiZG9uXCIpLnJlbW92ZUNsYXNzKFwiZG9mZlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudG9nZ2xlU291cmNlID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuc2VuZHNvdXJjZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBzZWxmLnNlbmRzb3VyY2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy9lbC5pbm5lckhUTUwgPSBcIlNPVVJDRSBPRkZcIjtcclxuICAgICAgICAgICAgJChlbCkuYWRkQ2xhc3MoXCJkb2ZmXCIpLnJlbW92ZUNsYXNzKFwiZG9uXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuc2VuZHNvdXJjZSA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vZWwuaW5uZXJIVE1MID0gXCJTT1VSQ0UgT05cIjtcclxuICAgICAgICAgICAgJChlbCkuYWRkQ2xhc3MoXCJkb25cIikucmVtb3ZlQ2xhc3MoXCJkb2ZmXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy50b2dnbGVTY3JlZW5zaG90dGluZyA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIGlmIChzZWxmLnNlbmRzY3JlZW5zaG90cyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBzZWxmLnNlbmRzY3JlZW5zaG90cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvL2VsLmlubmVySFRNTCA9IFwiU0NSRUVOU0hPVFMgT0ZGXCI7XHJcbiAgICAgICAgICAgICQoZWwpLmFkZENsYXNzKFwiZG9mZlwiKS5yZW1vdmVDbGFzcyhcImRvblwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWxmLnNlbmRzY3JlZW5zaG90cyA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vZWwuaW5uZXJIVE1MID0gXCJTQ1JFRU5TSE9UUyBPTlwiO1xyXG4gICAgICAgICAgICAkKGVsKS5hZGRDbGFzcyhcImRvblwiKS5yZW1vdmVDbGFzcyhcImRvZmZcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmNsZWFyRGF0YSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBkYXRhQ29udHJvbGxlci5jbGVhcigpO1xyXG4gICAgICAgIGRhdGFDb250cm9sbGVyLnNhdmUoKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2Fubm90IGNsZWFyIHNlc3Npb24gc3RvcmFnZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgJCgnI2RlYnVnQ29uc29sZVJ1bkpTJykub24oJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmIChlLndoaWNoID09PSAxMykgeyBldmFsKCQoJyNkZWJ1Z0NvbnNvbGVSdW5KUycpLnRleHQoKSkgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8kKCcjZGVidWdDb25zb2xlTG9nV2luZG93JykubmljZVNjcm9sbCgpO1xyXG5cclxuICAgIHRoaXMuZ290b1BhZ2UgPSBmdW5jdGlvbiAocGFnZWJ0bikge1xyXG4gICAgICAgIGxldCBwdCA9ICQocGFnZWJ0bikuYXR0cihcImRhdGEtcGFnZXR5cGVcIik7XHJcbiAgICAgICAgbGV0IHBnID0gJChwYWdlYnRuKS5hdHRyKFwiZGF0YS11cmxcIik7XHJcbiAgICAgICAgaWYgKHB0ID09PSBcIm1haW5cIikge1xyXG4gICAgICAgICAgICBuYXZpZ2F0aW9uQ29udHJvbGxlci5nb1RvUGFnZVdpdGhGaWxlbmFtZShwZyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy9uYXZpZ2F0aW9uQ29udHJvbGxlci5vXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBnZW5lcmF0ZUd1aWQoKSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCwgaSwgajtcclxuICAgICAgICByZXN1bHQgPSAnJztcclxuICAgICAgICBmb3IgKGogPSAwOyBqIDwgMzI7IGorKykge1xyXG4gICAgICAgICAgICBpZiAoaiA9PT0gOCB8fCBqID09PSAxMiB8fCBqID09PSAxNiB8fCBqID09PSAyMClcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCArICctJztcclxuICAgICAgICAgICAgaSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE2KS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcclxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgaTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgJCgnI2J0blN1Ym1pdFJlcG9ydCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgbmFtZSA9ICQoJyN0eHRJUk5hbWUnKS50ZXh0KCk7XHJcbiAgICAgICAgbGV0IGRlc2NyaXB0aW9uID0gJCgnI3R4dElSRGVzY3JpcHRpb24nKS50ZXh0KCk7XHJcbiAgICAgICAgc2VsZi5wb3N0VGFzayhuYW1lLCBkZXNjcmlwdGlvbik7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgdGhpcy5wb3N0VGFzayA9IGZ1bmN0aW9uIChuYW1lLCBkZXNjcmlwdGlvbikge1xyXG4gICAgICAgIHNlbGYuYWxlcnQoXCJTZW5kaW5nIHlvdXIgaXNzdWU8YnIvPlRoaXMgbWF5IHRha2Ugc29tZSB0aW1lIHdoaWxzdCB3ZSBjYXB0dXJlIHlvdXIgY3VycmVudCBzY3JlZW4gYW5kIGdhdGhlciBzb21lIGRldGFpbHMuIFBsZWFzZSB3YWl0Li4uXCIpO1xyXG4gICAgICAgIGxldCBmZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgZmRhdGUuc2V0RGF0ZShmZGF0ZS5nZXREYXRlKCkgKyAxKTtcclxuICAgICAgICBsZXQgZCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgbGV0IGNsb2cgPSBcIlwiO1xyXG4gICAgICAgIGxldCBodG1sID0gXCI8IS0tIE5PIEhUTUwgLS0+XCI7XHJcbiAgICAgICAgbGV0IGRldmljZWluZm8gPSBcIiBcIjtcclxuICAgICAgICBsZXQgc2NyZWVuc2hvdCA9IFwiXCI7XHJcbiAgICAgICAgbGV0IHNvdXJjZSA9IFwiIFwiO1xyXG5cclxuICAgICAgICAvL0RlYnVnIFBhcmFtZXRlcnNcclxuXHJcbiAgICAgICAgLy9Db25zb2xlIGxvZywgYWxsIHRoZSBwb3NzaWJsZSBlcnJvcnMgdGhhdCBtYXkgaGF2ZSBiZWVuIGxvZ2dlZFxyXG4gICAgICAgIGlmIChzZWxmLnNlbmRjb25zb2xlbG9nKSB7XHJcbiAgICAgICAgICAgIGNsb2cgPSAkKCcjZGVidWdDb25zb2xlTG9nJykuaHRtbCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9TaG91bGQgd2Ugc2VuZCB0aGUgSFRNTCBvZiB0aGUgcGFnZVxyXG4gICAgICAgIGlmIChzZWxmLnNlbmRodG1sKSB7XHJcbiAgICAgICAgICAgIGh0bWwgPSAkKCcjc3RhZ2UnKS5odG1sKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1Nob3VsZCB3ZSBzZW5kIHRoZSBEZXZpY2UgSW5mb1xyXG4gICAgICAgIGlmIChzZWxmLnNlbmRkZXZpY2VpbmZvKSB7XHJcbiAgICAgICAgICAgIGxldCBkZXRlY3RvciA9IG5ldyBNb2JpbGVEZXRlY3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG4gICAgICAgICAgICBkZXZpY2VpbmZvICs9IFwiTW9iaWxlOiBcIiArIGRldGVjdG9yLm1vYmlsZSgpO1xyXG4gICAgICAgICAgICBkZXZpY2VpbmZvICs9IFwiLFBob25lOiBcIiArIGRldGVjdG9yLnBob25lKCk7XHJcbiAgICAgICAgICAgIGRldmljZWluZm8gKz0gXCIsVGFibGV0OiBcIiArIGRldGVjdG9yLnRhYmxldCgpO1xyXG4gICAgICAgICAgICBkZXZpY2VpbmZvICs9IFwiLE9TOiBcIiArIGRldGVjdG9yLm9zKCk7XHJcbiAgICAgICAgICAgIGRldmljZWluZm8gKz0gXCIsdXNlckFnZW50OiBcIiArIGRldGVjdG9yLnVzZXJBZ2VudCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9Tb3VyY2VcclxuICAgICAgICBpZiAoc2VsZi5zZW5kc291cmNlKSB7XHJcbiAgICAgICAgICAgICQoJyNkZWJ1Z0xvY2F0aW9uSGlzdG9yeSB0Ym9keSB0ciB0ZDpudGgtY2hpbGQoMiknKS5lYWNoKGZ1bmN0aW9uIChpLCBvKSB7XHJcbiAgICAgICAgICAgICAgICBzb3VyY2UgPSBzb3VyY2UgKyAkKHRoaXMpLmh0bWwoKSArIFwiLFwiO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB0YXNrID0ge1xyXG4gICAgICAgICAgICBcIlN0YWdlX0ZLXCI6IDYsXHJcbiAgICAgICAgICAgIFwiUHJvamVjdElEX0ZLXCI6IHByb2plY3RJRCxcclxuICAgICAgICAgICAgXCJBbGxvY2F0ZWRUb19GS1wiOiBzZWxmLnVzZXJJRCxcclxuICAgICAgICAgICAgXCJQZXJjZW50Q29tcGxldGVcIjogMCxcclxuICAgICAgICAgICAgXCJJc01pbGVzdG9uZVwiOiBmYWxzZSxcclxuICAgICAgICAgICAgXCJTY3J1bVR5cGVcIjogMSxcclxuICAgICAgICAgICAgXCJTdGF0ZVwiOiAxLFxyXG4gICAgICAgICAgICBcIlByaW9yaXR5XCI6IDUsXHJcbiAgICAgICAgICAgIFwiUmlza0xldmVsXCI6IDUsXHJcbiAgICAgICAgICAgIFwiU2NoZWR1bGVNb2RlXCI6IDEsXHJcbiAgICAgICAgICAgIFwiRHVyYXRpb25TY2hlZHVsZWRNaW5zXCI6IDMwLFxyXG4gICAgICAgICAgICBcIkR1cmF0aW9uQWN0dWFsTWluc1wiOiAzMCxcclxuICAgICAgICAgICAgXCJTY2hlZHVsZWRTdGFydFwiOiBudWxsLFxyXG4gICAgICAgICAgICBcIkFjdHVhbFN0YXJ0XCI6IG51bGwsXHJcbiAgICAgICAgICAgIFwiU2NoZWR1bGVkRW5kXCI6IG51bGwsXHJcbiAgICAgICAgICAgIFwiQWN0dWFsRW5kXCI6IG51bGwsXHJcbiAgICAgICAgICAgIFwiRGVhZGxpbmVEYXRlXCI6IG51bGwsXHJcbiAgICAgICAgICAgIFwiRGVzY3JpcHRpb25cIjogZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIFwiSURcIjogZ2VuZXJhdGVHdWlkKCksXHJcbiAgICAgICAgICAgIFwiTmFtZVwiOiBuYW1lXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgbGV0IGJ1ZyA9IHtcclxuICAgICAgICAgICAgXCJJRFwiOiBnZW5lcmF0ZUd1aWQoKSxcclxuICAgICAgICAgICAgXCJQcm9qZWN0SURcIjogcHJvamVjdElELFxyXG4gICAgICAgICAgICBcIlRhc2tJRFwiOiB0YXNrLklELFxyXG4gICAgICAgICAgICBcIkxpbmVOdW1iZXJcIjogNCxcclxuICAgICAgICAgICAgXCJMb2NhdGlvblwiOiBuYXZpZ2F0aW9uQ29udHJvbGxlci5jdXJyZW50UGFnZVVybCxcclxuICAgICAgICAgICAgXCJTaG9ydERlc2NcIjogXCJSZXBvcnRlZCBieSB0aGUgZGVidWcgdG9vbFwiLFxyXG4gICAgICAgICAgICBcIkRlc2NyaXB0aW9uXCI6IGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBcIlNvdXJjZVwiOiBzb3VyY2UsXHJcbiAgICAgICAgICAgIFwiQ29uc29sZUxvZ1wiOiBjbG9nLFxyXG4gICAgICAgICAgICBcIkJyb3dzZXJcIjogbmF2aWdhdG9yLmFwcE5hbWUsXHJcbiAgICAgICAgICAgIFwiQnJvd3NlclZlcnNpb25cIjogbmF2aWdhdG9yLmFwcFZlcnNpb24sXHJcbiAgICAgICAgICAgIFwiQWdlbnRcIjogXCJcIixcclxuICAgICAgICAgICAgXCJEZXZpY2VcIjogc2NyZWVuc2l6ZSArIFwiIC0gU2Nyb2xsIGRpc3RhbmNlOiBcIiArICQoXCIjbWFpblwiKS5zY3JvbGxUb3AoKSxcclxuICAgICAgICAgICAgXCJSZXBvcnRlZEJ5XCI6IGRhdGFDb250cm9sbGVyLmdldERhdGEoXCJsb2dpblVzZXJJRFwiKSxcclxuICAgICAgICAgICAgXCJSZXBvcnRlZEJ5TmFtZVwiOiBuYW1lLFxyXG4gICAgICAgICAgICBcIlJlcG9ydGVkRGF0ZVwiOiBkLnRvSlNPTigpLFxyXG4gICAgICAgICAgICBcIkN1cnJlbnRIVE1MXCI6IGh0bWwsXHJcbiAgICAgICAgICAgIFwiU2NyZWVuU2hvdFwiOiBcIlwiLFxyXG4gICAgICAgICAgICBcIlNldmVyaXR5XCI6IDEsXHJcbiAgICAgICAgICAgIFwiU3RhdHVzXCI6IDEsXHJcbiAgICAgICAgICAgIFwiVHlwZVwiOiAxXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9EZWNpZGUgaWYgd2Ugc2hvdWxkIHRha2UgYSBzY3JlZW5zaG90LCBpZiB3ZSBkbywgaXQncyBhc3luYyBzbyB3ZSBuZWVkIHRvIGRvIHRoaXMgd2l0aCBhIHByb21pc2VcclxuXHJcbiAgICAgICAgaWYgKHNlbGYuc2VuZHNjcmVlbnNob3QpIHtcclxuICAgICAgICAgICAgbGV0IG5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbicpO1xyXG4gICAgICAgICAgICBsZXQgc2Nyb2xsVG9wID0gJChcIiNtYWluXCIpLnNjcm9sbFRvcCgpO1xyXG4gICAgICAgICAgICAkKFwiI3N0YWdlXCIpLmNzcyhcIm1hcmdpbi10b3BcIiwgXCItXCIgKyBzY3JvbGxUb3AgKyBcInB4XCIpO1xyXG4gICAgICAgICAgICBsZXQgb3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIHF1YWxpdHk6IDAuNSxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZG9tdG9pbWFnZS50b0pwZWcobm9kZSwgb3B0aW9ucylcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhVXJsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVnLlNjcmVlblNob3QgPSBkYXRhVXJsO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjc3RhZ2VcIikuY3NzKFwibWFyZ2luLXRvcFwiLCBcIjBweFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZW5kVGFzayhidWcsIHRhc2spO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjbWFpblwiKS5zY3JvbGxUb3Aoc2Nyb2xsVG9wKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI3N0YWdlXCIpLmNzcyhcIm1hcmdpbi10b3BcIiwgXCIwcHhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVnLlNjcmVlblNob3QgPSAnb29wcywgc29tZXRoaW5nIHdlbnQgd3JvbmchIDogJyArIGVycm9yO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbmRUYXNrKGJ1ZywgdGFzayk7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiNtYWluXCIpLnNjcm9sbFRvcChzY3JvbGxUb3ApXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2VuZFRhc2soYnVnLCB0YXNrKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnNob3dMb2dpbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcub3Blbi1kZWJ1ZycpLmZhZGVPdXQoKTtcclxuICAgICAgICAkKFwiI3BtTG9naW5cIikuZmFkZUluKDI1MCk7XHJcbiAgICAgICAgJChcIiNwbUxvZ2luIC5kZWJ1Zy1sb2dpbl9fZm9ybVwiKS5kZWxheSgyNTApLmZhZGVJbigyNTApO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmhpZGVMb2dpbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKFwiI3BtTG9naW4uZGVidWctbG9naW5cIikuZmFkZU91dCgyNTApO1xyXG4gICAgICAgIGxvZ2luUHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmRvTG9naW4gPSBmdW5jdGlvbiAodXNlcm5hbWUsIHBhc3N3b3JkKSB7XHJcbiAgICAgICAgLy9sb2dpbiB0byB0aGUgZGVidWcgc3lzdGVtXHJcbiAgICAgICAgLy8gc2VsZi51aV9sYW5nX2NvbXBvbmVudHMubG9naW4ubG9naW5lcnJvciA9IFwiXCI7XHJcbiAgICAgICAgbGV0IHVzZXJMb2dpbiA9IHtcclxuICAgICAgICAgICAgZ3JhbnRfdHlwZTogJ3Bhc3N3b3JkJyxcclxuICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxyXG4gICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL05vdyBjYWxsIHRva2VuIGdlbmVyYXRpb25cclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly9wbXByb2plY3QucHVycGxlbWVkaWFob3N0aW5nLmNvLnVrL1RPS0VOXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6ICQucGFyYW0oeyBncmFudF90eXBlOiAncGFzc3dvcmQnLCB1c2VybmFtZTogdXNlckxvZ2luLnVzZXJuYW1lLCBwYXNzd29yZDogdXNlckxvZ2luLnBhc3N3b3JkIH0pLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyB9LFxyXG4gICAgICAgICAgICBhc3luYzogZmFsc2VcclxuICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIC8vU2V0IHRoZSBsb2dpbiBkZXRhaWxzXHJcbiAgICAgICAgICAgIHNlbGYubG9naW5CdXR0b24uYWRkQ2xhc3MoJ29rJyk7XHJcbiAgICAgICAgICAgIHNlbGYubG9naW5TdGF0ZS5odG1sKCdXZWxjb21lIGJhY2shJyk7XHJcblxyXG4gICAgICAgICAgICBzZWxmLmNvbnNvbGUuZmFkZUluKDI1MCk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5oaWRlTG9naW4oKTtcclxuXHJcbiAgICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgICAgICBzZWxmLmxvZ2luVG9rZW4gPSBkYXRhO1xyXG4gICAgICAgICAgICBzZWxmLmhpZGVMb2dpbigpO1xyXG4gICAgICAgICAgICBkYXRhQ29udHJvbGxlci5zZXREYXRhKFwibG9naW5Ub2tlblwiLCBkYXRhLmFjY2Vzc190b2tlbik7XHJcbiAgICAgICAgICAgIGRhdGFDb250cm9sbGVyLnNldERhdGEoXCJsb2dpbkV4cGlyeVwiLCBuZXcgRGF0ZShkYXRhW1wiLmV4cGlyZXNcIl0pKTtcclxuICAgICAgICAgICAgZGF0YUNvbnRyb2xsZXIuc2V0RGF0YShcImxvZ2luVXNlcm5hbWVcIiwgZGF0YS51c2VyTmFtZSk7XHJcbiAgICAgICAgICAgIGRhdGFDb250cm9sbGVyLnNhdmUoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChtb2R1bGVDb250cm9sbGVyLmNsaWVudE1vZGUgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGRldk9wcy5kb0xvZ2luKCdyM2RzcWxwdWNvaWJtejJucTVyb3p2b3VodHJueWpsY2twaGlyZWVvcWpuenJ1dHVkeHpxJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vR2V0IHRoZSB1c2VyIElEXHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9wbXByb2plY3R2Mi5wdXJwbGVtZWRpYWhvc3RpbmcuY28udWsvYXBpL0FjY291bnQvR2V0VXNlcklEP3VzZXJOYW1lPScgKyBkYXRhLnVzZXJOYW1lLFxyXG4gICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjcm9zc0RvbWFpbjogdHJ1ZVxyXG4gICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uICh1c2VySUQpIHtcclxuICAgICAgICAgICAgICAgIC8vc2F2ZSB0aGUgdXNlcklEXHJcbiAgICAgICAgICAgICAgICBkYXRhQ29udHJvbGxlci5zZXREYXRhKFwibG9naW5Vc2VySURcIiwgdXNlcklEKTtcclxuICAgICAgICAgICAgICAgIGRhdGFDb250cm9sbGVyLnNhdmUoKTtcclxuICAgICAgICAgICAgICAgIHNlbGYubG9nUm9ja2V0VXNlcih1c2VySUQsIGRhdGEudXNlck5hbWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBzZWxmLmxvZ2luQnV0dG9uLmFkZENsYXNzKCdvaycpO1xyXG4gICAgICAgICAgICBzZWxmLmxvZ2luU3RhdGUuaHRtbCgnTG9naW4gZmFpbGVkLCBwbGVhc2UgdHJ5IGFnYWluIScpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYubG9naW5TdGF0ZS5odG1sKCdMb2cgaW4nKTtcclxuICAgICAgICAgICAgICAgIHNlbGYubG9naW5CdXR0b24ucmVtb3ZlQ2xhc3MoJ29rIGxvYWRpbmcnKTtcclxuICAgICAgICAgICAgICAgIGxvZ2luUHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9LCAxNTAwKTtcclxuICAgICAgICAgICAgZGF0YUNvbnRyb2xsZXIuc2V0RGF0YShcImxvZ2luVG9rZW5cIiwgXCJcIik7XHJcbiAgICAgICAgICAgIGRhdGFDb250cm9sbGVyLnNldERhdGEoXCJsb2dpbkV4cGlyeVwiLCBuZXcgRGF0ZSgpIC0gMSk7XHJcbiAgICAgICAgICAgIGRhdGFDb250cm9sbGVyLnNldERhdGEoXCJsb2dpblVzZXJuYW1lXCIsIFwiXCIpO1xyXG4gICAgICAgICAgICAvLyBzZWxmLnVpX2xhbmdfY29tcG9uZW50cy5sb2dpbi5sb2dpbmVycm9yID0gZGF0YS5yZXNwb25zZUpTT04uZXJyb3JfZGVzY3JpcHRpb247XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMubG9nUm9ja2V0VXNlciA9IGZ1bmN0aW9uIChJRCwgZW1haWxBZGRyZXNzKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgTG9nUm9ja2V0LmlkZW50aWZ5KElELCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBlbWFpbEFkZHJlc3MsXHJcbiAgICAgICAgICAgICAgICBlbWFpbDogZW1haWxBZGRyZXNzLFxyXG5cclxuICAgICAgICAgICAgICAgIC8vIEFkZCB5b3VyIG93biBjdXN0b20gdXNlciB2YXJpYWJsZXMgaGVyZSwgaWU6XHJcbiAgICAgICAgICAgICAgICBjbGllbnRNb2RlOiBtb2R1bGVDb250cm9sbGVyLmNsaWVudE1vZGVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyBGYWlsZWQgdG8gc2VuZCB1c2VyIGluZm9ybWF0aW9uIHRvIExvZ1JvY2tldCBhcyBMb2dSb2NrZXQgaXMgbm90IGluaXRpYWxpc2VkXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBEQVRBQkFTRSBVVElMSVRJRVNcclxuICAgIHRoaXMuQ3JlYXRlUGFnZXNJbkRCID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCByID0gY29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byB1cGxvYWQgdGV4dCB0byB0aGUgZGF0YWJhc2U/IFRoaXMgd2lsbCBvdmVyd3JpdGUgYW55IGNoYW5nZXMgcHJldmlvdXNseSBtYWRlIGZyb20gdGhlIEVkaXQgU3VpdGUuXCIpO1xyXG4gICAgICAgIGlmIChyID09PSB0cnVlKSB7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vcmVhbCBpbXBvcnQgb2YgdGhlIExhbmd1YWdlIEpTT05cclxuICAgICAgICBsZXQgbEdlbiA9IHdpbmRvdy5sYW5ndWFnZUNvbnRyb2xsZXIubGFuZy5nZW5lcmFsO1xyXG4gICAgICAgIGxldCBub1BhZ2VzID0gbEdlbi5sZW5ndGg7XHJcbiAgICAgICAgbGV0IHBhZ2VpZDtcclxuICAgICAgICBsZXQgcHQgPSAwO1xyXG4gICAgICAgIGxldCBub2kgPSAwO1xyXG4gICAgICAgIGxldCBiYXIgPSAwO1xyXG5cclxuICAgICAgICAkLmVhY2god2luZG93Lmxhbmd1YWdlQ29udHJvbGxlci5sYW5nLnBhZ2VzLCBmdW5jdGlvbiAoaSwgcCkge1xyXG4gICAgICAgICAgICBsZXQgcGFnZUl0ZW1zID0gcC5maWVsZHM7XHJcbiAgICAgICAgICAgICQuZWFjaChwYWdlSXRlbXMsIGZ1bmN0aW9uIChuLCBsKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NvdW50IHRoZSBpdGVtc1xyXG4gICAgICAgICAgICAgICAgbm9pICs9IDE7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHB0ID0gMTAwIC8gbm9pO1xyXG5cclxuXHJcbiAgICAgICAgbGV0IHBhZ2VYID0gMDtcclxuICAgICAgICAvL2xvb3AgdGhlIGxhbmcgZmlsZXNcclxuXHJcbiAgICAgICAgJC5lYWNoKHdpbmRvdy5sYW5ndWFnZUNvbnRyb2xsZXIubGFuZy5wYWdlcywgZnVuY3Rpb24gKGksIHApIHtcclxuICAgICAgICAgICAgbGV0IHBhZ2VJdGVtcyA9IHAuZmllbGRzO1xyXG4gICAgICAgICAgICBsZXQgcGFnZUlEID0gbnVsbDtcclxuXHJcblxyXG4gICAgICAgICAgICBsZXQgcGcgPSB3aW5kb3cubmF2aWdhdGlvbkNvbnRyb2xsZXIuZ2V0UGFnZU9iamVjdEJ5RmlsZShwLkZpbGUpO1xyXG4gICAgICAgICAgICBwZy5Qcm9qZWN0SWQgPSBwcm9qZWN0SUQ7XHJcblxyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBwZyxcclxuICAgICAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vcG1wcm9qZWN0djMucHVycGxlbWVkaWFob3N0aW5nLmNvLnVrL2NsYXNzcm9vbUFQSS9MYW5ndWFnZUFQSS9hZGRDb250ZW50UGFnZScsXHJcbiAgICAgICAgICAgICAgICBhc3luYzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBjcm9zc0RvbWFpbjogdHJ1ZVxyXG4gICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChwYWdlKSB7XHJcbiAgICAgICAgICAgICAgICBwYWdlSUQgPSBwYWdlLnBhZ2VJRDtcclxuICAgICAgICAgICAgICAgIC8vQWRkIFBhZ2UgSXRlbXNcclxuICAgICAgICAgICAgICAgICQuZWFjaChwYWdlSXRlbXMsIGZ1bmN0aW9uIChuLCBsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9BZGQgdGhlIGNvbnRlbnQgaXRlbVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjaSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJwdWJsaXNoZWRcIjogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1c2VySURcIjogd2luZG93LnRlc3RDb250cm9sbGVyLnVzZXJJRCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjcmVhdGVkXCI6ICcyMDE4LTA0LTI1VDEwOjM5OjAzLjczOTIrMDE6MDAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkNsYXNzXCI6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlR5cGVcIjogNSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJUZXh0XCI6IGwuVGV4dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJWaWRlb1VSTFwiOiBsLlZpZGVvVVJMLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkltYWdlVVJMXCI6IGwuSW1hZ2VVUkwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiTGFuZ3VhZ2VcIjogd2luZG93Lmxhbmd1YWdlQ29udHJvbGxlci5sYW5nSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUHJvamVjdElEXCI6IHByb2plY3RJRCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJQYWdlSURcIjogcGFnZUlELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnRJZFwiOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImtleVwiOiBsLmtleVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGNpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL3BtcHJvamVjdHYzLnB1cnBsZW1lZGlhaG9zdGluZy5jby51ay9jbGFzc3Jvb21BUEkvTGFuZ3VhZ2VBUEkvYWRkQ29udGVudEl0ZW0nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3luYzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyb3NzRG9tYWluOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vIHNlbGYuYWxlcnQoXCJUZXh0IGhhcyBmaW5pc2hlZCB1cGxvYWRpbmcuIFBsZWFzZSBzZXQgbGFuZ3VhZ2VDb250cm9sbGVyLmxhbmdMb2NhdGlvbiB0byAxIHRvIHN0YXJ0IGVkaXRpbmcgdGV4dC5cIilcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59OyIsIi8vIEF2b2lkIGBjb25zb2xlYCBlcnJvcnMgaW4gYnJvd3NlcnMgdGhhdCBsYWNrIGEgY29uc29sZS5cclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBtZXRob2Q7XHJcbiAgICB2YXIgbm9vcCA9IGZ1bmN0aW9uICgpIHsgfTtcclxuICAgIHZhciBtZXRob2RzID0gW1xyXG4gICAgICAgICdhc3NlcnQnLCAnY2xlYXInLCAnY291bnQnLCAnZGVidWcnLCAnZGlyJywgJ2RpcnhtbCcsICdlcnJvcicsXHJcbiAgICAgICAgJ2V4Y2VwdGlvbicsICdncm91cCcsICdncm91cENvbGxhcHNlZCcsICdncm91cEVuZCcsICdpbmZvJywgJ2xvZycsXHJcbiAgICAgICAgJ21hcmtUaW1lbGluZScsICdwcm9maWxlJywgJ3Byb2ZpbGVFbmQnLCAndGFibGUnLCAndGltZScsICd0aW1lRW5kJyxcclxuICAgICAgICAndGltZVN0YW1wJywgJ3RyYWNlJywgJ3dhcm4nXHJcbiAgICBdO1xyXG4gICAgdmFyIGxlbmd0aCA9IG1ldGhvZHMubGVuZ3RoO1xyXG4gICAgdmFyIGNvbnNvbGUgPSAod2luZG93LmNvbnNvbGUgPSB3aW5kb3cuY29uc29sZSB8fCB7fSk7XHJcblxyXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XHJcbiAgICAgICAgbWV0aG9kID0gbWV0aG9kc1tsZW5ndGhdO1xyXG5cclxuICAgICAgICAvLyBPbmx5IHN0dWIgdW5kZWZpbmVkIG1ldGhvZHMuXHJcbiAgICAgICAgaWYgKCFjb25zb2xlW21ldGhvZF0pIHtcclxuICAgICAgICAgICAgY29uc29sZVttZXRob2RdID0gbm9vcDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0oKSk7XHJcblxyXG4vKiBqUXVlcnkgVGlueSBQdWIvU3ViIC0gdjAuNyAtIDEwLzI3LzIwMTFcclxuICogaHR0cDovL2JlbmFsbWFuLmNvbS9cclxuICogQ29weXJpZ2h0IChjKSAyMDExIFwiQ293Ym95XCIgQmVuIEFsbWFuOyBMaWNlbnNlZCBNSVQsIEdQTCAqL1xyXG4oZnVuY3Rpb24gKCQpIHtcclxuICAgIHZhciBvID0gJCh7fSk7XHJcblxyXG4gICAgJC5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgby5vbi5hcHBseShvLCBhcmd1bWVudHMpO1xyXG4gICAgfTtcclxuXHJcbiAgICAkLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG8ub2ZmLmFwcGx5KG8sIGFyZ3VtZW50cyk7XHJcbiAgICB9O1xyXG5cclxuICAgICQucHVibGlzaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBvLnRyaWdnZXIuYXBwbHkobywgYXJndW1lbnRzKTtcclxuICAgIH07XHJcbn0oalF1ZXJ5KSk7XHJcblxyXG5cclxuLy91dGlsc1xyXG52YXIgVXRpbHMgPSB7XHJcbiAgICBnZXRVUkxQYXJhbWV0ZXI6IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSShcclxuICAgICAgICAgICAgKFJlZ0V4cChuYW1lICsgJz0nICsgJyguKz8pKCZ8JCknKS5leGVjKGxvY2F0aW9uLnNlYXJjaCkgfHwgWywgbnVsbF0pWzFdXHJcbiAgICAgICAgKTtcclxuICAgIH0sXHJcblxyXG4gICAgY2FudFNhdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoUFJPRFVDVElPTikge1xyXG4gICAgICAgICAgICAkLm1zZ0JveCh7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJMTVMgQ09OTkVDVElPTlwiLFxyXG4gICAgICAgICAgICAgICAgY29udGVudDogXCJUaGUgY291cnNlIHdhcyBub3QgYWJsZSB0byBjb25uZWN0IHRvIHlvdXIgTE1TIGZvciBzb21lIHJlYXNvbiwgdGhpcyB3aWxsIG1lYW4gaWYgeW91IGNvbnRpbnVlIHlvdXIgc2NvcmVzL3Byb2dyZXNzIHdpbGwgbm90IGJlIHJlY29yZGVkIGFuZCB5b3UgbWF5IGJlIHJlc2V0IHRvIHRoZSBzdGFydCBvZiB0aGUgY291cnNlLiAgUGxlYXNlIGNsb3NlIHRoZSBjb3Vyc2UgYW5kIG9wZW4gYWdhaW4gdG8gYXR0ZW1wdCB0byBjb25uZWN0IHRvIHRoZSBMTVNcIixcclxuICAgICAgICAgICAgICAgIGFmdGVyU2hvdzogZnVuY3Rpb24gKHJlc3VsdCkgeyAkKCcubXNnQnV0dG9uJykuZm9jdXMoKTsgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgYWRkRXZlbnQ6IGZ1bmN0aW9uIChlbCwgdHlwZSwgZm4pIHtcclxuICAgICAgICBpZiAoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikgcmV0dXJuIGVsLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZm4sIGZhbHNlKTtcclxuICAgICAgICByZXR1cm4gZWwuYXR0YWNoRXZlbnQoXCJvblwiICsgdHlwZSwgZm4pO1xyXG4gICAgfSxcclxuXHJcbiAgICByZW1vdmVFdmVudDogZnVuY3Rpb24gKGVsLCB0eXBlLCBmbikge1xyXG4gICAgICAgIGlmIChkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKSByZXR1cm4gZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmbik7XHJcbiAgICAgICAgcmV0dXJuIGVsLmRldGFjaEV2ZW50KFwib25cIiArIHR5cGUsIGZuKTtcclxuICAgIH0sXHJcblxyXG4gICAgc3RvcmFnZUF2YWlsYWJsZTogZnVuY3Rpb24odHlwZSkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBzdG9yYWdlID0gd2luZG93W3R5cGVdLFxyXG4gICAgICAgICAgICB4ID0gJ19fc3RvcmFnZV90ZXN0X18nO1xyXG4gICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oeCwgeCk7XHJcbiAgICAgICAgICAgIHN0b3JhZ2UucmVtb3ZlSXRlbSh4KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7fVxyXG4gICAgfSxcclxuXHJcbiAgICBzdWJzY3JpYmU6ICQuc3Vic2NyaWJlLFxyXG4gICAgdW5zdWJzY3JpYmU6ICQudW5zdWJzY3JpYmVcclxufTtcclxuIiwiJChcImJvZHlcIikub24oJ2NsaWNrJywgJy5oZWFkZXJfX2J1cmdlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAkKFwiLm1lbnVcIikudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbn0pOyIsIi8vIFNjcmlwdHMgZm9yIGhhbmRsaW5nIGxhbmd1YWdlIGNoYW5nZVxyXG5cclxuZnVuY3Rpb24gc2V0TGFuZ3VhZ2UoKSB7XHJcblxyXG4gICAgLy8gU2V0IGxhbmd1YWdlIGZyb20gcHJldmlvdXNseSBzZWxlY3RlZCBpbiBzdXNwZW5kIGRhdGEuXHJcblxyXG4gICAgaWYgKGRhdGFDb250cm9sbGVyLmdldERhdGEoXCJsYW5ndWFnZVwiKSAhPT0gbnVsbCkge1xyXG4gICAgICAgIGxldCBkYXRhTGFuZyA9IGRhdGFDb250cm9sbGVyLmdldERhdGEoXCJsYW5ndWFnZVwiKTtcclxuICAgICAgICB2aWRlb0xhbmcgPSBkYXRhTGFuZyArICcvJztcclxuICAgICAgICAkKFwiI2hlbHBmbGFnXCIpLmF0dHIoXCJzcmNcIiwgXCJhc3NldHMvaW1nL2ZsYWdzL1wiICsgZGF0YUxhbmcgKyBcIi5zdmdcIik7XHJcbiAgICAgICAgc3dpdGNoIChkYXRhTGFuZykge1xyXG4gICAgICAgICAgICBjYXNlICdlbi1HQic6IC8vIEVuZ2xpc2hcclxuICAgICAgICAgICAgICAgIGxhbmd1YWdlQ29udHJvbGxlci5sYW5nID0gZW47XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncHQtQlInOiAvLyBQb3J0dWd1ZXNlIEJyYXppbFxyXG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2VDb250cm9sbGVyLmxhbmcgPSBwdF9icjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdmci1GUic6IC8vIEZyZW5jaFxyXG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2VDb250cm9sbGVyLmxhbmcgPSBmcjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdkZS1ERSc6IC8vIEdlcm1hblxyXG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2VDb250cm9sbGVyLmxhbmcgPSBkZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdlcy1FUyc6IC8vIFNwYW5pc2hcclxuICAgICAgICAgICAgICAgIGxhbmd1YWdlQ29udHJvbGxlci5sYW5nID0gZXM7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncnUtUlUnOiAvLyBSdXNzaWFuXHJcbiAgICAgICAgICAgICAgICBsYW5ndWFnZUNvbnRyb2xsZXIubGFuZyA9IHJ1O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3poLUNIUyc6IC8vIFNpbXBsaWZpZWQgQ2hpbmVzZVxyXG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2VDb250cm9sbGVyLmxhbmcgPSB6aF9jaHM7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBkYXRhQ29udHJvbGxlci5zZXREYXRhKFwibGFuZ3VhZ2VcIiwgXCJlbi1HQlwiKTsgLy8gRGVmYXVsdCB0byBlbmdsaXNoXHJcbiAgICB9O1xyXG4gICAgaW5pdExhbmcoKTsgLy8gUmVzZXQgdmFyaWFibGVzIGZvciBpMThuXHJcblxyXG4gICAgJChcIi5odWQtLWxhbmdcIikuYWRkQ2xhc3MoZGF0YUNvbnRyb2xsZXIuZ2V0RGF0YShcImxhbmd1YWdlXCIpKTsgLy8gU2V0IGZsYWdcclxuICAgICQoXCIucG9wX19sYW5nXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgJCgnLnBvcF9fbGFuZ1tyZWw9XCInICsgZGF0YUNvbnRyb2xsZXIuZ2V0RGF0YShcImxhbmd1YWdlXCIpICsgJ1wiXScpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG5cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBvcHVsYXRlRmxhZ3MoKSB7XHJcbiAgICBsZXQgbWVudUxhbmcgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJFbmdsaXNoXCIsXHJcbiAgICAgICAgICAgIFwiZmxhZ1wiOiBcImVuLUdCXCIsXHJcbiAgICAgICAgICAgIFwiaXNvXCI6IFwiZW4tR0JcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJQb3J0dWd1w6pzXCIsXHJcbiAgICAgICAgICAgIFwiZmxhZ1wiOiBcInB0LUJSXCIsXHJcbiAgICAgICAgICAgIFwiaXNvXCI6IFwicHQtQlJcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJGcmFuw6dhaXNcIixcclxuICAgICAgICAgICAgXCJmbGFnXCI6IFwiZnItRlJcIixcclxuICAgICAgICAgICAgXCJpc29cIjogXCJmci1GUlwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkRldXRzY2hcIixcclxuICAgICAgICAgICAgXCJmbGFnXCI6IFwiZGUtREVcIixcclxuICAgICAgICAgICAgXCJpc29cIjogXCJkZS1ERVwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkVzcGHDsW9sXCIsXHJcbiAgICAgICAgICAgIFwiZmxhZ1wiOiBcImVzLUVTXCIsXHJcbiAgICAgICAgICAgIFwiaXNvXCI6IFwiZXMtRVNcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCLRgNGD0YHRgdC60LjQuVwiLFxyXG4gICAgICAgICAgICBcImZsYWdcIjogXCJydS1SVVwiLFxyXG4gICAgICAgICAgICBcImlzb1wiOiBcInJ1LVJVXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiU2ltcGxpZmllZCBDaGluZXNlXCIsXHJcbiAgICAgICAgICAgIFwiZmxhZ1wiOiBcInpoLUNIU1wiLFxyXG4gICAgICAgICAgICBcImlzb1wiOiBcInpoLUNIU1wiXHJcbiAgICAgICAgfVxyXG4gICAgXTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lbnVMYW5nLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gQWRkIHJvdyB0byBsYW5ndWFnZSBzZWxlY3RvclxyXG4gICAgICAgICQoXCIjbGFuZ1wiKS5hcHBlbmQoXCI8ZGl2IGNsYXNzPSdwb3BfX2xhbmcnIHJlbD0nXCIgKyBtZW51TGFuZ1tpXS5pc28gKyBcIic+PGltZyBhbHQ9J1wiICsgbWVudUxhbmdbaV0ubmFtZSArIFwiJyBjbGFzcz0ncG9wX19sYW5nX19mbGFnJyBzcmM9J2Fzc2V0cy9pbWcvZmxhZ3MvXCIgKyBtZW51TGFuZ1tpXS5mbGFnICsgXCIuc3ZnJy8+PHAgY2xhc3M9J3BvcF9fbGFuZ19fbmFtZSc+XCIgKyBtZW51TGFuZ1tpXS5uYW1lICsgXCI8L3A+PC9kaXY+XCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICAkKFwiYm9keVwiKS5vbignY2xpY2snLCAnLnBvcF9fbGFuZycsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgdmFyIHJlbCA9ICQodGhpcykuYXR0cihcInJlbFwiKTsgLy8gZ2V0IGxhbmcgSVNPXHJcblxyXG4gICAgICAgICQoXCIuaHVkLS1sYW5nXCIpLnJlbW92ZUNsYXNzKGRhdGFDb250cm9sbGVyLmdldERhdGEoXCJsYW5ndWFnZVwiKSk7IC8vIENsZWFyIGZsYWdcclxuICAgICAgICAkKFwiLmh1ZC0tbGFuZ1wiKS5hZGRDbGFzcyhyZWwpOyAvLyBTZXQgZmxhZ1xyXG5cclxuICAgICAgICBkYXRhQ29udHJvbGxlci5zZXREYXRhKFwibGFuZ3VhZ2VcIiwgcmVsKTsgLy8gc2V0IGxhbmcgSVNPIHRvIHN1c3BlbmQgZGF0YVxyXG4gICAgICAgIHNldExhbmd1YWdlKCk7IC8vIFRlbGwgdGhlIGxhbmd1YWdlIGNvbnRyb2xsZXJcclxuXHJcbiAgICAgICAgJChcIi5wb3BcIikucmVtb3ZlQ2xhc3MoXCJvcGVuXCIpOyAvLyBDbG9zZSBwb3B1cFxyXG5cclxuICAgICAgICBuYXZpZ2F0aW9uQ29udHJvbGxlci5nb1RvUGFnZShuYXZpZ2F0aW9uQ29udHJvbGxlci5hY3RpdmVQYWdlKTsgLy9SZWxvYWQgcGFnZVxyXG4gICAgfSk7XHJcblxyXG59XHJcblxyXG5cclxuY29uc3QgbGFuZ3VhZ2VzID0ge1xyXG4gICAgXCJlbi1HQlwiOiAnNDgwOTNBQUUtODc4Qi00QUM5LTlFMEItOTkwOTFCRjg4NEZFJyxcclxuICAgIFwiZGUtREVcIjogJ0Y4MjY1NjVFLTc1RDUtNEZENy05OTJDLTAyQkU4ODY5NDZDMScsXHJcbiAgICBcImZyLUZSXCI6ICc3NDNCRjIxQS0zMUFELTRCMUYtQkYzMS05NkMxRkQ2QjRGRDUnLFxyXG4gICAgXCJlcy1FU1wiOiAnMEI1QjlENDktQzY2My00QTBDLTlEM0UtNEY2RDJFNDNEMURGJyxcclxuICAgIFwicHQtQlJcIjogJzgyQkRGQUExLTY1RkQtNDhDRC04NDI2LUJFNjIwNkZEMTQ5RScsXHJcbiAgICBcInpoLUNIU1wiOiAnREQ4MjY4NDUtNzc3RS00RDBDLUIxOEYtOEQxQTMxNEQwMTEwJyxcclxuICAgIFwicnUtUlVcIjogJzVERkE3MEYxLTY4MDMtNEY0My1BNzAxLTdFMTdCMzAzQzQ4NCcsXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldExhbmcoKSB7XHJcbiAgICByZXR1cm4gbGFuZ3VhZ2VzW2RhdGFDb250cm9sbGVyLmdldERhdGEoXCJsYW5ndWFnZVwiKV07XHJcbn0iLCIkKFwiYm9keVwiKS5vbignY2xpY2snLCAnW2RhdGEtcGFnZV0nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBwYWdlVGl0bGUgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtcGFnZScpO1xyXG5cclxuICAgICQoXCIuaGVhZGVyX19idXJnZXIsIC5tZW51XCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKHBhZ2VUaXRsZSlcclxuXHJcbiAgICBuYXZpZ2F0aW9uQ29udHJvbGxlci5nb1RvUGFnZVdpdGhUaXRsZShwYWdlVGl0bGUpO1xyXG59KVxyXG5cclxuJChcImJvZHlcIikub24oJ2NsaWNrJywgJ1tkYXRhLXNjcm9sbF0nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBzY3JvbGxUYXJnZXQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtc2Nyb2xsJyk7XHJcblxyXG4gICAgc2Nyb2xsVG8oJChzY3JvbGxUYXJnZXQpKTtcclxufSlcclxuXHJcbmNvbnN0IHNjcm9sbFRvID0gKHRhcmdldFNjcm9sbEVsZW1lbnQsIG9mZnNldCwgc2Nyb2xsaW5nRWxlbWVudCkgPT4ge1xyXG4gICAgaWYgKHRhcmdldFNjcm9sbEVsZW1lbnQgaW5zdGFuY2VvZiBqUXVlcnkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBzY3JvbGxTcGVlZCA9IDI1MDtcclxuICAgIGxldCBzY3JvbGxPZmZzZXQgPSAxMjA7XHJcbiAgICBsZXQgJHNjcm9sbGluZ0VsZW1lbnQgPSAkKFwiaHRtbCwgYm9keVwiKTtcclxuXHJcbiAgICBpZiAob2Zmc2V0ICE9PSB1bmRlZmluZWQgJiYgb2Zmc2V0ICE9PSBudWxsKSB7IHNjcm9sbE9mZnNldCA9IG9mZnNldCB9O1xyXG4gICAgaWYgKHNjcm9sbGluZ0VsZW1lbnQgIT09IHVuZGVmaW5lZCAmJiBzY3JvbGxpbmdFbGVtZW50ICE9PSBudWxsKSB7ICRzY3JvbGxpbmdFbGVtZW50ID0gc2Nyb2xsaW5nRWxlbWVudCB9O1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIHNjcm9sbFRhcmdldCA9IHRhcmdldFNjcm9sbEVsZW1lbnQub2Zmc2V0KCkudG9wO1xyXG4gICAgICAgICRzY3JvbGxpbmdFbGVtZW50LnN0b3AodHJ1ZSkuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgIHNjcm9sbFRvcDogKHNjcm9sbFRhcmdldCAtIHNjcm9sbE9mZnNldCkgKyBcInB4XCJcclxuICAgICAgICB9LCBzY3JvbGxTcGVlZCk7XHJcbiAgICB9IGNhdGNoIChlKSB7IH07XHJcbn1cclxuXHJcblxyXG53aW5kb3cub25zY3JvbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiW2RhdGEtYW5pbS1vbi1zY3JvbGxdXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjcm9sbFBvcyA9ICQoXCJodG1sLCBib2R5XCIpLnNjcm9sbFRvcCgpLFxyXG4gICAgICAgICAgICAgICAgdGhpc1Njcm9sbFBvcyA9ICQodGhpcykub2Zmc2V0KCkudG9wLFxyXG4gICAgICAgICAgICAgICAgdHJpZ2dlciA9IC42O1xyXG5cclxuICAgICAgICAgICAgaWYgKHNjcm9sbFBvcyA+IHRoaXNTY3JvbGxQb3MgLSB3aW5kb3cuaW5uZXJIZWlnaHQgKiB0cmlnZ2VyKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwiYW5pbWF0ZVwiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbn1cclxuXHJcbmNvbnN0IGludGVyYWN0aW9uQ29tcGxldGUgPSAoa2V5KSA9PiB7XHJcbiAgICAkKFwiW2RhdGEtcmVxdWlyZXM9J1wiICsga2V5ICsgXCInXVwiKS5zaG93KCk7XHJcbn1cclxuXHJcbmNvbnN0IHZpc2l0ZWQgPSAocGFnZSkgPT4ge1xyXG4gICAgJCgnLm1lbnUtbG9ja2VkW2RhdGEtcGFnZT1cIicgKyBwYWdlICsgJ1wiXScpLnJlbW92ZUNsYXNzKFwibWVudS1sb2NrZWRcIik7XHJcbn0iLCJ2YXIgJCA9IGpRdWVyeS5ub0NvbmZsaWN0KCk7XHJcblxyXG5mdW5jdGlvbiBzZXRDb3Vyc2VDb21wbGV0ZSgpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiU2V0dGluZyBDb21wbGV0ZVwiKVxyXG4gICAgc2Nvcm1Db250cm9sbGVyLmluc3RhbmNlLnNldENvbXBsZXRlKCk7XHJcbiAgICBhbGVydChcIkNvdXJzZSBoYXMgYmVlbiBzZXQgY29tcGxldGUuXCIpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldENvdXJzZVNjb3JlKHNjb3JlQXNOdW1iZXIpIHtcclxuICAgIHNjb3JtQ29udHJvbGxlci5pbnN0YW5jZS5zZXRTY29yZShzY29yZUFzTnVtYmVyKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcXVpdENvdXJzZSgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgc2Nvcm1Db250cm9sbGVyLmluc3RhbmNlLnF1aXQoKTtcclxuICAgICAgICB3aW5kb3cuY2xvc2UoKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICB3aW5kb3cuY2xvc2UoKTtcclxuICAgIH1cclxufVxyXG5cclxud2luZG93Lm9uYmVmb3JldW5sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgc2Nvcm1Db250cm9sbGVyLmluc3RhbmNlLnF1aXQoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdGlhbGlzZSgpIHtcclxuXHJcbiAgICAvLyBUZXN0IGNvbmZpZ1xyXG4gICAgaWYgKHByb2plY3RTZXR0aW5ncy5Qcm9qZWN0SUQgPT09ICclUHJvamVjdElEJScpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXCJQcm9qZWN0SUQgbm90IGZvdW5kLiBQbGVhc2UgcnVuIGBub2RlIHNldHVwLmpzYCBmcm9tIENMSS5cIilcclxuICAgIH1cclxuXHJcbiAgICAvLyBBZGQgYWxsIGZsYWdzIHRvIHRoZSBsYW5ndWFnZSBzZWxlY3RvciBwb3AgdXBcclxuICAgIHBvcHVsYXRlRmxhZ3MoKTsgXHJcblxyXG4gICAgLy8gU2V0IGluaXRpYWwgbGFuZ3VhZ2UgXHJcbiAgICBzZXRMYW5ndWFnZSgpOyBcclxuXHJcblx0cmV0dXJuIGZhbHNlO1xyXG59O1xyXG5cclxualF1ZXJ5KGZ1bmN0aW9uKCl7XHJcblxyXG5cclxuICAgIHdpbmRvdy51dGlscyA9IFV0aWxzO1xyXG5cclxuICAgIHdpbmRvdy5sYW5ndWFnZUNvbnRyb2xsZXIgPSBuZXcgTGFuZ3VhZ2VDb250cm9sbGVyO1xyXG5cclxuICAgIC8vIENvbnRyb2xsZXIgZm9yIHRoaXMgcHJvamVjdCBPTkxZXHJcbiAgICB3aW5kb3cubW9kdWxlQ29udHJvbGxlciA9IG5ldyBNb2R1bGVDb250cm9sbGVyKCk7XHJcblxyXG4gICAgLy8gQ29udHJvbGxlciBmb3IgQXp1cmUgRGV2T3BzIEFQSVxyXG4gICAgd2luZG93LmRldk9wcyA9IG5ldyBEZXZPcHNDb250cm9sbGVyKCk7XHJcblxyXG4gICAgLy8gQ29udHJvbGxlciBmb3IgU0NPUk0gQVBJXHJcbiAgICB3aW5kb3cuc2Nvcm1Db250cm9sbGVyID0gbmV3IFNjb3JtQ29udHJvbGxlcjtcclxuXHJcbiAgICBsZXNzb25Mb2NhdGlvbiA9ICh3aW5kb3cuc2Nvcm1Db250cm9sbGVyLmluc3RhbmNlLmxvY2F0aW9uKCkgPT0gJ251bGwnKSA/IFV0aWxzLmdldFVSTFBhcmFtZXRlcigncGFnZScpIDogcGFyc2VJbnQod2luZG93LnNjb3JtQ29udHJvbGxlci5pbnN0YW5jZS5sb2NhdGlvbigpKTtcclxuXHJcblxyXG4gICAgLy8gSW5zdGFudGlhdGUgdGhlIG5hdiBjb250cm9sbGVyXHJcbiAgICB3aW5kb3cubmF2aWdhdGlvbkNvbnRyb2xsZXIgPSBuZXcgTmF2aWdhdGlvbkNvbnRyb2xsZXIoe1xyXG4gICAgICAgIGNvbnRyb2xzOiAkKCcucGFnZS1uYXYnKSxcclxuICAgICAgICBjb3Vyc2VOYXY6ICQoJyNjb3Vyc2UtbmF2JyksXHJcbiAgICAgICAgcGFnZXM6IHBhZ2VzLFxyXG4gICAgICAgIHN0YWdlOiAkKCcjc3RhZ2UnKSxcclxuICAgICAgICBhY3RpdmVQYWdlOiBsZXNzb25Mb2NhdGlvblxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIHdpbmRvdy5kYXRhQ29udHJvbGxlciA9IG5ldyBjb3Vyc2VEYXRhKCk7XHJcblxyXG4gICAgLy9EZWJ1Z1xyXG4gICAgd2luZG93LnRlc3RDb250cm9sbGVyID0gbmV3IFRlc3RDb250cm9sbGVyKCk7ICBcclxuXHJcblx0aW5pdGlhbGlzZSgpO1xyXG4gICAgXHJcbn0pXHJcblxyXG5cclxuXHJcblxyXG5cclxuLy9yZXN1bHRzXHJcbmZ1bmN0aW9uIHJ1blJlc3VsdHNDaXJjbGVzKCkge1xyXG5cdGxldCBsb3dzID0gMDtcclxuXHRsZXQgbWVkcyA9IDA7XHJcblx0bGV0IGhpZ2hzID0gMDtcclxuXHJcblx0Y29uc3QgaXNNb2JpbGUgPSB3aW5kb3cuc2NyZWVuLmF2YWlsV2lkdGggPD0gNzY4O1xyXG5cdGlmIChpc01vYmlsZSkgJChcIi5wYWdlX19jb250ZW50XCIpLmNzcyhcIm92ZXJmbG93LXlcIiwgXCJoaWRkZW5cIik7XHJcblxyXG5cdC8vIGRlYnVnIHNjb3JpbmdcclxuXHQvLyBiYmNQYWdlc1NlY3Rpb25zWzFdLnBhZ2VTY29yZSA9IDkwO1xyXG5cdC8vIGJiY1BhZ2VzU2VjdGlvbnNbMl0ucGFnZVNjb3JlID0gODA7XHJcblx0Ly8gYmJjUGFnZXNTZWN0aW9uc1szXS5wYWdlU2NvcmUgPSA2NTtcclxuXHQvLyBiYmNQYWdlc1NlY3Rpb25zWzRdLnBhZ2VTY29yZSA9IDUwO1xyXG5cclxuXHRmb3IgKGxldCBpID0gMTsgaSA8PSBiYmNQYWdlc1NlY3Rpb25zLmxlbmd0aCAtIDE7IGkrKykge1xyXG5cdFx0Y29uc3QgcGFnZVNjb3JlID0gYmJjUGFnZXNTZWN0aW9uc1tpXS5wYWdlU2NvcmU7XHJcblxyXG5cdFx0aWYgKHBhZ2VTY29yZSA+PSA4MCkge1xyXG5cdFx0XHRoaWdocyArPSAxO1xyXG5cdFx0XHQkKFwiLnJlc3VsdHNfX2NpcmNsZVtkYXRhLXBhZ2U9J1wiICsgaSArIFwiJ11cIikuYWRkQ2xhc3MoXCJoaWdoXCIpO1xyXG5cdFx0XHQkKFwiLnJlc3VsdHNfX2RldGFpbHMtY29sW2RhdGEtcGFnZT0nXCIgKyBpICsgXCInXSAucmVzdWx0c19fZGV0YWlscy1jaXJjbGVcIikuYWRkQ2xhc3MoXCJoaWdoXCIpO1xyXG5cdFx0XHQkKFwiLnJlc3VsdHNfX2RldGFpbHMtY29sW2RhdGEtcGFnZT0nXCIgKyBpICsgXCInXSAucmVzdWx0c19fZGV0YWlscy10ZXh0XCIpLmFwcGVuZChcIjxkaXYgZGF0YS1pMThuX2FwPSdyLVwiICsgaSArIFwiLWhpZ2gnID48L2Rpdj5cIik7XHJcblx0XHRcdCQoXCIucmVzdWx0c19fZGV0YWlscy1jb2xbZGF0YS1wYWdlPSdcIiArIGkgKyBcIiddIC5yZXN1bHRzX19kZXRhaWxzLXdvcmRcIikuYXR0cihcImRhdGEtaTE4bl9nXCIsIFwiZW5oYW5jZVwiKTtcclxuXHRcdFx0JChcIi5yZXN1bHRzX19kZXRhaWxzLWNvbFtkYXRhLXBhZ2U9J1wiICsgaSArIFwiJ10gLnJlc3VsdHNfX2RldGFpbHMtaW1hZ2VcIikuYXR0cihcInNyY1wiLCBcImFzc2V0cy9pbWcvcmVzdWx0cy9lbmhhbmNlLnN2Z1wiKTtcclxuXHRcdH0gZWxzZSBpZiAocGFnZVNjb3JlID49IDYwKSB7XHJcblx0XHRcdG1lZHMgKz0gMTtcclxuXHRcdFx0JChcIi5yZXN1bHRzX19jaXJjbGVbZGF0YS1wYWdlPSdcIiArIGkgKyBcIiddXCIpLmFkZENsYXNzKFwibWVkXCIpO1xyXG5cdFx0XHQkKFwiLnJlc3VsdHNfX2RldGFpbHMtY29sW2RhdGEtcGFnZT0nXCIgKyBpICsgXCInXSAucmVzdWx0c19fZGV0YWlscy1jaXJjbGVcIikuYWRkQ2xhc3MoXCJtZWRcIik7XHJcblx0XHRcdCQoXCIucmVzdWx0c19fZGV0YWlscy1jb2xbZGF0YS1wYWdlPSdcIiArIGkgKyBcIiddIC5yZXN1bHRzX19kZXRhaWxzLXRleHRcIikuYXBwZW5kKFwiPGRpdiBkYXRhLWkxOG5fYXA9J3ItXCIgKyBpICsgXCItbWVkJyA+PC9kaXY+XCIpO1xyXG5cdFx0XHQkKFwiLnJlc3VsdHNfX2RldGFpbHMtY29sW2RhdGEtcGFnZT0nXCIgKyBpICsgXCInXSAucmVzdWx0c19fZGV0YWlscy13b3JkXCIpLmF0dHIoXCJkYXRhLWkxOG5fZ1wiLCBcImluc3BpcmVcIik7XHJcblx0XHRcdCQoXCIucmVzdWx0c19fZGV0YWlscy1jb2xbZGF0YS1wYWdlPSdcIiArIGkgKyBcIiddIC5yZXN1bHRzX19kZXRhaWxzLWltYWdlXCIpLmF0dHIoXCJzcmNcIiwgXCJhc3NldHMvaW1nL3Jlc3VsdHMvaW5zcGlyZS5zdmdcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRsb3dzICs9IDE7XHJcblx0XHRcdCQoXCIucmVzdWx0c19fY2lyY2xlW2RhdGEtcGFnZT0nXCIgKyBpICsgXCInXVwiKS5hZGRDbGFzcyhcImxvd1wiKTtcclxuXHRcdFx0JChcIi5yZXN1bHRzX19kZXRhaWxzLWNvbFtkYXRhLXBhZ2U9J1wiICsgaSArIFwiJ10gLnJlc3VsdHNfX2RldGFpbHMtY2lyY2xlXCIpLmFkZENsYXNzKFwibG93XCIpO1xyXG5cdFx0XHQkKFwiLnJlc3VsdHNfX2RldGFpbHMtY29sW2RhdGEtcGFnZT0nXCIgKyBpICsgXCInXSAucmVzdWx0c19fZGV0YWlscy10ZXh0XCIpLmFwcGVuZChcIjxkaXYgZGF0YS1pMThuX2FwPSdyLVwiICsgaSArIFwiLWxvdycgPjwvZGl2PlwiKTtcclxuXHRcdFx0JChcIi5yZXN1bHRzX19kZXRhaWxzLWNvbFtkYXRhLXBhZ2U9J1wiICsgaSArIFwiJ10gLnJlc3VsdHNfX2RldGFpbHMtd29yZFwiKS5hdHRyKFwiZGF0YS1pMThuX2dcIiwgXCJleHBsb3JlXCIpO1xyXG5cdFx0XHQkKFwiLnJlc3VsdHNfX2RldGFpbHMtY29sW2RhdGEtcGFnZT0nXCIgKyBpICsgXCInXSAucmVzdWx0c19fZGV0YWlscy1pbWFnZVwiKS5hdHRyKFwic3JjXCIsIFwiYXNzZXRzL2ltZy9yZXN1bHRzL21hZ25pZnkuc3ZnXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRyYW5zbGF0ZVBhZ2UoKTtcclxuXHJcblx0XHRsZXQgdGltZW91dDtcclxuXHRcdGkgPT09IDQgPyAodGltZW91dCA9IDUyMDApIDogaSA9PT0gMyA/ICh0aW1lb3V0ID0gNDQwMCkgOiBpID09PSAyID8gKHRpbWVvdXQgPSAzNjAwKSA6ICh0aW1lb3V0ID0gMjgwMCk7XHJcblx0XHRjb25zb2xlLmxvZyhcInRpbWVvdXQgc2kgXCIgKyB0aW1lb3V0KTtcclxuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkKFwiLnJlc3VsdHNfX2RldGFpbHMtdG9wXCIpLmFkZENsYXNzKFwiaW5pdGlhbC1maXhlZFwiKTtcclxuXHRcdFx0JChcIi5yZXN1bHRzX19kZXRhaWxzLWNpcmNsZVtkYXRhLXBhZ2U9J1wiICsgaSArIFwiJ11cIikuY3NzKFwiZGlzcGxheVwiLCBcImZsZXhcIik7XHJcblx0XHRcdCQoXCIucmVzdWx0c19fZGV0YWlscy1jaXJjbGVbZGF0YS1wYWdlPSdcIiArIGkgKyBcIiddXCIpLmFkZENsYXNzKFwiYm91bmNlSW5Eb3duXCIpO1xyXG5cdFx0fSwgdGltZW91dCk7XHJcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JChcIi5yZXN1bHRzX19kZXRhaWxzLXRvcFwiKS5jc3MoXCJ0cmFuc2l0aW9uXCIsIFwiYWxsIDJzIGVhc2VcIik7XHJcblx0XHRcdCQoXCIucmVzdWx0c19fZGV0YWlsc1wiKS5jc3MoXCJ0cmFuc2l0aW9uXCIsIFwiYWxsIDJzIGVhc2VcIik7XHJcblx0XHRcdCQoXCIucmVzdWx0c19fZGV0YWlsc1wiKS5jc3MoXCJtYXJnaW4tdG9wXCIsIFwiMHB4XCIpO1xyXG5cdFx0XHQkKFwiLnJlc3VsdHNfX2RldGFpbHMtdG9wXCIpLnJlbW92ZUNsYXNzKFwiaW5pdGlhbC1maXhlZFwiKTtcclxuXHJcblx0XHRcdGlmIChoaWdocyA9PT0gMCkge1xyXG5cdFx0XHRcdG1lZHMgPT09IDAgPyAkKFwiLnJlc3VsdHNfX2RldGFpbHMtdG9wXCIpLmFkZENsYXNzKFwibG93LWhlaWdodFwiKSA6ICQoXCIucmVzdWx0c19fZGV0YWlscy10b3BcIikuYWRkQ2xhc3MoXCJtZWQtaGVpZ2h0XCIpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyAkKFwiLnJlc3VsdHNfX2xpbmtcIikuZWFjaChmdW5jdGlvbigpe1xyXG5cdFx0XHQvLyAgICAgY29uc3QgcGFyZW50V2lkdGggPSAkKHRoaXMpLnBhcmVudCgpLndpZHRoKCk7XHJcblx0XHRcdC8vICAgICBjb25zdCBwYXJlbnRIZWlnaHQgPSAkKHRoaXMpLnBhcmVudCgpLmhlaWdodCgpO1xyXG5cclxuXHRcdFx0Ly8gICAgICQodGhpcykuY3NzKFwid2lkdGhcIiwgcGFyZW50V2lkdGgrXCJweFwiKTtcclxuXHRcdFx0Ly8gICAgICQodGhpcykuY3NzKFwiaGVpZ2h0XCIsIHBhcmVudEhlaWdodCtcInB4XCIpO1xyXG5cclxuXHRcdFx0Ly8gICAgIGNvbnNvbGUubG9nKHBhcmVudFdpZHRoKTtcclxuXHRcdFx0Ly8gICAgIGNvbnNvbGUubG9nKHBhcmVudEhlaWdodCk7XHJcblx0XHRcdC8vIH0pXHJcblx0XHR9LCA2NTAwKTtcclxuXHJcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JChcIi5yZXN1bHRzX19kZXRhaWxzLWhlYWRpbmdcIikuZmFkZUluKCk7XHJcblx0XHRcdCQoXCIucmVzdWx0c19fZGV0YWlscy10ZXh0XCIpLmZhZGVJbigpO1xyXG5cdFx0XHQkKFwiLnJlc3VsdHNfX2RldGFpbHMtbGluZVwiKS5mYWRlSW4oKTtcclxuXHRcdFx0JChcIi5yZXN1bHRzX19kZXRhaWxzLWJvdHRvbVwiKS5mYWRlSW4oKTtcclxuXHRcdFx0JChcIi5yZXRyeS1idXR0b25zXCIpLmZhZGVJbigpO1xyXG5cdFx0XHQkKFwiLnBhZ2UtLWFsdFwiKS5hZGRDbGFzcyhcInBhZ2UtLWFsdC0tZGVza3RvcFwiKTtcclxuXHRcdFx0JChcIi5yZXN1bHRzX19kZXRhaWxzLWNpcmNsZVwiKS5hZGRDbGFzcyhcInB1bHNlXCIpO1xyXG5cdFx0fSwgODcwMCk7XHJcblx0fVxyXG59XHJcblxyXG4vLyB0cmFuc2l0aW9uc1xyXG5mdW5jdGlvbiBydW5DaXJjbGVzVHJhbnNpdGlvbigpIHtcclxuXHRjb25zdCBwYWdlQ29udGVudCA9ICQoXCIucGFnZV9fY29udGVudFwiKTtcclxuXHRjb25zdCBjbGFzc0FycmF5ID0gW107XHJcblxyXG5cdHdoaWxlIChjbGFzc0FycmF5Lmxlbmd0aCA8IDE3KSB7XHJcblx0XHRjb25zdCByID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTcpICsgMTtcclxuXHRcdGlmIChjbGFzc0FycmF5LmluZGV4T2YocikgPT09IC0xKSBjbGFzc0FycmF5LnB1c2gocik7XHJcblx0fVxyXG5cclxuXHQkKFwiLmNpcmNsZXMtdHJhbnNpdGlvbl9fbG9hZGVyXCIpLmhpZGUoKTtcclxuXHJcblx0JChcIi5jaXJjbGVzLXRyYW5zaXRpb25fX2NpcmNsZVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuXHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoXCJyaXNlXCIpO1xyXG5cdFx0Y29uc3QgZGF0YUNpcmNsZSA9IE51bWJlcigkKHRoaXMpLmF0dHIoXCJkYXRhLWNpcmNsZVwiKSk7XHJcblx0XHQvLyBjb25zdCBjbGFzc1RvQWRkID0gYHRyYW5zaXRpb24ke2NsYXNzQXJyYXlbZGF0YUNpcmNsZSAtIDFdfWA7XHJcblx0XHRjb25zdCBjbGFzc1RvQWRkID0gXCJ0cmFuc2l0aW9uXCIgKyBjbGFzc0FycmF5W2RhdGFDaXJjbGUgLSAxXTtcclxuXHJcblx0XHQkKHRoaXMpLmFkZENsYXNzKGNsYXNzVG9BZGQpO1xyXG5cdH0pO1xyXG5cclxuXHQkKFwiLmNpcmNsZXMtdHJhbnNpdGlvblwiKS5zaG93KCk7XHJcblxyXG5cdC8vIHBhZ2VDb250ZW50LmZhZGVPdXQoKTtcclxuXHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdCQoXCIuY2lyY2xlcy10cmFuc2l0aW9uX19jaXJjbGVcIikuYWRkQ2xhc3MoXCJyaXNlXCIpO1xyXG5cdH0sIDUwKTtcclxuXHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdCQoXCIuc2VjdGlvblwiKS5mYWRlT3V0KCk7XHJcblx0fSwgMjUwKTtcclxuXHJcblx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHQkKFwiLmNpcmNsZXMtdHJhbnNpdGlvbl9fY2lyY2xlXCIpLmF0dHIoXCJjbGFzc1wiLCBcImNpcmNsZXMtdHJhbnNpdGlvbl9fY2lyY2xlIHJpc2VcIik7XHJcblx0fSwgNTAwMCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxvYWRlckNvdW50ZG93bigpIHtcclxuXHRsZXQgdGltZSA9IDU7XHJcblx0ZnVuY3Rpb24gX3NldENvdW50ZG93bigpIHtcclxuXHRcdCQoXCIuY2lyY2xlcy10cmFuc2l0aW9uX19jb3VudGVyXCIpLmh0bWwodGltZS50b1N0cmluZygpKTtcclxuXHRcdCQoXCIuY2lyY2xlcy10cmFuc2l0aW9uX19jb3VudGVyXCIpLnNob3coKTtcclxuXHRcdHRpbWUtLTtcclxuXHRcdGlmICh0aW1lID49IDApIHtcclxuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0X3NldENvdW50ZG93bigpO1xyXG5cdFx0XHR9LCAxMDAwKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdCQoXCIuY2lyY2xlcy10cmFuc2l0aW9uX19jb3VudGVyXCIpLmhpZGUoKTtcclxuXHRcdH1cclxuXHR9XHJcblx0X3NldENvdW50ZG93bigpO1xyXG5cdC8vICQoXCIuY2lyY2xlcy10cmFuc2l0aW9uX19jb3VudGVyXCIpLmh0bWwoXCIzXCIpO1xyXG5cdC8vICQoXCIuY2lyY2xlcy10cmFuc2l0aW9uX19jb3VudGVyXCIpLnNob3coKTtcclxuXHQvLyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcblx0Ly8gICAgICQoXCIuY2lyY2xlcy10cmFuc2l0aW9uX19jb3VudGVyXCIpLmh0bWwoXCIyXCIpO1xyXG5cdC8vIH0sIDkwMCk7XHJcblx0Ly8gc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG5cdC8vICAgICAkKFwiLmNpcmNsZXMtdHJhbnNpdGlvbl9fY291bnRlclwiKS5odG1sKFwiMVwiKTtcclxuXHQvLyB9LCAxODAwKTtcclxuXHQvLyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcblx0Ly8gICAgICQoXCIuY2lyY2xlcy10cmFuc2l0aW9uX19jb3VudGVyXCIpLmhpZGUoKTtcclxuXHQvLyB9LCAyNzAwKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbG9hZFF1ZXN0aW9uc0h0bWwocXVlc3Rpb25zVG9Mb2FkKSB7XHJcblx0dmFyIHR5cGU7XHJcblx0dmFyIHNlY3Rpb247XHJcblxyXG5cdGZvciAodmFyIGsgPSAwOyBrIDwgcXVlc3Rpb25zLmxlbmd0aDsgaysrKSB7XHJcblx0XHRpZiAocXVlc3Rpb25zW2tdLnNlY3Rpb24gPT09IHF1ZXN0aW9uc1RvTG9hZCkge1xyXG5cdFx0XHR0eXBlID0gcXVlc3Rpb25zW2tdLnR5cGU7XHJcblx0XHRcdHNlY3Rpb24gPSBxdWVzdGlvbnNba10uc2VjdGlvbjtcclxuXHRcdFx0cm91bmRzID0gcXVlc3Rpb25zW2tdLnJvdW5kcztcclxuXHRcdFx0Y29udGVudCA9IHF1ZXN0aW9uc1trXS5jb250ZW50O1xyXG5cclxuXHRcdFx0c3dpdGNoICh0eXBlKSB7XHJcblx0XHRcdFx0Y2FzZSBcImJ1YmJsZS1zZWxlY3RcIjpcclxuXHRcdFx0XHRcdHZhciBwYXJlbnQgPSAkKFwiLmJ1YmJsZS1zZWxlY3RfX3dyYXBwZXJbZGF0YS1xdWVzdGlvbnM9J1wiICsgc2VjdGlvbiArIFwiJ11cIik7XHJcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMTsgaSA8PSByb3VuZHM7IGkrKykge1xyXG5cdFx0XHRcdFx0XHR2YXIgcm91bmQgPSBwYXJlbnQuZmluZChcIi5idWJibGUtc2VsZWN0W2RhdGEtYnViYmxlPSdcIiArIGkgKyBcIiddXCIpO1xyXG5cdFx0XHRcdFx0XHR2YXIgb2JqZWN0ID0gY29udGVudFtpIC0gMV07XHJcblx0XHRcdFx0XHRcdGZvciAodmFyIHByb3BlcnR5IGluIG9iamVjdCkge1xyXG5cdFx0XHRcdFx0XHRcdHZhciBrZXkgPSBvYmplY3RbcHJvcGVydHldO1xyXG5cdFx0XHRcdFx0XHRcdGlmICghcm91bmQuZmluZChcIi5idWJibGUtc2VsZWN0X19idWJibGVbZGF0YS1rZXk9J1wiICsga2V5ICsgXCInXSBwLnRleHQtaW50cm9cIilbMF0pIHtcclxuXHRcdFx0XHRcdFx0XHRcdHJvdW5kLmZpbmQoXCIuYnViYmxlLXNlbGVjdF9fYnViYmxlW2RhdGEta2V5PSdcIiArIGtleSArIFwiJ11cIikuYXBwZW5kKCc8cCBkYXRhLWkxOG5fYXA9XCInICsga2V5ICsgJ1wiIGNsYXNzPVwiYnViYmxlLXNlbGVjdF9fdGV4dCB0ZXh0LWludHJvXCI+PC9wPicpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGNhc2UgXCJzaXplZC1idWJibGVzXCI6XHJcblx0XHRcdFx0XHR2YXIgcGFyZW50ID0gJChcIi5zaXplZC1idWJibGVzW2RhdGEtcXVlc3Rpb25zPSdcIiArIHNlY3Rpb24gKyBcIiddXCIpO1xyXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDE7IGkgPD0gcm91bmRzOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0dmFyIHJvdW5kID0gcGFyZW50LmZpbmQoXCIuc2l6ZWQtYnViYmxlc19fcm91bmRbZGF0YS1yb3VuZD0nXCIgKyBpICsgXCInXVwiKTtcclxuXHRcdFx0XHRcdFx0dmFyIG9iamVjdCA9IGNvbnRlbnRbaSAtIDFdO1xyXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBwcm9wZXJ0eSBpbiBvYmplY3QpIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIga2V5ID0gb2JqZWN0W3Byb3BlcnR5XTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIXJvdW5kLmZpbmQoXCIuc2l6ZWQtYnViYmxlc19fYnViYmxlW2RhdGEta2V5PSdcIiArIGtleSArIFwiJ10gcC50ZXh0LWludHJvXCIpWzBdKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRyb3VuZC5maW5kKFwiLnNpemVkLWJ1YmJsZXNfX2J1YmJsZVtkYXRhLWtleT0nXCIgKyBrZXkgKyBcIiddXCIpLmFwcGVuZCgnPHAgZGF0YS1pMThuX2FwPVwiJyArIGtleSArICdcIiBjbGFzcz1cInRleHQtaW50cm9cIj48L3A+Jyk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSBcImRyYWctbGVmdC1yaWdodFwiOlxyXG5cdFx0XHRcdFx0dmFyIHBhcmVudCA9ICQoXCIuZHJhZy1sZWZ0LXJpZ2h0W2RhdGEtcXVlc3Rpb25zPSdcIiArIHNlY3Rpb24gKyBcIiddXCIpO1xyXG5cclxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAxOyBpIDw9IHJvdW5kczsgaSsrKSB7XHJcblx0XHRcdFx0XHRcdHZhciBvYmplY3QgPSBjb250ZW50W2kgLSAxXTtcclxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgcHJvcGVydHkgaW4gb2JqZWN0KSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGtleSA9IG9iamVjdFtwcm9wZXJ0eV07XHJcblx0XHRcdFx0XHRcdFx0aWYgKCFwYXJlbnQuZmluZChcIi5kcmFnLWxlZnQtcmlnaHRfX2l0ZW1bZGF0YS1rZXk9J1wiICsga2V5ICsgXCInXSBwLnRleHQtaW50cm9cIilbMF0pIHtcclxuXHRcdFx0XHRcdFx0XHRcdHBhcmVudC5maW5kKFwiLmRyYWctbGVmdC1yaWdodF9faXRlbVtkYXRhLWtleT0nXCIgKyBrZXkgKyBcIiddXCIpLmFwcGVuZCgnPHAgZGF0YS1pMThuX2FwPVwiJyArIGtleSArICdcIiBjbGFzcz1cInRleHQtaW50cm9cIj48L3A+Jyk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSBcImRyYWctbGVmdC1yaWdodGJcIjpcclxuXHRcdFx0XHRcdHZhciBwYXJlbnQgPSAkKFwiLmRyYWctbGVmdC1yaWdodGJbZGF0YS1xdWVzdGlvbnM9J1wiICsgc2VjdGlvbiArIFwiJ11cIik7XHJcblxyXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDE7IGkgPD0gcm91bmRzOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0dmFyIG9iamVjdCA9IGNvbnRlbnRbaSAtIDFdO1xyXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBwcm9wZXJ0eSBpbiBvYmplY3QpIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIga2V5ID0gb2JqZWN0W3Byb3BlcnR5XTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIXBhcmVudC5maW5kKFwiLmRyYWctbGVmdC1yaWdodGJfX2l0ZW1bZGF0YS1rZXk9J1wiICsga2V5ICsgXCInXSBwLnRleHQtaW50cm9cIilbMF0pIHtcclxuXHRcdFx0XHRcdFx0XHRcdHBhcmVudC5maW5kKFwiLmRyYWctbGVmdC1yaWdodGJfX2l0ZW1bZGF0YS1rZXk9J1wiICsga2V5ICsgXCInXVwiKS5hcHBlbmQoJzxwIGRhdGEtaTE4bl9hcD1cIicgKyBrZXkgKyAnXCIgY2xhc3M9XCJ0ZXh0LWludHJvXCI+PC9wPicpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGNhc2UgXCJkcmFnLXRvLXJlbW92ZVwiOlxyXG5cdFx0XHRcdFx0dmFyIHBhcmVudCA9ICQoXCIuZHJhZy10by1yZW1vdmVbZGF0YS1xdWVzdGlvbnM9J1wiICsgc2VjdGlvbiArIFwiJ11cIik7XHJcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMTsgaSA8PSByb3VuZHM7IGkrKykge1xyXG5cdFx0XHRcdFx0XHR2YXIgb2JqZWN0ID0gY29udGVudFtpIC0gMV07XHJcblx0XHRcdFx0XHRcdGZvciAodmFyIHByb3BlcnR5IGluIG9iamVjdCkge1xyXG5cdFx0XHRcdFx0XHRcdHZhciBrZXkgPSBvYmplY3RbcHJvcGVydHldO1xyXG5cdFx0XHRcdFx0XHRcdGlmICghcGFyZW50LmZpbmQoXCIuZHJhZy10by1yZW1vdmVfX2l0ZW1bZGF0YS1rZXk9J1wiICsga2V5ICsgXCInXSBwLnRleHQtaW50cm9cIilbMF0pIHtcclxuXHRcdFx0XHRcdFx0XHRcdHBhcmVudC5maW5kKFwiLmRyYWctdG8tcmVtb3ZlX19pdGVtW2RhdGEta2V5PSdcIiArIGtleSArIFwiJ11cIikuYXBwZW5kKCc8cCBkYXRhLWkxOG5fYXA9XCInICsga2V5ICsgJ1wiIGNsYXNzPVwidGV4dC1pbnRyb1wiPjwvcD4nKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlIFwic2VsZWN0LXRocmVlXCI6XHJcblx0XHRcdFx0XHR2YXIgcGFyZW50ID0gJChcIi5zZWxlY3QtdGhyZWVbZGF0YS1xdWVzdGlvbnM9J1wiICsgc2VjdGlvbiArIFwiJ11cIik7XHJcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMTsgaSA8PSByb3VuZHM7IGkrKykge1xyXG5cdFx0XHRcdFx0XHR2YXIgb2JqZWN0ID0gY29udGVudFtpIC0gMV07XHJcblx0XHRcdFx0XHRcdGZvciAodmFyIHByb3BlcnR5IGluIG9iamVjdCkge1xyXG5cdFx0XHRcdFx0XHRcdHZhciBrZXkgPSBvYmplY3RbcHJvcGVydHldO1xyXG5cdFx0XHRcdFx0XHRcdGlmICghcGFyZW50LmZpbmQoXCIuc2VsZWN0LXRocmVlX19pdGVtW2RhdGEta2V5PSdcIiArIGtleSArIFwiJ10gcC50ZXh0LWludHJvXCIpWzBdKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRwYXJlbnQuZmluZChcIi5zZWxlY3QtdGhyZWVfX2l0ZW1bZGF0YS1rZXk9J1wiICsga2V5ICsgXCInXVwiKS5hcHBlbmQoJzxwIGRhdGEtaTE4bl9hcD1cIicgKyBrZXkgKyAnXCIgY2xhc3M9XCJ0ZXh0LWludHJvXCI+PC9wPicpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGNhc2UgXCJkcmFnLW9wdGlvbnNcIjpcclxuXHRcdFx0XHRcdHZhciBwYXJlbnQgPSAkKFwiLmRyYWctb3B0aW9uc1tkYXRhLXF1ZXN0aW9ucz0nXCIgKyBzZWN0aW9uICsgXCInXVwiKTtcclxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAxOyBpIDw9IHJvdW5kczsgaSsrKSB7XHJcblx0XHRcdFx0XHRcdHZhciBvYmplY3QgPSBjb250ZW50W2kgLSAxXTtcclxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgcHJvcGVydHkgaW4gb2JqZWN0KSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGtleSA9IG9iamVjdFtwcm9wZXJ0eV07XHJcblx0XHRcdFx0XHRcdFx0aWYgKCFwYXJlbnQuZmluZChcIi5kcmFnLW9wdGlvbnNfX2l0ZW1bZGF0YS1rZXk9J1wiICsga2V5ICsgXCInXSBwLnRleHQtaW50cm9cIilbMF0pIHtcclxuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFwibmVlZCB0aGUgdGhpbmdzXCIpO1xyXG5cdFx0XHRcdFx0XHRcdFx0cGFyZW50LmZpbmQoXCIuZHJhZy1vcHRpb25zX19pdGVtW2RhdGEta2V5PSdcIiArIGtleSArIFwiJ11cIikuYXBwZW5kKCc8cCBkYXRhLWkxOG5fYXA9XCInICsga2V5ICsgJ1wiIGNsYXNzPVwidGV4dC1pbnRyb1wiPjwvcD4nKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlIFwiZHJhZy1vcmRlclwiOlxyXG5cdFx0XHRcdFx0dmFyIHBhcmVudCA9ICQoXCIuZHJhZy1vcmRlcltkYXRhLXF1ZXN0aW9ucz0nXCIgKyBzZWN0aW9uICsgXCInXVwiKTtcclxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAxOyBpIDw9IHJvdW5kczsgaSsrKSB7XHJcblx0XHRcdFx0XHRcdHZhciBvYmplY3QgPSBjb250ZW50W2kgLSAxXTtcclxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgcHJvcGVydHkgaW4gb2JqZWN0KSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGtleSA9IG9iamVjdFtwcm9wZXJ0eV07XHJcblx0XHRcdFx0XHRcdFx0aWYgKCFwYXJlbnQuZmluZChcIi5kcmFnLW9yZGVyX19kcmFnLWl0ZW1bZGF0YS1rZXk9J1wiICsga2V5ICsgXCInXSBwLnRleHQtaW50cm9cIilbMF0pIHtcclxuXHRcdFx0XHRcdFx0XHRcdHBhcmVudC5maW5kKFwiLmRyYWctb3JkZXJfX2RyYWctaXRlbVtkYXRhLWtleT0nXCIgKyBrZXkgKyBcIiddXCIpLmFwcGVuZCgnPHAgZGF0YS1pMThuX2FwPVwiJyArIGtleSArICdcIiBjbGFzcz1cInRleHQtaW50cm9cIj48L3A+Jyk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSBcInVzZS1hcnJvd3NcIjpcclxuXHRcdFx0XHRcdHZhciBwYXJlbnQgPSAkKFwiLnVzZS1hcnJvd3NbZGF0YS1xdWVzdGlvbnM9J1wiICsgc2VjdGlvbiArIFwiJ11cIik7XHJcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMTsgaSA8PSByb3VuZHM7IGkrKykge1xyXG5cdFx0XHRcdFx0XHR2YXIgb2JqZWN0ID0gY29udGVudFtpIC0gMV07XHJcblx0XHRcdFx0XHRcdGZvciAodmFyIHByb3BlcnR5IGluIG9iamVjdCkge1xyXG5cdFx0XHRcdFx0XHRcdHZhciBrZXkgPSBvYmplY3RbcHJvcGVydHldO1xyXG5cdFx0XHRcdFx0XHRcdGlmICghcGFyZW50LmZpbmQoXCIudXNlLWFycm93c19faXRlbVtkYXRhLWtleT0nXCIgKyBrZXkgKyBcIiddIHBcIilbMF0pIHtcclxuXHRcdFx0XHRcdFx0XHRcdHBhcmVudC5maW5kKFwiLnVzZS1hcnJvd3NfX2l0ZW1bZGF0YS1rZXk9J1wiICsga2V5ICsgXCInXVwiKS5hcHBlbmQoJzxwIGRhdGEtaTE4bl9hcD1cIicgKyBrZXkgKyAnXCI+PC9wPicpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHRyYW5zbGF0ZVBhZ2UoKTtcclxufVxyXG5cclxuJChcImJvZHlcIikub24oXCJjbGlja1wiLCBcIi5jaXJjbGVzLXRyYW5zaXRpb25fX2luc3RcIiwgZnVuY3Rpb24gKCkge1xyXG5cdGlmICgkKHRoaXMpLmhhc0NsYXNzKFwicmVtaW5kZXJcIikpIHtcclxuXHRcdCQoXCIubmF2X19pdGVtLS1xdWVzdGlvblwiKS50cmlnZ2VyKFwiY2xpY2tcIik7XHJcblx0fVxyXG59KTtcclxuXHJcbiQoXCJib2R5XCIpLm9uKFwiY2xpY2tcIiwgXCIucmV0cnlDb3Vyc2VcIiwgZnVuY3Rpb24gKCkge1xyXG5cdGZvciAobGV0IGkgPSAwOyBpIDw9IGJiY1BhZ2VzU2VjdGlvbnMubGVuZ3RoIC0gMTsgaSsrKSB7XHJcblx0XHRiYmNQYWdlc1NlY3Rpb25zW2ldLmlzQ29tcGxldGVkID0gZmFsc2U7XHJcblxyXG5cdFx0aWYgKGkgPiAwKSB7XHJcblx0XHRcdGJiY1BhZ2VzU2VjdGlvbnNbaV0ucGFnZVNjb3JlID0gMDtcclxuXHRcdH1cclxuXHJcblx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGJiY1BhZ2VzU2VjdGlvbnNbaV0uc2VjdGlvbi5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRiYmNQYWdlc1NlY3Rpb25zW2ldLnNlY3Rpb25bal0uaXNDb21wbGV0ZWQgPSBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcblx0bmF2aWdhdGlvbkNvbnRyb2xsZXIuZ29Ub1BhZ2VXaXRoRmlsZW5hbWUoXCJjb250ZW50L2ludHJvLmh0bWxcIik7XHJcbn0pO1xyXG5cclxuJChcImJvZHlcIikub24oXCJjbGlja1wiLCBcIi5yZXN1bHRzU2VjdGlvblwiLCBmdW5jdGlvbiAoKSB7XHJcblx0Ly8gc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG5cdHJ1blJlc3VsdHNDaXJjbGVzKCk7XHJcblx0Ly8gfSwgMjYwMCk7XHJcbn0pO1xyXG5cclxuJChcImJvZHlcIikub24oXCJjbGlja1wiLCBcIi5jb250aW51ZVwiLCBmdW5jdGlvbiAoKSB7XHJcblx0aWYgKCQodGhpcykuaGFzQ2xhc3MoXCJsb2NrZWRcIikpIHJldHVybjtcclxuXHRpZiAoJCh0aGlzKS5oYXNDbGFzcyhcInJldHJ5Q291cnNlXCIpKSByZXR1cm47XHJcblx0aWYgKCQodGhpcykuaGFzQ2xhc3MoXCJvcGVuRW1haWxNb2RhbFwiKSkgcmV0dXJuO1xyXG5cdGlmICgkKHRoaXMpLmhhc0NsYXNzKFwidmVyaWZ5RW1haWxcIikpIHJldHVybjtcclxuXHRjb25zdCBwYWdlQ29udGVudCA9ICQodGhpcykuY2xvc2VzdChcIi5wYWdlX19jb250ZW50XCIpO1xyXG5cdGNvbnN0IGN1cnJlbnRTZWN0aW9uID0gJCh0aGlzKS5jbG9zZXN0KFwiLnNlY3Rpb25cIik7XHJcblx0Y29uc3QgY3VycmVudFNlY3Rpb25OdW1iZXIgPSBOdW1iZXIoJChjdXJyZW50U2VjdGlvbikuYXR0cihcImRhdGEtc2VjdGlvblwiKSk7XHJcblx0Y29uc3QgbmV4dFNlY3Rpb24gPSAkKFwiLnNlY3Rpb25bZGF0YS1zZWN0aW9uPSdcIiArIChjdXJyZW50U2VjdGlvbk51bWJlciArIDEpICsgXCInXVwiKTtcclxuXHRjb25zdCBjaXJjbGVzVHJhbnNpdGlvbiA9ICQoXCIuY2lyY2xlcy10cmFuc2l0aW9uXCIpO1xyXG5cdGNvbnN0IGxvYWRlciA9ICQoXCIuY2lyY2xlcy10cmFuc2l0aW9uX19sb2FkZXJcIik7XHJcblx0Y29uc3QgcXVlc3Rpb25zVG9Mb2FkID0gJCh0aGlzKS5hdHRyKFwiZGF0YS1sb2FkcXVlc3Rpb25zXCIpO1xyXG5cdGxldCB0aGF0ID0gdGhpcztcclxuXHRjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5zY3JlZW4uYXZhaWxXaWR0aCA8PSA3Njg7XHJcblx0Y29uc3QgaXNEZXNrdG9wID0gd2luZG93LnNjcmVlbi5hdmFpbFdpZHRoID49IDEwMjQ7XHJcblx0Y29uc3Qgc2VjdGlvbkJhY2tncm91bmRDaXJjbGVzID0gJChcIi5zZWN0aW9uX19iYWNrZ3JvdW5kLWNpcmNsZXNcIik7XHJcblx0Y29uc3QgZGF0YVF1ZXN0aW9ucyA9ICQodGhpcykuY2xvc2VzdChcIi5zZWN0aW9uXCIpLmZpbmQoXCJkaXZbZGF0YS1xdWVzdGlvbnNdXCIpLmF0dHIoXCJkYXRhLXF1ZXN0aW9uc1wiKTtcclxuXHRjb25zdCBxdWVzdGlvbkNvdW50ZXIgPSBOdW1iZXIoJCh0aGlzKS5hdHRyKFwiZGF0YS1xdWVzdGlvbmNvdW50ZXJcIikpO1xyXG5cclxuXHRpZiAoJCh0aGlzKS5jbG9zZXN0KFwiLnNlY3Rpb25cIikuaGFzQ2xhc3MoXCJzZWN0aW9uLS1zZWxlY3QtdGhyZWVcIikpIHtcclxuXHRcdGNvbnN0IG1vZGlmaWVkQW5zd2VycyA9ICQoXCIuc2VsZWN0LXRocmVlX19pdGVtLnNlbGVjdGVkW2RhdGEtbW9kaWZpZXI9JzInXVwiKS5sZW5ndGg7XHJcblx0XHRjb25zb2xlLmxvZyhcIm1vZGlmaWVkIGFuc3dlcnMgdG90YWwgPSBcIiArIG1vZGlmaWVkQW5zd2Vycyk7XHJcblxyXG5cdFx0cXVlc3Rpb25zWzVdLmNvcnJlY3RBbnN3ZXJzID0gcXVlc3Rpb25zWzVdLmNvcnJlY3RBbnN3ZXJzICsgbW9kaWZpZWRBbnN3ZXJzO1xyXG5cdH1cclxuXHJcblx0aWYgKCEkKHRoaXMpLmhhc0NsYXNzKFwicmVzdWx0c1NlY3Rpb25cIikpIHtcclxuXHRcdGlmICghJCh0aGlzKS5oYXNDbGFzcyhcIm5leHRQYWdlXCIpKSB7XHJcblx0XHRcdHdpbmRvdy5tb2R1bGVzX2ludGVyYWN0aW9ucy5jb21wbGV0ZUludGVyYWN0aW9uKG5hdmlnYXRpb25Db250cm9sbGVyLmFjdGl2ZVBhZ2UsIGN1cnJlbnRTZWN0aW9uTnVtYmVyKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHdpbmRvdy5tb2R1bGVzX2ludGVyYWN0aW9ucy5jb21wbGV0ZVBhZ2UobmF2aWdhdGlvbkNvbnRyb2xsZXIuYWN0aXZlUGFnZSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpZiAoJCh0aGlzKS5oYXNDbGFzcyhcIm5leHRQYWdlXCIpICYmICEkKHRoaXMpLmhhc0NsYXNzKFwiaW50cm9QYWdlXCIpKSB7XHJcblx0XHRjb25zdCBpbnN0cnVjdGlvbiA9ICQodGhpcykuY2xvc2VzdChcIi5zZWN0aW9uXCIpLmZpbmQoXCIuc2VjdGlvbl9faW5zdFwiKTtcclxuXHRcdGNvbnN0IHByZUhlYWRpbmcgPSAkKHRoaXMpLmNsb3Nlc3QoXCIuc2VjdGlvblwiKS5maW5kKFwiLnNlY3Rpb25fX3ByZS1oZWFkaW5nXCIpO1xyXG5cdFx0Y29uc3QgaGVhZGluZyA9ICQodGhpcykuY2xvc2VzdChcIi5zZWN0aW9uXCIpLmZpbmQoXCIuc2VjdGlvbl9faGVhZGluZ1wiKTtcclxuXHRcdGNvbnN0IHdlbGxEb25lID0gJCh0aGlzKS5jbG9zZXN0KFwiLnNlY3Rpb25cIikuZmluZChcIi5zZWN0aW9uX193ZWxsLWRvbmVcIik7XHJcblxyXG5cdFx0JCh0aGlzKS5oaWRlKCk7XHJcblx0XHRpbnN0cnVjdGlvbi5oaWRlKCk7XHJcblx0XHRwcmVIZWFkaW5nLmhpZGUoKTtcclxuXHRcdGhlYWRpbmcuaGlkZSgpO1xyXG5cclxuXHRcdCQoXCIuZHJhZy10by1yZW1vdmVcIikuaGlkZSgpO1xyXG5cdFx0JChcIi5kcmFnLWxlZnQtcmlnaHRcIikuaGlkZSgpO1xyXG5cdFx0JChcIi5kcmFnLWxlZnQtcmlnaHRiXCIpLmhpZGUoKTtcclxuXHJcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0d2VsbERvbmUuZmFkZUluKCk7XHJcblx0XHR9LCA5MDApO1xyXG5cdH1cclxuXHJcblx0aWYgKCQodGhpcykuaGFzQ2xhc3MoXCJpcy1zY29yZWRcIikpIHtcclxuXHRcdC8vIGlkZW50aWZ5IHRoZSBxdWVzdGlvbiBhbnN3ZXJlZCBpbiBxdWVzdGlvbnMgYXJyYXkgaW4gcXVlc3Rpb25zLmpzXHJcblx0XHRsZXQgcXVlc3Rpb25JZDtcclxuXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHF1ZXN0aW9ucy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAocXVlc3Rpb25zW2ldLnNlY3Rpb24gPT09IGRhdGFRdWVzdGlvbnMpIHtcclxuXHRcdFx0XHRxdWVzdGlvbklkID0gaTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHF1ZXN0aW9uVHlwZSA9IHF1ZXN0aW9uc1txdWVzdGlvbklkXS50eXBlO1xyXG5cdFx0Y29uc3QgY29ycmVjdEFuc3dlcnMgPSBxdWVzdGlvbnNbcXVlc3Rpb25JZF0uY29ycmVjdEFuc3dlcnM7XHJcblx0XHRjb25zdCBjb3JyZWN0QW5zd2VyVmFsdWUgPSBxdWVzdGlvbnNbcXVlc3Rpb25JZF0uY29ycmVjdFZhbHVlO1xyXG5cdFx0bGV0IHBlcmNlbnRhZ2VTY29yZSA9IE1hdGgucm91bmQoY29ycmVjdEFuc3dlcnMgKiBjb3JyZWN0QW5zd2VyVmFsdWUpO1xyXG5cclxuXHRcdGlmIChwZXJjZW50YWdlU2NvcmUgPCAwKSB7XHJcblx0XHRcdHBlcmNlbnRhZ2VTY29yZSA9IDA7XHJcblx0XHR9XHJcblxyXG5cdFx0d2luZG93Lm1vZHVsZXNfaW50ZXJhY3Rpb25zLmFkZFNlY3Rpb25TY29yZShuYXZpZ2F0aW9uQ29udHJvbGxlci5hY3RpdmVQYWdlLCBjdXJyZW50U2VjdGlvbk51bWJlciwgcGVyY2VudGFnZVNjb3JlKTtcclxuXHR9XHJcblxyXG5cdGlmICgkKHRoaXMpLmhhc0NsYXNzKFwiaXMtZmluYWwtc2NvcmVcIikpIHtcclxuXHRcdHdpbmRvdy5tb2R1bGVzX2ludGVyYWN0aW9ucy5hZGRQYWdlU2NvcmUobmF2aWdhdGlvbkNvbnRyb2xsZXIuYWN0aXZlUGFnZSk7XHJcblx0fVxyXG5cclxuXHQkKFwiLmNpcmNsZXMtdHJhbnNpdGlvbl9faW5zdFwiKS5oaWRlKCk7XHJcblxyXG5cdGlmICgkKHRoaXMpLmhhc0NsYXNzKFwibmV4dFBhZ2VcIikgJiYgISQodGhpcykuaGFzQ2xhc3MoXCJpbnRyb1BhZ2VcIikpIHtcclxuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRydW5DaXJjbGVzVHJhbnNpdGlvbigpO1xyXG5cdFx0fSwgMTYwMCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHJ1bkNpcmNsZXNUcmFuc2l0aW9uKCk7XHJcblx0fVxyXG5cdGlmIChxdWVzdGlvbnNUb0xvYWQpIHtcclxuXHRcdGxvYWRRdWVzdGlvbnNIdG1sKHF1ZXN0aW9uc1RvTG9hZCk7XHJcblx0fVxyXG5cclxuXHRpZiAoaXNNb2JpbGUpIHtcclxuXHRcdGlmICgkKHRoYXQpLmhhc0NsYXNzKFwibmV4dFBhZ2VcIikgJiYgISQodGhhdCkuaGFzQ2xhc3MoXCJpbnRyb1BhZ2VcIikpIHtcclxuXHRcdFx0c2V0UGFnZUNvbXBsZXRlKCk7XHJcblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdG5hdmlnYXRpb25Db250cm9sbGVyLmdvVG9OZXh0UGFnZSgpO1xyXG5cdFx0XHR9LCAzNTAwKTtcclxuXHRcdH0gZWxzZSBpZiAoJCh0aGF0KS5oYXNDbGFzcyhcIm5leHRQYWdlXCIpKSB7XHJcblx0XHRcdHNldFBhZ2VDb21wbGV0ZSgpO1xyXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRuYXZpZ2F0aW9uQ29udHJvbGxlci5nb1RvTmV4dFBhZ2UoKTtcclxuXHRcdFx0fSwgMjUwMCk7XHJcblx0XHR9IGVsc2UgaWYgKCQodGhhdCkuaGFzQ2xhc3MoXCJyZXN1bHRzU2VjdGlvblwiKSkge1xyXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRjdXJyZW50U2VjdGlvbi5yZW1vdmVDbGFzcyhcInNlY3Rpb24tLWFjdGl2ZVwiKTtcclxuXHRcdFx0XHRuZXh0U2VjdGlvbi5mYWRlSW4oMjUwKTtcclxuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdG5leHRTZWN0aW9uLmFkZENsYXNzKFwic2VjdGlvbi0tYWN0aXZlXCIpO1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJtYWtpbmcgb3ZlcmZsb3cteSBoaWRkZW5cIik7XHJcblx0XHRcdFx0XHQkKFwiLnBhZ2VfX2NvbnRlbnRcIikuY3NzKFwib3ZlcmZsb3cteVwiLCBcInNjcm9sbFwiKTtcclxuXHRcdFx0XHRcdCQoXCIuY2lyY2xlcy10cmFuc2l0aW9uXCIpLmhpZGUoKTtcclxuXHRcdFx0XHR9LCAyNTApO1xyXG5cdFx0XHR9LCAyNTAwKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGxldCB0aW1lb3V0ID0gNzYwMDtcclxuXHRcdFx0aWYgKG5leHRTZWN0aW9uLmhhc0NsYXNzKFwic2VjdGlvbi0tZW5kXCIpKSB7XHJcblx0XHRcdFx0dGltZW91dCA9IDI1MDA7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHQkKFwiLmNpcmNsZXMtdHJhbnNpdGlvbl9faW5zdFwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3Qgc2VjdGlvbiA9ICQodGhpcykuYXR0cihcImRhdGEtc2VjdGlvblwiKTtcclxuXHRcdFx0XHRcdFx0aWYgKHNlY3Rpb24gPT0gY3VycmVudFNlY3Rpb25OdW1iZXIpIHtcclxuXHRcdFx0XHRcdFx0XHQkKHRoaXMpLnNob3coKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRsb2FkZXIuc2hvdygpO1xyXG5cdFx0XHRcdFx0bG9hZGVyQ291bnRkb3duKCk7XHJcblx0XHRcdFx0fSwgMjgwMCk7XHJcblx0XHRcdH1cclxuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0Y3VycmVudFNlY3Rpb24uZmFkZU91dCgpO1xyXG5cdFx0XHRcdGlmIChjdXJyZW50U2VjdGlvbi5wYXJlbnQoKS5oYXNDbGFzcyhcInBhZ2VfX2hlcm8td3JhcHBlclwiKSkge1xyXG5cdFx0XHRcdFx0Y3VycmVudFNlY3Rpb24ucGFyZW50KCkuaGlkZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAobmV4dFNlY3Rpb24uaGFzQ2xhc3MoXCJzZWN0aW9uLS1lbmRcIikpIHtcclxuXHRcdFx0XHRcdCQoXCIucGFnZV9fY29udGVudFwiKS5jc3MoXCJvdmVyZmxvdy15XCIsIFwiYXV0b1wiKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0JChcIi5wYWdlX19jb250ZW50XCIpLmNzcyhcIm92ZXJmbG93LXlcIiwgXCJoaWRkZW5cIik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGNpcmNsZXNUcmFuc2l0aW9uLmhpZGUoKTtcclxuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdG5leHRTZWN0aW9uLmZhZGVJbigpO1xyXG5cdFx0XHRcdFx0JChcIi5uYXZfX3F1ZXN0aW9uLWNvdW50ZXJcIikuaHRtbChxdWVzdGlvbkNvdW50ZXIgKyBcIi8xOFwiKTtcclxuXHRcdFx0XHRcdCQoXCIubmF2X19xdWVzdGlvbi1jb3VudGVyXCIpLmZhZGVJbigpO1xyXG5cdFx0XHRcdFx0aWYgKGN1cnJlbnRTZWN0aW9uTnVtYmVyID4gMCkge1xyXG5cdFx0XHRcdFx0XHQkKFwiLm5hdl9faXRlbS0tYmFja1wiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdC8vIHBhZ2VDb250ZW50LmZhZGVJbigpO1xyXG5cdFx0XHRcdFx0aWYgKG5leHRTZWN0aW9uLmhhc0NsYXNzKFwic2VjdGlvbi0tZHJhZy1sZWZ0LXJpZ2h0XCIpKSB7XHJcblx0XHRcdFx0XHRcdGxvYWREcmFnTGVmdFJpZ2h0KCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAobmV4dFNlY3Rpb24uaGFzQ2xhc3MoXCJzZWN0aW9uLS1kcmFnLWxlZnQtcmlnaHRiXCIpKSB7XHJcblx0XHRcdFx0XHRcdGxvYWREcmFnTGVmdFJpZ2h0QigpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKG5leHRTZWN0aW9uLmhhc0NsYXNzKFwic2VjdGlvbi0tZHJhZy10by1yZW1vdmVcIikpIHtcclxuXHRcdFx0XHRcdFx0bG9hZERyYWdUb1JlbW92ZSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKG5leHRTZWN0aW9uLmhhc0NsYXNzKFwic2VjdGlvbi0tZHJhZy1vcHRpb25zXCIpKSB7XHJcblx0XHRcdFx0XHRcdGxvYWREcmFnT3B0aW9ucygpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKG5leHRTZWN0aW9uLmhhc0NsYXNzKFwic2VjdGlvbi0tZHJhZy1vcmRlclwiKSkge1xyXG5cdFx0XHRcdFx0XHRsb2FkRHJhZ09yZGVyKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSwgNjAwKTtcclxuXHRcdFx0XHRjdXJyZW50U2VjdGlvbi5yZW1vdmVDbGFzcyhcInNlY3Rpb24tLWFjdGl2ZVwiKTtcclxuXHRcdFx0XHRuZXh0U2VjdGlvbi5mYWRlSW4oMjUwKTtcclxuXHRcdFx0XHQkKFwiLm5hdl9fcXVlc3Rpb24tY291bnRlclwiKS5odG1sKHF1ZXN0aW9uQ291bnRlciArIFwiLzE4XCIpO1xyXG5cdFx0XHRcdCQoXCIubmF2X19xdWVzdGlvbi1jb3VudGVyXCIpLmZhZGVJbigyNTApO1xyXG5cdFx0XHRcdGlmIChjdXJyZW50U2VjdGlvbk51bWJlciA+IDApIHtcclxuXHRcdFx0XHRcdCQoXCIubmF2X19pdGVtLS1iYWNrXCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdG5leHRTZWN0aW9uLmFkZENsYXNzKFwic2VjdGlvbi0tYWN0aXZlXCIpO1xyXG5cdFx0XHRcdH0sIDI1MCk7XHJcblx0XHRcdH0sIHRpbWVvdXQpO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSB7XHJcblx0XHRzZWN0aW9uQmFja2dyb3VuZENpcmNsZXMuZmFkZU91dCgpO1xyXG5cdFx0bGV0IGRlc2t0b3BUaW1lb3V0ID0gMjUwMDtcclxuXHRcdGlmICgkKHRoYXQpLmhhc0NsYXNzKFwibmV4dFBhZ2VcIikgJiYgISQodGhhdCkuaGFzQ2xhc3MoXCJpbnRyb1BhZ2VcIikpIGRlc2t0b3BUaW1lb3V0ID0gMzUwMDtcclxuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAoJCh0aGF0KS5oYXNDbGFzcyhcIm5leHRQYWdlXCIpKSB7XHJcblx0XHRcdFx0c2V0UGFnZUNvbXBsZXRlKCk7XHJcblx0XHRcdFx0bmF2aWdhdGlvbkNvbnRyb2xsZXIuZ29Ub05leHRQYWdlKCk7XHJcblx0XHRcdH0gZWxzZSBpZiAoJCh0aGF0KS5oYXNDbGFzcyhcIm5leHRTZWN0aW9uXCIpKSB7XHJcblx0XHRcdFx0Ly8gcGFnZUNvbnRlbnQuZmFkZU91dCgpO1xyXG5cdFx0XHRcdGN1cnJlbnRTZWN0aW9uLmZhZGVPdXQoKTtcclxuXHRcdFx0XHRpZiAoY3VycmVudFNlY3Rpb24ucGFyZW50KCkuaGFzQ2xhc3MoXCJwYWdlX19oZXJvLXdyYXBwZXJcIikpIHtcclxuXHRcdFx0XHRcdGN1cnJlbnRTZWN0aW9uLnBhcmVudCgpLmhpZGUoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Y2lyY2xlc1RyYW5zaXRpb24uaGlkZSgpO1xyXG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0bmV4dFNlY3Rpb24uZmFkZUluKCk7XHJcblx0XHRcdFx0XHQkKFwiLm5hdl9fcXVlc3Rpb24tY291bnRlclwiKS5odG1sKHF1ZXN0aW9uQ291bnRlciArIFwiLzE4XCIpO1xyXG5cdFx0XHRcdFx0JChcIi5uYXZfX3F1ZXN0aW9uLWNvdW50ZXJcIikuZmFkZUluKCk7XHJcblx0XHRcdFx0XHRpZiAoY3VycmVudFNlY3Rpb25OdW1iZXIgPiAwKSB7XHJcblx0XHRcdFx0XHRcdCQoXCIubmF2X19pdGVtLS1iYWNrXCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Ly8gcGFnZUNvbnRlbnQuZmFkZUluKCk7XHJcblx0XHRcdFx0XHRpZiAobmV4dFNlY3Rpb24uaGFzQ2xhc3MoXCJzZWN0aW9uLS1kcmFnLWxlZnQtcmlnaHRcIikpIHtcclxuXHRcdFx0XHRcdFx0bG9hZERyYWdMZWZ0UmlnaHQoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmIChuZXh0U2VjdGlvbi5oYXNDbGFzcyhcInNlY3Rpb24tLWRyYWctbGVmdC1yaWdodGJcIikpIHtcclxuXHRcdFx0XHRcdFx0bG9hZERyYWdMZWZ0UmlnaHRCKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAobmV4dFNlY3Rpb24uaGFzQ2xhc3MoXCJzZWN0aW9uLS1kcmFnLXRvLXJlbW92ZVwiKSkge1xyXG5cdFx0XHRcdFx0XHRsb2FkRHJhZ1RvUmVtb3ZlKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAobmV4dFNlY3Rpb24uaGFzQ2xhc3MoXCJzZWN0aW9uLS1kcmFnLW9wdGlvbnNcIikpIHtcclxuXHRcdFx0XHRcdFx0bG9hZERyYWdPcHRpb25zKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAobmV4dFNlY3Rpb24uaGFzQ2xhc3MoXCJzZWN0aW9uLS1kcmFnLW9yZGVyXCIpKSB7XHJcblx0XHRcdFx0XHRcdGxvYWREcmFnT3JkZXIoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LCAxMDAwKTtcclxuXHRcdFx0XHRjdXJyZW50U2VjdGlvbi5yZW1vdmVDbGFzcyhcInNlY3Rpb24tLWFjdGl2ZVwiKTtcclxuXHRcdFx0XHRpZiAoaXNEZXNrdG9wKSB7XHJcblx0XHRcdFx0XHRpZiAoIW5leHRTZWN0aW9uLmhhc0NsYXNzKFwic2VjdGlvbi0tZW5kXCIpKSB7XHJcblx0XHRcdFx0XHRcdHNlY3Rpb25CYWNrZ3JvdW5kQ2lyY2xlcy5mYWRlSW4oMjUwKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0bmV4dFNlY3Rpb24uZmFkZUluKDI1MCk7XHJcblx0XHRcdFx0JChcIi5uYXZfX3F1ZXN0aW9uLWNvdW50ZXJcIikuaHRtbChxdWVzdGlvbkNvdW50ZXIgKyBcIi8xOFwiKTtcclxuXHRcdFx0XHQkKFwiLm5hdl9fcXVlc3Rpb24tY291bnRlclwiKS5mYWRlSW4oMjUwKTtcclxuXHRcdFx0XHRpZiAoY3VycmVudFNlY3Rpb25OdW1iZXIgPiAwKSB7XHJcblx0XHRcdFx0XHQkKFwiLm5hdl9faXRlbS0tYmFja1wiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0bmV4dFNlY3Rpb24uYWRkQ2xhc3MoXCJzZWN0aW9uLS1hY3RpdmVcIik7XHJcblx0XHRcdFx0fSwgMjUwKTtcclxuXHRcdFx0fVxyXG5cdFx0fSwgZGVza3RvcFRpbWVvdXQpO1xyXG5cdH1cclxuXHQkKFwiLm5hdl9faXRlbS0tcXVlc3Rpb25cIikucmVtb3ZlQ2xhc3MoXCJkLW5vbmVcIik7XHJcbn0pO1xyXG5cclxuLy8gYmFjayBhIHF1ZXN0aW9uIGJ1dHRvblxyXG4kKFwiYm9keVwiKS5vbihcImNsaWNrXCIsIFwiLm5hdl9faXRlbS0tYmFjay5hY3RpdmVcIiwgZnVuY3Rpb24gKCkge1xyXG5cdCQoXCIubmF2X19pdGVtLS1iYWNrXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG5cdGNvbnN0IGN1cnJlbnRTZWN0aW9uRWxlbWVudCA9ICQoXCIuc2VjdGlvbi0tYWN0aXZlXCIpO1xyXG5cdGNvbnN0IGN1cnJlbnRTZWN0aW9uTnVtYmVyID0gTnVtYmVyKCQoXCIuc2VjdGlvbi0tYWN0aXZlXCIpLmF0dHIoXCJkYXRhLXNlY3Rpb25cIikpO1xyXG5cdGNvbnN0IHByZXZpb3VzU2VjdGlvbiA9ICQoXCIuc2VjdGlvbltkYXRhLXNlY3Rpb249J1wiICsgKGN1cnJlbnRTZWN0aW9uTnVtYmVyIC0gMSkgKyBcIiddXCIpO1xyXG5cdGNvbnN0IHByZXZpb3VzU2VjdGlvblF1ZXN0aW9ucyA9IHByZXZpb3VzU2VjdGlvbi5maW5kKFwiZGl2W2RhdGEtcXVlc3Rpb25zXVwiKS5hdHRyKFwiZGF0YS1xdWVzdGlvbnNcIik7XHJcblx0Y29uc3QgcHJldmlvdXNTZWN0aW9uUXVlc3Rpb25Db3VudGVyID0gcHJldmlvdXNTZWN0aW9uLmF0dHIoXCJkYXRhLXF1ZXN0aW9uY291bnRlclwiKTtcclxuXHJcblx0Zm9yICh2YXIgayA9IDA7IGsgPCBxdWVzdGlvbnMubGVuZ3RoOyBrKyspIHtcclxuXHRcdGlmIChxdWVzdGlvbnNba10uc2VjdGlvbiA9PT0gcHJldmlvdXNTZWN0aW9uUXVlc3Rpb25zKSB7XHJcblx0XHRcdHR5cGUgPSBxdWVzdGlvbnNba10udHlwZTtcclxuXHRcdFx0c2VjdGlvbiA9IHF1ZXN0aW9uc1trXS5zZWN0aW9uO1xyXG5cclxuXHRcdFx0c3dpdGNoICh0eXBlKSB7XHJcblx0XHRcdFx0Y2FzZSBcImJ1YmJsZS1zZWxlY3RcIjpcclxuXHRcdFx0XHRcdCQoXCIuYnViYmxlLXNlbGVjdF9fYnViYmxlXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG5cdFx0XHRcdFx0JChcIi5idWJibGUtc2VsZWN0W2RhdGEtYnViYmxlPScxJ11cIikuY3NzKFwiZGlzcGxheVwiLCBcImZsZXhcIik7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSBcInNpemVkLWJ1YmJsZXNcIjpcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlIFwiZHJhZy1sZWZ0LXJpZ2h0XCI6XHJcblx0XHRcdFx0XHQkKFwiLmRyYWctbGVmdC1yaWdodF9faXRlbVwiKS5yZW1vdmVDbGFzcyhcImRyYWdnZWQtbGVmdFwiKTtcclxuXHRcdFx0XHRcdCQoXCIuZHJhZy1sZWZ0LXJpZ2h0X19pdGVtXCIpLnJlbW92ZUNsYXNzKFwiZHJhZ2dlZC1yaWdodFwiKTtcclxuXHRcdFx0XHRcdCQoXCIuZHJhZy1sZWZ0LXJpZ2h0X19pdGVtXCIpLmhpZGUoKTtcclxuXHRcdFx0XHRcdCQoXCIuZHJhZy1sZWZ0LXJpZ2h0X19pdGVtW2RhdGEtaXRlbT0nMSddXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcclxuXHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSBcImRyYWctbGVmdC1yaWdodGJcIjpcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlIFwiZHJhZy10by1yZW1vdmVcIjpcclxuXHRcdFx0XHRcdCQoXCIuY29udGludWUtLWhpZGRlblwiKS5oaWRlKCk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKHNlY3Rpb24gPT09IFwiYWNjb3VudGFibGUzXCIpIHtcclxuXHRcdFx0XHRcdFx0JC5nZXQoXCJjb250ZW50L3BhcnRpYWxzL2RyYWctdG8tcmVtb3ZlLWFjY291bnRhYmxlLmh0bWxcIiwgZnVuY3Rpb24gKGRhdGEpIHtcclxuXHRcdFx0XHRcdFx0XHQkKFwiLmRyYWctdG8tcmVtb3ZlLS1hY2NvdW50YWJsZVwiKS5odG1sKGRhdGEpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoc2VjdGlvbiA9PT0gXCJkZXZlbG9wMlwiKSB7XHJcblx0XHRcdFx0XHRcdCQuZ2V0KFwiY29udGVudC9wYXJ0aWFscy9kcmFnLXRvLXJlbW92ZS1kZXZlbG9wLmh0bWxcIiwgZnVuY3Rpb24gKGRhdGEpIHtcclxuXHRcdFx0XHRcdFx0XHQkKFwiLmRyYWctdG8tcmVtb3ZlLS1kZXZlbG9wXCIpLmh0bWwoZGF0YSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlIFwic2VsZWN0LXRocmVlXCI6XHJcblx0XHRcdFx0XHQkKFwiLnNlbGVjdC10aHJlZV9faXRlbVwiKS5yZW1vdmVDbGFzcyhcInNlbGVjdGVkXCIpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGNhc2UgXCJkcmFnLW9wdGlvbnNcIjpcclxuXHRcdFx0XHRcdGlmIChzZWN0aW9uID09PSBcImVtcG93ZXIzXCIpIHtcclxuXHRcdFx0XHRcdFx0JC5nZXQoXCJjb250ZW50L3BhcnRpYWxzL2RyYWctb3B0aW9ucy1lbXBvd2VyLmh0bWxcIiwgZnVuY3Rpb24gKGRhdGEpIHtcclxuXHRcdFx0XHRcdFx0XHQkKFwiLmRyYWctb3B0aW9uc19faXRlbS13cmFwcGVyXCIpLmh0bWwoZGF0YSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChzZWN0aW9uID09PSBcImFjY291bnRhYmxlMlwiKSB7XHJcblx0XHRcdFx0XHRcdCQuZ2V0KFwiY29udGVudC9wYXJ0aWFscy9kcmFnLW9wdGlvbnMtYWNjb3VudGFibGUtZHJvcC5odG1sXCIsIGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdFx0XHRcdFx0JChcIi5kcmFnLW9wdGlvbnNfX2l0ZW0td3JhcHBlclwiKS5odG1sKGRhdGEpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSBcImRyYWctb3JkZXJcIjpcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlIFwidXNlLWFycm93c1wiOlxyXG5cdFx0XHRcdFx0JChcIi5jb250aW51ZS0taGlkZGVuXCIpLmhpZGUoKTtcclxuXHRcdFx0XHRcdCQuZ2V0KFwiY29udGVudC9wYXJ0aWFscy9jYXJvdXNlbC11cHBlci5odG1sXCIsIGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdFx0XHRcdCQoXCIuY2Fyb3VzZWxfX3VwcGVyXCIpLmh0bWwoZGF0YSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHQkLmdldChcImNvbnRlbnQvcGFydGlhbHMvY29pbi5odG1sXCIsIGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdFx0XHRcdFx0JChcIi5jYXJvdXNlbF9fY29udHJvbFwiKS5odG1sKGRhdGEpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0Y3JlYXRlQ2Fyb3VzZWxzKCk7XHJcblx0XHRcdFx0XHR9LCA1MCk7XHJcblx0XHRcdFx0XHQkKFwiLnVzZS1hcnJvd3NfX2l0ZW1cIikucmVtb3ZlQ2xhc3MoXCJzZWxlY3RlZFwiKTtcclxuXHRcdFx0XHRcdCQoXCIuY2Fyb3VzZWxfX3NsaWRlXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG5cdFx0XHRcdFx0JChcIi5jYXJvdXNlbF9fc2xpZGVbcmVsPScwJ11cIikuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcblxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdCQoXCIucGFnZV9fY29udGVudFwiKS5mYWRlT3V0KCk7XHJcblx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHQkKFwiLnNlY3Rpb25cIikucmVtb3ZlQ2xhc3MoXCJzZWN0aW9uLS1hY3RpdmVcIik7XHJcblx0XHQkKFwiLnNlY3Rpb25cIikuaGlkZSgpO1xyXG5cdFx0cHJldmlvdXNTZWN0aW9uLmFkZENsYXNzKFwic2VjdGlvbi0tYWN0aXZlXCIpO1xyXG5cdFx0cHJldmlvdXNTZWN0aW9uLnNob3coKTtcclxuXHRcdCQoXCIuY29udGludWUtLWhpZGRlblwiKS5oaWRlKCk7XHJcblxyXG5cdFx0bG9hZFF1ZXN0aW9uc0h0bWwocHJldmlvdXNTZWN0aW9uUXVlc3Rpb25zKTtcclxuXHRcdCQoXCIucGFnZV9fY29udGVudFwiKS5mYWRlSW4oKTtcclxuXHRcdCQoXCIubmF2X19xdWVzdGlvbi1jb3VudGVyXCIpLmh0bWwocHJldmlvdXNTZWN0aW9uUXVlc3Rpb25Db3VudGVyICsgXCIvMThcIik7XHJcblxyXG5cdFx0aWYgKHByZXZpb3VzU2VjdGlvbi5oYXNDbGFzcyhcInNlY3Rpb24tLWRyYWctbGVmdC1yaWdodFwiKSkge1xyXG5cdFx0XHRsb2FkRHJhZ0xlZnRSaWdodCgpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHByZXZpb3VzU2VjdGlvbi5oYXNDbGFzcyhcInNlY3Rpb24tLWRyYWctbGVmdC1yaWdodGJcIikpIHtcclxuXHRcdFx0bG9hZERyYWdMZWZ0UmlnaHRCKCk7XHJcblx0XHR9XHJcblx0XHRpZiAocHJldmlvdXNTZWN0aW9uLmhhc0NsYXNzKFwic2VjdGlvbi0tZHJhZy10by1yZW1vdmVcIikpIHtcclxuXHRcdFx0bG9hZERyYWdUb1JlbW92ZSgpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHByZXZpb3VzU2VjdGlvbi5oYXNDbGFzcyhcInNlY3Rpb24tLWRyYWctb3B0aW9uc1wiKSkge1xyXG5cdFx0XHRsb2FkRHJhZ09wdGlvbnMoKTtcclxuXHRcdH1cclxuXHRcdGlmIChwcmV2aW91c1NlY3Rpb24uaGFzQ2xhc3MoXCJzZWN0aW9uLS1kcmFnLW9yZGVyXCIpKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwicHJldmlvdXMgc2VjdGlvbiBoYXMgZHJhZyBvcmRlciBzbyBsb2FkaW5nIGRyYWcgb3JkZXJcIik7XHJcblx0XHRcdGxvYWREcmFnT3JkZXIoKTtcclxuXHRcdH1cclxuXHR9LCA4MDApO1xyXG59KTtcclxuXHJcbi8vIG1vYmlsZSB0b2dnbGUgaW5zdHJ1Y3Rpb25zXHJcbiQoXCJib2R5XCIpLm9uKFwiY2xpY2tcIiwgXCIubmF2X19pdGVtLS1xdWVzdGlvblwiLCBmdW5jdGlvbiAoKSB7XHJcblx0bGV0IHRoYXQgPSB0aGlzO1xyXG5cclxuXHRpZiAoJCh0aGlzKS5oYXNDbGFzcyhcImNsaWNrZWRcIikpIHtcclxuXHRcdCQoXCIucGFnZV9fY29udGVudFwiKS5mYWRlT3V0KFwic2xvd1wiKTtcclxuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkKFwiLmNpcmNsZXMtdHJhbnNpdGlvbl9fbG9hZGVyXCIpLnNob3coKTtcclxuXHRcdFx0JChcIi5jaXJjbGVzLXRyYW5zaXRpb25cIikuaGlkZSgpO1xyXG5cdFx0XHQkKFwiLnNlY3Rpb24tLWFjdGl2ZVwiKS5zaG93KCk7XHJcblx0XHRcdCQoXCIucGFnZV9fY29udGVudFwiKS5mYWRlSW4oXCJzbG93XCIpO1xyXG5cdFx0XHQkKHRoYXQpLnJlbW92ZUNsYXNzKFwiY2xpY2tlZFwiKTtcclxuXHRcdFx0JChcIi5jaXJjbGVzLXRyYW5zaXRpb25fX2luc3RcIikucmVtb3ZlQ2xhc3MoXCJyZW1pbmRlclwiKTtcclxuXHRcdH0sIDYwMCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdCQoXCIucGFnZV9fY29udGVudFwiKS5mYWRlT3V0KFwic2xvd1wiKTtcclxuXHRcdCQoXCIuY2lyY2xlcy10cmFuc2l0aW9uX19pbnN0XCIpLmFkZENsYXNzKFwicmVtaW5kZXJcIik7XHJcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JChcIi5zZWN0aW9uLS1hY3RpdmVcIikuaGlkZSgpO1xyXG5cdFx0XHQkKFwiLmNpcmNsZXMtdHJhbnNpdGlvbl9fbG9hZGVyXCIpLmhpZGUoKTtcclxuXHRcdFx0JChcIi5jaXJjbGVzLXRyYW5zaXRpb25cIikuc2hvdygpO1xyXG5cdFx0XHQkKFwiLnBhZ2VfX2NvbnRlbnRcIikuZmFkZUluKFwic2xvd1wiKTtcclxuXHRcdFx0JCh0aGF0KS5hZGRDbGFzcyhcImNsaWNrZWRcIik7XHJcblx0XHR9LCA2MDApO1xyXG5cdH1cclxufSk7XHJcblxyXG4vLyBib29rbWFya2luZ1xyXG5cclxuZnVuY3Rpb24gc2V0UGFnZUNvbXBsZXRlKCkge1xyXG5cdGNvbnN0IHVybCA9IG5hdmlnYXRpb25Db250cm9sbGVyLmN1cnJlbnRQYWdlVXJsLFxyXG5cdFx0cCA9IG5hdmlnYXRpb25Db250cm9sbGVyLmFjdGl2ZVBhZ2U7XHJcblxyXG5cdGRhdGFDb250cm9sbGVyLnNldERhdGEodXJsLCBcInRydWVcIik7XHJcblx0ZGF0YUNvbnRyb2xsZXIuc2F2ZSgpO1xyXG5cdHBhZ2VzW3BdLmNvbXBsZXRlID0gdHJ1ZTtcclxufVxyXG5cclxuLy8gbW9iaWxlIHRvZ2dsZSBpbnN0cnVjdGlvbnNcclxuJChcImJvZHlcIikub24oXCJjbGlja1wiLCBcIi5kZWJ1Z1Njb3JlXCIsIGZ1bmN0aW9uICgpIHtcclxuXHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdGNvbnN0IGxlYWRTY29yZSA9IGJiY1BhZ2VzU2VjdGlvbnNbMV0ucGFnZVNjb3JlO1xyXG5cdFx0Y29uc3QgZW1wb3dlclNjb3JlID0gYmJjUGFnZXNTZWN0aW9uc1syXS5wYWdlU2NvcmU7XHJcblx0XHRjb25zdCBhY2NvdW50YWJsZVNjb3JlID0gYmJjUGFnZXNTZWN0aW9uc1szXS5wYWdlU2NvcmU7XHJcblx0XHRjb25zdCBkZXZlbG9wU2NvcmUgPSBiYmNQYWdlc1NlY3Rpb25zWzRdLnBhZ2VTY29yZTtcclxuXHRcdGFsZXJ0KFwibGVhZDogXCIgKyBsZWFkU2NvcmUgKyBcIiBlbXBvd2VyIFwiICsgZW1wb3dlclNjb3JlICsgXCIgYWNjb3VudGFibGUgXCIgKyBhY2NvdW50YWJsZVNjb3JlICsgXCIgZGV2ZWxvcCBcIiArIGRldmVsb3BTY29yZSk7XHJcblx0fSwgMzAwKTtcclxufSk7Il19
